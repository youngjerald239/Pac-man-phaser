function t(t) { return t && t.__esModule ? t.default : t } var e = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : {}, i = {}, s = {}, n = e.parcelRequire0d0c; null == n && ((n = function (t) { if (t in i) return i[t].exports; if (t in s) { var e = s[t]; delete s[t]; var n = { id: t, exports: {} }; return i[t] = n, e.call(n.exports, n, n.exports), n.exports } var r = new Error("Cannot find module '" + t + "'"); throw r.code = "MODULE_NOT_FOUND", r }).register = function (t, e) { s[t] = e }, e.parcelRequire0d0c = n), n.register("3qUcC", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { SKIP_CHECK: -1, NORMAL: 0, ADD: 1, MULTIPLY: 2, SCREEN: 3, OVERLAY: 4, DARKEN: 5, LIGHTEN: 6, COLOR_DODGE: 7, COLOR_BURN: 8, HARD_LIGHT: 9, SOFT_LIGHT: 10, DIFFERENCE: 11, EXCLUSION: 12, HUE: 13, SATURATION: 14, COLOR: 15, LUMINOSITY: 16, ERASE: 17, SOURCE_IN: 18, SOURCE_OUT: 19, SOURCE_ATOP: 20, DESTINATION_OVER: 21, DESTINATION_IN: 22, DESTINATION_OUT: 23, DESTINATION_ATOP: 24, LIGHTER: 25, COPY: 26, XOR: 27 }
})), n.register("1iebW", (function (t, e) { t.exports = { DEFAULT: 0, LINEAR: 0, NEAREST: 1 } })), n.register("hVk4C", (function (t, e) { var i = n("jC9MQ"), s = function () { var t, e, n, r, o, a, h = arguments[0] || {}, l = 1, u = arguments.length, c = !1; for ("boolean" == typeof h && (c = h, h = arguments[1] || {}, l = 2), u === l && (h = this, --l); l < u; l++)if (null != (t = arguments[l])) for (e in t) n = h[e], h !== (r = t[e]) && (c && r && (i(r) || (o = Array.isArray(r))) ? (o ? (o = !1, a = n && Array.isArray(n) ? n : []) : a = n && i(n) ? n : {}, h[e] = s(c, a, r)) : void 0 !== r && (h[e] = r)); return h }; t.exports = s })), n.register("jC9MQ", (function (t, e) { t.exports = function (t) { if ("object" != typeof t || t.nodeType || t === t.window) return !1; try { if (t.constructor && !{}.hasOwnProperty.call(t.constructor.prototype, "isPrototypeOf")) return !1 } catch (t) { return !1 } return !0 } })), n.register("fs3fn", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { AlignTo: n("d60cE"), Angle: n("5uw5a"), Call: n("dNnjm"), GetFirst: n("7DHQp"), GetLast: n("e6e1x"), GridAlign: n("37cO8"), IncAlpha: n("51Ccp"), IncX: n("2geHo"), IncXY: n("aa2rH"), IncY: n("iNcUv"), PlaceOnCircle: n("irnRf"), PlaceOnEllipse: n("jYzIo"), PlaceOnLine: n("fTyAf"), PlaceOnRectangle: n("kQ8Yy"), PlaceOnTriangle: n("3aDNv"), PlayAnimation: n("58n2H"), PropertyValueInc: n("joPJC"), PropertyValueSet: n("2Alx8"), RandomCircle: n("feu3e"), RandomEllipse: n("4RfvK"), RandomLine: n("8FwLE"), RandomRectangle: n("km9Vj"), RandomTriangle: n("hQxDo"), Rotate: n("k3Z7N"), RotateAround: n("1iEaG"), RotateAroundDistance: n("jtzCa"), ScaleX: n("dElyt"), ScaleXY: n("fF8WC"), ScaleY: n("c6II7"), SetAlpha: n("kM3Np"), SetBlendMode: n("gYMnB"), SetDepth: n("7Nva9"), SetHitArea: n("128Rk"), SetOrigin: n("fvIPU"), SetRotation: n("dvgoG"), SetScale: n("43tcD"), SetScaleX: n("dajVg"), SetScaleY: n("eqA15"), SetScrollFactor: n("Horko"), SetScrollFactorX: n("8uqg5"), SetScrollFactorY: n("k9PTE"), SetTint: n("eXuqB"), SetVisible: n("j9xSq"), SetX: n("2IEMX"), SetXY: n("Wq1BO"), SetY: n("7yy0q"), ShiftPosition: n("7FJHd"), Shuffle: n("cTZaX"), SmootherStep: n("33Qfe"), SmoothStep: n("4e9ty"), Spread: n("e3WPZ"), ToggleVisible: n("f7rup"), WrapInRectangle: n("2Oe4l") }
})), n.register("d60cE", (function (t, e) { var i = n("g6HRX"); t.exports = function (t, e, s, n) { for (var r = t[0], o = 1; o < t.length; o++) { var a = t[o]; i(a, r, e, s, n), r = a } return t } })), n.register("g6HRX", (function (t, e) { var i = n("hPWXH"), s = []; s[i.BOTTOM_CENTER] = n("7V1sp"), s[i.BOTTOM_LEFT] = n("hUnFl"), s[i.BOTTOM_RIGHT] = n("hyRjB"), s[i.LEFT_BOTTOM] = n("fNGut"), s[i.LEFT_CENTER] = n("1LQnW"), s[i.LEFT_TOP] = n("fPpzE"), s[i.RIGHT_BOTTOM] = n("7d2qQ"), s[i.RIGHT_CENTER] = n("lavD1"), s[i.RIGHT_TOP] = n("suJhd"), s[i.TOP_CENTER] = n("hjjdG"), s[i.TOP_LEFT] = n("5H3NR"), s[i.TOP_RIGHT] = n("6Cewx"); t.exports = function (t, e, i, n, r) { return s[i](t, e, n, r) } })), n.register("hPWXH", (function (t, e) { t.exports = { TOP_LEFT: 0, TOP_CENTER: 1, TOP_RIGHT: 2, LEFT_TOP: 3, LEFT_CENTER: 4, LEFT_BOTTOM: 5, CENTER: 6, RIGHT_TOP: 7, RIGHT_CENTER: 8, RIGHT_BOTTOM: 9, BOTTOM_LEFT: 10, BOTTOM_CENTER: 11, BOTTOM_RIGHT: 12 } })), n.register("7V1sp", (function (t, e) { var i = n("cWmua"), s = n("k74fg"), r = n("7ltKj"), o = n("2yhAk"); t.exports = function (t, e, n, a) { return void 0 === n && (n = 0), void 0 === a && (a = 0), r(t, s(e) + n), o(t, i(e) + a), t } })), n.register("cWmua", (function (t, e) { t.exports = function (t) { return t.y + t.height - t.height * t.originY } })), n.register("k74fg", (function (t, e) { t.exports = function (t) { return t.x - t.width * t.originX + .5 * t.width } })), n.register("7ltKj", (function (t, e) { t.exports = function (t, e) { var i = t.width * t.originX; return t.x = e + i - .5 * t.width, t } })), n.register("2yhAk", (function (t, e) { t.exports = function (t, e) { return t.y = e + t.height * t.originY, t } })), n.register("hUnFl", (function (t, e) { var i = n("cWmua"), s = n("7Hc2m"), r = n("jcMTD"), o = n("2yhAk"); t.exports = function (t, e, n, a) { return void 0 === n && (n = 0), void 0 === a && (a = 0), r(t, s(e) - n), o(t, i(e) + a), t } })), n.register("7Hc2m", (function (t, e) { t.exports = function (t) { return t.x - t.width * t.originX } })), n.register("jcMTD", (function (t, e) { t.exports = function (t, e) { return t.x = e + t.width * t.originX, t } })), n.register("hyRjB", (function (t, e) { var i = n("cWmua"), s = n("dD4Dr"), r = n("4G1x9"), o = n("2yhAk"); t.exports = function (t, e, n, a) { return void 0 === n && (n = 0), void 0 === a && (a = 0), r(t, s(e) + n), o(t, i(e) + a), t } })), n.register("dD4Dr", (function (t, e) { t.exports = function (t) { return t.x + t.width - t.width * t.originX } })), n.register("4G1x9", (function (t, e) { t.exports = function (t, e) { return t.x = e - t.width + t.width * t.originX, t } })), n.register("fNGut", (function (t, e) { var i = n("cWmua"), s = n("7Hc2m"), r = n("gNxHP"), o = n("4G1x9"); t.exports = function (t, e, n, a) { return void 0 === n && (n = 0), void 0 === a && (a = 0), o(t, s(e) - n), r(t, i(e) + a), t } })), n.register("gNxHP", (function (t, e) { t.exports = function (t, e) { return t.y = e - t.height + t.height * t.originY, t } })), n.register("1LQnW", (function (t, e) { var i = n("14FXn"), s = n("7Hc2m"), r = n("9L2xG"), o = n("4G1x9"); t.exports = function (t, e, n, a) { return void 0 === n && (n = 0), void 0 === a && (a = 0), o(t, s(e) - n), r(t, i(e) + a), t } })), n.register("14FXn", (function (t, e) { t.exports = function (t) { return t.y - t.height * t.originY + .5 * t.height } })), n.register("9L2xG", (function (t, e) { t.exports = function (t, e) { var i = t.height * t.originY; return t.y = e + i - .5 * t.height, t } })), n.register("fPpzE", (function (t, e) { var i = n("7Hc2m"), s = n("b873I"), r = n("4G1x9"), o = n("2yhAk"); t.exports = function (t, e, n, a) { return void 0 === n && (n = 0), void 0 === a && (a = 0), r(t, i(e) - n), o(t, s(e) - a), t } })), n.register("b873I", (function (t, e) { t.exports = function (t) { return t.y - t.height * t.originY } })), n.register("7d2qQ", (function (t, e) { var i = n("cWmua"), s = n("dD4Dr"), r = n("gNxHP"), o = n("jcMTD"); t.exports = function (t, e, n, a) { return void 0 === n && (n = 0), void 0 === a && (a = 0), o(t, s(e) + n), r(t, i(e) + a), t } })), n.register("lavD1", (function (t, e) { var i = n("14FXn"), s = n("dD4Dr"), r = n("9L2xG"), o = n("jcMTD"); t.exports = function (t, e, n, a) { return void 0 === n && (n = 0), void 0 === a && (a = 0), o(t, s(e) + n), r(t, i(e) + a), t } })), n.register("suJhd", (function (t, e) { var i = n("dD4Dr"), s = n("b873I"), r = n("jcMTD"), o = n("2yhAk"); t.exports = function (t, e, n, a) { return void 0 === n && (n = 0), void 0 === a && (a = 0), r(t, i(e) + n), o(t, s(e) - a), t } })), n.register("hjjdG", (function (t, e) { var i = n("k74fg"), s = n("b873I"), r = n("gNxHP"), o = n("7ltKj"); t.exports = function (t, e, n, a) { return void 0 === n && (n = 0), void 0 === a && (a = 0), o(t, i(e) + n), r(t, s(e) - a), t } })), n.register("5H3NR", (function (t, e) { var i = n("7Hc2m"), s = n("b873I"), r = n("gNxHP"), o = n("jcMTD"); t.exports = function (t, e, n, a) { return void 0 === n && (n = 0), void 0 === a && (a = 0), o(t, i(e) - n), r(t, s(e) - a), t } })), n.register("6Cewx", (function (t, e) { var i = n("dD4Dr"), s = n("b873I"), r = n("gNxHP"), o = n("4G1x9"); t.exports = function (t, e, n, a) { return void 0 === n && (n = 0), void 0 === a && (a = 0), o(t, i(e) + n), r(t, s(e) - a), t } })), n.register("5uw5a", (function (t, e) { var i = n("joPJC"); t.exports = function (t, e, s, n, r) { return i(t, "angle", e, s, n, r) } })), n.register("joPJC", (function (t, e) { t.exports = function (t, e, i, s, n, r) { var o; void 0 === s && (s = 0), void 0 === n && (n = 0), void 0 === r && (r = 1); var a = 0, h = t.length; if (1 === r) for (o = n; o < h; o++)t[o][e] += i + a * s, a++; else for (o = n; o >= 0; o--)t[o][e] += i + a * s, a++; return t } })), n.register("dNnjm", (function (t, e) { t.exports = function (t, e, i) { for (var s = 0; s < t.length; s++) { var n = t[s]; e.call(i, n) } return t } })), n.register("7DHQp", (function (t, e) { t.exports = function (t, e, i) { void 0 === i && (i = 0); for (var s = i; s < t.length; s++) { var n = t[s], r = !0; for (var o in e) n[o] !== e[o] && (r = !1); if (r) return n } return null } })), n.register("e6e1x", (function (t, e) { t.exports = function (t, e, i) { void 0 === i && (i = 0); for (var s = i; s < t.length; s++) { var n = t[s], r = !0; for (var o in e) n[o] !== e[o] && (r = !1); if (r) return n } return null } })), n.register("37cO8", (function (t, e) { var i = n("lW6Z2"), s = n("hPWXH"), r = n("7BSWl"), o = n("13GYA"), a = new (n("dZGDG"))({ sys: { queueDepthSort: o, events: { once: o } } }, 0, 0, 1, 1); t.exports = function (t, e) { void 0 === e && (e = {}); var n = e.hasOwnProperty("width"), o = e.hasOwnProperty("height"), h = r(e, "width", -1), l = r(e, "height", -1), u = r(e, "cellWidth", 1), c = r(e, "cellHeight", u), d = r(e, "position", s.TOP_LEFT), f = r(e, "x", 0), p = r(e, "y", 0), g = 0, v = 0, m = h * u, y = l * c; a.setPosition(f, p), a.setSize(u, c); for (var x = 0; x < t.length; x++)if (i(t[x], a, d), n && -1 === h) a.x += u; else if (o && -1 === l) a.y += c; else if (g += u, a.x += u, g === m && (g = 0, v += c, a.x = f, a.y += c, v === y)) break; return t } })), n.register("lW6Z2", (function (t, e) { var i = n("hPWXH"), s = []; s[i.BOTTOM_CENTER] = n("bI66X"), s[i.BOTTOM_LEFT] = n("9aKJT"), s[i.BOTTOM_RIGHT] = n("57VIW"), s[i.CENTER] = n("8OPIk"), s[i.LEFT_CENTER] = n("lCav5"), s[i.RIGHT_CENTER] = n("d4CDm"), s[i.TOP_CENTER] = n("aBZ2v"), s[i.TOP_LEFT] = n("jIofi"), s[i.TOP_RIGHT] = n("gVJ1b"), s[i.LEFT_BOTTOM] = s[i.BOTTOM_LEFT], s[i.LEFT_TOP] = s[i.TOP_LEFT], s[i.RIGHT_BOTTOM] = s[i.BOTTOM_RIGHT], s[i.RIGHT_TOP] = s[i.TOP_RIGHT]; t.exports = function (t, e, i, n, r) { return s[i](t, e, n, r) } })), n.register("bI66X", (function (t, e) { var i = n("cWmua"), s = n("k74fg"), r = n("gNxHP"), o = n("7ltKj"); t.exports = function (t, e, n, a) { return void 0 === n && (n = 0), void 0 === a && (a = 0), o(t, s(e) + n), r(t, i(e) + a), t } })), n.register("9aKJT", (function (t, e) { var i = n("cWmua"), s = n("7Hc2m"), r = n("gNxHP"), o = n("jcMTD"); t.exports = function (t, e, n, a) { return void 0 === n && (n = 0), void 0 === a && (a = 0), o(t, s(e) - n), r(t, i(e) + a), t } })), n.register("57VIW", (function (t, e) { var i = n("cWmua"), s = n("dD4Dr"), r = n("gNxHP"), o = n("4G1x9"); t.exports = function (t, e, n, a) { return void 0 === n && (n = 0), void 0 === a && (a = 0), o(t, s(e) + n), r(t, i(e) + a), t } })), n.register("8OPIk", (function (t, e) { var i = n("73gOb"), s = n("k74fg"), r = n("14FXn"); t.exports = function (t, e, n, o) { return void 0 === n && (n = 0), void 0 === o && (o = 0), i(t, s(e) + n, r(e) + o), t } })), n.register("73gOb", (function (t, e) { var i = n("7ltKj"), s = n("9L2xG"); t.exports = function (t, e, n) { return i(t, e), s(t, n) } })), n.register("lCav5", (function (t, e) { var i = n("14FXn"), s = n("7Hc2m"), r = n("9L2xG"), o = n("jcMTD"); t.exports = function (t, e, n, a) { return void 0 === n && (n = 0), void 0 === a && (a = 0), o(t, s(e) - n), r(t, i(e) + a), t } })), n.register("d4CDm", (function (t, e) { var i = n("14FXn"), s = n("dD4Dr"), r = n("9L2xG"), o = n("4G1x9"); t.exports = function (t, e, n, a) { return void 0 === n && (n = 0), void 0 === a && (a = 0), o(t, s(e) + n), r(t, i(e) + a), t } })), n.register("aBZ2v", (function (t, e) { var i = n("k74fg"), s = n("b873I"), r = n("7ltKj"), o = n("2yhAk"); t.exports = function (t, e, n, a) { return void 0 === n && (n = 0), void 0 === a && (a = 0), r(t, i(e) + n), o(t, s(e) - a), t } })), n.register("jIofi", (function (t, e) { var i = n("7Hc2m"), s = n("b873I"), r = n("jcMTD"), o = n("2yhAk"); t.exports = function (t, e, n, a) { return void 0 === n && (n = 0), void 0 === a && (a = 0), r(t, i(e) - n), o(t, s(e) - a), t } })), n.register("gVJ1b", (function (t, e) { var i = n("dD4Dr"), s = n("b873I"), r = n("4G1x9"), o = n("2yhAk"); t.exports = function (t, e, n, a) { return void 0 === n && (n = 0), void 0 === a && (a = 0), r(t, i(e) + n), o(t, s(e) - a), t } })), n.register("7BSWl", (function (t, e) { t.exports = function (t, e, i) { var s = typeof t; return t && "number" !== s && "string" !== s && t.hasOwnProperty(e) && void 0 !== t[e] ? t[e] : i } })), n.register("13GYA", (function (t, e) { t.exports = function () { } })), n.register("dZGDG", (function (t, e) { var i = n("3qUcC"), s = n("eQ4tZ"), r = n("6hp2k"), o = n("jwj1g"), a = n("4FF1v"), h = n("1zqlR"), l = n("cwr8X"), u = n("6pEze"), c = new o({ Extends: h, Mixins: [a.Depth, a.GetBounds, a.Origin, a.Transform, a.ScrollFactor, a.Visible], initialize: function (t, e, s, n, r) { void 0 === n && (n = 1), void 0 === r && (r = n), h.call(this, t, "Zone"), this.setPosition(e, s), this.width = n, this.height = r, this.blendMode = i.NORMAL, this.updateDisplayOrigin() }, displayWidth: { get: function () { return this.scaleX * this.width }, set: function (t) { this.scaleX = t / this.width } }, displayHeight: { get: function () { return this.scaleY * this.height }, set: function (t) { this.scaleY = t / this.height } }, setSize: function (t, e, i) { void 0 === i && (i = !0), this.width = t, this.height = e, this.updateDisplayOrigin(); var s = this.input; return i && s && !s.customHitArea && (s.hitArea.width = t, s.hitArea.height = e), this }, setDisplaySize: function (t, e) { return this.displayWidth = t, this.displayHeight = e, this }, setCircleDropZone: function (t) { return this.setDropZone(new s(0, 0, t), r) }, setRectangleDropZone: function (t, e) { return this.setDropZone(new l(0, 0, t, e), u) }, setDropZone: function (t, e) { return void 0 === t ? this.setRectangleDropZone(this.width, this.height) : this.input || this.setInteractive(t, e, !0), this }, setAlpha: function () { }, setBlendMode: function () { }, renderCanvas: function () { }, renderWebGL: function () { } }); t.exports = c })), n.register("eQ4tZ", (function (t, e) { var i = n("jwj1g"), s = n("6hp2k"), r = n("dM9Ux"), o = n("80QEd"), a = n("gZ2BZ"), h = n("9zIIl"), l = new i({ initialize: function (t, e, i) { void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), this.type = a.CIRCLE, this.x = t, this.y = e, this._radius = i, this._diameter = 2 * i }, contains: function (t, e) { return s(this, t, e) }, getPoint: function (t, e) { return r(this, t, e) }, getPoints: function (t, e, i) { return o(this, t, e, i) }, getRandomPoint: function (t) { return h(this, t) }, setTo: function (t, e, i) { return this.x = t, this.y = e, this._radius = i, this._diameter = 2 * i, this }, setEmpty: function () { return this._radius = 0, this._diameter = 0, this }, setPosition: function (t, e) { return void 0 === e && (e = t), this.x = t, this.y = e, this }, isEmpty: function () { return this._radius <= 0 }, radius: { get: function () { return this._radius }, set: function (t) { this._radius = t, this._diameter = 2 * t } }, diameter: { get: function () { return this._diameter }, set: function (t) { this._diameter = t, this._radius = .5 * t } }, left: { get: function () { return this.x - this._radius }, set: function (t) { this.x = t + this._radius } }, right: { get: function () { return this.x + this._radius }, set: function (t) { this.x = t - this._radius } }, top: { get: function () { return this.y - this._radius }, set: function (t) { this.y = t + this._radius } }, bottom: { get: function () { return this.y + this._radius }, set: function (t) { this.y = t - this._radius } } }); t.exports = l })), n.register("jwj1g", (function (t, e) {
    function i(t, e, i) {
        var s = i ? t[e] : Object.getOwnPropertyDescriptor(t, e); return !i && s.value && "object" == typeof s.value && (s = s.value), !(!s || !
            /**
             * @author       Richard Davey <rich@photonstorm.com>
             * @copyright    2020 Photon Storm Ltd.
             * @license      {@link https://opensource.org/licenses/MIT|MIT License}
             */
            function (t) { return !!t.get && "function" == typeof t.get || !!t.set && "function" == typeof t.set }(s)) && (void 0 === s.enumerable && (s.enumerable = !0), void 0 === s.configurable && (s.configurable = !0), s)
    } function s(t, e) { var i = Object.getOwnPropertyDescriptor(t, e); return !!i && (i.value && "object" == typeof i.value && (i = i.value), !1 === i.configurable) } function n(t, e, n, r) { for (var a in e) if (e.hasOwnProperty(a)) { var h = i(e, a, n); if (!1 !== h) { if (s((r || t).prototype, a)) { if (o.ignoreFinals) continue; throw new Error("cannot override final property '" + a + "', set Class.ignoreFinals = true to skip") } Object.defineProperty(t.prototype, a, h) } else t.prototype[a] = e[a] } } function r(t, e) { if (e) { Array.isArray(e) || (e = [e]); for (var i = 0; i < e.length; i++)n(t, e[i].prototype || e[i]) } } function o(t) { var e, i; if (t || (t = {}), t.initialize) { if ("function" != typeof t.initialize) throw new Error("initialize must be a function"); e = t.initialize, delete t.initialize } else if (t.Extends) { var s = t.Extends; e = function () { s.apply(this, arguments) } } else e = function () { }; t.Extends ? (e.prototype = Object.create(t.Extends.prototype), e.prototype.constructor = e, i = t.Extends, delete t.Extends) : e.prototype.constructor = e; var o = null; return t.Mixins && (o = t.Mixins, delete t.Mixins), r(e, o), n(e, t, !0, i), e } o.extend = n, o.mixin = r, o.ignoreFinals = !1, t.exports = o
})), n.register("6hp2k", (function (t, e) { t.exports = function (t, e, i) { return t.radius > 0 && e >= t.left && e <= t.right && i >= t.top && i <= t.bottom && (t.x - e) * (t.x - e) + (t.y - i) * (t.y - i) <= t.radius * t.radius } })), n.register("dM9Ux", (function (t, e) { var i = n("67VV6"), s = n("hqfaz"), r = n("bNtDi"), o = n("cSEB9"); t.exports = function (t, e, n) { void 0 === n && (n = new o); var a = s(e, 0, r.PI2); return i(t, a, n) } })), n.register("67VV6", (function (t, e) { var i = n("cSEB9"); t.exports = function (t, e, s) { return void 0 === s && (s = new i), s.x = t.x + t.radius * Math.cos(e), s.y = t.y + t.radius * Math.sin(e), s } })), n.register("cSEB9", (function (t, e) { var i = n("jwj1g"), s = n("gZ2BZ"), r = new i({ initialize: function (t, e) { void 0 === t && (t = 0), void 0 === e && (e = t), this.type = s.POINT, this.x = t, this.y = e }, setTo: function (t, e) { return void 0 === t && (t = 0), void 0 === e && (e = t), this.x = t, this.y = e, this } }); t.exports = r })), n.register("gZ2BZ", (function (t, e) { t.exports = { CIRCLE: 0, ELLIPSE: 1, LINE: 2, POINT: 3, POLYGON: 4, RECTANGLE: 5, TRIANGLE: 6 } })), n.register("hqfaz", (function (t, e) { var i = n("iEUUO"); t.exports = function (t, e, s) { return (s - e) * (t = i(t, 0, 1)) } })), n.register("iEUUO", (function (t, e) { t.exports = function (t, e, i) { return Math.max(e, Math.min(i, t)) } })), n.register("bNtDi", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    var i = { PI2: 2 * Math.PI, TAU: .5 * Math.PI, EPSILON: 1e-6, DEG_TO_RAD: Math.PI / 180, RAD_TO_DEG: 180 / Math.PI, RND: null, MIN_SAFE_INTEGER: Number.MIN_SAFE_INTEGER || -9007199254740991, MAX_SAFE_INTEGER: Number.MAX_SAFE_INTEGER || 9007199254740991 }; t.exports = i
})), n.register("80QEd", (function (t, e) { var i = n("c6ED3"), s = n("67VV6"), r = n("hqfaz"), o = n("bNtDi"); t.exports = function (t, e, n, a) { void 0 === a && (a = []), e || (e = i(t) / n); for (var h = 0; h < e; h++) { var l = r(h / e, 0, o.PI2); a.push(s(t, l)) } return a } })), n.register("c6ED3", (function (t, e) { t.exports = function (t) { return Math.PI * t.radius * 2 } })), n.register("9zIIl", (function (t, e) { var i = n("cSEB9"); t.exports = function (t, e) { void 0 === e && (e = new i); var s = 2 * Math.PI * Math.random(), n = Math.random() + Math.random(), r = n > 1 ? 2 - n : n, o = r * Math.cos(s), a = r * Math.sin(s); return e.x = t.x + o * t.radius, e.y = t.y + a * t.radius, e } })), n.register("4FF1v", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { Alpha: n("25pf7"), AlphaSingle: n("gRRWm"), Animation: n("18ZZu"), BlendMode: n("2UeGA"), ComputedSize: n("cbj9c"), Crop: n("bhbp7"), Depth: n("1CJAb"), Flip: n("fdnq8"), GetBounds: n("9r3lX"), Mask: n("42G5m"), Origin: n("18U1b"), PathFollower: n("dNtLk"), Pipeline: n("DznIZ"), ScrollFactor: n("hKiq1"), Size: n("aOXwH"), Texture: n("1qQq2"), TextureCrop: n("iwi57"), Tint: n("fpsqk"), ToJSON: n("bvPjF"), Transform: n("i5mxL"), TransformMatrix: n("azs1m"), Visible: n("fVg1f") }
})), n.register("25pf7", (function (t, e) { var i = n("iEUUO"), s = { _alpha: 1, _alphaTL: 1, _alphaTR: 1, _alphaBL: 1, _alphaBR: 1, clearAlpha: function () { return this.setAlpha(1) }, setAlpha: function (t, e, s, n) { return void 0 === t && (t = 1), void 0 === e ? this.alpha = t : (this._alphaTL = i(t, 0, 1), this._alphaTR = i(e, 0, 1), this._alphaBL = i(s, 0, 1), this._alphaBR = i(n, 0, 1)), this }, alpha: { get: function () { return this._alpha }, set: function (t) { var e = i(t, 0, 1); this._alpha = e, this._alphaTL = e, this._alphaTR = e, this._alphaBL = e, this._alphaBR = e, 0 === e ? this.renderFlags &= -3 : this.renderFlags |= 2 } }, alphaTopLeft: { get: function () { return this._alphaTL }, set: function (t) { var e = i(t, 0, 1); this._alphaTL = e, 0 !== e && (this.renderFlags |= 2) } }, alphaTopRight: { get: function () { return this._alphaTR }, set: function (t) { var e = i(t, 0, 1); this._alphaTR = e, 0 !== e && (this.renderFlags |= 2) } }, alphaBottomLeft: { get: function () { return this._alphaBL }, set: function (t) { var e = i(t, 0, 1); this._alphaBL = e, 0 !== e && (this.renderFlags |= 2) } }, alphaBottomRight: { get: function () { return this._alphaBR }, set: function (t) { var e = i(t, 0, 1); this._alphaBR = e, 0 !== e && (this.renderFlags |= 2) } } }; t.exports = s })), n.register("gRRWm", (function (t, e) { var i = n("iEUUO"), s = { _alpha: 1, clearAlpha: function () { return this.setAlpha(1) }, setAlpha: function (t) { return void 0 === t && (t = 1), this.alpha = t, this }, alpha: { get: function () { return this._alpha }, set: function (t) { var e = i(t, 0, 1); this._alpha = e, 0 === e ? this.renderFlags &= -3 : this.renderFlags |= 2 } } }; t.exports = s })), n.register("18ZZu", (function (t, e) { var i = n("6gscN"), s = n("jwj1g"), r = n("61xd9"), o = new s({ initialize: function (t) { this.parent = t, this.animationManager = t.scene.sys.anims, this.animationManager.once(r.REMOVE_ANIMATION, this.remove, this), this.isPlaying = !1, this.currentAnim = null, this.currentFrame = null, this.nextAnim = null, this._timeScale = 1, this.frameRate = 0, this.duration = 0, this.msPerFrame = 0, this.skipMissedFrames = !0, this._delay = 0, this._repeat = 0, this._repeatDelay = 0, this._yoyo = !1, this.forward = !0, this._reverse = !1, this.accumulator = 0, this.nextTick = 0, this.repeatCounter = 0, this.pendingRepeat = !1, this._paused = !1, this._wasPlaying = !1, this._pendingStop = 0, this._pendingStopValue }, chain: function (t) { return t instanceof i && (t = t.key), this.nextAnim = t, this.parent }, setDelay: function (t) { return void 0 === t && (t = 0), this._delay = t, this.parent }, getDelay: function () { return this._delay }, delayedPlay: function (t, e, i) { return this.play(e, !0, i), this.nextTick += t, this.parent }, getCurrentKey: function () { if (this.currentAnim) return this.currentAnim.key }, load: function (t, e) { return void 0 === e && (e = 0), this.isPlaying && this.stop(), this.animationManager.load(this, t, e), this.parent }, pause: function (t) { return this._paused || (this._paused = !0, this._wasPlaying = this.isPlaying, this.isPlaying = !1), void 0 !== t && this.updateFrame(t), this.parent }, resume: function (t) { return this._paused && (this._paused = !1, this.isPlaying = this._wasPlaying), void 0 !== t && this.updateFrame(t), this.parent }, isPaused: { get: function () { return this._paused } }, play: function (t, e, s) { return void 0 === e && (e = !1), void 0 === s && (s = 0), t instanceof i && (t = t.key), e && this.isPlaying && this.currentAnim.key === t ? this.parent : (this.forward = !0, this._reverse = !1, this._paused = !1, this._wasPlaying = !0, this._startAnimation(t, s)) }, playReverse: function (t, e, s) { return void 0 === e && (e = !1), void 0 === s && (s = 0), t instanceof i && (t = t.key), e && this.isPlaying && this.currentAnim.key === t ? this.parent : (this.forward = !1, this._reverse = !0, this._startAnimation(t, s)) }, _startAnimation: function (t, e) { this.load(t, e); var i = this.currentAnim, s = this.parent; if (!i) return s; this.repeatCounter = -1 === this._repeat ? Number.MAX_VALUE : this._repeat, i.getFirstTick(this), this.isPlaying = !0, this.pendingRepeat = !1, i.showOnStart && (s.visible = !0); var n = this.currentFrame; return i.emit(r.ANIMATION_START, i, n, s), s.emit(r.SPRITE_ANIMATION_KEY_START + t, i, n, s), s.emit(r.SPRITE_ANIMATION_START, i, n, s), s }, reverse: function () { return this.isPlaying && (this._reverse = !this._reverse, this.forward = !this.forward), this.parent }, getProgress: function () { var t = this.currentFrame.progress; return this.forward || (t = 1 - t), t }, setProgress: function (t) { return this.forward || (t = 1 - t), this.setCurrentFrame(this.currentAnim.getFrameByProgress(t)), this.parent }, remove: function (t, e) { void 0 === e && (e = this.currentAnim), this.isPlaying && e.key === this.currentAnim.key && (this.stop(), this.setCurrentFrame(this.currentAnim.frames[0])) }, getRepeat: function () { return this._repeat }, setRepeat: function (t) { return this._repeat = t, this.repeatCounter = -1 === t ? Number.MAX_VALUE : t, this.parent }, getRepeatDelay: function () { return this._repeatDelay }, setRepeatDelay: function (t) { return this._repeatDelay = t, this.parent }, restart: function (t) { void 0 === t && (t = !1); var e = this.currentAnim; e.getFirstTick(this, t), this.forward = !0, this.isPlaying = !0, this.pendingRepeat = !1, this._paused = !1, this.updateFrame(e.frames[0]); var i = this.parent, s = this.currentFrame; return e.emit(r.ANIMATION_RESTART, e, s, i), i.emit(r.SPRITE_ANIMATION_KEY_RESTART + e.key, e, s, i), i.emit(r.SPRITE_ANIMATION_RESTART, e, s, i), this.parent }, stop: function () { this._pendingStop = 0, this.isPlaying = !1; var t = this.parent, e = this.currentAnim, i = this.currentFrame; if (e && (e.emit(r.ANIMATION_COMPLETE, e, i, t), t.emit(r.SPRITE_ANIMATION_KEY_COMPLETE + e.key, e, i, t), t.emit(r.SPRITE_ANIMATION_COMPLETE, e, i, t)), this.nextAnim) { var s = this.nextAnim; this.nextAnim = null, this.play(s) } return t }, stopAfterDelay: function (t) { return this._pendingStop = 1, this._pendingStopValue = t, this.parent }, stopOnRepeat: function () { return this._pendingStop = 2, this.parent }, stopOnFrame: function (t) { return this._pendingStop = 3, this._pendingStopValue = t, this.parent }, setTimeScale: function (t) { return void 0 === t && (t = 1), this._timeScale = t, this.parent }, getTimeScale: function () { return this._timeScale }, getTotalFrames: function () { return this.currentAnim.frames.length }, update: function (t, e) { if (this.currentAnim && this.isPlaying && !this.currentAnim.paused) { if (this.accumulator += e * this._timeScale, 1 === this._pendingStop && (this._pendingStopValue -= e, this._pendingStopValue <= 0)) return this.currentAnim.completeAnimation(this); this.accumulator >= this.nextTick && this.currentAnim.setFrame(this) } }, setCurrentFrame: function (t) { var e = this.parent; return this.currentFrame = t, e.texture = t.frame.texture, e.frame = t.frame, e.isCropped && e.frame.updateCropUVs(e._crop, e.flipX, e.flipY), e.setSizeToFrame(), t.frame.customPivot ? e.setOrigin(t.frame.pivotX, t.frame.pivotY) : e.updateDisplayOrigin(), e }, updateFrame: function (t) { var e = this.setCurrentFrame(t); if (this.isPlaying) { t.setAlpha && (e.alpha = t.alpha); var i = this.currentAnim; e.emit(r.SPRITE_ANIMATION_KEY_UPDATE + i.key, i, t, e), e.emit(r.SPRITE_ANIMATION_UPDATE, i, t, e), 3 === this._pendingStop && this._pendingStopValue === t && this.currentAnim.completeAnimation(this) } }, nextFrame: function () { return this.currentAnim && this.currentAnim.nextFrame(this), this.parent }, previousFrame: function () { return this.currentAnim && this.currentAnim.previousFrame(this), this.parent }, setYoyo: function (t) { return void 0 === t && (t = !1), this._yoyo = t, this.parent }, getYoyo: function () { return this._yoyo }, destroy: function () { this.animationManager.off(r.REMOVE_ANIMATION, this.remove, this), this.animationManager = null, this.parent = null, this.currentAnim = null, this.currentFrame = null } }); t.exports = o })), n.register("6gscN", (function (t, e) { var i = n("iEUUO"), s = n("jwj1g"), r = n("3vRz3"), o = n("61xd9"), a = n("3tt0c"), h = n("cDvmt"), l = n("5pMDk"), u = new s({ Extends: r, initialize: function (t, e, i) { r.call(this), this.manager = t, this.key = e, this.type = "frame", this.frames = this.getFrames(t.textureManager, l(i, "frames", []), l(i, "defaultTextureKey", null)), this.frameRate = l(i, "frameRate", null), this.duration = l(i, "duration", null), null === this.duration && null === this.frameRate ? (this.frameRate = 24, this.duration = this.frameRate / this.frames.length * 1e3) : this.duration && null === this.frameRate ? this.frameRate = this.frames.length / (this.duration / 1e3) : this.duration = this.frames.length / this.frameRate * 1e3, this.msPerFrame = 1e3 / this.frameRate, this.skipMissedFrames = l(i, "skipMissedFrames", !0), this.delay = l(i, "delay", 0), this.repeat = l(i, "repeat", 0), this.repeatDelay = l(i, "repeatDelay", 0), this.yoyo = l(i, "yoyo", !1), this.showOnStart = l(i, "showOnStart", !1), this.hideOnComplete = l(i, "hideOnComplete", !1), this.paused = !1, this.manager.on(o.PAUSE_ALL, this.pause, this), this.manager.on(o.RESUME_ALL, this.resume, this) }, addFrame: function (t) { return this.addFrameAt(this.frames.length, t) }, addFrameAt: function (t, e) { var i = this.getFrames(this.manager.textureManager, e); if (i.length > 0) { if (0 === t) this.frames = i.concat(this.frames); else if (t === this.frames.length) this.frames = this.frames.concat(i); else { var s = this.frames.slice(0, t), n = this.frames.slice(t); this.frames = s.concat(i, n) } this.updateFrameSequence() } return this }, checkFrame: function (t) { return t >= 0 && t < this.frames.length }, completeAnimation: function (t) { this.hideOnComplete && (t.parent.visible = !1), t.stop() }, getFirstTick: function (t, e) { void 0 === e && (e = !0), t.accumulator = 0, t.nextTick = t.msPerFrame + t.currentFrame.duration, e && (t.nextTick += t._delay) }, getFrameAt: function (t) { return this.frames[t] }, getFrames: function (t, e, i) { var s, n, r, o, a = [], u = 1; if ("string" == typeof e) { o = e; var c = t.get(o).getFrameNames(); e = [], c.forEach((function (t, i) { e.push({ key: o, frame: i }) })) } if (!Array.isArray(e) || 0 === e.length) return a; for (r = 0; r < e.length; r++) { var d = e[r], f = l(d, "key", i); if (f) { var p = l(d, "frame", 0), g = t.getFrame(f, p); (n = new h(f, p, u, g)).duration = l(d, "duration", 0), n.isFirst = !s, s && (s.nextFrame = n, n.prevFrame = s), a.push(n), s = n, u++ } } if (a.length > 0) { n.isLast = !0, n.nextFrame = a[0], a[0].prevFrame = n; var v = 1 / (a.length - 1); for (r = 0; r < a.length; r++)a[r].progress = r * v } return a }, getNextTick: function (t) { t.accumulator -= t.nextTick, t.nextTick = t.msPerFrame + t.currentFrame.duration }, load: function (t, e) { e >= this.frames.length && (e = 0), t.currentAnim !== this && (t.currentAnim = this, t.frameRate = this.frameRate, t.duration = this.duration, t.msPerFrame = this.msPerFrame, t.skipMissedFrames = this.skipMissedFrames, t._delay = this.delay, t._repeat = this.repeat, t._repeatDelay = this.repeatDelay, t._yoyo = this.yoyo); var i = this.frames[e]; 0 !== e || t.forward || (i = this.getLastFrame()), t.updateFrame(i) }, getFrameByProgress: function (t) { return t = i(t, 0, 1), a(t, this.frames, "progress") }, nextFrame: function (t) { var e = t.currentFrame; e.isLast ? t._yoyo ? this.handleYoyoFrame(t, !1) : t.repeatCounter > 0 ? t._reverse && t.forward ? t.forward = !1 : this.repeatAnimation(t) : this.completeAnimation(t) : this.updateAndGetNextTick(t, e.nextFrame) }, handleYoyoFrame: function (t, e) { if (e || (e = !1), t._reverse === !e && t.repeatCounter > 0) return t.forward = e, void this.repeatAnimation(t); if (t._reverse === e || 0 !== t.repeatCounter) { t.forward = e; var i = e ? t.currentFrame.nextFrame : t.currentFrame.prevFrame; this.updateAndGetNextTick(t, i) } else this.completeAnimation(t) }, getLastFrame: function () { return this.frames[this.frames.length - 1] }, previousFrame: function (t) { var e = t.currentFrame; e.isFirst ? t._yoyo ? this.handleYoyoFrame(t, !0) : t.repeatCounter > 0 ? t._reverse && !t.forward ? (t.currentFrame = this.getLastFrame(), this.repeatAnimation(t)) : (t.forward = !0, this.repeatAnimation(t)) : this.completeAnimation(t) : this.updateAndGetNextTick(t, e.prevFrame) }, updateAndGetNextTick: function (t, e) { t.updateFrame(e), this.getNextTick(t) }, removeFrame: function (t) { var e = this.frames.indexOf(t); return -1 !== e && this.removeFrameAt(e), this }, removeFrameAt: function (t) { return this.frames.splice(t, 1), this.updateFrameSequence(), this }, repeatAnimation: function (t) { if (2 === t._pendingStop) return this.completeAnimation(t); if (t._repeatDelay > 0 && !1 === t.pendingRepeat) t.pendingRepeat = !0, t.accumulator -= t.nextTick, t.nextTick += t._repeatDelay; else if (t.repeatCounter--, t.updateFrame(t.currentFrame[t.forward ? "nextFrame" : "prevFrame"]), t.isPlaying) { this.getNextTick(t), t.pendingRepeat = !1; var e = t.currentFrame, i = t.parent; this.emit(o.ANIMATION_REPEAT, this, e), i.emit(o.SPRITE_ANIMATION_KEY_REPEAT + this.key, this, e, t.repeatCounter, i), i.emit(o.SPRITE_ANIMATION_REPEAT, this, e, t.repeatCounter, i) } }, setFrame: function (t) { t.forward ? this.nextFrame(t) : this.previousFrame(t) }, toJSON: function () { var t = { key: this.key, type: this.type, frames: [], frameRate: this.frameRate, duration: this.duration, skipMissedFrames: this.skipMissedFrames, delay: this.delay, repeat: this.repeat, repeatDelay: this.repeatDelay, yoyo: this.yoyo, showOnStart: this.showOnStart, hideOnComplete: this.hideOnComplete }; return this.frames.forEach((function (e) { t.frames.push(e.toJSON()) })), t }, updateFrameSequence: function () { for (var t, e = this.frames.length, i = 1 / (e - 1), s = 0; s < e; s++)(t = this.frames[s]).index = s + 1, t.isFirst = !1, t.isLast = !1, t.progress = s * i, 0 === s ? (t.isFirst = !0, 1 === e ? (t.isLast = !0, t.nextFrame = t, t.prevFrame = t) : (t.isLast = !1, t.prevFrame = this.frames[e - 1], t.nextFrame = this.frames[s + 1])) : s === e - 1 && e > 1 ? (t.isLast = !0, t.prevFrame = this.frames[e - 2], t.nextFrame = this.frames[0]) : e > 1 && (t.prevFrame = this.frames[s - 1], t.nextFrame = this.frames[s + 1]); return this }, pause: function () { return this.paused = !0, this }, resume: function () { return this.paused = !1, this }, destroy: function () { this.removeAllListeners(), this.manager.off(o.PAUSE_ALL, this.pause, this), this.manager.off(o.RESUME_ALL, this.resume, this), this.manager.remove(this.key); for (var t = 0; t < this.frames.length; t++)this.frames[t].destroy(); this.frames = [], this.manager = null } }); t.exports = u })), n.register("3vRz3", (function (t, e) { var i = Object.prototype.hasOwnProperty, s = "~"; function n() { } function r(t, e, i) { this.fn = t, this.context = e, this.once = i || !1 } function o(t, e, i, n, o) { if ("function" != typeof i) throw new TypeError("The listener must be a function"); var a = new r(i, n || t, o), h = s ? s + e : e; return t._events[h] ? t._events[h].fn ? t._events[h] = [t._events[h], a] : t._events[h].push(a) : (t._events[h] = a, t._eventsCount++), t } function a(t, e) { 0 == --t._eventsCount ? t._events = new n : delete t._events[e] } function h() { this._events = new n, this._eventsCount = 0 } Object.create && (n.prototype = Object.create(null), (new n).__proto__ || (s = !1)), h.prototype.eventNames = function () { var t, e, n = []; if (0 === this._eventsCount) return n; for (e in t = this._events) i.call(t, e) && n.push(s ? e.slice(1) : e); return Object.getOwnPropertySymbols ? n.concat(Object.getOwnPropertySymbols(t)) : n }, h.prototype.listeners = function (t) { var e = s ? s + t : t, i = this._events[e]; if (!i) return []; if (i.fn) return [i.fn]; for (var n = 0, r = i.length, o = new Array(r); n < r; n++)o[n] = i[n].fn; return o }, h.prototype.listenerCount = function (t) { var e = s ? s + t : t, i = this._events[e]; return i ? i.fn ? 1 : i.length : 0 }, h.prototype.emit = function (t, e, i, n, r, o) { var a = s ? s + t : t; if (!this._events[a]) return !1; var h, l, u = this._events[a], c = arguments.length; if (u.fn) { switch (u.once && this.removeListener(t, u.fn, void 0, !0), c) { case 1: return u.fn.call(u.context), !0; case 2: return u.fn.call(u.context, e), !0; case 3: return u.fn.call(u.context, e, i), !0; case 4: return u.fn.call(u.context, e, i, n), !0; case 5: return u.fn.call(u.context, e, i, n, r), !0; case 6: return u.fn.call(u.context, e, i, n, r, o), !0 }for (l = 1, h = new Array(c - 1); l < c; l++)h[l - 1] = arguments[l]; u.fn.apply(u.context, h) } else { var d, f = u.length; for (l = 0; l < f; l++)switch (u[l].once && this.removeListener(t, u[l].fn, void 0, !0), c) { case 1: u[l].fn.call(u[l].context); break; case 2: u[l].fn.call(u[l].context, e); break; case 3: u[l].fn.call(u[l].context, e, i); break; case 4: u[l].fn.call(u[l].context, e, i, n); break; default: if (!h) for (d = 1, h = new Array(c - 1); d < c; d++)h[d - 1] = arguments[d]; u[l].fn.apply(u[l].context, h) } } return !0 }, h.prototype.on = function (t, e, i) { return o(this, t, e, i, !1) }, h.prototype.once = function (t, e, i) { return o(this, t, e, i, !0) }, h.prototype.removeListener = function (t, e, i, n) { var r = s ? s + t : t; if (!this._events[r]) return this; if (!e) return a(this, r), this; var o = this._events[r]; if (o.fn) o.fn !== e || n && !o.once || i && o.context !== i || a(this, r); else { for (var h = 0, l = [], u = o.length; h < u; h++)(o[h].fn !== e || n && !o[h].once || i && o[h].context !== i) && l.push(o[h]); l.length ? this._events[r] = 1 === l.length ? l[0] : l : a(this, r) } return this }, h.prototype.removeAllListeners = function (t) { var e; return t ? (e = s ? s + t : t, this._events[e] && a(this, e)) : (this._events = new n, this._eventsCount = 0), this }, h.prototype.off = h.prototype.removeListener, h.prototype.addListener = h.prototype.on, h.prefixed = s, h.EventEmitter = h, t.exports = h })), n.register("61xd9", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { ADD_ANIMATION: n("b20ka"), ANIMATION_COMPLETE: n("6Scfk"), ANIMATION_REPEAT: n("1i5Tk"), ANIMATION_RESTART: n("9o6zt"), ANIMATION_START: n("c1HtP"), PAUSE_ALL: n("7jA9x"), REMOVE_ANIMATION: n("dZYdG"), RESUME_ALL: n("cgaPE"), SPRITE_ANIMATION_COMPLETE: n("a1gn7"), SPRITE_ANIMATION_KEY_COMPLETE: n("3jlNk"), SPRITE_ANIMATION_KEY_REPEAT: n("blGC8"), SPRITE_ANIMATION_KEY_RESTART: n("jn7dJ"), SPRITE_ANIMATION_KEY_START: n("kCQEk"), SPRITE_ANIMATION_KEY_UPDATE: n("jWo5U"), SPRITE_ANIMATION_REPEAT: n("gU3w7"), SPRITE_ANIMATION_RESTART: n("dDu4A"), SPRITE_ANIMATION_START: n("e6SNr"), SPRITE_ANIMATION_UPDATE: n("4QTC8") }
})), n.register("b20ka", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "add"
})), n.register("6Scfk", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "complete"
})), n.register("1i5Tk", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "repeat"
})), n.register("9o6zt", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "restart"
})), n.register("c1HtP", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "start"
})), n.register("7jA9x", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "pauseall"
})), n.register("dZYdG", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "remove"
})), n.register("cgaPE", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "resumeall"
})), n.register("a1gn7", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "animationcomplete"
})), n.register("3jlNk", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "animationcomplete-"
})), n.register("blGC8", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "animationrepeat-"
})), n.register("jn7dJ", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "animationrestart-"
})), n.register("kCQEk", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "animationstart-"
})), n.register("jWo5U", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "animationupdate-"
})), n.register("gU3w7", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "animationrepeat"
})), n.register("dDu4A", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "animationrestart"
})), n.register("e6SNr", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "animationstart"
})), n.register("4QTC8", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "animationupdate"
})), n.register("3tt0c", (function (t, e) { t.exports = function (t, e, i) { if (!e.length) return NaN; if (1 === e.length) return e[0]; var s, n, r = 1; if (i) { if (t < e[0][i]) return e[0]; for (; e[r][i] < t;)r++ } else for (; e[r] < t;)r++; return r > e.length && (r = e.length), i ? (s = e[r - 1][i], (n = e[r][i]) - t <= t - s ? e[r] : e[r - 1]) : (s = e[r - 1], (n = e[r]) - t <= t - s ? n : s) } })), n.register("cDvmt", (function (t, e) { var i = new (n("jwj1g"))({ initialize: function (t, e, i, s) { this.textureKey = t, this.textureFrame = e, this.index = i, this.frame = s, this.isFirst = !1, this.isLast = !1, this.prevFrame = null, this.nextFrame = null, this.duration = 0, this.progress = 0 }, toJSON: function () { return { key: this.textureKey, frame: this.textureFrame, duration: this.duration } }, destroy: function () { this.frame = void 0 } }); t.exports = i })), n.register("5pMDk", (function (t, e) { t.exports = function (t, e, i) { if (t && "number" != typeof t) { if (t.hasOwnProperty(e)) return t[e]; if (-1 !== e.indexOf(".")) { for (var s = e.split("."), n = t, r = i, o = 0; o < s.length; o++) { if (!n.hasOwnProperty(s[o])) { r = i; break } r = n[s[o]], n = n[s[o]] } return r } return i } return i } })), n.register("2UeGA", (function (t, e) { var i = n("3qUcC"), s = { _blendMode: i.NORMAL, blendMode: { get: function () { return this._blendMode }, set: function (t) { "string" == typeof t && (t = i[t]), (t |= 0) >= -1 && (this._blendMode = t) } }, setBlendMode: function (t) { return this.blendMode = t, this } }; t.exports = s })), n.register("cbj9c", (function (t, e) { t.exports = { width: 0, height: 0, displayWidth: { get: function () { return this.scaleX * this.width }, set: function (t) { this.scaleX = t / this.width } }, displayHeight: { get: function () { return this.scaleY * this.height }, set: function (t) { this.scaleY = t / this.height } }, setSize: function (t, e) { return this.width = t, this.height = e, this }, setDisplaySize: function (t, e) { return this.displayWidth = t, this.displayHeight = e, this } } })), n.register("bhbp7", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    var i = { texture: null, frame: null, isCropped: !1, setCrop: function (t, e, i, s) { if (void 0 === t) this.isCropped = !1; else if (this.frame) { if ("number" == typeof t) this.frame.setCropUVs(this._crop, t, e, i, s, this.flipX, this.flipY); else { var n = t; this.frame.setCropUVs(this._crop, n.x, n.y, n.width, n.height, this.flipX, this.flipY) } this.isCropped = !0 } return this }, resetCropObject: function () { return { u0: 0, v0: 0, u1: 0, v1: 0, width: 0, height: 0, x: 0, y: 0, flipX: !1, flipY: !1, cx: 0, cy: 0, cw: 0, ch: 0 } } }; t.exports = i
})), n.register("1CJAb", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    var i = { _depth: 0, depth: { get: function () { return this._depth }, set: function (t) { this.scene.sys.queueDepthSort(), this._depth = t } }, setDepth: function (t) { return void 0 === t && (t = 0), this.depth = t, this } }; t.exports = i
})), n.register("fdnq8", (function (t, e) { t.exports = { flipX: !1, flipY: !1, toggleFlipX: function () { return this.flipX = !this.flipX, this }, toggleFlipY: function () { return this.flipY = !this.flipY, this }, setFlipX: function (t) { return this.flipX = t, this }, setFlipY: function (t) { return this.flipY = t, this }, setFlip: function (t, e) { return this.flipX = t, this.flipY = e, this }, resetFlip: function () { return this.flipX = !1, this.flipY = !1, this } } })), n.register("9r3lX", (function (t, e) { var i = n("cwr8X"), s = n("5Ntai"), r = n("7SBSk"), o = { prepareBoundsOutput: function (t, e) { (void 0 === e && (e = !1), 0 !== this.rotation && s(t, this.x, this.y, this.rotation), e && this.parentContainer) && this.parentContainer.getBoundsTransformMatrix().transformPoint(t.x, t.y, t); return t }, getCenter: function (t) { return void 0 === t && (t = new r), t.x = this.x - this.displayWidth * this.originX + this.displayWidth / 2, t.y = this.y - this.displayHeight * this.originY + this.displayHeight / 2, t }, getTopLeft: function (t, e) { return t || (t = new r), t.x = this.x - this.displayWidth * this.originX, t.y = this.y - this.displayHeight * this.originY, this.prepareBoundsOutput(t, e) }, getTopCenter: function (t, e) { return t || (t = new r), t.x = this.x - this.displayWidth * this.originX + this.displayWidth / 2, t.y = this.y - this.displayHeight * this.originY, this.prepareBoundsOutput(t, e) }, getTopRight: function (t, e) { return t || (t = new r), t.x = this.x - this.displayWidth * this.originX + this.displayWidth, t.y = this.y - this.displayHeight * this.originY, this.prepareBoundsOutput(t, e) }, getLeftCenter: function (t, e) { return t || (t = new r), t.x = this.x - this.displayWidth * this.originX, t.y = this.y - this.displayHeight * this.originY + this.displayHeight / 2, this.prepareBoundsOutput(t, e) }, getRightCenter: function (t, e) { return t || (t = new r), t.x = this.x - this.displayWidth * this.originX + this.displayWidth, t.y = this.y - this.displayHeight * this.originY + this.displayHeight / 2, this.prepareBoundsOutput(t, e) }, getBottomLeft: function (t, e) { return t || (t = new r), t.x = this.x - this.displayWidth * this.originX, t.y = this.y - this.displayHeight * this.originY + this.displayHeight, this.prepareBoundsOutput(t, e) }, getBottomCenter: function (t, e) { return t || (t = new r), t.x = this.x - this.displayWidth * this.originX + this.displayWidth / 2, t.y = this.y - this.displayHeight * this.originY + this.displayHeight, this.prepareBoundsOutput(t, e) }, getBottomRight: function (t, e) { return t || (t = new r), t.x = this.x - this.displayWidth * this.originX + this.displayWidth, t.y = this.y - this.displayHeight * this.originY + this.displayHeight, this.prepareBoundsOutput(t, e) }, getBounds: function (t) { var e, s, n, r, o, a, h, l; if (void 0 === t && (t = new i), this.parentContainer) { var u = this.parentContainer.getBoundsTransformMatrix(); this.getTopLeft(t), u.transformPoint(t.x, t.y, t), e = t.x, s = t.y, this.getTopRight(t), u.transformPoint(t.x, t.y, t), n = t.x, r = t.y, this.getBottomLeft(t), u.transformPoint(t.x, t.y, t), o = t.x, a = t.y, this.getBottomRight(t), u.transformPoint(t.x, t.y, t), h = t.x, l = t.y } else this.getTopLeft(t), e = t.x, s = t.y, this.getTopRight(t), n = t.x, r = t.y, this.getBottomLeft(t), o = t.x, a = t.y, this.getBottomRight(t), h = t.x, l = t.y; return t.x = Math.min(e, n, o, h), t.y = Math.min(s, r, a, l), t.width = Math.max(e, n, o, h) - t.x, t.height = Math.max(s, r, a, l) - t.y, t } }; t.exports = o })), n.register("cwr8X", (function (t, e) { var i = n("jwj1g"), s = n("6pEze"), r = n("cu9YH"), o = n("c3WbB"), a = n("gZ2BZ"), h = n("1LRPh"), l = n("xap54"), u = new i({ initialize: function (t, e, i, s) { void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === s && (s = 0), this.type = a.RECTANGLE, this.x = t, this.y = e, this.width = i, this.height = s }, contains: function (t, e) { return s(this, t, e) }, getPoint: function (t, e) { return r(this, t, e) }, getPoints: function (t, e, i) { return o(this, t, e, i) }, getRandomPoint: function (t) { return l(this, t) }, setTo: function (t, e, i, s) { return this.x = t, this.y = e, this.width = i, this.height = s, this }, setEmpty: function () { return this.setTo(0, 0, 0, 0) }, setPosition: function (t, e) { return void 0 === e && (e = t), this.x = t, this.y = e, this }, setSize: function (t, e) { return void 0 === e && (e = t), this.width = t, this.height = e, this }, isEmpty: function () { return this.width <= 0 || this.height <= 0 }, getLineA: function (t) { return void 0 === t && (t = new h), t.setTo(this.x, this.y, this.right, this.y), t }, getLineB: function (t) { return void 0 === t && (t = new h), t.setTo(this.right, this.y, this.right, this.bottom), t }, getLineC: function (t) { return void 0 === t && (t = new h), t.setTo(this.right, this.bottom, this.x, this.bottom), t }, getLineD: function (t) { return void 0 === t && (t = new h), t.setTo(this.x, this.bottom, this.x, this.y), t }, left: { get: function () { return this.x }, set: function (t) { t >= this.right ? this.width = 0 : this.width = this.right - t, this.x = t } }, right: { get: function () { return this.x + this.width }, set: function (t) { t <= this.x ? this.width = 0 : this.width = t - this.x } }, top: { get: function () { return this.y }, set: function (t) { t >= this.bottom ? this.height = 0 : this.height = this.bottom - t, this.y = t } }, bottom: { get: function () { return this.y + this.height }, set: function (t) { t <= this.y ? this.height = 0 : this.height = t - this.y } }, centerX: { get: function () { return this.x + this.width / 2 }, set: function (t) { this.x = t - this.width / 2 } }, centerY: { get: function () { return this.y + this.height / 2 }, set: function (t) { this.y = t - this.height / 2 } } }); t.exports = u })), n.register("6pEze", (function (t, e) { t.exports = function (t, e, i) { return !(t.width <= 0 || t.height <= 0) && (t.x <= e && t.x + t.width >= e && t.y <= i && t.y + t.height >= i) } })), n.register("cu9YH", (function (t, e) { var i = n("ltSp2"), s = n("cSEB9"); t.exports = function (t, e, n) { if (void 0 === n && (n = new s), e <= 0 || e >= 1) return n.x = t.x, n.y = t.y, n; var r = i(t) * e; return e > .5 ? (r -= t.width + t.height) <= t.width ? (n.x = t.right - r, n.y = t.bottom) : (n.x = t.x, n.y = t.bottom - (r - t.width)) : r <= t.width ? (n.x = t.x + r, n.y = t.y) : (n.x = t.right, n.y = t.y + (r - t.width)), n } })), n.register("ltSp2", (function (t, e) { t.exports = function (t) { return 2 * (t.width + t.height) } })), n.register("c3WbB", (function (t, e) { var i = n("cu9YH"), s = n("ltSp2"); t.exports = function (t, e, n, r) { void 0 === r && (r = []), e || (e = s(t) / n); for (var o = 0; o < e; o++) { var a = o / e; r.push(i(t, a)) } return r } })), n.register("1LRPh", (function (t, e) { var i = n("jwj1g"), s = n("9T44R"), r = n("fYnml"), o = n("gZ2BZ"), a = n("1Ap5d"), h = n("7SBSk"), l = new i({ initialize: function (t, e, i, s) { void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === s && (s = 0), this.type = o.LINE, this.x1 = t, this.y1 = e, this.x2 = i, this.y2 = s }, getPoint: function (t, e) { return s(this, t, e) }, getPoints: function (t, e, i) { return r(this, t, e, i) }, getRandomPoint: function (t) { return a(this, t) }, setTo: function (t, e, i, s) { return void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === s && (s = 0), this.x1 = t, this.y1 = e, this.x2 = i, this.y2 = s, this }, getPointA: function (t) { return void 0 === t && (t = new h), t.set(this.x1, this.y1), t }, getPointB: function (t) { return void 0 === t && (t = new h), t.set(this.x2, this.y2), t }, left: { get: function () { return Math.min(this.x1, this.x2) }, set: function (t) { this.x1 <= this.x2 ? this.x1 = t : this.x2 = t } }, right: { get: function () { return Math.max(this.x1, this.x2) }, set: function (t) { this.x1 > this.x2 ? this.x1 = t : this.x2 = t } }, top: { get: function () { return Math.min(this.y1, this.y2) }, set: function (t) { this.y1 <= this.y2 ? this.y1 = t : this.y2 = t } }, bottom: { get: function () { return Math.max(this.y1, this.y2) }, set: function (t) { this.y1 > this.y2 ? this.y1 = t : this.y2 = t } } }); t.exports = l })), n.register("9T44R", (function (t, e) { var i = n("cSEB9"); t.exports = function (t, e, s) { return void 0 === s && (s = new i), s.x = t.x1 + (t.x2 - t.x1) * e, s.y = t.y1 + (t.y2 - t.y1) * e, s } })), n.register("fYnml", (function (t, e) { var i = n("7Smss"), s = n("cSEB9"); t.exports = function (t, e, n, r) { void 0 === r && (r = []), e || (e = i(t) / n); for (var o = t.x1, a = t.y1, h = t.x2, l = t.y2, u = 0; u < e; u++) { var c = u / e, d = o + (h - o) * c, f = a + (l - a) * c; r.push(new s(d, f)) } return r } })), n.register("7Smss", (function (t, e) { t.exports = function (t) { return Math.sqrt((t.x2 - t.x1) * (t.x2 - t.x1) + (t.y2 - t.y1) * (t.y2 - t.y1)) } })), n.register("1Ap5d", (function (t, e) { var i = n("cSEB9"); t.exports = function (t, e) { void 0 === e && (e = new i); var s = Math.random(); return e.x = t.x1 + s * (t.x2 - t.x1), e.y = t.y1 + s * (t.y2 - t.y1), e } })), n.register("7SBSk", (function (t, e) { var i = new (n("jwj1g"))({ initialize: function (t, e) { this.x = 0, this.y = 0, "object" == typeof t ? (this.x = t.x || 0, this.y = t.y || 0) : (void 0 === e && (e = t), this.x = t || 0, this.y = e || 0) }, clone: function () { return new i(this.x, this.y) }, copy: function (t) { return this.x = t.x || 0, this.y = t.y || 0, this }, setFromObject: function (t) { return this.x = t.x || 0, this.y = t.y || 0, this }, set: function (t, e) { return void 0 === e && (e = t), this.x = t, this.y = e, this }, setTo: function (t, e) { return this.set(t, e) }, setToPolar: function (t, e) { return null == e && (e = 1), this.x = Math.cos(t) * e, this.y = Math.sin(t) * e, this }, equals: function (t) { return this.x === t.x && this.y === t.y }, angle: function () { var t = Math.atan2(this.y, this.x); return t < 0 && (t += 2 * Math.PI), t }, add: function (t) { return this.x += t.x, this.y += t.y, this }, subtract: function (t) { return this.x -= t.x, this.y -= t.y, this }, multiply: function (t) { return this.x *= t.x, this.y *= t.y, this }, scale: function (t) { return isFinite(t) ? (this.x *= t, this.y *= t) : (this.x = 0, this.y = 0), this }, divide: function (t) { return this.x /= t.x, this.y /= t.y, this }, negate: function () { return this.x = -this.x, this.y = -this.y, this }, distance: function (t) { var e = t.x - this.x, i = t.y - this.y; return Math.sqrt(e * e + i * i) }, distanceSq: function (t) { var e = t.x - this.x, i = t.y - this.y; return e * e + i * i }, length: function () { var t = this.x, e = this.y; return Math.sqrt(t * t + e * e) }, lengthSq: function () { var t = this.x, e = this.y; return t * t + e * e }, normalize: function () { var t = this.x, e = this.y, i = t * t + e * e; return i > 0 && (i = 1 / Math.sqrt(i), this.x = t * i, this.y = e * i), this }, normalizeRightHand: function () { var t = this.x; return this.x = -1 * this.y, this.y = t, this }, dot: function (t) { return this.x * t.x + this.y * t.y }, cross: function (t) { return this.x * t.y - this.y * t.x }, lerp: function (t, e) { void 0 === e && (e = 0); var i = this.x, s = this.y; return this.x = i + e * (t.x - i), this.y = s + e * (t.y - s), this }, transformMat3: function (t) { var e = this.x, i = this.y, s = t.val; return this.x = s[0] * e + s[3] * i + s[6], this.y = s[1] * e + s[4] * i + s[7], this }, transformMat4: function (t) { var e = this.x, i = this.y, s = t.val; return this.x = s[0] * e + s[4] * i + s[12], this.y = s[1] * e + s[5] * i + s[13], this }, reset: function () { return this.x = 0, this.y = 0, this } }); i.ZERO = new i, i.RIGHT = new i(1, 0), i.LEFT = new i(-1, 0), i.UP = new i(0, -1), i.DOWN = new i(0, 1), i.ONE = new i(1, 1), t.exports = i })), n.register("xap54", (function (t, e) { var i = n("cSEB9"); t.exports = function (t, e) { return void 0 === e && (e = new i), e.x = t.x + Math.random() * t.width, e.y = t.y + Math.random() * t.height, e } })), n.register("5Ntai", (function (t, e) { t.exports = function (t, e, i, s) { var n = Math.cos(s), r = Math.sin(s), o = t.x - e, a = t.y - i; return t.x = o * n - a * r + e, t.y = o * r + a * n + i, t } })), n.register("42G5m", (function (t, e) { var i = n("JBPsZ"), s = n("gPaIB"), r = { mask: null, setMask: function (t) { return this.mask = t, this }, clearMask: function (t) { return void 0 === t && (t = !1), t && this.mask && this.mask.destroy(), this.mask = null, this }, createBitmapMask: function (t) { return void 0 === t && (this.texture || this.shader) && (t = this), new i(this.scene, t) }, createGeometryMask: function (t) { return void 0 === t && "Graphics" === this.type && (t = this), new s(this.scene, t) } }; t.exports = r })), n.register("JBPsZ", (function (t, e) { var i = n("jwj1g"), s = n("aqcI1"), r = new i({ initialize: function (t, e) { var i = t.sys.game.renderer; if (this.renderer = i, this.bitmapMask = e, this.maskTexture = null, this.mainTexture = null, this.dirty = !0, this.mainFramebuffer = null, this.maskFramebuffer = null, this.prevFramebuffer = null, this.invertAlpha = !1, this.isStencil = !1, i && i.gl) { var n = i.width, r = i.height, o = 0 == (n & n - 1) && 0 == (r & r - 1), a = i.gl, h = o ? a.REPEAT : a.CLAMP_TO_EDGE, l = a.LINEAR; this.mainTexture = i.createTexture2D(0, l, l, h, h, a.RGBA, null, n, r), this.maskTexture = i.createTexture2D(0, l, l, h, h, a.RGBA, null, n, r), this.mainFramebuffer = i.createFramebuffer(n, r, this.mainTexture, !0), this.maskFramebuffer = i.createFramebuffer(n, r, this.maskTexture, !0), t.sys.game.events.on(s.CONTEXT_RESTORED, (function (t) { var e = t.width, i = t.height, s = 0 == (e & e - 1) && 0 == (i & i - 1), n = t.gl, r = s ? n.REPEAT : n.CLAMP_TO_EDGE, o = n.LINEAR; this.mainTexture = t.createTexture2D(0, o, o, r, r, n.RGBA, null, e, i), this.maskTexture = t.createTexture2D(0, o, o, r, r, n.RGBA, null, e, i), this.mainFramebuffer = t.createFramebuffer(e, i, this.mainTexture, !0), this.maskFramebuffer = t.createFramebuffer(e, i, this.maskTexture, !0) }), this) } }, setBitmap: function (t) { this.bitmapMask = t }, preRenderWebGL: function (t, e, i) { t.pipelines.BitmapMaskPipeline.beginMask(this, e, i) }, postRenderWebGL: function (t, e) { t.pipelines.BitmapMaskPipeline.endMask(this, e) }, preRenderCanvas: function () { }, postRenderCanvas: function () { }, destroy: function () { this.bitmapMask = null; var t = this.renderer; t && t.gl && (t.deleteTexture(this.mainTexture), t.deleteTexture(this.maskTexture), t.deleteFramebuffer(this.mainFramebuffer), t.deleteFramebuffer(this.maskFramebuffer)), this.mainTexture = null, this.maskTexture = null, this.mainFramebuffer = null, this.maskFramebuffer = null, this.prevFramebuffer = null, this.renderer = null } }); t.exports = r })), n.register("aqcI1", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { BLUR: n("S6Md2"), BOOT: n("3p34r"), CONTEXT_LOST: n("bJTme"), CONTEXT_RESTORED: n("7xqgL"), DESTROY: n("3iWin"), FOCUS: n("guddj"), HIDDEN: n("chX2D"), PAUSE: n("cVdWs"), POST_RENDER: n("8VThq"), POST_STEP: n("fxnQ0"), PRE_RENDER: n("aiE4o"), PRE_STEP: n("2OcNY"), READY: n("la08S"), RESUME: n("aQzHg"), STEP: n("eLbUF"), VISIBLE: n("hBIP0") }
})), n.register("S6Md2", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "blur"
})), n.register("3p34r", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "boot"
})), n.register("bJTme", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "contextlost"
})), n.register("7xqgL", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "contextrestored"
})), n.register("3iWin", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "destroy"
})), n.register("guddj", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "focus"
})), n.register("chX2D", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "hidden"
})), n.register("cVdWs", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "pause"
})), n.register("8VThq", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "postrender"
})), n.register("fxnQ0", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "poststep"
})), n.register("aiE4o", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "prerender"
})), n.register("2OcNY", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "prestep"
})), n.register("la08S", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "ready"
})), n.register("aQzHg", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "resume"
})), n.register("eLbUF", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "step"
})), n.register("hBIP0", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "visible"
})), n.register("gPaIB", (function (t, e) { var i = new (n("jwj1g"))({ initialize: function (t, e) { this.geometryMask = e, this.invertAlpha = !1, this.isStencil = !0, this.level = 0 }, setShape: function (t) { return this.geometryMask = t, this }, setInvertAlpha: function (t) { return void 0 === t && (t = !0), this.invertAlpha = t, this }, preRenderWebGL: function (t, e, i) { var s = t.gl; t.flush(), 0 === t.maskStack.length && (s.enable(s.STENCIL_TEST), s.clear(s.STENCIL_BUFFER_BIT), t.maskCount = 0), t.currentCameraMask.mask !== this && (t.currentMask.mask = this), t.maskStack.push({ mask: this, camera: i }), this.applyStencil(t, i, !0), t.maskCount++ }, applyStencil: function (t, e, i) { var s = t.gl, n = this.geometryMask, r = t.maskCount; s.colorMask(!1, !1, !1, !1), i ? (s.stencilFunc(s.EQUAL, r, 255), s.stencilOp(s.KEEP, s.KEEP, s.INCR)) : (s.stencilFunc(s.EQUAL, r + 1, 255), s.stencilOp(s.KEEP, s.KEEP, s.DECR)), n.renderWebGL(t, n, 0, e), t.flush(), s.colorMask(!0, !0, !0, !0), s.stencilOp(s.KEEP, s.KEEP, s.KEEP), i ? this.invertAlpha ? s.stencilFunc(s.NOTEQUAL, r + 1, 255) : s.stencilFunc(s.EQUAL, r + 1, 255) : this.invertAlpha ? s.stencilFunc(s.NOTEQUAL, r, 255) : s.stencilFunc(s.EQUAL, r, 255) }, postRenderWebGL: function (t) { var e = t.gl; if (t.maskStack.pop(), t.maskCount--, 0 === t.maskStack.length) t.flush(), t.currentMask.mask = null, e.disable(e.STENCIL_TEST); else { t.flush(); var i = t.maskStack[t.maskStack.length - 1]; i.mask.applyStencil(t, i.camera, !1), t.currentCameraMask.mask !== i.mask ? (t.currentMask.mask = i.mask, t.currentMask.camera = i.camera) : t.currentMask.mask = null } }, preRenderCanvas: function (t, e, i) { var s = this.geometryMask; t.currentContext.save(), s.renderCanvas(t, s, 0, i, null, null, !0), t.currentContext.clip() }, postRenderCanvas: function (t) { t.currentContext.restore() }, destroy: function () { this.geometryMask = null } }); t.exports = i })), n.register("18U1b", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    var i = { _originComponent: !0, originX: .5, originY: .5, _displayOriginX: 0, _displayOriginY: 0, displayOriginX: { get: function () { return this._displayOriginX }, set: function (t) { this._displayOriginX = t, this.originX = t / this.width } }, displayOriginY: { get: function () { return this._displayOriginY }, set: function (t) { this._displayOriginY = t, this.originY = t / this.height } }, setOrigin: function (t, e) { return void 0 === t && (t = .5), void 0 === e && (e = t), this.originX = t, this.originY = e, this.updateDisplayOrigin() }, setOriginFromFrame: function () { return this.frame && this.frame.customPivot ? (this.originX = this.frame.pivotX, this.originY = this.frame.pivotY, this.updateDisplayOrigin()) : this.setOrigin() }, setDisplayOrigin: function (t, e) { return void 0 === t && (t = 0), void 0 === e && (e = t), this.displayOriginX = t, this.displayOriginY = e, this }, updateDisplayOrigin: function () { return this._displayOriginX = this.originX * this.width, this._displayOriginY = this.originY * this.height, this } }; t.exports = i
})), n.register("dNtLk", (function (t, e) { var i = n("2zqSA"), s = n("iuXOO"), r = n("5pMDk"), o = n("7lENH"), a = n("7SBSk"), h = { path: null, rotateToPath: !1, pathRotationOffset: 0, pathOffset: null, pathVector: null, pathTween: null, pathConfig: null, _prevDirection: o.PLAYING_FORWARD, setPath: function (t, e) { void 0 === e && (e = this.pathConfig); var i = this.pathTween; return i && i.isPlaying() && i.stop(), this.path = t, e && this.startFollow(e), this }, setRotateToPath: function (t, e) { return void 0 === e && (e = 0), this.rotateToPath = t, this.pathRotationOffset = e, this }, isFollowing: function () { var t = this.pathTween; return t && t.isPlaying() }, startFollow: function (t, e) { void 0 === t && (t = {}), void 0 === e && (e = 0); var n = this.pathTween; n && n.isPlaying() && n.stop(), "number" == typeof t && (t = { duration: t }), t.from = r(t, "from", 0), t.to = r(t, "to", 1); var h = s(t, "positionOnPath", !1); this.rotateToPath = s(t, "rotateToPath", !1), this.pathRotationOffset = r(t, "rotationOffset", 0); var l = r(t, "startAt", e); if (l && (t.onStart = function (t) { var e = t.data[0]; e.progress = l, e.elapsed = e.duration * l; var i = e.ease(e.progress); e.current = e.start + (e.end - e.start) * i, e.target[e.key] = e.current }), this.pathOffset || (this.pathOffset = new a(this.x, this.y)), this.pathVector || (this.pathVector = new a), this.pathTween = this.scene.sys.tweens.addCounter(t), this.path.getStartPoint(this.pathOffset), h && (this.x = this.pathOffset.x, this.y = this.pathOffset.y), this.pathOffset.x = this.x - this.pathOffset.x, this.pathOffset.y = this.y - this.pathOffset.y, this._prevDirection = o.PLAYING_FORWARD, this.rotateToPath) { var u = this.path.getPoint(.1); this.rotation = Math.atan2(u.y - this.y, u.x - this.x) + i(this.pathRotationOffset) } return this.pathConfig = t, this }, pauseFollow: function () { var t = this.pathTween; return t && t.isPlaying() && t.pause(), this }, resumeFollow: function () { var t = this.pathTween; return t && t.isPaused() && t.resume(), this }, stopFollow: function () { var t = this.pathTween; return t && t.isPlaying() && t.stop(), this }, pathUpdate: function () { var t = this.pathTween; if (t) { var e = t.data[0], s = this.pathVector; if (e.state !== o.COMPLETE) return this.path.getPoint(1, s), s.add(this.pathOffset), void this.setPosition(s.x, s.y); if (e.state !== o.PLAYING_FORWARD && e.state !== o.PLAYING_BACKWARD) return; this.path.getPoint(t.getValue(), s), s.add(this.pathOffset); var n = this.x, r = this.y; this.setPosition(s.x, s.y); var a = this.x - n, h = this.y - r; if (0 === a && 0 === h) return; if (e.state !== this._prevDirection) return void (this._prevDirection = e.state); this.rotateToPath && (this.rotation = Math.atan2(h, a) + i(this.pathRotationOffset)) } } }; t.exports = h })), n.register("2zqSA", (function (t, e) { var i = n("bNtDi"); t.exports = function (t) { return t * i.DEG_TO_RAD } })), n.register("iuXOO", (function (t, e) { t.exports = function (t, e, i) { return t && t.hasOwnProperty(e) ? t[e] : i } })), n.register("7lENH", (function (t, e) { t.exports = { CREATED: 0, INIT: 1, DELAY: 2, OFFSET_DELAY: 3, PENDING_RENDER: 4, PLAYING_FORWARD: 5, PLAYING_BACKWARD: 6, HOLD_DELAY: 7, REPEAT_DELAY: 8, COMPLETE: 9, PENDING_ADD: 20, PAUSED: 21, LOOP_DELAY: 22, ACTIVE: 23, COMPLETE_DELAY: 24, PENDING_REMOVE: 25, REMOVED: 26 } })), n.register("DznIZ", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    var i = { defaultPipeline: null, pipeline: null, initPipeline: function (t) { void 0 === t && (t = "TextureTintPipeline"); var e = this.scene.sys.game.renderer; return !!(e && e.gl && e.hasPipeline(t)) && (this.defaultPipeline = e.getPipeline(t), this.pipeline = this.defaultPipeline, !0) }, setPipeline: function (t) { var e = this.scene.sys.game.renderer; return e && e.gl && e.hasPipeline(t) && (this.pipeline = e.getPipeline(t)), this }, resetPipeline: function () { return this.pipeline = this.defaultPipeline, null !== this.pipeline }, getPipelineName: function () { return this.pipeline.name } }; t.exports = i
})), n.register("hKiq1", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    var i = { scrollFactorX: 1, scrollFactorY: 1, setScrollFactor: function (t, e) { return void 0 === e && (e = t), this.scrollFactorX = t, this.scrollFactorY = e, this } }; t.exports = i
})), n.register("aOXwH", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    var i = { _sizeComponent: !0, width: 0, height: 0, displayWidth: { get: function () { return Math.abs(this.scaleX * this.frame.realWidth) }, set: function (t) { this.scaleX = t / this.frame.realWidth } }, displayHeight: { get: function () { return Math.abs(this.scaleY * this.frame.realHeight) }, set: function (t) { this.scaleY = t / this.frame.realHeight } }, setSizeToFrame: function (t) { return void 0 === t && (t = this.frame), this.width = t.realWidth, this.height = t.realHeight, this }, setSize: function (t, e) { return this.width = t, this.height = e, this }, setDisplaySize: function (t, e) { return this.displayWidth = t, this.displayHeight = e, this } }; t.exports = i
})), n.register("1qQq2", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    var i = { texture: null, frame: null, isCropped: !1, setTexture: function (t, e) { return this.texture = this.scene.sys.textures.get(t), this.setFrame(e) }, setFrame: function (t, e, i) { return void 0 === e && (e = !0), void 0 === i && (i = !0), this.frame = this.texture.get(t), this.frame.cutWidth && this.frame.cutHeight ? this.renderFlags |= 8 : this.renderFlags &= -9, this._sizeComponent && e && this.setSizeToFrame(), this._originComponent && i && (this.frame.customPivot ? this.setOrigin(this.frame.pivotX, this.frame.pivotY) : this.updateDisplayOrigin()), this } }; t.exports = i
})), n.register("iwi57", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    var i = { texture: null, frame: null, isCropped: !1, setCrop: function (t, e, i, s) { if (void 0 === t) this.isCropped = !1; else if (this.frame) { if ("number" == typeof t) this.frame.setCropUVs(this._crop, t, e, i, s, this.flipX, this.flipY); else { var n = t; this.frame.setCropUVs(this._crop, n.x, n.y, n.width, n.height, this.flipX, this.flipY) } this.isCropped = !0 } return this }, setTexture: function (t, e) { return this.texture = this.scene.sys.textures.get(t), this.setFrame(e) }, setFrame: function (t, e, i) { return void 0 === e && (e = !0), void 0 === i && (i = !0), this.frame = this.texture.get(t), this.frame.cutWidth && this.frame.cutHeight ? this.renderFlags |= 8 : this.renderFlags &= -9, this._sizeComponent && e && this.setSizeToFrame(), this._originComponent && i && (this.frame.customPivot ? this.setOrigin(this.frame.pivotX, this.frame.pivotY) : this.updateDisplayOrigin()), this.isCropped && this.frame.updateCropUVs(this._crop, this.flipX, this.flipY), this }, resetCropObject: function () { return { u0: 0, v0: 0, u1: 0, v1: 0, width: 0, height: 0, x: 0, y: 0, flipX: !1, flipY: !1, cx: 0, cy: 0, cw: 0, ch: 0 } } }; t.exports = i
})), n.register("fpsqk", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    var i = function (t) { return (t >> 16) + (65280 & t) + ((255 & t) << 16) }, s = { _tintTL: 16777215, _tintTR: 16777215, _tintBL: 16777215, _tintBR: 16777215, _isTinted: !1, tintFill: !1, clearTint: function () { return this.setTint(16777215), this._isTinted = !1, this }, setTint: function (t, e, s, n) { return void 0 === t && (t = 16777215), void 0 === e && (e = t, s = t, n = t), this._tintTL = i(t), this._tintTR = i(e), this._tintBL = i(s), this._tintBR = i(n), this._isTinted = !0, this.tintFill = !1, this }, setTintFill: function (t, e, i, s) { return this.setTint(t, e, i, s), this.tintFill = !0, this }, tintTopLeft: { get: function () { return this._tintTL }, set: function (t) { this._tintTL = i(t), this._isTinted = !0 } }, tintTopRight: { get: function () { return this._tintTR }, set: function (t) { this._tintTR = i(t), this._isTinted = !0 } }, tintBottomLeft: { get: function () { return this._tintBL }, set: function (t) { this._tintBL = i(t), this._isTinted = !0 } }, tintBottomRight: { get: function () { return this._tintBR }, set: function (t) { this._tintBR = i(t), this._isTinted = !0 } }, tint: { set: function (t) { this.setTint(t, t, t, t) } }, isTinted: { get: function () { return this._isTinted } } }; t.exports = s
})), n.register("bvPjF", (function (t, e) { t.exports = function (t) { var e = { name: t.name, type: t.type, x: t.x, y: t.y, depth: t.depth, scale: { x: t.scaleX, y: t.scaleY }, origin: { x: t.originX, y: t.originY }, flipX: t.flipX, flipY: t.flipY, rotation: t.rotation, alpha: t.alpha, visible: t.visible, blendMode: t.blendMode, textureKey: "", frameKey: "", data: {} }; return t.texture && (e.textureKey = t.texture.key, e.frameKey = t.frame.name), e } })), n.register("i5mxL", (function (t, e) { var i = n("bNtDi"), s = n("azs1m"), r = n("1W59j"), o = n("dokq5"), a = { _scaleX: 1, _scaleY: 1, _rotation: 0, x: 0, y: 0, z: 0, w: 0, scale: { get: function () { return (this._scaleX + this._scaleY) / 2 }, set: function (t) { this._scaleX = t, this._scaleY = t, 0 === t ? this.renderFlags &= -5 : this.renderFlags |= 4 } }, scaleX: { get: function () { return this._scaleX }, set: function (t) { this._scaleX = t, 0 === t ? this.renderFlags &= -5 : this.renderFlags |= 4 } }, scaleY: { get: function () { return this._scaleY }, set: function (t) { this._scaleY = t, 0 === t ? this.renderFlags &= -5 : this.renderFlags |= 4 } }, angle: { get: function () { return o(this._rotation * i.RAD_TO_DEG) }, set: function (t) { this.rotation = o(t) * i.DEG_TO_RAD } }, rotation: { get: function () { return this._rotation }, set: function (t) { this._rotation = r(t) } }, setPosition: function (t, e, i, s) { return void 0 === t && (t = 0), void 0 === e && (e = t), void 0 === i && (i = 0), void 0 === s && (s = 0), this.x = t, this.y = e, this.z = i, this.w = s, this }, setRandomPosition: function (t, e, i, s) { return void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = this.scene.sys.scale.width), void 0 === s && (s = this.scene.sys.scale.height), this.x = t + Math.random() * i, this.y = e + Math.random() * s, this }, setRotation: function (t) { return void 0 === t && (t = 0), this.rotation = t, this }, setAngle: function (t) { return void 0 === t && (t = 0), this.angle = t, this }, setScale: function (t, e) { return void 0 === t && (t = 1), void 0 === e && (e = t), this.scaleX = t, this.scaleY = e, this }, setX: function (t) { return void 0 === t && (t = 0), this.x = t, this }, setY: function (t) { return void 0 === t && (t = 0), this.y = t, this }, setZ: function (t) { return void 0 === t && (t = 0), this.z = t, this }, setW: function (t) { return void 0 === t && (t = 0), this.w = t, this }, getLocalTransformMatrix: function (t) { return void 0 === t && (t = new s), t.applyITRS(this.x, this.y, this._rotation, this._scaleX, this._scaleY) }, getWorldTransformMatrix: function (t, e) { void 0 === t && (t = new s), void 0 === e && (e = new s); var i = this.parentContainer; if (!i) return this.getLocalTransformMatrix(t); for (t.applyITRS(this.x, this.y, this._rotation, this._scaleX, this._scaleY); i;)e.applyITRS(i.x, i.y, i._rotation, i._scaleX, i._scaleY), e.multiply(t, t), i = i.parentContainer; return t }, getParentRotation: function () { for (var t = 0, e = this.parentContainer; e;)t += e.rotation, e = e.parentContainer; return t } }; t.exports = a })), n.register("azs1m", (function (t, e) { var i = n("jwj1g"), s = n("bNtDi"), r = n("7SBSk"), o = new i({ initialize: function (t, e, i, s, n, r) { void 0 === t && (t = 1), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === s && (s = 1), void 0 === n && (n = 0), void 0 === r && (r = 0), this.matrix = new Float32Array([t, e, i, s, n, r, 0, 0, 1]), this.decomposedMatrix = { translateX: 0, translateY: 0, scaleX: 1, scaleY: 1, rotation: 0 } }, a: { get: function () { return this.matrix[0] }, set: function (t) { this.matrix[0] = t } }, b: { get: function () { return this.matrix[1] }, set: function (t) { this.matrix[1] = t } }, c: { get: function () { return this.matrix[2] }, set: function (t) { this.matrix[2] = t } }, d: { get: function () { return this.matrix[3] }, set: function (t) { this.matrix[3] = t } }, e: { get: function () { return this.matrix[4] }, set: function (t) { this.matrix[4] = t } }, f: { get: function () { return this.matrix[5] }, set: function (t) { this.matrix[5] = t } }, tx: { get: function () { return this.matrix[4] }, set: function (t) { this.matrix[4] = t } }, ty: { get: function () { return this.matrix[5] }, set: function (t) { this.matrix[5] = t } }, rotation: { get: function () { return Math.acos(this.a / this.scaleX) * (Math.atan(-this.c / this.a) < 0 ? -1 : 1) } }, rotationNormalized: { get: function () { var t = this.matrix, e = t[0], i = t[1], n = t[2], r = t[3]; return e || i ? i > 0 ? Math.acos(e / this.scaleX) : -Math.acos(e / this.scaleX) : n || r ? s.TAU - (r > 0 ? Math.acos(-n / this.scaleY) : -Math.acos(n / this.scaleY)) : 0 } }, scaleX: { get: function () { return Math.sqrt(this.a * this.a + this.b * this.b) } }, scaleY: { get: function () { return Math.sqrt(this.c * this.c + this.d * this.d) } }, loadIdentity: function () { var t = this.matrix; return t[0] = 1, t[1] = 0, t[2] = 0, t[3] = 1, t[4] = 0, t[5] = 0, this }, translate: function (t, e) { var i = this.matrix; return i[4] = i[0] * t + i[2] * e + i[4], i[5] = i[1] * t + i[3] * e + i[5], this }, scale: function (t, e) { var i = this.matrix; return i[0] *= t, i[1] *= t, i[2] *= e, i[3] *= e, this }, rotate: function (t) { var e = Math.sin(t), i = Math.cos(t), s = this.matrix, n = s[0], r = s[1], o = s[2], a = s[3]; return s[0] = n * i + o * e, s[1] = r * i + a * e, s[2] = n * -e + o * i, s[3] = r * -e + a * i, this }, multiply: function (t, e) { var i = this.matrix, s = t.matrix, n = i[0], r = i[1], o = i[2], a = i[3], h = i[4], l = i[5], u = s[0], c = s[1], d = s[2], f = s[3], p = s[4], g = s[5], v = void 0 === e ? this : e; return v.a = u * n + c * o, v.b = u * r + c * a, v.c = d * n + f * o, v.d = d * r + f * a, v.e = p * n + g * o + h, v.f = p * r + g * a + l, v }, multiplyWithOffset: function (t, e, i) { var s = this.matrix, n = t.matrix, r = s[0], o = s[1], a = s[2], h = s[3], l = e * r + i * a + s[4], u = e * o + i * h + s[5], c = n[0], d = n[1], f = n[2], p = n[3], g = n[4], v = n[5]; return s[0] = c * r + d * a, s[1] = c * o + d * h, s[2] = f * r + p * a, s[3] = f * o + p * h, s[4] = g * r + v * a + l, s[5] = g * o + v * h + u, this }, transform: function (t, e, i, s, n, r) { var o = this.matrix, a = o[0], h = o[1], l = o[2], u = o[3], c = o[4], d = o[5]; return o[0] = t * a + e * l, o[1] = t * h + e * u, o[2] = i * a + s * l, o[3] = i * h + s * u, o[4] = n * a + r * l + c, o[5] = n * h + r * u + d, this }, transformPoint: function (t, e, i) { void 0 === i && (i = { x: 0, y: 0 }); var s = this.matrix, n = s[0], r = s[1], o = s[2], a = s[3], h = s[4], l = s[5]; return i.x = t * n + e * o + h, i.y = t * r + e * a + l, i }, invert: function () { var t = this.matrix, e = t[0], i = t[1], s = t[2], n = t[3], r = t[4], o = t[5], a = e * n - i * s; return t[0] = n / a, t[1] = -i / a, t[2] = -s / a, t[3] = e / a, t[4] = (s * o - n * r) / a, t[5] = -(e * o - i * r) / a, this }, copyFrom: function (t) { var e = this.matrix; return e[0] = t.a, e[1] = t.b, e[2] = t.c, e[3] = t.d, e[4] = t.e, e[5] = t.f, this }, copyFromArray: function (t) { var e = this.matrix; return e[0] = t[0], e[1] = t[1], e[2] = t[2], e[3] = t[3], e[4] = t[4], e[5] = t[5], this }, copyToContext: function (t) { var e = this.matrix; return t.transform(e[0], e[1], e[2], e[3], e[4], e[5]), t }, setToContext: function (t) { var e = this.matrix; return t.setTransform(e[0], e[1], e[2], e[3], e[4], e[5]), t }, copyToArray: function (t) { var e = this.matrix; return void 0 === t ? t = [e[0], e[1], e[2], e[3], e[4], e[5]] : (t[0] = e[0], t[1] = e[1], t[2] = e[2], t[3] = e[3], t[4] = e[4], t[5] = e[5]), t }, setTransform: function (t, e, i, s, n, r) { var o = this.matrix; return o[0] = t, o[1] = e, o[2] = i, o[3] = s, o[4] = n, o[5] = r, this }, decomposeMatrix: function () { var t = this.decomposedMatrix, e = this.matrix, i = e[0], s = e[1], n = e[2], r = e[3], o = i * r - s * n; if (t.translateX = e[4], t.translateY = e[5], i || s) { var a = Math.sqrt(i * i + s * s); t.rotation = s > 0 ? Math.acos(i / a) : -Math.acos(i / a), t.scaleX = a, t.scaleY = o / a } else if (n || r) { var h = Math.sqrt(n * n + r * r); t.rotation = .5 * Math.PI - (r > 0 ? Math.acos(-n / h) : -Math.acos(n / h)), t.scaleX = o / h, t.scaleY = h } else t.rotation = 0, t.scaleX = 0, t.scaleY = 0; return t }, applyITRS: function (t, e, i, s, n) { var r = this.matrix, o = Math.sin(i), a = Math.cos(i); return r[4] = t, r[5] = e, r[0] = a * s, r[1] = o * s, r[2] = -o * n, r[3] = a * n, this }, applyInverse: function (t, e, i) { void 0 === i && (i = new r); var s = this.matrix, n = s[0], o = s[1], a = s[2], h = s[3], l = s[4], u = s[5], c = 1 / (n * h + a * -o); return i.x = h * c * t + -a * c * e + (u * a - l * h) * c, i.y = n * c * e + -o * c * t + (-u * n + l * o) * c, i }, getX: function (t, e) { return t * this.a + e * this.c + this.e }, getY: function (t, e) { return t * this.b + e * this.d + this.f }, getCSSMatrix: function () { var t = this.matrix; return "matrix(" + t[0] + "," + t[1] + "," + t[2] + "," + t[3] + "," + t[4] + "," + t[5] + ")" }, destroy: function () { this.matrix = null, this.decomposedMatrix = null } }); t.exports = o })), n.register("1W59j", (function (t, e) { var i = n("8qWuA"); t.exports = function (t) { return i(t, -Math.PI, Math.PI) } })), n.register("8qWuA", (function (t, e) { t.exports = function (t, e, i) { var s = i - e; return e + ((t - e) % s + s) % s } })), n.register("dokq5", (function (t, e) { var i = n("8qWuA"); t.exports = function (t) { return i(t, -180, 180) } })), n.register("fVg1f", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    var i = { _visible: !0, visible: { get: function () { return this._visible }, set: function (t) { t ? (this._visible = !0, this.renderFlags |= 1) : (this._visible = !1, this.renderFlags &= -2) } }, setVisible: function (t) { return this.visible = t, this } }; t.exports = i
})), n.register("1zqlR", (function (t, e) { var i = n("jwj1g"), s = n("bvPjF"), r = n("ewzDY"), o = n("3vRz3"), a = n("jIv3O"), h = new i({ Extends: o, initialize: function (t, e) { o.call(this), this.scene = t, this.type = e, this.state = 0, this.parentContainer = null, this.name = "", this.active = !0, this.tabIndex = -1, this.data = null, this.renderFlags = 15, this.cameraFilter = 0, this.input = null, this.body = null, this.ignoreDestroy = !1, t.sys.queueDepthSort() }, setActive: function (t) { return this.active = t, this }, setName: function (t) { return this.name = t, this }, setState: function (t) { return this.state = t, this }, setDataEnabled: function () { return this.data || (this.data = new r(this)), this }, setData: function (t, e) { return this.data || (this.data = new r(this)), this.data.set(t, e), this }, getData: function (t) { return this.data || (this.data = new r(this)), this.data.get(t) }, setInteractive: function (t, e, i) { return this.scene.sys.input.enable(this, t, e, i), this }, disableInteractive: function () { return this.input && (this.input.enabled = !1), this }, removeInteractive: function () { return this.scene.sys.input.clear(this), this.input = void 0, this }, update: function () { }, toJSON: function () { return s(this) }, willRender: function (t) { return !(h.RENDER_MASK !== this.renderFlags || 0 !== this.cameraFilter && this.cameraFilter & t.id) }, getIndexList: function () { for (var t = this, e = this.parentContainer, i = []; e && (i.unshift(e.getIndex(t)), t = e, e.parentContainer);)e = e.parentContainer; return i.unshift(this.scene.sys.displayList.getIndex(t)), i }, destroy: function (t) { if (void 0 === t && (t = !1), this.scene && !this.ignoreDestroy) { this.preDestroy && this.preDestroy.call(this), this.emit(a.DESTROY, this); var e = this.scene.sys; t || (e.displayList.remove(this), e.updateList.remove(this)), this.input && (e.input.clear(this), this.input = void 0), this.data && (this.data.destroy(), this.data = void 0), this.body && (this.body.destroy(), this.body = void 0), t || e.queueDepthSort(), this.active = !1, this.visible = !1, this.scene = void 0, this.parentContainer = void 0, this.removeAllListeners() } } }); h.RENDER_MASK = 15, t.exports = h })), n.register("ewzDY", (function (t, e) { var i = n("jwj1g"), s = n("jKmu9"), r = new i({ initialize: function (t, e) { this.parent = t, this.events = e, e || (this.events = t.events ? t.events : t), this.list = {}, this.values = {}, this._frozen = !1, !t.hasOwnProperty("sys") && this.events && this.events.once("destroy", this.destroy, this) }, get: function (t) { var e = this.list; if (Array.isArray(t)) { for (var i = [], s = 0; s < t.length; s++)i.push(e[t[s]]); return i } return e[t] }, getAll: function () { var t = {}; for (var e in this.list) this.list.hasOwnProperty(e) && (t[e] = this.list[e]); return t }, query: function (t) { var e = {}; for (var i in this.list) this.list.hasOwnProperty(i) && i.match(t) && (e[i] = this.list[i]); return e }, set: function (t, e) { if (this._frozen) return this; if ("string" == typeof t) return this.setValue(t, e); for (var i in t) this.setValue(i, t[i]); return this }, setValue: function (t, e) { if (this._frozen) return this; if (this.has(t)) this.values[t] = e; else { var i = this, n = this.list, r = this.events, o = this.parent; Object.defineProperty(this.values, t, { enumerable: !0, configurable: !0, get: function () { return n[t] }, set: function (e) { if (!i._frozen) { var a = n[t]; n[t] = e, r.emit(s.CHANGE_DATA, o, t, e, a), r.emit(s.CHANGE_DATA_KEY + t, o, e, a) } } }), n[t] = e, r.emit(s.SET_DATA, o, t, e) } return this }, each: function (t, e) { for (var i = [this.parent, null, void 0], s = 1; s < arguments.length; s++)i.push(arguments[s]); for (var n in this.list) i[1] = n, i[2] = this.list[n], t.apply(e, i); return this }, merge: function (t, e) { for (var i in void 0 === e && (e = !0), t) t.hasOwnProperty(i) && (e || !e && !this.has(i)) && this.setValue(i, t[i]); return this }, remove: function (t) { if (this._frozen) return this; if (!Array.isArray(t)) return this.removeValue(t); for (var e = 0; e < t.length; e++)this.removeValue(t[e]); return this }, removeValue: function (t) { if (this.has(t)) { var e = this.list[t]; delete this.list[t], delete this.values[t], this.events.emit(s.REMOVE_DATA, this.parent, t, e) } return this }, pop: function (t) { var e = void 0; return !this._frozen && this.has(t) && (e = this.list[t], delete this.list[t], delete this.values[t], this.events.emit(s.REMOVE_DATA, this.parent, t, e)), e }, has: function (t) { return this.list.hasOwnProperty(t) }, setFreeze: function (t) { return this._frozen = t, this }, reset: function () { for (var t in this.list) delete this.list[t], delete this.values[t]; return this._frozen = !1, this }, destroy: function () { this.reset(), this.events.off(s.CHANGE_DATA), this.events.off(s.SET_DATA), this.events.off(s.REMOVE_DATA), this.parent = null }, freeze: { get: function () { return this._frozen }, set: function (t) { this._frozen = !!t } }, count: { get: function () { var t = 0; for (var e in this.list) void 0 !== this.list[e] && t++; return t } } }); t.exports = r })), n.register("jKmu9", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { CHANGE_DATA: n("7E9xa"), CHANGE_DATA_KEY: n("hH5Zt"), REMOVE_DATA: n("dfc2G"), SET_DATA: n("6oQwq") }
})), n.register("7E9xa", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "changedata"
})), n.register("hH5Zt", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "changedata-"
})), n.register("dfc2G", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "removedata"
})), n.register("6oQwq", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "setdata"
})), n.register("jIv3O", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { DESTROY: n("MWlUo"), VIDEO_COMPLETE: n("bWZ21"), VIDEO_CREATED: n("fqYHh"), VIDEO_ERROR: n("glcsh"), VIDEO_LOOP: n("jJLzr"), VIDEO_PLAY: n("fSNwG"), VIDEO_SEEKED: n("7xtDe"), VIDEO_SEEKING: n("dRWxs"), VIDEO_STOP: n("gNOgs"), VIDEO_TIMEOUT: n("guzLM"), VIDEO_UNLOCKED: n("4041a") }
})), n.register("MWlUo", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "destroy"
})), n.register("bWZ21", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "complete"
})), n.register("fqYHh", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "created"
})), n.register("glcsh", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "error"
})), n.register("jJLzr", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "loop"
})), n.register("fSNwG", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "play"
})), n.register("7xtDe", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "seeked"
})), n.register("dRWxs", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "seeking"
})), n.register("gNOgs", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "stop"
})), n.register("guzLM", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "timeout"
})), n.register("4041a", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "unlocked"
})), n.register("51Ccp", (function (t, e) { var i = n("joPJC"); t.exports = function (t, e, s, n, r) { return i(t, "alpha", e, s, n, r) } })), n.register("2geHo", (function (t, e) { var i = n("joPJC"); t.exports = function (t, e, s, n, r) { return i(t, "x", e, s, n, r) } })), n.register("aa2rH", (function (t, e) { var i = n("joPJC"); t.exports = function (t, e, s, n, r, o, a) { return null == s && (s = e), i(t, "x", e, n, o, a), i(t, "y", s, r, o, a) } })), n.register("iNcUv", (function (t, e) { var i = n("joPJC"); t.exports = function (t, e, s, n, r) { return i(t, "y", e, s, n, r) } })), n.register("irnRf", (function (t, e) { t.exports = function (t, e, i, s) { void 0 === i && (i = 0), void 0 === s && (s = 6.28); for (var n = i, r = (s - i) / t.length, o = 0; o < t.length; o++)t[o].x = e.x + e.radius * Math.cos(n), t[o].y = e.y + e.radius * Math.sin(n), n += r; return t } })), n.register("jYzIo", (function (t, e) { t.exports = function (t, e, i, s) { void 0 === i && (i = 0), void 0 === s && (s = 6.28); for (var n = i, r = (s - i) / t.length, o = e.width / 2, a = e.height / 2, h = 0; h < t.length; h++)t[h].x = e.x + o * Math.cos(n), t[h].y = e.y + a * Math.sin(n), n += r; return t } })), n.register("fTyAf", (function (t, e) { var i = n("fYnml"); t.exports = function (t, e) { for (var s = i(e, t.length), n = 0; n < t.length; n++) { var r = t[n], o = s[n]; r.x = o.x, r.y = o.y } return t } })), n.register("kQ8Yy", (function (t, e) { var i = n("ktcgp"), s = n("jq6lX"), r = n("7ZIew"); t.exports = function (t, e, n) { void 0 === n && (n = 0); var o = i(e, !1, t.length); n > 0 ? s(o, n) : n < 0 && r(o, Math.abs(n)); for (var a = 0; a < t.length; a++)t[a].x = o[a].x, t[a].y = o[a].y; return t } })), n.register("ktcgp", (function (t, e) { var i = n("ltSp2"), s = n("cSEB9"); t.exports = function (t, e, n, r) { if (void 0 === r && (r = []), !e && !n) return r; e ? n = Math.round(i(t) / e) : e = i(t) / n; for (var o = t.x, a = t.y, h = 0, l = 0; l < n; l++)switch (r.push(new s(o, a)), h) { case 0: (o += e) >= t.right && (h = 1, a += o - t.right, o = t.right); break; case 1: (a += e) >= t.bottom && (h = 2, o -= a - t.bottom, a = t.bottom); break; case 2: (o -= e) <= t.left && (h = 3, a -= t.left - o, o = t.left); break; case 3: (a -= e) <= t.top && (h = 0, a = t.top) }return r } })), n.register("jq6lX", (function (t, e) { t.exports = function (t, e) { void 0 === e && (e = 1); for (var i = null, s = 0; s < e; s++)i = t.shift(), t.push(i); return i } })), n.register("7ZIew", (function (t, e) { t.exports = function (t, e) { void 0 === e && (e = 1); for (var i = null, s = 0; s < e; s++)i = t.pop(), t.unshift(i); return i } })), n.register("3aDNv", (function (t, e) { var i = n("7M14o"); t.exports = function (t, e, s) { var n = i({ x1: e.x1, y1: e.y1, x2: e.x2, y2: e.y2 }, s), r = i({ x1: e.x2, y1: e.y2, x2: e.x3, y2: e.y3 }, s), o = i({ x1: e.x3, y1: e.y3, x2: e.x1, y2: e.y1 }, s); n.pop(), r.pop(), o.pop(); for (var a = (n = n.concat(r, o)).length / t.length, h = 0, l = 0; l < t.length; l++) { var u = t[l], c = n[Math.floor(h)]; u.x = c.x, u.y = c.y, h += a } return t } })), n.register("7M14o", (function (t, e) { t.exports = function (t, e, i) { void 0 === e && (e = 1), void 0 === i && (i = []); var s = Math.round(t.x1), n = Math.round(t.y1), r = Math.round(t.x2), o = Math.round(t.y2), a = Math.abs(r - s), h = Math.abs(o - n), l = s < r ? 1 : -1, u = n < o ? 1 : -1, c = a - h; i.push({ x: s, y: n }); for (var d = 1; s !== r || n !== o;) { var f = c << 1; f > -h && (c -= h, s += l), f < a && (c += a, n += u), d % e == 0 && i.push({ x: s, y: n }), d++ } return i } })), n.register("58n2H", (function (t, e) { t.exports = function (t, e, i) { for (var s = 0; s < t.length; s++)t[s].anims.play(e, i); return t } })), n.register("2Alx8", (function (t, e) { t.exports = function (t, e, i, s, n, r) { var o; void 0 === s && (s = 0), void 0 === n && (n = 0), void 0 === r && (r = 1); var a = 0, h = t.length; if (1 === r) for (o = n; o < h; o++)t[o][e] = i + a * s, a++; else for (o = n; o >= 0; o--)t[o][e] = i + a * s, a++; return t } })), n.register("feu3e", (function (t, e) { var i = n("9zIIl"); t.exports = function (t, e) { for (var s = 0; s < t.length; s++)i(e, t[s]); return t } })), n.register("4RfvK", (function (t, e) { var i = n("fH1i1"); t.exports = function (t, e) { for (var s = 0; s < t.length; s++)i(e, t[s]); return t } })), n.register("fH1i1", (function (t, e) { var i = n("cSEB9"); t.exports = function (t, e) { void 0 === e && (e = new i); var s = Math.random() * Math.PI * 2, n = Math.sqrt(Math.random()); return e.x = t.x + n * Math.cos(s) * t.width / 2, e.y = t.y + n * Math.sin(s) * t.height / 2, e } })), n.register("8FwLE", (function (t, e) { var i = n("1Ap5d"); t.exports = function (t, e) { for (var s = 0; s < t.length; s++)i(e, t[s]); return t } })), n.register("km9Vj", (function (t, e) { var i = n("xap54"); t.exports = function (t, e) { for (var s = 0; s < t.length; s++)i(e, t[s]); return t } })), n.register("hQxDo", (function (t, e) { var i = n("2MADn"); t.exports = function (t, e) { for (var s = 0; s < t.length; s++)i(e, t[s]); return t } })), n.register("2MADn", (function (t, e) { var i = n("cSEB9"); t.exports = function (t, e) { void 0 === e && (e = new i); var s = t.x2 - t.x1, n = t.y2 - t.y1, r = t.x3 - t.x1, o = t.y3 - t.y1, a = Math.random(), h = Math.random(); return a + h >= 1 && (a = 1 - a, h = 1 - h), e.x = t.x1 + (s * a + r * h), e.y = t.y1 + (n * a + o * h), e } })), n.register("k3Z7N", (function (t, e) { var i = n("joPJC"); t.exports = function (t, e, s, n, r) { return i(t, "rotation", e, s, n, r) } })), n.register("1iEaG", (function (t, e) { var i = n("k8Nlz"), s = n("bwLQh"); t.exports = function (t, e, n) { for (var r = e.x, o = e.y, a = 0; a < t.length; a++) { var h = t[a]; i(h, r, o, n, Math.max(1, s(h.x, h.y, r, o))) } return t } })), n.register("k8Nlz", (function (t, e) { t.exports = function (t, e, i, s, n) { var r = s + Math.atan2(t.y - i, t.x - e); return t.x = e + n * Math.cos(r), t.y = i + n * Math.sin(r), t } })), n.register("bwLQh", (function (t, e) { t.exports = function (t, e, i, s) { var n = t - i, r = e - s; return Math.sqrt(n * n + r * r) } })), n.register("jtzCa", (function (t, e) { var i = n("k8Nlz"); t.exports = function (t, e, s, n) { var r = e.x, o = e.y; if (0 === n) return t; for (var a = 0; a < t.length; a++)i(t[a], r, o, s, n); return t } })), n.register("dElyt", (function (t, e) { var i = n("joPJC"); t.exports = function (t, e, s, n, r) { return i(t, "scaleX", e, s, n, r) } })), n.register("fF8WC", (function (t, e) { var i = n("joPJC"); t.exports = function (t, e, s, n, r, o, a) { return null == s && (s = e), i(t, "scaleX", e, n, o, a), i(t, "scaleY", s, r, o, a) } })), n.register("c6II7", (function (t, e) { var i = n("joPJC"); t.exports = function (t, e, s, n, r) { return i(t, "scaleY", e, s, n, r) } })), n.register("kM3Np", (function (t, e) { var i = n("2Alx8"); t.exports = function (t, e, s, n, r) { return i(t, "alpha", e, s, n, r) } })), n.register("gYMnB", (function (t, e) { var i = n("2Alx8"); t.exports = function (t, e, s, n) { return i(t, "blendMode", e, 0, s, n) } })), n.register("7Nva9", (function (t, e) { var i = n("2Alx8"); t.exports = function (t, e, s, n, r) { return i(t, "depth", e, s, n, r) } })), n.register("128Rk", (function (t, e) { t.exports = function (t, e, i) { for (var s = 0; s < t.length; s++)t[s].setInteractive(e, i); return t } })), n.register("fvIPU", (function (t, e) { var i = n("2Alx8"); t.exports = function (t, e, s, n, r, o, a) { return null == s && (s = e), i(t, "originX", e, n, o, a), i(t, "originY", s, r, o, a) } })), n.register("dvgoG", (function (t, e) { var i = n("2Alx8"); t.exports = function (t, e, s, n, r) { return i(t, "rotation", e, s, n, r) } })), n.register("43tcD", (function (t, e) { var i = n("2Alx8"); t.exports = function (t, e, s, n, r, o, a) { return null == s && (s = e), i(t, "scaleX", e, n, o, a), i(t, "scaleY", s, r, o, a) } })), n.register("dajVg", (function (t, e) { var i = n("2Alx8"); t.exports = function (t, e, s, n, r) { return i(t, "scaleX", e, s, n, r) } })), n.register("eqA15", (function (t, e) { var i = n("2Alx8"); t.exports = function (t, e, s, n, r) { return i(t, "scaleY", e, s, n, r) } })), n.register("Horko", (function (t, e) { var i = n("2Alx8"); t.exports = function (t, e, s, n, r, o, a) { return null == s && (s = e), i(t, "scrollFactorX", e, n, o, a), i(t, "scrollFactorY", s, r, o, a) } })), n.register("8uqg5", (function (t, e) { var i = n("2Alx8"); t.exports = function (t, e, s, n, r) { return i(t, "scrollFactorX", e, s, n, r) } })), n.register("k9PTE", (function (t, e) { var i = n("2Alx8"); t.exports = function (t, e, s, n, r) { return i(t, "scrollFactorY", e, s, n, r) } })), n.register("eXuqB", (function (t, e) { t.exports = function (t, e, i, s, n) { for (var r = 0; r < t.length; r++)t[r].setTint(e, i, s, n); return t } })), n.register("j9xSq", (function (t, e) { var i = n("2Alx8"); t.exports = function (t, e, s, n) { return i(t, "visible", e, 0, s, n) } })), n.register("2IEMX", (function (t, e) { var i = n("2Alx8"); t.exports = function (t, e, s, n, r) { return i(t, "x", e, s, n, r) } })), n.register("Wq1BO", (function (t, e) { var i = n("2Alx8"); t.exports = function (t, e, s, n, r, o, a) { return null == s && (s = e), i(t, "x", e, n, o, a), i(t, "y", s, r, o, a) } })), n.register("7yy0q", (function (t, e) { var i = n("2Alx8"); t.exports = function (t, e, s, n, r) { return i(t, "y", e, s, n, r) } })), n.register("7FJHd", (function (t, e) { var i = n("7SBSk"); t.exports = function (t, e, s, n, r) { var o, a, h, l, u, c; if (void 0 === n && (n = 0), void 0 === r && (r = new i), t.length > 1) if (0 === n) { var d = t.length - 1; for (o = t[d].x, a = t[d].y, h = d - 1; h >= 0; h--)l = (c = t[h]).x, u = c.y, c.x = o, c.y = a, o = l, a = u; t[d].x = e, t[d].y = s } else { for (o = t[0].x, a = t[0].y, h = 1; h < t.length; h++)l = (c = t[h]).x, u = c.y, c.x = o, c.y = a, o = l, a = u; t[0].x = e, t[0].y = s } else o = t[0].x, a = t[0].y, t[0].x = e, t[0].y = s; return r.x = o, r.y = a, r } })), n.register("cTZaX", (function (t, e) { var i = n("Na5BX"); t.exports = function (t) { return i(t) } })), n.register("Na5BX", (function (t, e) { t.exports = function (t) { for (var e = t.length - 1; e > 0; e--) { var i = Math.floor(Math.random() * (e + 1)), s = t[e]; t[e] = t[i], t[i] = s } return t } })), n.register("33Qfe", (function (t, e) { var i = n("1YVfA"); t.exports = function (t, e, s, n, r) { void 0 === r && (r = !1); var o, a = Math.abs(n - s) / t.length; if (r) for (o = 0; o < t.length; o++)t[o][e] += i(o * a, s, n); else for (o = 0; o < t.length; o++)t[o][e] = i(o * a, s, n); return t } })), n.register("1YVfA", (function (t, e) { t.exports = function (t, e, i) { return (t = Math.max(0, Math.min(1, (t - e) / (i - e)))) * t * t * (t * (6 * t - 15) + 10) } })), n.register("4e9ty", (function (t, e) { var i = n("363Nu"); t.exports = function (t, e, s, n, r) { void 0 === r && (r = !1); var o, a = Math.abs(n - s) / t.length; if (r) for (o = 0; o < t.length; o++)t[o][e] += i(o * a, s, n); else for (o = 0; o < t.length; o++)t[o][e] = i(o * a, s, n); return t } })), n.register("363Nu", (function (t, e) { t.exports = function (t, e, i) { return t <= e ? 0 : t >= i ? 1 : (t = (t - e) / (i - e)) * t * (3 - 2 * t) } })), n.register("e3WPZ", (function (t, e) { t.exports = function (t, e, i, s, n) { void 0 === n && (n = !1); var r, o = Math.abs(s - i) / t.length; if (n) for (r = 0; r < t.length; r++)t[r][e] += r * o + i; else for (r = 0; r < t.length; r++)t[r][e] = r * o + i; return t } })), n.register("f7rup", (function (t, e) { t.exports = function (t) { for (var e = 0; e < t.length; e++)t[e].visible = !t[e].visible; return t } })), n.register("2Oe4l", (function (t, e) { var i = n("8qWuA"); t.exports = function (t, e, s) { void 0 === s && (s = 0); for (var n = 0; n < t.length; n++) { var r = t[n]; r.x = i(r.x, e.left - s, e.right + s), r.y = i(r.y, e.top - s, e.bottom + s) } return t } })), n.register("gc8vS", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { Animation: n("6gscN"), AnimationFrame: n("cDvmt"), AnimationManager: n("dq46t"), Events: n("61xd9") }
})), n.register("dq46t", (function (t, e) { var i = n("6gscN"), s = n("jwj1g"), r = n("ddl2W"), o = n("3vRz3"), a = n("61xd9"), h = n("aqcI1"), l = n("5pMDk"), u = n("7y2Q8"), c = new s({ Extends: o, initialize: function (t) { o.call(this), this.game = t, this.textureManager = null, this.globalTimeScale = 1, this.anims = new r, this.paused = !1, this.name = "AnimationManager", t.events.once(h.BOOT, this.boot, this) }, boot: function () { this.textureManager = this.game.textures, this.game.events.once(h.DESTROY, this.destroy, this) }, add: function (t, e) { if (!this.anims.has(t)) return e.key = t, this.anims.set(t, e), this.emit(a.ADD_ANIMATION, t, e), this; console.warn("Animation key exists: " + t) }, exists: function (t) { return this.anims.has(t) }, create: function (t) { var e = t.key, s = !1; return e && ((s = this.get(e)) || (s = new i(this, e, t), this.anims.set(e, s), this.emit(a.ADD_ANIMATION, e, s))), s }, fromJSON: function (t, e) { void 0 === e && (e = !1), e && this.anims.clear(), "string" == typeof t && (t = JSON.parse(t)); var i = []; if (t.hasOwnProperty("anims") && Array.isArray(t.anims)) { for (var s = 0; s < t.anims.length; s++)i.push(this.create(t.anims[s])); t.hasOwnProperty("globalTimeScale") && (this.globalTimeScale = t.globalTimeScale) } else t.hasOwnProperty("key") && "frame" === t.type && i.push(this.create(t)); return i }, generateFrameNames: function (t, e) { var i = l(e, "prefix", ""), s = l(e, "start", 0), n = l(e, "end", 0), r = l(e, "suffix", ""), o = l(e, "zeroPad", 0), a = l(e, "outputArray", []), h = l(e, "frames", !1), c = this.textureManager.get(t); if (!c) return a; var d, f, p = s < n ? 1 : -1; if (n += p, e) if (Array.isArray(h)) for (d = 0; d < h.length; d++)f = i + u(h[d], o, "0", 1) + r, c.has(f) && a.push({ key: t, frame: f }); else for (d = s; d !== n; d += p)f = i + u(d, o, "0", 1) + r, c.has(f) && a.push({ key: t, frame: f }); else for (h = c.getFrameNames(), d = 0; d < h.length; d++)a.push({ key: t, frame: h[d] }); return a }, generateFrameNumbers: function (t, e) { var i, s = l(e, "start", 0), n = l(e, "end", -1), r = l(e, "first", !1), o = l(e, "outputArray", []), a = l(e, "frames", !1), h = this.textureManager.get(t); if (!h) return o; if (r && h.has(r) && o.push({ key: t, frame: r }), Array.isArray(a)) for (i = 0; i < a.length; i++)h.has(a[i]) && o.push({ key: t, frame: a[i] }); else { -1 === n && (n = h.frameTotal); var u = s < n ? 1 : -1; for (n += u, i = s; i !== n; i += u)h.has(i) && o.push({ key: t, frame: i }) } return o }, get: function (t) { return this.anims.get(t) }, load: function (t, e, i) { var s = this.get(e); return s ? s.load(t, i) : console.warn("Missing animation: " + e), t }, pauseAll: function () { return this.paused || (this.paused = !0, this.emit(a.PAUSE_ALL)), this }, play: function (t, e) { if (Array.isArray(e) || (e = [e]), this.get(t)) { for (var i = 0; i < e.length; i++)e[i].anims.play(t); return this } }, remove: function (t) { var e = this.get(t); return e && (this.emit(a.REMOVE_ANIMATION, t, e), this.anims.delete(t)), e }, resumeAll: function () { return this.paused && (this.paused = !1, this.emit(a.RESUME_ALL)), this }, staggerPlay: function (t, e, i) { if (void 0 === i && (i = 0), Array.isArray(e) || (e = [e]), this.get(t)) { for (var s = 0; s < e.length; s++)e[s].anims.delayedPlay(i * s, t); return this } }, toJSON: function (t) { if (void 0 !== t && "" !== t) return this.anims.get(t).toJSON(); var e = { anims: [], globalTimeScale: this.globalTimeScale }; return this.anims.each((function (t, i) { e.anims.push(i.toJSON()) })), e }, destroy: function () { this.anims.clear(), this.textureManager = null, this.game = null } }); t.exports = c })), n.register("ddl2W", (function (t, e) { var i = new (n("jwj1g"))({ initialize: function (t) { if (this.entries = {}, this.size = 0, Array.isArray(t)) for (var e = 0; e < t.length; e++)this.set(t[e][0], t[e][1]) }, set: function (t, e) { return this.has(t) || this.size++, this.entries[t] = e, this }, get: function (t) { if (this.has(t)) return this.entries[t] }, getArray: function () { var t = [], e = this.entries; for (var i in e) t.push(e[i]); return t }, has: function (t) { return this.entries.hasOwnProperty(t) }, delete: function (t) { return this.has(t) && (delete this.entries[t], this.size--), this }, clear: function () { return Object.keys(this.entries).forEach((function (t) { delete this.entries[t] }), this), this.size = 0, this }, keys: function () { return Object.keys(this.entries) }, values: function () { var t = [], e = this.entries; for (var i in e) t.push(e[i]); return t }, dump: function () { var t = this.entries; for (var e in console.group("Map"), t) console.log(e, t[e]); console.groupEnd() }, each: function (t) { var e = this.entries; for (var i in e) if (!1 === t(i, e[i])) break; return this }, contains: function (t) { var e = this.entries; for (var i in e) if (e[i] === t) return !0; return !1 }, merge: function (t, e) { void 0 === e && (e = !1); var i = this.entries, s = t.entries; for (var n in s) i.hasOwnProperty(n) && e ? i[n] = s[n] : this.set(n, s[n]); return this } }); t.exports = i })), n.register("7y2Q8", (function (t, e) { t.exports = function (t, e, i, s) { void 0 === e && (e = 0), void 0 === i && (i = " "), void 0 === s && (s = 3); var n = 0; if (e + 1 >= (t = t.toString()).length) switch (s) { case 1: t = new Array(e + 1 - t.length).join(i) + t; break; case 3: var r = Math.ceil((n = e - t.length) / 2); t = new Array(n - r + 1).join(i) + t + new Array(r + 1).join(i); break; default: t += new Array(e + 1 - t.length).join(i) }return t } })), n.register("dRHWx", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { BaseCache: n("8eDED"), CacheManager: n("083aW"), Events: n("3SnAO") }
})), n.register("8eDED", (function (t, e) { var i = n("jwj1g"), s = n("ddl2W"), r = n("3vRz3"), o = n("3SnAO"), a = new i({ initialize: function () { this.entries = new s, this.events = new r }, add: function (t, e) { return this.entries.set(t, e), this.events.emit(o.ADD, this, t, e), this }, has: function (t) { return this.entries.has(t) }, exists: function (t) { return this.entries.has(t) }, get: function (t) { return this.entries.get(t) }, remove: function (t) { var e = this.get(t); return e && (this.entries.delete(t), this.events.emit(o.REMOVE, this, t, e.data)), this }, getKeys: function () { return this.entries.keys() }, destroy: function () { this.entries.clear(), this.events.removeAllListeners(), this.entries = null, this.events = null } }); t.exports = a })), n.register("3SnAO", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { ADD: n("4S5QK"), REMOVE: n("2FrIq") }
})), n.register("4S5QK", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "add"
})), n.register("2FrIq", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "remove"
})), n.register("083aW", (function (t, e) { var i = n("8eDED"), s = n("jwj1g"), r = n("aqcI1"), o = new s({ initialize: function (t) { this.game = t, this.binary = new i, this.bitmapFont = new i, this.json = new i, this.physics = new i, this.shader = new i, this.audio = new i, this.video = new i, this.text = new i, this.html = new i, this.obj = new i, this.tilemap = new i, this.xml = new i, this.custom = {}, this.game.events.once(r.DESTROY, this.destroy, this) }, addCustom: function (t) { return this.custom.hasOwnProperty(t) || (this.custom[t] = new i), this.custom[t] }, destroy: function () { for (var t = ["binary", "bitmapFont", "json", "physics", "shader", "audio", "video", "text", "html", "obj", "tilemap", "xml"], e = 0; e < t.length; e++)this[t[e]].destroy(), this[t[e]] = null; for (var i in this.custom) this.custom[i].destroy(); this.custom = null, this.game = null } }); t.exports = o })), n.register("cjvhk", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { Controls: n("2Vvpd"), Scene2D: n("2yWR5") }
})), n.register("2Vvpd", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { FixedKeyControl: n("l9veA"), SmoothedKeyControl: n("78F6p") }
})), n.register("l9veA", (function (t, e) { var i = n("jwj1g"), s = n("5pMDk"), r = new i({ initialize: function (t) { this.camera = s(t, "camera", null), this.left = s(t, "left", null), this.right = s(t, "right", null), this.up = s(t, "up", null), this.down = s(t, "down", null), this.zoomIn = s(t, "zoomIn", null), this.zoomOut = s(t, "zoomOut", null), this.zoomSpeed = s(t, "zoomSpeed", .01), this.speedX = 0, this.speedY = 0; var e = s(t, "speed", null); "number" == typeof e ? (this.speedX = e, this.speedY = e) : (this.speedX = s(t, "speed.x", 0), this.speedY = s(t, "speed.y", 0)), this._zoom = 0, this.active = null !== this.camera }, start: function () { return this.active = null !== this.camera, this }, stop: function () { return this.active = !1, this }, setCamera: function (t) { return this.camera = t, this }, update: function (t) { if (this.active) { void 0 === t && (t = 1); var e = this.camera; this.up && this.up.isDown ? e.scrollY -= this.speedY * t | 0 : this.down && this.down.isDown && (e.scrollY += this.speedY * t | 0), this.left && this.left.isDown ? e.scrollX -= this.speedX * t | 0 : this.right && this.right.isDown && (e.scrollX += this.speedX * t | 0), this.zoomIn && this.zoomIn.isDown ? (e.zoom -= this.zoomSpeed, e.zoom < .1 && (e.zoom = .1)) : this.zoomOut && this.zoomOut.isDown && (e.zoom += this.zoomSpeed) } }, destroy: function () { this.camera = null, this.left = null, this.right = null, this.up = null, this.down = null, this.zoomIn = null, this.zoomOut = null } }); t.exports = r })), n.register("78F6p", (function (t, e) { var i = n("jwj1g"), s = n("5pMDk"), r = new i({ initialize: function (t) { this.camera = s(t, "camera", null), this.left = s(t, "left", null), this.right = s(t, "right", null), this.up = s(t, "up", null), this.down = s(t, "down", null), this.zoomIn = s(t, "zoomIn", null), this.zoomOut = s(t, "zoomOut", null), this.zoomSpeed = s(t, "zoomSpeed", .01), this.accelX = 0, this.accelY = 0; var e = s(t, "acceleration", null); "number" == typeof e ? (this.accelX = e, this.accelY = e) : (this.accelX = s(t, "acceleration.x", 0), this.accelY = s(t, "acceleration.y", 0)), this.dragX = 0, this.dragY = 0; var i = s(t, "drag", null); "number" == typeof i ? (this.dragX = i, this.dragY = i) : (this.dragX = s(t, "drag.x", 0), this.dragY = s(t, "drag.y", 0)), this.maxSpeedX = 0, this.maxSpeedY = 0; var n = s(t, "maxSpeed", null); "number" == typeof n ? (this.maxSpeedX = n, this.maxSpeedY = n) : (this.maxSpeedX = s(t, "maxSpeed.x", 0), this.maxSpeedY = s(t, "maxSpeed.y", 0)), this._speedX = 0, this._speedY = 0, this._zoom = 0, this.active = null !== this.camera }, start: function () { return this.active = null !== this.camera, this }, stop: function () { return this.active = !1, this }, setCamera: function (t) { return this.camera = t, this }, update: function (t) { if (this.active) { void 0 === t && (t = 1); var e = this.camera; this._speedX > 0 ? (this._speedX -= this.dragX * t, this._speedX < 0 && (this._speedX = 0)) : this._speedX < 0 && (this._speedX += this.dragX * t, this._speedX > 0 && (this._speedX = 0)), this._speedY > 0 ? (this._speedY -= this.dragY * t, this._speedY < 0 && (this._speedY = 0)) : this._speedY < 0 && (this._speedY += this.dragY * t, this._speedY > 0 && (this._speedY = 0)), this.up && this.up.isDown ? (this._speedY += this.accelY, this._speedY > this.maxSpeedY && (this._speedY = this.maxSpeedY)) : this.down && this.down.isDown && (this._speedY -= this.accelY, this._speedY < -this.maxSpeedY && (this._speedY = -this.maxSpeedY)), this.left && this.left.isDown ? (this._speedX += this.accelX, this._speedX > this.maxSpeedX && (this._speedX = this.maxSpeedX)) : this.right && this.right.isDown && (this._speedX -= this.accelX, this._speedX < -this.maxSpeedX && (this._speedX = -this.maxSpeedX)), this.zoomIn && this.zoomIn.isDown ? this._zoom = -this.zoomSpeed : this.zoomOut && this.zoomOut.isDown ? this._zoom = this.zoomSpeed : this._zoom = 0, 0 !== this._speedX && (e.scrollX -= this._speedX * t | 0), 0 !== this._speedY && (e.scrollY -= this._speedY * t | 0), 0 !== this._zoom && (e.zoom += this._zoom, e.zoom < .001 && (e.zoom = .001)) } }, destroy: function () { this.camera = null, this.left = null, this.right = null, this.up = null, this.down = null, this.zoomIn = null, this.zoomOut = null } }); t.exports = r })), n.register("2yWR5", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { Camera: n("eAXHP"), BaseCamera: n("2LSzx"), CameraManager: n("bJjUa"), Effects: n("u1TTd"), Events: n("3xxp2") }
})), n.register("eAXHP", (function (t, e) { var i = n("2LSzx"), s = n("kKoer"), r = n("ilLbF"), o = n("iEUUO"), a = n("jwj1g"), h = n("4FF1v"), l = n("u1TTd"), u = n("fDkZ4"), c = n("cwr8X"), d = n("7SBSk"), f = new a({ Extends: i, Mixins: [h.Flip, h.Tint], initialize: function (t, e, s, n) { i.call(this, t, e, s, n), this.inputEnabled = !0, this.fadeEffect = new l.Fade(this), this.flashEffect = new l.Flash(this), this.shakeEffect = new l.Shake(this), this.panEffect = new l.Pan(this), this.zoomEffect = new l.Zoom(this), this.lerp = new d(1, 1), this.followOffset = new d, this.deadzone = null, this._follow = null, this.renderToTexture = !1, this.canvas = null, this.context = null, this.glTexture = null, this.framebuffer = null, this.pipeline = null }, setRenderToTexture: function (t) { var e = this.scene.sys.game.renderer; return e.gl ? (this.glTexture = e.createTextureFromSource(null, this.width, this.height, 0), this.framebuffer = e.createFramebuffer(this.width, this.height, this.glTexture, !1)) : (this.canvas = s.create2D(this, this.width, this.height), this.context = this.canvas.getContext("2d")), this.renderToTexture = !0, t && this.setPipeline(t), this }, setPipeline: function (t) { if ("string" == typeof t) { var e = this.scene.sys.game.renderer; e.gl && e.hasPipeline(t) && (this.pipeline = e.getPipeline(t)) } else this.pipeline = t; return this }, clearRenderToTexture: function () { if (this.scene) { var t = this.scene.sys.game.renderer; if (t) return t.gl ? (this.framebuffer && t.deleteFramebuffer(this.framebuffer), this.glTexture && t.deleteTexture(this.glTexture), this.framebuffer = null, this.glTexture = null, this.pipeline = null) : (s.remove(this), this.canvas = null, this.context = null), this.renderToTexture = !1, this } }, setDeadzone: function (t, e) { if (void 0 === t) this.deadzone = null; else { if (this.deadzone ? (this.deadzone.width = t, this.deadzone.height = e) : this.deadzone = new c(0, 0, t, e), this._follow) { var i = this.width / 2, s = this.height / 2, n = this._follow.x - this.followOffset.x, o = this._follow.y - this.followOffset.y; this.midPoint.set(n, o), this.scrollX = n - i, this.scrollY = o - s } r(this.deadzone, this.midPoint.x, this.midPoint.y) } return this }, fadeIn: function (t, e, i, s, n, r) { return this.fadeEffect.start(!1, t, e, i, s, !0, n, r) }, fadeOut: function (t, e, i, s, n, r) { return this.fadeEffect.start(!0, t, e, i, s, !0, n, r) }, fadeFrom: function (t, e, i, s, n, r, o) { return this.fadeEffect.start(!1, t, e, i, s, n, r, o) }, fade: function (t, e, i, s, n, r, o) { return this.fadeEffect.start(!0, t, e, i, s, n, r, o) }, flash: function (t, e, i, s, n, r, o) { return this.flashEffect.start(t, e, i, s, n, r, o) }, shake: function (t, e, i, s, n) { return this.shakeEffect.start(t, e, i, s, n) }, pan: function (t, e, i, s, n, r, o) { return this.panEffect.start(t, e, i, s, n, r, o) }, zoomTo: function (t, e, i, s, n, r) { return this.zoomEffect.start(t, e, i, s, n, r) }, preRender: function (t) { var e = this.width, i = this.height, s = .5 * e, n = .5 * i, o = this.zoom * t, a = this.matrix, h = e * this.originX, l = i * this.originY, c = this._follow, d = this.deadzone, f = this.scrollX, p = this.scrollY; if (d && r(d, this.midPoint.x, this.midPoint.y), c && !this.panEffect.isRunning) { var g = c.x - this.followOffset.x, v = c.y - this.followOffset.y; d ? (g < d.x ? f = u(f, f - (d.x - g), this.lerp.x) : g > d.right && (f = u(f, f + (g - d.right), this.lerp.x)), v < d.y ? p = u(p, p - (d.y - v), this.lerp.y) : v > d.bottom && (p = u(p, p + (v - d.bottom), this.lerp.y))) : (f = u(f, g - h, this.lerp.x), p = u(p, v - l, this.lerp.y)) } this.useBounds && (f = this.clampX(f), p = this.clampY(p)), this.roundPixels && (h = Math.round(h), l = Math.round(l)), this.scrollX = f, this.scrollY = p; var m = f + s, y = p + n; this.midPoint.set(m, y); var x = e / o, w = i / o; this.worldView.setTo(m - x / 2, y - w / 2, x, w), a.applyITRS(this.x + h, this.y + l, this.rotation, o, o), a.translate(-h, -l), this.shakeEffect.preRender() }, setLerp: function (t, e) { return void 0 === t && (t = 1), void 0 === e && (e = t), this.lerp.set(t, e), this }, setFollowOffset: function (t, e) { return void 0 === t && (t = 0), void 0 === e && (e = 0), this.followOffset.set(t, e), this }, startFollow: function (t, e, i, s, n, r) { void 0 === e && (e = !1), void 0 === i && (i = 1), void 0 === s && (s = i), void 0 === n && (n = 0), void 0 === r && (r = n), this._follow = t, this.roundPixels = e, i = o(i, 0, 1), s = o(s, 0, 1), this.lerp.set(i, s), this.followOffset.set(n, r); var a = this.width / 2, h = this.height / 2, l = t.x - n, u = t.y - r; return this.midPoint.set(l, u), this.scrollX = l - a, this.scrollY = u - h, this.useBounds && (this.scrollX = this.clampX(this.scrollX), this.scrollY = this.clampY(this.scrollY)), this }, stopFollow: function () { return this._follow = null, this }, resetFX: function () { return this.panEffect.reset(), this.shakeEffect.reset(), this.flashEffect.reset(), this.fadeEffect.reset(), this }, update: function (t, e) { this.visible && (this.panEffect.update(t, e), this.zoomEffect.update(t, e), this.shakeEffect.update(t, e), this.flashEffect.update(t, e), this.fadeEffect.update(t, e)) }, destroy: function () { this.clearRenderToTexture(), this.resetFX(), i.prototype.destroy.call(this), this._follow = null, this.deadzone = null } }); t.exports = f })), n.register("2LSzx", (function (t, e) { var i = n("jwj1g"), s = n("4FF1v"), r = n("2zqSA"), o = n("3vRz3"), a = n("3xxp2"), h = n("cwr8X"), l = n("azs1m"), u = n("iYnst"), c = n("7SBSk"), d = new i({ Extends: o, Mixins: [s.Alpha, s.Visible], initialize: function (t, e, i, s) { void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === s && (s = 0), o.call(this), this.scene, this.sceneManager, this.scaleManager, this.cameraManager, this.id = 0, this.name = "", this.resolution = 1, this.roundPixels = !1, this.useBounds = !1, this.worldView = new h, this.dirty = !0, this._x = t, this._y = e, this._cx = 0, this._cy = 0, this._cw = 0, this._ch = 0, this._width = i, this._height = s, this._bounds = new h, this._scrollX = 0, this._scrollY = 0, this._zoom = 1, this._rotation = 0, this.matrix = new l, this.transparent = !0, this.backgroundColor = u("rgba(0,0,0,0)"), this.disableCull = !1, this.culledObjects = [], this.midPoint = new c(i / 2, s / 2), this.originX = .5, this.originY = .5, this._customViewport = !1, this.mask = null, this._maskCamera = null }, setOrigin: function (t, e) { return void 0 === t && (t = .5), void 0 === e && (e = t), this.originX = t, this.originY = e, this }, getScroll: function (t, e, i) { void 0 === i && (i = new c); var s = .5 * this.width, n = .5 * this.height; return i.x = t - s, i.y = e - n, this.useBounds && (i.x = this.clampX(i.x), i.y = this.clampY(i.y)), i }, centerOnX: function (t) { var e = .5 * this.width; return this.midPoint.x = t, this.scrollX = t - e, this.useBounds && (this.scrollX = this.clampX(this.scrollX)), this }, centerOnY: function (t) { var e = .5 * this.height; return this.midPoint.y = t, this.scrollY = t - e, this.useBounds && (this.scrollY = this.clampY(this.scrollY)), this }, centerOn: function (t, e) { return this.centerOnX(t), this.centerOnY(e), this }, centerToBounds: function () { if (this.useBounds) { var t = this._bounds, e = .5 * this.width, i = .5 * this.height; this.midPoint.set(t.centerX, t.centerY), this.scrollX = t.centerX - e, this.scrollY = t.centerY - i } return this }, centerToSize: function () { return this.scrollX = .5 * this.width, this.scrollY = .5 * this.height, this }, cull: function (t) { if (this.disableCull) return t; var e = this.matrix.matrix, i = e[0], s = e[1], n = e[2], r = e[3], o = i * r - s * n; if (!o) return t; var a = e[4], h = e[5], l = this.scrollX, u = this.scrollY, c = this.width, d = this.height, f = this.culledObjects, p = t.length; o = 1 / o, f.length = 0; for (var g = 0; g < p; ++g) { var v = t[g]; if (v.hasOwnProperty("width") && !v.parentContainer) { var m = v.width, y = v.height, x = v.x - l * v.scrollFactorX - m * v.originX, w = v.y - u * v.scrollFactorY - y * v.originY, T = x * i + w * n + a, b = x * s + w * r + h, S = (x + m) * i + (w + y) * n + a, A = (x + m) * s + (w + y) * r + h, E = this.y, C = E + d, _ = this.x; S > _ && T < _ + c && A > E && b < C && f.push(v) } else f.push(v) } return f }, getWorldPoint: function (t, e, i) { void 0 === i && (i = new c); var s = this.matrix.matrix, n = s[0], r = s[1], o = s[2], a = s[3], h = s[4], l = s[5], u = n * a - r * o; if (!u) return i.x = t, i.y = e, i; var d = a * (u = 1 / u), f = -r * u, p = -o * u, g = n * u, v = (o * l - a * h) * u, m = (r * h - n * l) * u, y = Math.cos(this.rotation), x = Math.sin(this.rotation), w = this.zoom, T = this.resolution, b = this.scrollX, S = this.scrollY, A = t + (b * y - S * x) * w, E = e + (b * x + S * y) * w; return i.x = (A * d + E * p) * T + v, i.y = (A * f + E * g) * T + m, i }, ignore: function (t) { var e = this.id; Array.isArray(t) || (t = [t]); for (var i = 0; i < t.length; i++) { var s = t[i]; Array.isArray(s) ? this.ignore(s) : s.isParent ? this.ignore(s.getChildren()) : s.cameraFilter |= e } return this }, preRender: function (t) { var e = this.width, i = this.height, s = .5 * e, n = .5 * i, r = this.zoom * t, o = this.matrix, a = e * this.originX, h = i * this.originY, l = this.scrollX, u = this.scrollY; this.useBounds && (l = this.clampX(l), u = this.clampY(u)), this.roundPixels && (a = Math.round(a), h = Math.round(h)), this.scrollX = l, this.scrollY = u; var c = l + s, d = u + n; this.midPoint.set(c, d); var f = e / r, p = i / r; this.worldView.setTo(c - f / 2, d - p / 2, f, p), o.applyITRS(this.x + a, this.y + h, this.rotation, r, r), o.translate(-a, -h) }, clampX: function (t) { var e = this._bounds, i = this.displayWidth, s = e.x + (i - this.width) / 2, n = Math.max(s, s + e.width - i); return t < s ? t = s : t > n && (t = n), t }, clampY: function (t) { var e = this._bounds, i = this.displayHeight, s = e.y + (i - this.height) / 2, n = Math.max(s, s + e.height - i); return t < s ? t = s : t > n && (t = n), t }, removeBounds: function () { return this.useBounds = !1, this.dirty = !0, this._bounds.setEmpty(), this }, setAngle: function (t) { return void 0 === t && (t = 0), this.rotation = r(t), this }, setBackgroundColor: function (t) { return void 0 === t && (t = "rgba(0,0,0,0)"), this.backgroundColor = u(t), this.transparent = 0 === this.backgroundColor.alpha, this }, setBounds: function (t, e, i, s, n) { return void 0 === n && (n = !1), this._bounds.setTo(t, e, i, s), this.dirty = !0, this.useBounds = !0, n ? this.centerToBounds() : (this.scrollX = this.clampX(this.scrollX), this.scrollY = this.clampY(this.scrollY)), this }, getBounds: function (t) { void 0 === t && (t = new h); var e = this._bounds; return t.setTo(e.x, e.y, e.width, e.height), t }, setName: function (t) { return void 0 === t && (t = ""), this.name = t, this }, setPosition: function (t, e) { return void 0 === e && (e = t), this.x = t, this.y = e, this }, setRotation: function (t) { return void 0 === t && (t = 0), this.rotation = t, this }, setRoundPixels: function (t) { return this.roundPixels = t, this }, setScene: function (t) { this.scene && this._customViewport && this.sceneManager.customViewports--, this.scene = t; var e = t.sys; this.sceneManager = e.game.scene, this.scaleManager = e.scale, this.cameraManager = e.cameras; var i = this.scaleManager.resolution; return this.resolution = i, this._cx = this._x * i, this._cy = this._y * i, this._cw = this._width * i, this._ch = this._height * i, this.updateSystem(), this }, setScroll: function (t, e) { return void 0 === e && (e = t), this.scrollX = t, this.scrollY = e, this }, setSize: function (t, e) { return void 0 === e && (e = t), this.width = t, this.height = e, this }, setViewport: function (t, e, i, s) { return this.x = t, this.y = e, this.width = i, this.height = s, this }, setZoom: function (t) { return void 0 === t && (t = 1), 0 === t && (t = .001), this.zoom = t, this }, setMask: function (t, e) { return void 0 === e && (e = !0), this.mask = t, this._maskCamera = e ? this.cameraManager.default : this, this }, clearMask: function (t) { return void 0 === t && (t = !1), t && this.mask && this.mask.destroy(), this.mask = null, this }, toJSON: function () { var t = { name: this.name, x: this.x, y: this.y, width: this.width, height: this.height, zoom: this.zoom, rotation: this.rotation, roundPixels: this.roundPixels, scrollX: this.scrollX, scrollY: this.scrollY, backgroundColor: this.backgroundColor.rgba }; return this.useBounds && (t.bounds = { x: this._bounds.x, y: this._bounds.y, width: this._bounds.width, height: this._bounds.height }), t }, update: function () { }, updateSystem: function () { if (this.scaleManager) { var t = 0 !== this._x || 0 !== this._y || this.scaleManager.width !== this._width || this.scaleManager.height !== this._height, e = this.sceneManager; t && !this._customViewport ? e.customViewports++ : !t && this._customViewport && e.customViewports--, this.dirty = !0, this._customViewport = t } }, destroy: function () { this.emit(a.DESTROY, this), this.removeAllListeners(), this.matrix.destroy(), this.culledObjects = [], this._customViewport && this.sceneManager.customViewports--, this._bounds = null, this.scene = null, this.scaleManager = null, this.sceneManager = null, this.cameraManager = null }, x: { get: function () { return this._x }, set: function (t) { this._x = t, this._cx = t * this.resolution, this.updateSystem() } }, y: { get: function () { return this._y }, set: function (t) { this._y = t, this._cy = t * this.resolution, this.updateSystem() } }, width: { get: function () { return this._width }, set: function (t) { this._width = t, this._cw = t * this.resolution, this.updateSystem() } }, height: { get: function () { return this._height }, set: function (t) { this._height = t, this._ch = t * this.resolution, this.updateSystem() } }, scrollX: { get: function () { return this._scrollX }, set: function (t) { this._scrollX = t, this.dirty = !0 } }, scrollY: { get: function () { return this._scrollY }, set: function (t) { this._scrollY = t, this.dirty = !0 } }, zoom: { get: function () { return this._zoom }, set: function (t) { this._zoom = t, this.dirty = !0 } }, rotation: { get: function () { return this._rotation }, set: function (t) { this._rotation = t, this.dirty = !0 } }, centerX: { get: function () { return this.x + .5 * this.width } }, centerY: { get: function () { return this.y + .5 * this.height } }, displayWidth: { get: function () { return this.width / this.zoom } }, displayHeight: { get: function () { return this.height / this.zoom } } }); t.exports = d })), n.register("3xxp2", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { DESTROY: n("6gQSS"), FADE_IN_COMPLETE: n("8uqmg"), FADE_IN_START: n("9i9XH"), FADE_OUT_COMPLETE: n("fZjMj"), FADE_OUT_START: n("bzGzo"), FLASH_COMPLETE: n("l5C5P"), FLASH_START: n("ksqlR"), PAN_COMPLETE: n("cH2M7"), PAN_START: n("7kPyY"), POST_RENDER: n("hyxn6"), PRE_RENDER: n("32t1X"), SHAKE_COMPLETE: n("5PluY"), SHAKE_START: n("7IcGB"), ZOOM_COMPLETE: n("2wQfp"), ZOOM_START: n("cMBby") }
})), n.register("6gQSS", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "cameradestroy"
})), n.register("8uqmg", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "camerafadeincomplete"
})), n.register("9i9XH", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "camerafadeinstart"
})), n.register("fZjMj", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "camerafadeoutcomplete"
})), n.register("bzGzo", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "camerafadeoutstart"
})), n.register("l5C5P", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "cameraflashcomplete"
})), n.register("ksqlR", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "cameraflashstart"
})), n.register("cH2M7", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "camerapancomplete"
})), n.register("7kPyY", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "camerapanstart"
})), n.register("hyxn6", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "postrender"
})), n.register("32t1X", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "prerender"
})), n.register("5PluY", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "camerashakecomplete"
})), n.register("7IcGB", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "camerashakestart"
})), n.register("2wQfp", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "camerazoomcomplete"
})), n.register("cMBby", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "camerazoomstart"
})), n.register("iYnst", (function (t, e) { var i = n("geCzd"), s = n("bAeWh"), r = n("1xsnc"), o = n("8lcCL"); t.exports = function (t) { switch (typeof t) { case "string": return "rgb" === t.substr(0, 3).toLowerCase() ? o(t) : i(t); case "number": return s(t); case "object": return r(t) } } })), n.register("geCzd", (function (t, e) { var i = n("pqNJR"); t.exports = function (t) { var e = new i; t = t.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i, (function (t, e, i, s) { return e + e + i + i + s + s })); var s = /^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t); if (s) { var n = parseInt(s[1], 16), r = parseInt(s[2], 16), o = parseInt(s[3], 16); e.setTo(n, r, o) } return e } })), n.register("pqNJR", (function (t, e) { var i = n("jwj1g"), s = n("hqJVB"), r = n("cEpdV"), o = n("1jgzS"), a = n("hM4Fo"), h = new i({ initialize: function (t, e, i, s) { void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === s && (s = 255), this.r = 0, this.g = 0, this.b = 0, this.a = 255, this._h = 0, this._s = 0, this._v = 0, this._locked = !1, this.gl = [0, 0, 0, 1], this._color = 0, this._color32 = 0, this._rgba = "", this.setTo(t, e, i, s) }, transparent: function () { return this._locked = !0, this.red = 0, this.green = 0, this.blue = 0, this.alpha = 0, this._locked = !1, this.update(!0) }, setTo: function (t, e, i, s, n) { return void 0 === s && (s = 255), void 0 === n && (n = !0), this._locked = !0, this.red = t, this.green = e, this.blue = i, this.alpha = s, this._locked = !1, this.update(n) }, setGLTo: function (t, e, i, s) { return void 0 === s && (s = 1), this._locked = !0, this.redGL = t, this.greenGL = e, this.blueGL = i, this.alphaGL = s, this._locked = !1, this.update(!0) }, setFromRGB: function (t) { return this._locked = !0, this.red = t.r, this.green = t.g, this.blue = t.b, t.hasOwnProperty("a") && (this.alpha = t.a), this._locked = !1, this.update(!0) }, setFromHSV: function (t, e, i) { return o(t, e, i, this) }, update: function (t) { if (void 0 === t && (t = !1), this._locked) return this; var e = this.r, i = this.g, n = this.b, o = this.a; return this._color = s(e, i, n), this._color32 = r(e, i, n, o), this._rgba = "rgba(" + e + "," + i + "," + n + "," + o / 255 + ")", t && a(e, i, n, this), this }, updateHSV: function () { var t = this.r, e = this.g, i = this.b; return a(t, e, i, this), this }, clone: function () { return new h(this.r, this.g, this.b, this.a) }, gray: function (t) { return this.setTo(t, t, t) }, random: function (t, e) { void 0 === t && (t = 0), void 0 === e && (e = 255); var i = Math.floor(t + Math.random() * (e - t)), s = Math.floor(t + Math.random() * (e - t)), n = Math.floor(t + Math.random() * (e - t)); return this.setTo(i, s, n) }, randomGray: function (t, e) { void 0 === t && (t = 0), void 0 === e && (e = 255); var i = Math.floor(t + Math.random() * (e - t)); return this.setTo(i, i, i) }, saturate: function (t) { return this.s += t / 100, this }, desaturate: function (t) { return this.s -= t / 100, this }, lighten: function (t) { return this.v += t / 100, this }, darken: function (t) { return this.v -= t / 100, this }, brighten: function (t) { var e = this.r, i = this.g, s = this.b; return e = Math.max(0, Math.min(255, e - Math.round(-t / 100 * 255))), i = Math.max(0, Math.min(255, i - Math.round(-t / 100 * 255))), s = Math.max(0, Math.min(255, s - Math.round(-t / 100 * 255))), this.setTo(e, i, s) }, color: { get: function () { return this._color } }, color32: { get: function () { return this._color32 } }, rgba: { get: function () { return this._rgba } }, redGL: { get: function () { return this.gl[0] }, set: function (t) { this.gl[0] = Math.min(Math.abs(t), 1), this.r = Math.floor(255 * this.gl[0]), this.update(!0) } }, greenGL: { get: function () { return this.gl[1] }, set: function (t) { this.gl[1] = Math.min(Math.abs(t), 1), this.g = Math.floor(255 * this.gl[1]), this.update(!0) } }, blueGL: { get: function () { return this.gl[2] }, set: function (t) { this.gl[2] = Math.min(Math.abs(t), 1), this.b = Math.floor(255 * this.gl[2]), this.update(!0) } }, alphaGL: { get: function () { return this.gl[3] }, set: function (t) { this.gl[3] = Math.min(Math.abs(t), 1), this.a = Math.floor(255 * this.gl[3]), this.update() } }, red: { get: function () { return this.r }, set: function (t) { t = Math.floor(Math.abs(t)), this.r = Math.min(t, 255), this.gl[0] = t / 255, this.update(!0) } }, green: { get: function () { return this.g }, set: function (t) { t = Math.floor(Math.abs(t)), this.g = Math.min(t, 255), this.gl[1] = t / 255, this.update(!0) } }, blue: { get: function () { return this.b }, set: function (t) { t = Math.floor(Math.abs(t)), this.b = Math.min(t, 255), this.gl[2] = t / 255, this.update(!0) } }, alpha: { get: function () { return this.a }, set: function (t) { t = Math.floor(Math.abs(t)), this.a = Math.min(t, 255), this.gl[3] = t / 255, this.update() } }, h: { get: function () { return this._h }, set: function (t) { this._h = t, o(t, this._s, this._v, this) } }, s: { get: function () { return this._s }, set: function (t) { this._s = t, o(this._h, t, this._v, this) } }, v: { get: function () { return this._v }, set: function (t) { this._v = t, o(this._h, this._s, t, this) } } }); t.exports = h })), n.register("hqJVB", (function (t, e) { t.exports = function (t, e, i) { return t << 16 | e << 8 | i } })), n.register("cEpdV", (function (t, e) { t.exports = function (t, e, i, s) { return s << 24 | t << 16 | e << 8 | i } })), n.register("1jgzS", (function (t, e) { var i = n("hqJVB"); t.exports = function (t, e, s, n) { void 0 === e && (e = 1), void 0 === s && (s = 1); var r = Math.floor(6 * t), o = 6 * t - r, a = Math.floor(s * (1 - e) * 255), h = Math.floor(s * (1 - o * e) * 255), l = Math.floor(s * (1 - (1 - o) * e) * 255), u = s = Math.floor(s *= 255), c = s, d = s, f = r % 6; return 0 === f ? (c = l, d = a) : 1 === f ? (u = h, d = a) : 2 === f ? (u = a, d = l) : 3 === f ? (u = a, c = h) : 4 === f ? (u = l, c = a) : 5 === f && (c = a, d = h), n ? n.setTo ? n.setTo(u, c, d, n.alpha, !1) : (n.r = u, n.g = c, n.b = d, n.color = i(u, c, d), n) : { r: u, g: c, b: d, color: i(u, c, d) } } })), n.register("hM4Fo", (function (t, e) { t.exports = function (t, e, i, s) { void 0 === s && (s = { h: 0, s: 0, v: 0 }), t /= 255, e /= 255, i /= 255; var n = Math.min(t, e, i), r = Math.max(t, e, i), o = r - n, a = 0, h = 0 === r ? 0 : o / r, l = r; return r !== n && (r === t ? a = (e - i) / o + (e < i ? 6 : 0) : r === e ? a = (i - t) / o + 2 : r === i && (a = (t - e) / o + 4), a /= 6), s.hasOwnProperty("_h") ? (s._h = a, s._s = h, s._v = l) : (s.h = a, s.s = h, s.v = l), s } })), n.register("bAeWh", (function (t, e) { var i = n("pqNJR"), s = n("3sQbm"); t.exports = function (t) { var e = s(t); return new i(e.r, e.g, e.b, e.a) } })), n.register("3sQbm", (function (t, e) { t.exports = function (t) { return t > 16777215 ? { a: t >>> 24, r: t >> 16 & 255, g: t >> 8 & 255, b: 255 & t } : { a: 255, r: t >> 16 & 255, g: t >> 8 & 255, b: 255 & t } } })), n.register("1xsnc", (function (t, e) { var i = n("pqNJR"); t.exports = function (t) { return new i(t.r, t.g, t.b, t.a) } })), n.register("8lcCL", (function (t, e) { var i = n("pqNJR"); t.exports = function (t) { var e = new i, s = /^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(t.toLowerCase()); if (s) { var n = parseInt(s[1], 10), r = parseInt(s[2], 10), o = parseInt(s[3], 10), a = void 0 !== s[4] ? parseFloat(s[4]) : 1; e.setTo(n, r, o, 255 * a) } return e } })), n.register("kKoer", (function (t, e) { var i, s, r, o = n("bRAqZ"), a = n("g0MK9"), h = [], l = !1; t.exports = (r = function () { var t = 0; return h.forEach((function (e) { e.parent && t++ })), t }, { create2D: function (t, e, s) { return i(t, e, s, o.CANVAS) }, create: i = function (t, e, i, n, r) { var u; void 0 === e && (e = 1), void 0 === i && (i = 1), void 0 === n && (n = o.CANVAS), void 0 === r && (r = !1); var c = s(n); return null === c ? (c = { parent: t, canvas: document.createElement("canvas"), type: n }, n === o.CANVAS && h.push(c), u = c.canvas) : (c.parent = t, u = c.canvas), r && (c.parent = u), u.width = e, u.height = i, l && n === o.CANVAS && a.disable(u.getContext("2d")), u }, createWebGL: function (t, e, s) { return i(t, e, s, o.WEBGL) }, disableSmoothing: function () { l = !0 }, enableSmoothing: function () { l = !1 }, first: s = function (t) { if (void 0 === t && (t = o.CANVAS), t === o.WEBGL) return null; for (var e = 0; e < h.length; e++) { var i = h[e]; if (!i.parent && i.type === t) return i } return null }, free: function () { return h.length - r() }, pool: h, remove: function (t) { var e = t instanceof HTMLCanvasElement; h.forEach((function (i) { (e && i.canvas === t || !e && i.parent === t) && (i.parent = null, i.canvas.width = 1, i.canvas.height = 1) })) }, total: r }) })), n.register("bRAqZ", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    var i = { VERSION: "3.22.0", BlendModes: n("3qUcC"), ScaleModes: n("1iebW"), AUTO: 0, CANVAS: 1, WEBGL: 2, HEADLESS: 3, FOREVER: -1, NONE: 4, UP: 5, DOWN: 6, LEFT: 7, RIGHT: 8 }; t.exports = i
})), n.register("g0MK9", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    var i, s = ""; t.exports = { disable: function (t) { return "" === s && (s = i(t)), s && (t[s] = !1), t }, enable: function (t) { return "" === s && (s = i(t)), s && (t[s] = !0), t }, getPrefix: i = function (t) { for (var e = ["i", "webkitI", "msI", "mozI", "oI"], i = 0; i < e.length; i++) { var s = e[i] + "mageSmoothingEnabled"; if (s in t) return s } return null }, isEnabled: function (t) { return null !== s ? t[s] : null } }
})), n.register("ilLbF", (function (t, e) { t.exports = function (t, e, i) { return t.x = e - t.width / 2, t.y = i - t.height / 2, t } })), n.register("u1TTd", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { Fade: n("dd81i"), Flash: n("bBkIL"), Pan: n("bxzLN"), Shake: n("gQwPG"), Zoom: n("03SWf") }
})), n.register("dd81i", (function (t, e) { var i = n("iEUUO"), s = n("jwj1g"), r = n("3xxp2"), o = new s({ initialize: function (t) { this.camera = t, this.isRunning = !1, this.isComplete = !1, this.direction = !0, this.duration = 0, this.red = 0, this.green = 0, this.blue = 0, this.alpha = 0, this.progress = 0, this._elapsed = 0, this._onUpdate, this._onUpdateScope }, start: function (t, e, i, s, n, o, a, h) { if (void 0 === t && (t = !0), void 0 === e && (e = 1e3), void 0 === i && (i = 0), void 0 === s && (s = 0), void 0 === n && (n = 0), void 0 === o && (o = !1), void 0 === a && (a = null), void 0 === h && (h = this.camera.scene), !o && this.isRunning) return this.camera; this.isRunning = !0, this.isComplete = !1, this.duration = e, this.direction = t, this.progress = 0, this.red = i, this.green = s, this.blue = n, this.alpha = t ? Number.MIN_VALUE : 1, this._elapsed = 0, this._onUpdate = a, this._onUpdateScope = h; var l = t ? r.FADE_OUT_START : r.FADE_IN_START; return this.camera.emit(l, this.camera, this, e, i, s, n), this.camera }, update: function (t, e) { this.isRunning && (this._elapsed += e, this.progress = i(this._elapsed / this.duration, 0, 1), this._onUpdate && this._onUpdate.call(this._onUpdateScope, this.camera, this.progress), this._elapsed < this.duration ? this.alpha = this.direction ? this.progress : 1 - this.progress : (this.alpha = this.direction ? 1 : 0, this.effectComplete())) }, postRenderCanvas: function (t) { if (!this.isRunning && !this.isComplete) return !1; var e = this.camera; return t.fillStyle = "rgba(" + this.red + "," + this.green + "," + this.blue + "," + this.alpha + ")", t.fillRect(e._cx, e._cy, e._cw, e._ch), !0 }, postRenderWebGL: function (t, e) { if (!this.isRunning && !this.isComplete) return !1; var i = this.camera, s = this.red / 255, n = this.blue / 255, r = this.green / 255; return t.drawFillRect(i._cx, i._cy, i._cw, i._ch, e(s, r, n, 1), this.alpha), !0 }, effectComplete: function () { this._onUpdate = null, this._onUpdateScope = null, this.isRunning = !1, this.isComplete = !0; var t = this.direction ? r.FADE_OUT_COMPLETE : r.FADE_IN_COMPLETE; this.camera.emit(t, this.camera, this) }, reset: function () { this.isRunning = !1, this.isComplete = !1, this._onUpdate = null, this._onUpdateScope = null }, destroy: function () { this.reset(), this.camera = null } }); t.exports = o })), n.register("bBkIL", (function (t, e) { var i = n("iEUUO"), s = n("jwj1g"), r = n("3xxp2"), o = new s({ initialize: function (t) { this.camera = t, this.isRunning = !1, this.duration = 0, this.red = 0, this.green = 0, this.blue = 0, this.alpha = 0, this.progress = 0, this._elapsed = 0, this._onUpdate, this._onUpdateScope }, start: function (t, e, i, s, n, o, a) { return void 0 === t && (t = 250), void 0 === e && (e = 255), void 0 === i && (i = 255), void 0 === s && (s = 255), void 0 === n && (n = !1), void 0 === o && (o = null), void 0 === a && (a = this.camera.scene), !n && this.isRunning || (this.isRunning = !0, this.duration = t, this.progress = 0, this.red = e, this.green = i, this.blue = s, this.alpha = 1, this._elapsed = 0, this._onUpdate = o, this._onUpdateScope = a, this.camera.emit(r.FLASH_START, this.camera, this, t, e, i, s)), this.camera }, update: function (t, e) { this.isRunning && (this._elapsed += e, this.progress = i(this._elapsed / this.duration, 0, 1), this._onUpdate && this._onUpdate.call(this._onUpdateScope, this.camera, this.progress), this._elapsed < this.duration ? this.alpha = 1 - this.progress : this.effectComplete()) }, postRenderCanvas: function (t) { if (!this.isRunning) return !1; var e = this.camera; return t.fillStyle = "rgba(" + this.red + "," + this.green + "," + this.blue + "," + this.alpha + ")", t.fillRect(e._cx, e._cy, e._cw, e._ch), !0 }, postRenderWebGL: function (t, e) { if (!this.isRunning) return !1; var i = this.camera, s = this.red / 255, n = this.blue / 255, r = this.green / 255; return t.drawFillRect(i._cx, i._cy, i._cw, i._ch, e(s, r, n, 1), this.alpha), !0 }, effectComplete: function () { this._onUpdate = null, this._onUpdateScope = null, this.isRunning = !1, this.camera.emit(r.FLASH_COMPLETE, this.camera, this) }, reset: function () { this.isRunning = !1, this._onUpdate = null, this._onUpdateScope = null }, destroy: function () { this.reset(), this.camera = null } }); t.exports = o })), n.register("bxzLN", (function (t, e) { var i = n("iEUUO"), s = n("jwj1g"), r = n("cV9mL"), o = n("3xxp2"), a = n("7SBSk"), h = new s({ initialize: function (t) { this.camera = t, this.isRunning = !1, this.duration = 0, this.source = new a, this.current = new a, this.destination = new a, this.ease, this.progress = 0, this._elapsed = 0, this._onUpdate, this._onUpdateScope }, start: function (t, e, i, s, n, a, h) { void 0 === i && (i = 1e3), void 0 === s && (s = r.Linear), void 0 === n && (n = !1), void 0 === a && (a = null), void 0 === h && (h = this.camera.scene); var l = this.camera; return !n && this.isRunning || (this.isRunning = !0, this.duration = i, this.progress = 0, this.source.set(l.scrollX, l.scrollY), this.destination.set(t, e), l.getScroll(t, e, this.current), "string" == typeof s && r.hasOwnProperty(s) ? this.ease = r[s] : "function" == typeof s && (this.ease = s), this._elapsed = 0, this._onUpdate = a, this._onUpdateScope = h, this.camera.emit(o.PAN_START, this.camera, this, i, t, e)), l }, update: function (t, e) { if (this.isRunning) { this._elapsed += e; var s = i(this._elapsed / this.duration, 0, 1); this.progress = s; var n = this.camera; if (this._elapsed < this.duration) { var r = this.ease(s); n.getScroll(this.destination.x, this.destination.y, this.current); var o = this.source.x + (this.current.x - this.source.x) * r, a = this.source.y + (this.current.y - this.source.y) * r; n.setScroll(o, a), this._onUpdate && this._onUpdate.call(this._onUpdateScope, n, s, o, a) } else n.centerOn(this.destination.x, this.destination.y), this._onUpdate && this._onUpdate.call(this._onUpdateScope, n, s, n.scrollX, n.scrollY), this.effectComplete() } }, effectComplete: function () { this._onUpdate = null, this._onUpdateScope = null, this.isRunning = !1, this.camera.emit(o.PAN_COMPLETE, this.camera, this) }, reset: function () { this.isRunning = !1, this._onUpdate = null, this._onUpdateScope = null }, destroy: function () { this.reset(), this.camera = null, this.source = null, this.destination = null } }); t.exports = h })), n.register("cV9mL", (function (t, e) { var i = n("GYEL3"), s = n("1RSgF"), r = n("8s9Sd"), o = n("aG266"), a = n("jDd1d"), h = n("gZBzc"), l = n("hBgCe"), u = n("c4phQ"), c = n("czPB4"), d = n("2NYh6"), f = n("filII"), p = n("dfXsE"); t.exports = { Power0: l, Power1: u.Out, Power2: o.Out, Power3: c.Out, Power4: d.Out, Linear: l, Quad: u.Out, Cubic: o.Out, Quart: c.Out, Quint: d.Out, Sine: f.Out, Expo: h.Out, Circ: r.Out, Elastic: a.Out, Back: i.Out, Bounce: s.Out, Stepped: p, "Quad.easeIn": u.In, "Cubic.easeIn": o.In, "Quart.easeIn": c.In, "Quint.easeIn": d.In, "Sine.easeIn": f.In, "Expo.easeIn": h.In, "Circ.easeIn": r.In, "Elastic.easeIn": a.In, "Back.easeIn": i.In, "Bounce.easeIn": s.In, "Quad.easeOut": u.Out, "Cubic.easeOut": o.Out, "Quart.easeOut": c.Out, "Quint.easeOut": d.Out, "Sine.easeOut": f.Out, "Expo.easeOut": h.Out, "Circ.easeOut": r.Out, "Elastic.easeOut": a.Out, "Back.easeOut": i.Out, "Bounce.easeOut": s.Out, "Quad.easeInOut": u.InOut, "Cubic.easeInOut": o.InOut, "Quart.easeInOut": c.InOut, "Quint.easeInOut": d.InOut, "Sine.easeInOut": f.InOut, "Expo.easeInOut": h.InOut, "Circ.easeInOut": r.InOut, "Elastic.easeInOut": a.InOut, "Back.easeInOut": i.InOut, "Bounce.easeInOut": s.InOut } })), n.register("GYEL3", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { In: n("9spRF"), Out: n("a46ti"), InOut: n("iGiC8") }
})), n.register("9spRF", (function (t, e) { t.exports = function (t, e) { return void 0 === e && (e = 1.70158), t * t * ((e + 1) * t - e) } })), n.register("a46ti", (function (t, e) { t.exports = function (t, e) { return void 0 === e && (e = 1.70158), --t * t * ((e + 1) * t + e) + 1 } })), n.register("iGiC8", (function (t, e) { t.exports = function (t, e) { void 0 === e && (e = 1.70158); var i = 1.525 * e; return (t *= 2) < 1 ? t * t * ((i + 1) * t - i) * .5 : .5 * ((t -= 2) * t * ((i + 1) * t + i) + 2) } })), n.register("1RSgF", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { In: n("3L65E"), Out: n("lsJca"), InOut: n("2l0Bo") }
})), n.register("3L65E", (function (t, e) { t.exports = function (t) { return (t = 1 - t) < 1 / 2.75 ? 1 - 7.5625 * t * t : t < 2 / 2.75 ? 1 - (7.5625 * (t -= 1.5 / 2.75) * t + .75) : t < 2.5 / 2.75 ? 1 - (7.5625 * (t -= 2.25 / 2.75) * t + .9375) : 1 - (7.5625 * (t -= 2.625 / 2.75) * t + .984375) } })), n.register("lsJca", (function (t, e) { t.exports = function (t) { return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375 } })), n.register("2l0Bo", (function (t, e) { t.exports = function (t) { var e = !1; return t < .5 ? (t = 1 - 2 * t, e = !0) : t = 2 * t - 1, t < 1 / 2.75 ? t *= 7.5625 * t : t = t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375, e ? .5 * (1 - t) : .5 * t + .5 } })), n.register("8s9Sd", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { In: n("63dis"), Out: n("6picE"), InOut: n("iT7wR") }
})), n.register("63dis", (function (t, e) { t.exports = function (t) { return 1 - Math.sqrt(1 - t * t) } })), n.register("6picE", (function (t, e) { t.exports = function (t) { return Math.sqrt(1 - --t * t) } })), n.register("iT7wR", (function (t, e) { t.exports = function (t) { return (t *= 2) < 1 ? -.5 * (Math.sqrt(1 - t * t) - 1) : .5 * (Math.sqrt(1 - (t -= 2) * t) + 1) } })), n.register("aG266", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { In: n("hX2vA"), Out: n("46Nrr"), InOut: n("eg0YD") }
})), n.register("hX2vA", (function (t, e) { t.exports = function (t) { return t * t * t } })), n.register("46Nrr", (function (t, e) { t.exports = function (t) { return --t * t * t + 1 } })), n.register("eg0YD", (function (t, e) { t.exports = function (t) { return (t *= 2) < 1 ? .5 * t * t * t : .5 * ((t -= 2) * t * t + 2) } })), n.register("jDd1d", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { In: n("eE9kO"), Out: n("5ASGW"), InOut: n("bdwic") }
})), n.register("eE9kO", (function (t, e) { t.exports = function (t, e, i) { if (void 0 === e && (e = .1), void 0 === i && (i = .1), 0 === t) return 0; if (1 === t) return 1; var s = i / 4; return e < 1 ? e = 1 : s = i * Math.asin(1 / e) / (2 * Math.PI), -e * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * (2 * Math.PI) / i) } })), n.register("5ASGW", (function (t, e) { t.exports = function (t, e, i) { if (void 0 === e && (e = .1), void 0 === i && (i = .1), 0 === t) return 0; if (1 === t) return 1; var s = i / 4; return e < 1 ? e = 1 : s = i * Math.asin(1 / e) / (2 * Math.PI), e * Math.pow(2, -10 * t) * Math.sin((t - s) * (2 * Math.PI) / i) + 1 } })), n.register("bdwic", (function (t, e) { t.exports = function (t, e, i) { if (void 0 === e && (e = .1), void 0 === i && (i = .1), 0 === t) return 0; if (1 === t) return 1; var s = i / 4; return e < 1 ? e = 1 : s = i * Math.asin(1 / e) / (2 * Math.PI), (t *= 2) < 1 ? e * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * (2 * Math.PI) / i) * -.5 : e * Math.pow(2, -10 * (t -= 1)) * Math.sin((t - s) * (2 * Math.PI) / i) * .5 + 1 } })), n.register("gZBzc", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { In: n("dF0PL"), Out: n("5OkCs"), InOut: n("hHyCF") }
})), n.register("dF0PL", (function (t, e) { t.exports = function (t) { return Math.pow(2, 10 * (t - 1)) - .001 } })), n.register("5OkCs", (function (t, e) { t.exports = function (t) { return 1 - Math.pow(2, -10 * t) } })), n.register("hHyCF", (function (t, e) { t.exports = function (t) { return (t *= 2) < 1 ? .5 * Math.pow(2, 10 * (t - 1)) : .5 * (2 - Math.pow(2, -10 * (t - 1))) } })), n.register("hBgCe", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = n("4yFp2")
})), n.register("4yFp2", (function (t, e) { t.exports = function (t) { return t } })), n.register("c4phQ", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { In: n("jfeqJ"), Out: n("b1jC2"), InOut: n("kxuux") }
})), n.register("jfeqJ", (function (t, e) { t.exports = function (t) { return t * t } })), n.register("b1jC2", (function (t, e) { t.exports = function (t) { return t * (2 - t) } })), n.register("kxuux", (function (t, e) { t.exports = function (t) { return (t *= 2) < 1 ? .5 * t * t : -.5 * (--t * (t - 2) - 1) } })), n.register("czPB4", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { In: n("lCzpM"), Out: n("5Sj7h"), InOut: n("76x8L") }
})), n.register("lCzpM", (function (t, e) { t.exports = function (t) { return t * t * t * t } })), n.register("5Sj7h", (function (t, e) { t.exports = function (t) { return 1 - --t * t * t * t } })), n.register("76x8L", (function (t, e) { t.exports = function (t) { return (t *= 2) < 1 ? .5 * t * t * t * t : -.5 * ((t -= 2) * t * t * t - 2) } })), n.register("2NYh6", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { In: n("8AT7r"), Out: n("i2cb2"), InOut: n("9vyIZ") }
})), n.register("8AT7r", (function (t, e) { t.exports = function (t) { return t * t * t * t * t } })), n.register("i2cb2", (function (t, e) { t.exports = function (t) { return --t * t * t * t * t + 1 } })), n.register("9vyIZ", (function (t, e) { t.exports = function (t) { return (t *= 2) < 1 ? .5 * t * t * t * t * t : .5 * ((t -= 2) * t * t * t * t + 2) } })), n.register("filII", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { In: n("haOm3"), Out: n("43ZzW"), InOut: n("474j8") }
})), n.register("haOm3", (function (t, e) { t.exports = function (t) { return 0 === t ? 0 : 1 === t ? 1 : 1 - Math.cos(t * Math.PI / 2) } })), n.register("43ZzW", (function (t, e) { t.exports = function (t) { return 0 === t ? 0 : 1 === t ? 1 : Math.sin(t * Math.PI / 2) } })), n.register("474j8", (function (t, e) { t.exports = function (t) { return 0 === t ? 0 : 1 === t ? 1 : .5 * (1 - Math.cos(Math.PI * t)) } })), n.register("dfXsE", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = n("fLL1R")
})), n.register("fLL1R", (function (t, e) { t.exports = function (t, e) { return void 0 === e && (e = 1), t <= 0 ? 0 : t >= 1 ? 1 : 1 / e * (1 + (e * t | 0)) } })), n.register("gQwPG", (function (t, e) { var i = n("iEUUO"), s = n("jwj1g"), r = n("3xxp2"), o = n("7SBSk"), a = new s({ initialize: function (t) { this.camera = t, this.isRunning = !1, this.duration = 0, this.intensity = new o, this.progress = 0, this._elapsed = 0, this._offsetX = 0, this._offsetY = 0, this._onUpdate, this._onUpdateScope }, start: function (t, e, i, s, n) { return void 0 === t && (t = 100), void 0 === e && (e = .05), void 0 === i && (i = !1), void 0 === s && (s = null), void 0 === n && (n = this.camera.scene), !i && this.isRunning || (this.isRunning = !0, this.duration = t, this.progress = 0, "number" == typeof e ? this.intensity.set(e) : this.intensity.set(e.x, e.y), this._elapsed = 0, this._offsetX = 0, this._offsetY = 0, this._onUpdate = s, this._onUpdateScope = n, this.camera.emit(r.SHAKE_START, this.camera, this, t, e)), this.camera }, preRender: function () { this.isRunning && this.camera.matrix.translate(this._offsetX, this._offsetY) }, update: function (t, e) { if (this.isRunning) if (this._elapsed += e, this.progress = i(this._elapsed / this.duration, 0, 1), this._onUpdate && this._onUpdate.call(this._onUpdateScope, this.camera, this.progress), this._elapsed < this.duration) { var s = this.intensity, n = this.camera._cw, r = this.camera._ch, o = this.camera.zoom; this._offsetX = (Math.random() * s.x * n * 2 - s.x * n) * o, this._offsetY = (Math.random() * s.y * r * 2 - s.y * r) * o, this.camera.roundPixels && (this._offsetX = Math.round(this._offsetX), this._offsetY = Math.round(this._offsetY)) } else this.effectComplete() }, effectComplete: function () { this._offsetX = 0, this._offsetY = 0, this._onUpdate = null, this._onUpdateScope = null, this.isRunning = !1, this.camera.emit(r.SHAKE_COMPLETE, this.camera, this) }, reset: function () { this.isRunning = !1, this._offsetX = 0, this._offsetY = 0, this._onUpdate = null, this._onUpdateScope = null }, destroy: function () { this.reset(), this.camera = null, this.intensity = null } }); t.exports = a })), n.register("03SWf", (function (t, e) { var i = n("iEUUO"), s = n("jwj1g"), r = n("cV9mL"), o = n("3xxp2"), a = new s({ initialize: function (t) { this.camera = t, this.isRunning = !1, this.duration = 0, this.source = 1, this.destination = 1, this.ease, this.progress = 0, this._elapsed = 0, this._onUpdate, this._onUpdateScope }, start: function (t, e, i, s, n, a) { void 0 === e && (e = 1e3), void 0 === i && (i = r.Linear), void 0 === s && (s = !1), void 0 === n && (n = null), void 0 === a && (a = this.camera.scene); var h = this.camera; return !s && this.isRunning || (this.isRunning = !0, this.duration = e, this.progress = 0, this.source = h.zoom, this.destination = t, "string" == typeof i && r.hasOwnProperty(i) ? this.ease = r[i] : "function" == typeof i && (this.ease = i), this._elapsed = 0, this._onUpdate = n, this._onUpdateScope = a, this.camera.emit(o.ZOOM_START, this.camera, this, e, t)), h }, update: function (t, e) { this.isRunning && (this._elapsed += e, this.progress = i(this._elapsed / this.duration, 0, 1), this._elapsed < this.duration ? (this.camera.zoom = this.source + (this.destination - this.source) * this.ease(this.progress), this._onUpdate && this._onUpdate.call(this._onUpdateScope, this.camera, this.progress, this.camera.zoom)) : (this.camera.zoom = this.destination, this._onUpdate && this._onUpdate.call(this._onUpdateScope, this.camera, this.progress, this.destination), this.effectComplete())) }, effectComplete: function () { this._onUpdate = null, this._onUpdateScope = null, this.isRunning = !1, this.camera.emit(o.ZOOM_COMPLETE, this.camera, this) }, reset: function () { this.isRunning = !1, this._onUpdate = null, this._onUpdateScope = null }, destroy: function () { this.reset(), this.camera = null } }); t.exports = a })), n.register("fDkZ4", (function (t, e) { t.exports = function (t, e, i) { return (e - t) * i + t } })), n.register("bJjUa", (function (t, e) { var i = n("eAXHP"), s = n("jwj1g"), r = n("7BSWl"), o = n("7AzQW"), a = n("6pEze"), h = n("jPI3B"), l = n("4rtgc"), u = new s({ initialize: function (t) { this.scene = t, this.systems = t.sys, this.roundPixels = t.sys.game.config.roundPixels, this.cameras = [], this.main, this.default, t.sys.events.once(l.BOOT, this.boot, this), t.sys.events.on(l.START, this.start, this) }, boot: function () { var t = this.systems; t.settings.cameras ? this.fromJSON(t.settings.cameras) : this.add(), this.main = this.cameras[0], this.default = new i(0, 0, t.scale.width, t.scale.height).setScene(this.scene), t.game.scale.on(h.RESIZE, this.onResize, this), this.systems.events.once(l.DESTROY, this.destroy, this) }, start: function () { if (!this.main) { var t = this.systems; t.settings.cameras ? this.fromJSON(t.settings.cameras) : this.add(), this.main = this.cameras[0] } var e = this.systems.events; e.on(l.UPDATE, this.update, this), e.once(l.SHUTDOWN, this.shutdown, this) }, add: function (t, e, s, n, r, o) { void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === s && (s = this.scene.sys.scale.width), void 0 === n && (n = this.scene.sys.scale.height), void 0 === r && (r = !1), void 0 === o && (o = ""); var a = new i(t, e, s, n); return a.setName(o), a.setScene(this.scene), a.setRoundPixels(this.roundPixels), a.id = this.getNextID(), this.cameras.push(a), r && (this.main = a), a }, addExisting: function (t, e) { return void 0 === e && (e = !1), -1 === this.cameras.indexOf(t) ? (t.id = this.getNextID(), t.setRoundPixels(this.roundPixels), this.cameras.push(t), e && (this.main = t), t) : null }, getNextID: function () { for (var t = this.cameras, e = 1, i = 0; i < 32; i++) { for (var s = !1, n = 0; n < t.length; n++) { var r = t[n]; r && r.id === e && (s = !0) } if (!s) return e; e <<= 1 } return 0 }, getTotal: function (t) { void 0 === t && (t = !1); for (var e = 0, i = this.cameras, s = 0; s < i.length; s++) { var n = i[s]; (!t || t && n.visible) && e++ } return e }, fromJSON: function (t) { Array.isArray(t) || (t = [t]); for (var e = this.scene.sys.scale.width, i = this.scene.sys.scale.height, s = 0; s < t.length; s++) { var n = t[s], o = r(n, "x", 0), a = r(n, "y", 0), h = r(n, "width", e), l = r(n, "height", i), u = this.add(o, a, h, l); u.name = r(n, "name", ""), u.zoom = r(n, "zoom", 1), u.rotation = r(n, "rotation", 0), u.scrollX = r(n, "scrollX", 0), u.scrollY = r(n, "scrollY", 0), u.roundPixels = r(n, "roundPixels", !1), u.visible = r(n, "visible", !0); var c = r(n, "backgroundColor", !1); c && u.setBackgroundColor(c); var d = r(n, "bounds", null); if (d) { var f = r(d, "x", 0), p = r(d, "y", 0), g = r(d, "width", e), v = r(d, "height", i); u.setBounds(f, p, g, v) } } return this }, getCamera: function (t) { for (var e = this.cameras, i = 0; i < e.length; i++)if (e[i].name === t) return e[i]; return null }, getCamerasBelowPointer: function (t) { for (var e = this.cameras, i = t.x, s = t.y, n = [], r = 0; r < e.length; r++) { var o = e[r]; o.visible && o.inputEnabled && a(o, i, s) && n.unshift(o) } return n }, remove: function (t, e) { void 0 === e && (e = !0), Array.isArray(t) || (t = [t]); for (var i = 0, s = this.cameras, n = 0; n < t.length; n++) { var r = s.indexOf(t[n]); -1 !== r && (e && s[r].destroy(), s.splice(r, 1), i++) } return !this.main && s[0] && (this.main = s[0]), i }, render: function (t, e, i) { for (var s = this.scene, n = this.cameras, r = 0; r < this.cameras.length; r++) { var o = n[r]; o.visible && o.alpha > 0 && (o.preRender(1), t.render(s, e, i, o)) } }, resetAll: function () { for (var t = 0; t < this.cameras.length; t++)this.cameras[t].destroy(); return this.cameras = [], this.main = this.add(), this.main }, update: function (t, e) { for (var i = 0; i < this.cameras.length; i++)this.cameras[i].update(t, e) }, onResize: function (t, e, i, s, n, r) { for (var o = 0; o < this.cameras.length; o++) { var a = this.cameras[o]; 0 === a._x && 0 === a._y && a._width === n && a._height === r && a.setSize(e.width, e.height) } }, resize: function (t, e) { for (var i = 0; i < this.cameras.length; i++)this.cameras[i].setSize(t, e) }, shutdown: function () { this.main = void 0; for (var t = 0; t < this.cameras.length; t++)this.cameras[t].destroy(); this.cameras = []; var e = this.systems.events; e.off(l.UPDATE, this.update, this), e.off(l.SHUTDOWN, this.shutdown, this) }, destroy: function () { this.shutdown(), this.default.destroy(), this.scene.sys.events.off(l.START, this.start, this), this.scene = null, this.systems = null } }); o.register("CameraManager", u, "cameras"), t.exports = u })), n.register("7AzQW", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    var i = {}, s = {}, n = { register: function (t, e, s, n) { void 0 === n && (n = !1), i[t] = { plugin: e, mapping: s, custom: n } }, registerCustom: function (t, e, i, n) { s[t] = { plugin: e, mapping: i, data: n } }, hasCore: function (t) { return i.hasOwnProperty(t) }, hasCustom: function (t) { return s.hasOwnProperty(t) }, getCore: function (t) { return i[t] }, getCustom: function (t) { return s[t] }, getCustomClass: function (t) { return s.hasOwnProperty(t) ? s[t].plugin : null }, remove: function (t) { i.hasOwnProperty(t) && delete i[t] }, removeCustom: function (t) { s.hasOwnProperty(t) && delete s[t] }, destroyCorePlugins: function () { for (var t in i) i.hasOwnProperty(t) && delete i[t] }, destroyCustomPlugins: function () { for (var t in s) s.hasOwnProperty(t) && delete s[t] } }; t.exports = n
})), n.register("jPI3B", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { ENTER_FULLSCREEN: n("eLhfG"), FULLSCREEN_FAILED: n("jvHSU"), FULLSCREEN_UNSUPPORTED: n("iWr36"), LEAVE_FULLSCREEN: n("5jmco"), ORIENTATION_CHANGE: n("j7QiY"), RESIZE: n("gfeXq") }
})), n.register("eLhfG", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "enterfullscreen"
})), n.register("jvHSU", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "fullscreenfailed"
})), n.register("iWr36", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "fullscreenunsupported"
})), n.register("5jmco", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "leavefullscreen"
})), n.register("j7QiY", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "orientationchange"
})), n.register("gfeXq", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "resize"
})), n.register("4rtgc", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { BOOT: n("gbawY"), CREATE: n("a01bj"), DESTROY: n("dCqgX"), PAUSE: n("aLMBP"), POST_UPDATE: n("5n3eX"), PRE_UPDATE: n("aFxIg"), READY: n("3l5wy"), RENDER: n("dhZDe"), RESUME: n("byujQ"), SHUTDOWN: n("7BJnZ"), SLEEP: n("cCEAa"), START: n("aQCLI"), TRANSITION_COMPLETE: n("2o7oE"), TRANSITION_INIT: n("42wKn"), TRANSITION_OUT: n("3pHsg"), TRANSITION_START: n("ryW1Q"), TRANSITION_WAKE: n("leHRQ"), UPDATE: n("FqnNo"), WAKE: n("45hbh") }
})), n.register("gbawY", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "boot"
})), n.register("a01bj", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "create"
})), n.register("dCqgX", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "destroy"
})), n.register("aLMBP", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "pause"
})), n.register("5n3eX", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "postupdate"
})), n.register("aFxIg", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "preupdate"
})), n.register("3l5wy", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "ready"
})), n.register("dhZDe", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "render"
})), n.register("byujQ", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "resume"
})), n.register("7BJnZ", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "shutdown"
})), n.register("cCEAa", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "sleep"
})), n.register("aQCLI", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "start"
})), n.register("2o7oE", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "transitioncomplete"
})), n.register("42wKn", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "transitioninit"
})), n.register("3pHsg", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "transitionout"
})), n.register("ryW1Q", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "transitionstart"
})), n.register("leHRQ", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "transitionwake"
})), n.register("FqnNo", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "update"
})), n.register("45hbh", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "wake"
})), n.register("b8jwN", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { Config: n("cIuDW"), CreateRenderer: n("dFILV"), DebugHeader: n("aGYvp"), Events: n("aqcI1"), TimeStep: n("bc6Xj"), VisibilityHandler: n("cEGtP") }
})), n.register("cIuDW", (function (t, e) { var i = n("jwj1g"), s = n("bRAqZ"), r = n("eii8B"), o = n("7BSWl"), a = n("5pMDk"), h = n("jC9MQ"), l = n("5OyGi"), u = n("13GYA"), c = n("488fh"), d = n("iYnst"), f = new i({ initialize: function (t) { void 0 === t && (t = {}); this.width = a(t, "width", 1024), this.height = a(t, "height", 768), this.zoom = a(t, "zoom", 1), this.resolution = a(t, "resolution", 1), this.parent = a(t, "parent", void 0), this.scaleMode = a(t, "scaleMode", 0), this.expandParent = a(t, "expandParent", !0), this.autoRound = a(t, "autoRound", !1), this.autoCenter = a(t, "autoCenter", 0), this.resizeInterval = a(t, "resizeInterval", 500), this.fullscreenTarget = a(t, "fullscreenTarget", null), this.minWidth = a(t, "minWidth", 0), this.maxWidth = a(t, "maxWidth", 0), this.minHeight = a(t, "minHeight", 0), this.maxHeight = a(t, "maxHeight", 0); var e = a(t, "scale", null); e && (this.width = a(e, "width", this.width), this.height = a(e, "height", this.height), this.zoom = a(e, "zoom", this.zoom), this.resolution = a(e, "resolution", this.resolution), this.parent = a(e, "parent", this.parent), this.scaleMode = a(e, "mode", this.scaleMode), this.expandParent = a(e, "expandParent", this.expandParent), this.autoRound = a(e, "autoRound", this.autoRound), this.autoCenter = a(e, "autoCenter", this.autoCenter), this.resizeInterval = a(e, "resizeInterval", this.resizeInterval), this.fullscreenTarget = a(e, "fullscreenTarget", this.fullscreenTarget), this.minWidth = a(e, "min.width", this.minWidth), this.maxWidth = a(e, "max.width", this.maxWidth), this.minHeight = a(e, "min.height", this.minHeight), this.maxHeight = a(e, "max.height", this.maxHeight)), this.renderType = a(t, "type", s.AUTO), this.canvas = a(t, "canvas", null), this.context = a(t, "context", null), this.canvasStyle = a(t, "canvasStyle", null), this.customEnvironment = a(t, "customEnvironment", !1), this.sceneConfig = a(t, "scene", null), this.seed = a(t, "seed", [(Date.now() * Math.random()).toString()]), l.RND = new l.RandomDataGenerator(this.seed), this.gameTitle = a(t, "title", ""), this.gameURL = a(t, "url", "https://phaser.io"), this.gameVersion = a(t, "version", ""), this.autoFocus = a(t, "autoFocus", !0), this.domCreateContainer = a(t, "dom.createContainer", !1), this.domBehindCanvas = a(t, "dom.behindCanvas", !1), this.inputKeyboard = a(t, "input.keyboard", !0), this.inputKeyboardEventTarget = a(t, "input.keyboard.target", window), this.inputKeyboardCapture = a(t, "input.keyboard.capture", []), this.inputMouse = a(t, "input.mouse", !0), this.inputMouseEventTarget = a(t, "input.mouse.target", null), this.inputMouseCapture = a(t, "input.mouse.capture", !0), this.inputTouch = a(t, "input.touch", r.input.touch), this.inputTouchEventTarget = a(t, "input.touch.target", null), this.inputTouchCapture = a(t, "input.touch.capture", !0), this.inputActivePointers = a(t, "input.activePointers", 1), this.inputSmoothFactor = a(t, "input.smoothFactor", 0), this.inputWindowEvents = a(t, "input.windowEvents", !0), this.inputGamepad = a(t, "input.gamepad", !1), this.inputGamepadEventTarget = a(t, "input.gamepad.target", window), this.disableContextMenu = a(t, "disableContextMenu", !1), this.audio = a(t, "audio"), this.hideBanner = !1 === a(t, "banner", null), this.hidePhaser = a(t, "banner.hidePhaser", !1), this.bannerTextColor = a(t, "banner.text", "#ffffff"), this.bannerBackgroundColor = a(t, "banner.background", ["#ff0000", "#ffff00", "#00ff00", "#00ffff", "#000000"]), "" === this.gameTitle && this.hidePhaser && (this.hideBanner = !0), this.fps = a(t, "fps", null); var i = a(t, "render", t); this.antialias = a(i, "antialias", !0), this.antialiasGL = a(i, "antialiasGL", !0), this.mipmapFilter = a(i, "mipmapFilter", "LINEAR"), this.desynchronized = a(i, "desynchronized", !1), this.roundPixels = a(i, "roundPixels", !1), this.pixelArt = a(i, "pixelArt", 1 !== this.zoom), this.pixelArt && (this.antialias = !1, this.roundPixels = !0), this.transparent = a(i, "transparent", !1), this.clearBeforeRender = a(i, "clearBeforeRender", !0), this.premultipliedAlpha = a(i, "premultipliedAlpha", !0), this.failIfMajorPerformanceCaveat = a(i, "failIfMajorPerformanceCaveat", !1), this.powerPreference = a(i, "powerPreference", "default"), this.batchSize = a(i, "batchSize", 2e3), this.maxLights = a(i, "maxLights", 10); var n = a(t, "backgroundColor", 0); this.backgroundColor = d(n), 0 === n && this.transparent && (this.backgroundColor.alpha = 0), this.preBoot = a(t, "callbacks.preBoot", u), this.postBoot = a(t, "callbacks.postBoot", u), this.physics = a(t, "physics", {}), this.defaultPhysicsSystem = a(this.physics, "default", !1), this.loaderBaseURL = a(t, "loader.baseURL", ""), this.loaderPath = a(t, "loader.path", ""), this.loaderMaxParallelDownloads = a(t, "loader.maxParallelDownloads", 32), this.loaderCrossOrigin = a(t, "loader.crossOrigin", void 0), this.loaderResponseType = a(t, "loader.responseType", ""), this.loaderAsync = a(t, "loader.async", !0), this.loaderUser = a(t, "loader.user", ""), this.loaderPassword = a(t, "loader.password", ""), this.loaderTimeout = a(t, "loader.timeout", 0), this.installGlobalPlugins = [], this.installScenePlugins = []; var f = a(t, "plugins", null), p = c.DefaultScene; f && (Array.isArray(f) ? this.defaultPlugins = f : h(f) && (this.installGlobalPlugins = o(f, "global", []), this.installScenePlugins = o(f, "scene", []), Array.isArray(f.default) ? p = f.default : Array.isArray(f.defaultMerge) && (p = p.concat(f.defaultMerge)))), this.defaultPlugins = p; var g = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg"; this.defaultImage = a(t, "images.default", g + "AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="), this.missingImage = a(t, "images.missing", g + "CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="), window && (window.FORCE_WEBGL ? this.renderType = s.WEBGL : window.FORCE_CANVAS && (this.renderType = s.CANVAS)) } }); t.exports = f })), n.register("eii8B", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { os: n("1SePj"), browser: n("2wzxo"), features: n("9t9UB"), input: n("7NL8P"), audio: n("5pvsp"), video: n("cKO6v"), fullscreen: n("hKXoV"), canvasFeatures: n("lz57b") }
})), n.register("1SePj", (function (t, e) {
    var i = n("hPtJY"), s = { android: !1, chromeOS: !1, cordova: !1, crosswalk: !1, desktop: !1, ejecta: !1, electron: !1, iOS: !1, iOSVersion: 0, iPad: !1, iPhone: !1, kindle: !1, linux: !1, macOS: !1, node: !1, nodeWebkit: !1, pixelRatio: 1, webApp: !1, windows: !1, windowsPhone: !1 };
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */t.exports = function () { var t = navigator.userAgent; /Windows/.test(t) ? s.windows = !0 : /Mac OS/.test(t) && !/like Mac OS/.test(t) ? s.macOS = !0 : /Android/.test(t) ? s.android = !0 : /Linux/.test(t) ? s.linux = !0 : /iP[ao]d|iPhone/i.test(t) ? (s.iOS = !0, navigator.appVersion.match(/OS (\d+)/), s.iOSVersion = parseInt(RegExp.$1, 10), s.iPhone = -1 !== t.toLowerCase().indexOf("iphone"), s.iPad = -1 !== t.toLowerCase().indexOf("ipad")) : /Kindle/.test(t) || /\bKF[A-Z][A-Z]+/.test(t) || /Silk.*Mobile Safari/.test(t) ? s.kindle = !0 : /CrOS/.test(t) && (s.chromeOS = !0), (/Windows Phone/i.test(t) || /IEMobile/i.test(t)) && (s.android = !1, s.iOS = !1, s.macOS = !1, s.windows = !0, s.windowsPhone = !0); var e = /Silk/.test(t); return (s.windows || s.macOS || s.linux && !e || s.chromeOS) && (s.desktop = !0), (s.windowsPhone || /Windows NT/i.test(t) && /Touch/i.test(t)) && (s.desktop = !1), navigator.standalone && (s.webApp = !0), void 0 !== window.cordova && (s.cordova = !0), void 0 !== i && i.versions && i.versions.node && (s.node = !0), s.node && "object" == typeof i.versions && (s.nodeWebkit = !!i.versions["node-webkit"], s.electron = !!i.versions.electron), void 0 !== window.ejecta && (s.ejecta = !0), /Crosswalk/.test(t) && (s.crosswalk = !0), s.pixelRatio = window.devicePixelRatio || 1, s }()
})), n.register("hPtJY", (function (t, e) { var i, s, n = t.exports = {}; function r() { throw new Error("setTimeout has not been defined") } function o() { throw new Error("clearTimeout has not been defined") } function a(t) { if (i === setTimeout) return setTimeout(t, 0); if ((i === r || !i) && setTimeout) return i = setTimeout, setTimeout(t, 0); try { return i(t, 0) } catch (e) { try { return i.call(null, t, 0) } catch (e) { return i.call(this, t, 0) } } } !function () { try { i = "function" == typeof setTimeout ? setTimeout : r } catch (t) { i = r } try { s = "function" == typeof clearTimeout ? clearTimeout : o } catch (t) { s = o } }(); var h, l = [], u = !1, c = -1; function d() { u && h && (u = !1, h.length ? l = h.concat(l) : c = -1, l.length && f()) } function f() { if (!u) { var t = a(d); u = !0; for (var e = l.length; e;) { for (h = l, l = []; ++c < e;)h && h[c].run(); c = -1, e = l.length } h = null, u = !1, function (t) { if (s === clearTimeout) return clearTimeout(t); if ((s === o || !s) && clearTimeout) return s = clearTimeout, clearTimeout(t); try { s(t) } catch (e) { try { return s.call(null, t) } catch (e) { return s.call(this, t) } } }(t) } } function p(t, e) { this.fun = t, this.array = e } function g() { } n.nextTick = function (t) { var e = new Array(arguments.length - 1); if (arguments.length > 1) for (var i = 1; i < arguments.length; i++)e[i - 1] = arguments[i]; l.push(new p(t, e)), 1 !== l.length || u || a(f) }, p.prototype.run = function () { this.fun.apply(null, this.array) }, n.title = "browser", n.browser = !0, n.env = {}, n.argv = [], n.version = "", n.versions = {}, n.on = g, n.addListener = g, n.once = g, n.off = g, n.removeListener = g, n.removeAllListeners = g, n.emit = g, n.prependListener = g, n.prependOnceListener = g, n.listeners = function (t) { return [] }, n.binding = function (t) { throw new Error("process.binding is not supported") }, n.cwd = function () { return "/" }, n.chdir = function (t) { throw new Error("process.chdir is not supported") }, n.umask = function () { return 0 } })), n.register("2wzxo", (function (t, e) { var i, s = n("1SePj"), r = { chrome: !1, chromeVersion: 0, edge: !1, firefox: !1, firefoxVersion: 0, ie: !1, ieVersion: 0, mobileSafari: !1, opera: !1, safari: !1, safariVersion: 0, silk: !1, trident: !1, tridentVersion: 0 }; t.exports = (i = navigator.userAgent, /Edge\/\d+/.test(i) ? r.edge = !0 : /Chrome\/(\d+)/.test(i) && !s.windowsPhone ? (r.chrome = !0, r.chromeVersion = parseInt(RegExp.$1, 10)) : /Firefox\D+(\d+)/.test(i) ? (r.firefox = !0, r.firefoxVersion = parseInt(RegExp.$1, 10)) : /AppleWebKit/.test(i) && s.iOS ? r.mobileSafari = !0 : /MSIE (\d+\.\d+);/.test(i) ? (r.ie = !0, r.ieVersion = parseInt(RegExp.$1, 10)) : /Opera/.test(i) ? r.opera = !0 : /Safari/.test(i) && !s.windowsPhone ? r.safari = !0 : /Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(i) && (r.ie = !0, r.trident = !0, r.tridentVersion = parseInt(RegExp.$1, 10), r.ieVersion = parseInt(RegExp.$3, 10)), /Silk/.test(i) && (r.silk = !0), r) })), n.register("9t9UB", (function (t, e) { var i = n("1SePj"), s = n("2wzxo"), r = n("kKoer"), o = { canvas: !1, canvasBitBltShift: null, file: !1, fileSystem: !1, getUserMedia: !0, littleEndian: !1, localStorage: !1, pointerLock: !1, support32bit: !1, vibration: !1, webGL: !1, worker: !1 }; t.exports = function () { o.canvas = !!window.CanvasRenderingContext2D; try { o.localStorage = !!localStorage.getItem } catch (t) { o.localStorage = !1 } o.file = !!(window.File && window.FileReader && window.FileList && window.Blob), o.fileSystem = !!window.requestFileSystem; var t, e, n, a = !1; return o.webGL = function () { if (window.WebGLRenderingContext) try { var t = r.createWebGL(this), e = t.getContext("webgl") || t.getContext("experimental-webgl"), i = r.create2D(this), s = i.getContext("2d").createImageData(1, 1); return a = s.data instanceof Uint8ClampedArray, r.remove(t), r.remove(i), !!e } catch (t) { return !1 } return !1 }(), o.worker = !!window.Worker, o.pointerLock = "pointerLockElement" in document || "mozPointerLockElement" in document || "webkitPointerLockElement" in document, navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia || navigator.oGetUserMedia, window.URL = window.URL || window.webkitURL || window.mozURL || window.msURL, o.getUserMedia = o.getUserMedia && !!navigator.getUserMedia && !!window.URL, s.firefox && s.firefoxVersion < 21 && (o.getUserMedia = !1), !i.iOS && (s.ie || s.firefox || s.chrome) && (o.canvasBitBltShift = !0), (s.safari || s.mobileSafari) && (o.canvasBitBltShift = !1), navigator.vibrate = navigator.vibrate || navigator.webkitVibrate || navigator.mozVibrate || navigator.msVibrate, navigator.vibrate && (o.vibration = !0), "undefined" != typeof ArrayBuffer && "undefined" != typeof Uint8Array && "undefined" != typeof Uint32Array && (o.littleEndian = (t = new ArrayBuffer(4), e = new Uint8Array(t), n = new Uint32Array(t), e[0] = 161, e[1] = 178, e[2] = 195, e[3] = 212, 3569595041 === n[0] || 2712847316 !== n[0] && null)), o.support32bit = "undefined" != typeof ArrayBuffer && "undefined" != typeof Uint8ClampedArray && "undefined" != typeof Int32Array && null !== o.littleEndian && a, o }() })), n.register("7NL8P", (function (t, e) { var i = n("2wzxo"), s = { gamepads: !1, mspointer: !1, touch: !1, wheelEvent: null }; t.exports = (("ontouchstart" in document.documentElement || navigator.maxTouchPoints && navigator.maxTouchPoints >= 1) && (s.touch = !0), (navigator.msPointerEnabled || navigator.pointerEnabled) && (s.mspointer = !0), navigator.getGamepads && (s.gamepads = !0), "onwheel" in window || i.ie && "WheelEvent" in window ? s.wheelEvent = "wheel" : "onmousewheel" in window ? s.wheelEvent = "mousewheel" : i.firefox && "MouseScrollEvent" in window && (s.wheelEvent = "DOMMouseScroll"), s) })), n.register("5pvsp", (function (t, e) { var i = n("2wzxo"), s = { audioData: !1, dolby: !1, m4a: !1, mp3: !1, ogg: !1, opus: !1, wav: !1, webAudio: !1, webm: !1 }; t.exports = function () { s.audioData = !!window.Audio, s.webAudio = !(!window.AudioContext && !window.webkitAudioContext); var t = document.createElement("audio"), e = !!t.canPlayType; try { if (e && (t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, "") && (s.ogg = !0), (t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/, "") || t.canPlayType("audio/opus;").replace(/^no$/, "")) && (s.opus = !0), t.canPlayType("audio/mpeg;").replace(/^no$/, "") && (s.mp3 = !0), t.canPlayType('audio/wav; codecs="1"').replace(/^no$/, "") && (s.wav = !0), (t.canPlayType("audio/x-m4a;") || t.canPlayType("audio/aac;").replace(/^no$/, "")) && (s.m4a = !0), t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, "") && (s.webm = !0), "" !== t.canPlayType('audio/mp4;codecs="ec-3"'))) if (i.edge) s.dolby = !0; else if (i.safari && i.safariVersion >= 9 && /Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)) { var n = parseInt(RegExp.$1, 10), r = parseInt(RegExp.$2, 10); (10 === n && r >= 11 || n > 10) && (s.dolby = !0) } } catch (t) { } return s }() })), n.register("cKO6v", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    var i = { h264: !1, hls: !1, mp4: !1, ogg: !1, vp9: !1, webm: !1 }; t.exports = function () { var t = document.createElement("video"), e = !!t.canPlayType; try { e && (t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/, "") && (i.ogg = !0), t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/, "") && (i.h264 = !0, i.mp4 = !0), t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/, "") && (i.webm = !0), t.canPlayType('video/webm; codecs="vp9"').replace(/^no$/, "") && (i.vp9 = !0), t.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/, "") && (i.hls = !0)) } catch (t) { } return i }()
})), n.register("hKXoV", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    var i = { available: !1, cancel: "", keyboard: !1, request: "" }; t.exports = function () { var t, e = "Fullscreen", s = "FullScreen", n = ["request" + e, "request" + s, "webkitRequest" + e, "webkitRequest" + s, "msRequest" + e, "msRequest" + s, "mozRequest" + s, "mozRequest" + e]; for (t = 0; t < n.length; t++)if (document.documentElement[n[t]]) { i.available = !0, i.request = n[t]; break } var r = ["cancel" + s, "exit" + e, "webkitCancel" + s, "webkitExit" + e, "msCancel" + s, "msExit" + e, "mozCancel" + s, "mozExit" + e]; if (i.available) for (t = 0; t < r.length; t++)if (document[r[t]]) { i.cancel = r[t]; break } return window.Element && Element.ALLOW_KEYBOARD_INPUT && !/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent) && (i.keyboard = !0), Object.defineProperty(i, "active", { get: function () { return !!(document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement) } }), i }()
})), n.register("lz57b", (function (t, e) { var i, s, r, o = n("kKoer"), a = { supportInverseAlpha: !1, supportNewBlendModes: !1 }; t.exports = (void 0 !== document && (a.supportNewBlendModes = (i = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/", s = "AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==", (r = new Image).onload = function () { var t = new Image; t.onload = function () { var e = o.create(t, 6, 1).getContext("2d"); if (e.globalCompositeOperation = "multiply", e.drawImage(r, 0, 0), e.drawImage(t, 2, 0), !e.getImageData(2, 0, 1, 1)) return !1; var i = e.getImageData(2, 0, 1, 1).data; o.remove(t), a.supportNewBlendModes = 255 === i[0] && 0 === i[1] && 0 === i[2] }, t.src = i + "/wCKxvRF" + s }, r.src = i + "AP804Oa6" + s, !1), a.supportInverseAlpha = function () { var t = o.create(this, 2, 1).getContext("2d"); t.fillStyle = "rgba(10, 20, 30, 0.5)", t.fillRect(0, 0, 1, 1); var e = t.getImageData(0, 0, 1, 1); if (null === e) return !1; t.putImageData(e, 1, 0); var i = t.getImageData(1, 0, 1, 1); return i.data[0] === e.data[0] && i.data[1] === e.data[1] && i.data[2] === e.data[2] && i.data[3] === e.data[3] }()), a) })), n.register("5OyGi", (function (t, e) { var i = n("bNtDi"), s = n("hVk4C"), r = { Angle: n("4E77s"), Distance: n("e8x5Y"), Easing: n("llvIY"), Fuzzy: n("iBe1F"), Interpolation: n("9DXii"), Pow2: n("6uljX"), Snap: n("5cdku"), RandomDataGenerator: n("kZvwz"), Average: n("kljIP"), Bernstein: n("iV0zT"), Between: n("2EBZh"), CatmullRom: n("4pkLE"), CeilTo: n("aUMR7"), Clamp: n("iEUUO"), DegToRad: n("2zqSA"), Difference: n("aAJEh"), Factorial: n("4Aff2"), FloatBetween: n("ilYgh"), FloorTo: n("7i50Z"), FromPercent: n("hqfaz"), GetSpeed: n("41iYH"), IsEven: n("9nYPL"), IsEvenStrict: n("ln03h"), Linear: n("fDkZ4"), MaxAdd: n("7Rizn"), MinSub: n("3tkM7"), Percent: n("90CDP"), RadToDeg: n("dcSyA"), RandomXY: n("7tDIc"), RandomXYZ: n("aBiCH"), RandomXYZW: n("5ojVH"), Rotate: n("kaMwv"), RotateAround: n("5Ntai"), RotateAroundDistance: n("k8Nlz"), RoundAwayFromZero: n("dzVSZ"), RoundTo: n("d5xgb"), SinCosTableGenerator: n("cHvgN"), SmootherStep: n("1YVfA"), SmoothStep: n("363Nu"), ToXY: n("kCBVf"), TransformXY: n("coTXE"), Within: n("fIwMQ"), Wrap: n("8qWuA"), Vector2: n("7SBSk"), Vector3: n("gbKIZ"), Vector4: n("27QVG"), Matrix3: n("gX42i"), Matrix4: n("hD0DV"), Quaternion: n("jzUY5"), RotateVec3: n("iV7dk") }; r = s(!1, r, i), t.exports = r })), n.register("4E77s", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { Between: n("n95vh"), BetweenPoints: n("hhiaI"), BetweenPointsY: n("fa5Av"), BetweenY: n("9B6ty"), CounterClockwise: n("a91kL"), Normalize: n("lqGs2"), Reverse: n("eWA62"), RotateTo: n("cyWaM"), ShortestBetween: n("7V7Oj"), Wrap: n("1W59j"), WrapDegrees: n("dokq5") }
})), n.register("n95vh", (function (t, e) { t.exports = function (t, e, i, s) { return Math.atan2(s - e, i - t) } })), n.register("hhiaI", (function (t, e) { t.exports = function (t, e) { return Math.atan2(e.y - t.y, e.x - t.x) } })), n.register("fa5Av", (function (t, e) { t.exports = function (t, e) { return Math.atan2(e.x - t.x, e.y - t.y) } })), n.register("9B6ty", (function (t, e) { t.exports = function (t, e, i, s) { return Math.atan2(i - t, s - e) } })), n.register("a91kL", (function (t, e) { var i = n("bNtDi"); t.exports = function (t) { return t > Math.PI && (t -= i.PI2), Math.abs(((t + i.TAU) % i.PI2 - i.PI2) % i.PI2) } })), n.register("lqGs2", (function (t, e) { t.exports = function (t) { return (t %= 2 * Math.PI) >= 0 ? t : t + 2 * Math.PI } })), n.register("eWA62", (function (t, e) { var i = n("lqGs2"); t.exports = function (t) { return i(t + Math.PI) } })), n.register("cyWaM", (function (t, e) { var i = n("bNtDi"); t.exports = function (t, e, s) { return void 0 === s && (s = .05), t === e || (Math.abs(e - t) <= s || Math.abs(e - t) >= i.PI2 - s ? t = e : (Math.abs(e - t) > Math.PI && (e < t ? e += i.PI2 : e -= i.PI2), e > t ? t += s : e < t && (t -= s))), t } })), n.register("7V7Oj", (function (t, e) { t.exports = function (t, e) { var i = e - t; return 0 === i ? 0 : i - 360 * Math.floor((i - -180) / 360) } })), n.register("e8x5Y", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { Between: n("bwLQh"), BetweenPoints: n("ljUB8"), BetweenPointsSquared: n("7uDHS"), Chebyshev: n("l8Nsx"), Power: n("axhHp"), Snake: n("6AzPM"), Squared: n("gMODW") }
})), n.register("ljUB8", (function (t, e) { t.exports = function (t, e) { var i = t.x - e.x, s = t.y - e.y; return Math.sqrt(i * i + s * s) } })), n.register("7uDHS", (function (t, e) { t.exports = function (t, e) { var i = t.x - e.x, s = t.y - e.y; return i * i + s * s } })), n.register("l8Nsx", (function (t, e) { t.exports = function (t, e, i, s) { return Math.max(Math.abs(t - i), Math.abs(e - s)) } })), n.register("axhHp", (function (t, e) { t.exports = function (t, e, i, s, n) { return void 0 === n && (n = 2), Math.sqrt(Math.pow(i - t, n) + Math.pow(s - e, n)) } })), n.register("6AzPM", (function (t, e) { t.exports = function (t, e, i, s) { return Math.abs(t - i) + Math.abs(e - s) } })), n.register("gMODW", (function (t, e) { t.exports = function (t, e, i, s) { var n = t - i, r = e - s; return n * n + r * r } })), n.register("llvIY", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { Back: n("GYEL3"), Bounce: n("1RSgF"), Circular: n("8s9Sd"), Cubic: n("aG266"), Elastic: n("jDd1d"), Expo: n("gZBzc"), Linear: n("hBgCe"), Quadratic: n("c4phQ"), Quartic: n("czPB4"), Quintic: n("2NYh6"), Sine: n("filII"), Stepped: n("dfXsE") }
})), n.register("iBe1F", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { Ceil: n("7z8Vi"), Equal: n("4cohD"), Floor: n("7qkzk"), GreaterThan: n("4wJN7"), LessThan: n("ccP8g") }
})), n.register("7z8Vi", (function (t, e) { t.exports = function (t, e) { return void 0 === e && (e = 1e-4), Math.ceil(t - e) } })), n.register("4cohD", (function (t, e) { t.exports = function (t, e, i) { return void 0 === i && (i = 1e-4), Math.abs(t - e) < i } })), n.register("7qkzk", (function (t, e) { t.exports = function (t, e) { return void 0 === e && (e = 1e-4), Math.floor(t + e) } })), n.register("4wJN7", (function (t, e) { t.exports = function (t, e, i) { return void 0 === i && (i = 1e-4), t > e - i } })), n.register("ccP8g", (function (t, e) { t.exports = function (t, e, i) { return void 0 === i && (i = 1e-4), t < e + i } })), n.register("9DXii", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { Bezier: n("gdOTp"), CatmullRom: n("jKp6L"), CubicBezier: n("2OzPP"), Linear: n("fTwhC"), QuadraticBezier: n("lNAp3"), SmoothStep: n("gLlh1"), SmootherStep: n("geoiv") }
})), n.register("gdOTp", (function (t, e) { var i = n("iV0zT"); t.exports = function (t, e) { for (var s = 0, n = t.length - 1, r = 0; r <= n; r++)s += Math.pow(1 - e, n - r) * Math.pow(e, r) * t[r] * i(n, r); return s } })), n.register("iV0zT", (function (t, e) { var i = n("4Aff2"); t.exports = function (t, e) { return i(t) / i(e) / i(t - e) } })), n.register("4Aff2", (function (t, e) { t.exports = function (t) { if (0 === t) return 1; for (var e = t; --t;)e *= t; return e } })), n.register("jKp6L", (function (t, e) { var i = n("4pkLE"); t.exports = function (t, e) { var s = t.length - 1, n = s * e, r = Math.floor(n); return t[0] === t[s] ? (e < 0 && (r = Math.floor(n = s * (1 + e))), i(n - r, t[(r - 1 + s) % s], t[r], t[(r + 1) % s], t[(r + 2) % s])) : e < 0 ? t[0] - (i(-n, t[0], t[0], t[1], t[1]) - t[0]) : e > 1 ? t[s] - (i(n - s, t[s], t[s], t[s - 1], t[s - 1]) - t[s]) : i(n - r, t[r ? r - 1 : 0], t[r], t[s < r + 1 ? s : r + 1], t[s < r + 2 ? s : r + 2]) } })), n.register("4pkLE", (function (t, e) { t.exports = function (t, e, i, s, n) { var r = .5 * (s - e), o = .5 * (n - i), a = t * t; return (2 * i - 2 * s + r + o) * (t * a) + (-3 * i + 3 * s - 2 * r - o) * a + r * t + i } })), n.register("2OzPP", (function (t, e) {
    t.exports = function (t, e, i, s, n) {
        /**
         * @author       Richard Davey <rich@photonstorm.com>
         * @copyright    2020 Photon Storm Ltd.
         * @license      {@link https://opensource.org/licenses/MIT|MIT License}
         */
        return function (t, e) { var i = 1 - t; return i * i * i * e }(t, e) + function (t, e) { var i = 1 - t; return 3 * i * i * t * e }(t, i) + function (t, e) { return 3 * (1 - t) * t * t * e }(t, s) + function (t, e) { return t * t * t * e }(t, n)
    }
})), n.register("fTwhC", (function (t, e) { var i = n("fDkZ4"); t.exports = function (t, e) { var s = t.length - 1, n = s * e, r = Math.floor(n); return e < 0 ? i(t[0], t[1], n) : e > 1 ? i(t[s], t[s - 1], s - n) : i(t[r], t[r + 1 > s ? s : r + 1], n - r) } })), n.register("lNAp3", (function (t, e) {
    t.exports = function (t, e, i, s) {
        /**
         * @author       Richard Davey <rich@photonstorm.com>
         * @copyright    2020 Photon Storm Ltd.
         * @license      {@link https://opensource.org/licenses/MIT|MIT License}
         */
        return function (t, e) { var i = 1 - t; return i * i * e }(t, e) + function (t, e) { return 2 * (1 - t) * t * e }(t, i) + function (t, e) { return t * t * e }(t, s)
    }
})), n.register("gLlh1", (function (t, e) { var i = n("363Nu"); t.exports = function (t, e, s) { return e + (s - e) * i(t, 0, 1) } })), n.register("geoiv", (function (t, e) { var i = n("1YVfA"); t.exports = function (t, e, s) { return e + (s - e) * i(t, 0, 1) } })), n.register("6uljX", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { GetNext: n("6QpKi"), IsSize: n("gV9Y0"), IsValue: n("6XmFv") }
})), n.register("6QpKi", (function (t, e) { t.exports = function (t) { var e = Math.log(t) / .6931471805599453; return 1 << Math.ceil(e) } })), n.register("gV9Y0", (function (t, e) { t.exports = function (t, e) { return t > 0 && 0 == (t & t - 1) && e > 0 && 0 == (e & e - 1) } })), n.register("6XmFv", (function (t, e) { t.exports = function (t) { return t > 0 && 0 == (t & t - 1) } })), n.register("5cdku", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { Ceil: n("lpfsR"), Floor: n("jcIaO"), To: n("ehniC") }
})), n.register("lpfsR", (function (t, e) { t.exports = function (t, e, i, s) { return void 0 === i && (i = 0), 0 === e ? t : (t -= i, t = e * Math.ceil(t / e), s ? (i + t) / e : i + t) } })), n.register("jcIaO", (function (t, e) { t.exports = function (t, e, i, s) { return void 0 === i && (i = 0), 0 === e ? t : (t -= i, t = e * Math.floor(t / e), s ? (i + t) / e : i + t) } })), n.register("ehniC", (function (t, e) { t.exports = function (t, e, i, s) { return void 0 === i && (i = 0), 0 === e ? t : (t -= i, t = e * Math.round(t / e), s ? (i + t) / e : i + t) } })), n.register("kZvwz", (function (t, e) { var i = new (n("jwj1g"))({ initialize: function (t) { void 0 === t && (t = [(Date.now() * Math.random()).toString()]), this.c = 1, this.s0 = 0, this.s1 = 0, this.s2 = 0, this.n = 0, this.signs = [-1, 1], t && this.init(t) }, rnd: function () { var t = 2091639 * this.s0 + 2.3283064365386963e-10 * this.c; return this.c = 0 | t, this.s0 = this.s1, this.s1 = this.s2, this.s2 = t - this.c, this.s2 }, hash: function (t) { var e, i = this.n; t = t.toString(); for (var s = 0; s < t.length; s++)e = .02519603282416938 * (i += t.charCodeAt(s)), e -= i = e >>> 0, i = (e *= i) >>> 0, i += 4294967296 * (e -= i); return this.n = i, 2.3283064365386963e-10 * (i >>> 0) }, init: function (t) { "string" == typeof t ? this.state(t) : this.sow(t) }, sow: function (t) { if (this.n = 4022871197, this.s0 = this.hash(" "), this.s1 = this.hash(" "), this.s2 = this.hash(" "), this.c = 1, t) for (var e = 0; e < t.length && null != t[e]; e++) { var i = t[e]; this.s0 -= this.hash(i), this.s0 += ~~(this.s0 < 0), this.s1 -= this.hash(i), this.s1 += ~~(this.s1 < 0), this.s2 -= this.hash(i), this.s2 += ~~(this.s2 < 0) } }, integer: function () { return 4294967296 * this.rnd() }, frac: function () { return this.rnd() + 11102230246251565e-32 * (2097152 * this.rnd() | 0) }, real: function () { return this.integer() + this.frac() }, integerInRange: function (t, e) { return Math.floor(this.realInRange(0, e - t + 1) + t) }, between: function (t, e) { return Math.floor(this.realInRange(0, e - t + 1) + t) }, realInRange: function (t, e) { return this.frac() * (e - t) + t }, normal: function () { return 1 - 2 * this.frac() }, uuid: function () { var t = "", e = ""; for (e = t = ""; t++ < 36; e += ~t % 5 | 3 * t & 4 ? (15 ^ t ? 8 ^ this.frac() * (20 ^ t ? 16 : 4) : 4).toString(16) : "-"); return e }, pick: function (t) { return t[this.integerInRange(0, t.length - 1)] }, sign: function () { return this.pick(this.signs) }, weightedPick: function (t) { return t[~~(Math.pow(this.frac(), 2) * (t.length - 1) + .5)] }, timestamp: function (t, e) { return this.realInRange(t || 9466848e5, e || 1577862e6) }, angle: function () { return this.integerInRange(-180, 180) }, rotation: function () { return this.realInRange(-3.1415926, 3.1415926) }, state: function (t) { return "string" == typeof t && t.match(/^!rnd/) && (t = t.split(","), this.c = parseFloat(t[1]), this.s0 = parseFloat(t[2]), this.s1 = parseFloat(t[3]), this.s2 = parseFloat(t[4])), ["!rnd", this.c, this.s0, this.s1, this.s2].join(",") }, shuffle: function (t) { for (var e = t.length - 1; e > 0; e--) { var i = Math.floor(this.frac() * (e + 1)), s = t[i]; t[i] = t[e], t[e] = s } return t } }); t.exports = i })), n.register("kljIP", (function (t, e) { t.exports = function (t) { for (var e = 0, i = 0; i < t.length; i++)e += +t[i]; return e / t.length } })), n.register("2EBZh", (function (t, e) { t.exports = function (t, e) { return Math.floor(Math.random() * (e - t + 1) + t) } })), n.register("aUMR7", (function (t, e) { t.exports = function (t, e, i) { void 0 === e && (e = 0), void 0 === i && (i = 10); var s = Math.pow(i, -e); return Math.ceil(t * s) / s } })), n.register("aAJEh", (function (t, e) { t.exports = function (t, e) { return Math.abs(t - e) } })), n.register("ilYgh", (function (t, e) { t.exports = function (t, e) { return Math.random() * (e - t) + t } })), n.register("7i50Z", (function (t, e) { t.exports = function (t, e, i) { void 0 === e && (e = 0), void 0 === i && (i = 10); var s = Math.pow(i, -e); return Math.floor(t * s) / s } })), n.register("41iYH", (function (t, e) { t.exports = function (t, e) { return t / e / 1e3 } })), n.register("9nYPL", (function (t, e) { t.exports = function (t) { return t == parseFloat(t) ? !(t % 2) : void 0 } })), n.register("ln03h", (function (t, e) { t.exports = function (t) { return t === parseFloat(t) ? !(t % 2) : void 0 } })), n.register("7Rizn", (function (t, e) { t.exports = function (t, e, i) { return Math.min(t + e, i) } })), n.register("3tkM7", (function (t, e) { t.exports = function (t, e, i) { return Math.max(t - e, i) } })), n.register("90CDP", (function (t, e) { t.exports = function (t, e, i, s) { void 0 === i && (i = e + 1); var n = (t - e) / (i - e); return n > 1 ? void 0 !== s ? (n = (s - t) / (s - i)) < 0 && (n = 0) : n = 1 : n < 0 && (n = 0), n } })), n.register("dcSyA", (function (t, e) { var i = n("bNtDi"); t.exports = function (t) { return t * i.RAD_TO_DEG } })), n.register("7tDIc", (function (t, e) { t.exports = function (t, e) { void 0 === e && (e = 1); var i = 2 * Math.random() * Math.PI; return t.x = Math.cos(i) * e, t.y = Math.sin(i) * e, t } })), n.register("aBiCH", (function (t, e) { t.exports = function (t, e) { void 0 === e && (e = 1); var i = 2 * Math.random() * Math.PI, s = 2 * Math.random() - 1, n = Math.sqrt(1 - s * s) * e; return t.x = Math.cos(i) * n, t.y = Math.sin(i) * n, t.z = s * e, t } })), n.register("5ojVH", (function (t, e) { t.exports = function (t, e) { return void 0 === e && (e = 1), t.x = (2 * Math.random() - 1) * e, t.y = (2 * Math.random() - 1) * e, t.z = (2 * Math.random() - 1) * e, t.w = (2 * Math.random() - 1) * e, t } })), n.register("kaMwv", (function (t, e) { t.exports = function (t, e) { var i = t.x, s = t.y; return t.x = i * Math.cos(e) - s * Math.sin(e), t.y = i * Math.sin(e) + s * Math.cos(e), t } })), n.register("dzVSZ", (function (t, e) { t.exports = function (t) { return t > 0 ? Math.ceil(t) : Math.floor(t) } })), n.register("d5xgb", (function (t, e) { t.exports = function (t, e, i) { void 0 === e && (e = 0), void 0 === i && (i = 10); var s = Math.pow(i, -e); return Math.round(t * s) / s } })), n.register("cHvgN", (function (t, e) { t.exports = function (t, e, i, s) { void 0 === e && (e = 1), void 0 === i && (i = 1), void 0 === s && (s = 1), s *= Math.PI / t; for (var n = [], r = [], o = 0; o < t; o++)e += (i -= e * s) * s, n[o] = i, r[o] = e; return { sin: r, cos: n, length: t } } })), n.register("kCBVf", (function (t, e) { var i = n("7SBSk"); t.exports = function (t, e, s, n) { void 0 === n && (n = new i); var r = 0, o = 0; return t > 0 && t <= e * s && (r = t > e - 1 ? t - (o = Math.floor(t / e)) * e : t, n.set(r, o)), n } })), n.register("coTXE", (function (t, e) { var i = n("7SBSk"); t.exports = function (t, e, s, n, r, o, a, h) { void 0 === h && (h = new i); var l = Math.sin(r), u = Math.cos(r), c = u * o, d = l * o, f = -l * a, p = u * a, g = 1 / (c * p + f * -d); return h.x = p * g * t + -f * g * e + (n * f - s * p) * g, h.y = c * g * e + -d * g * t + (-n * c + s * d) * g, h } })), n.register("fIwMQ", (function (t, e) { t.exports = function (t, e, i) { return Math.abs(t - e) <= i } })), n.register("gbKIZ", (function (t, e) { var i = new (n("jwj1g"))({ initialize: function (t, e, i) { this.x = 0, this.y = 0, this.z = 0, "object" == typeof t ? (this.x = t.x || 0, this.y = t.y || 0, this.z = t.z || 0) : (this.x = t || 0, this.y = e || 0, this.z = i || 0) }, up: function () { return this.x = 0, this.y = 1, this.z = 0, this }, clone: function () { return new i(this.x, this.y, this.z) }, crossVectors: function (t, e) { var i = t.x, s = t.y, n = t.z, r = e.x, o = e.y, a = e.z; return this.x = s * a - n * o, this.y = n * r - i * a, this.z = i * o - s * r, this }, equals: function (t) { return this.x === t.x && this.y === t.y && this.z === t.z }, copy: function (t) { return this.x = t.x, this.y = t.y, this.z = t.z || 0, this }, set: function (t, e, i) { return "object" == typeof t ? (this.x = t.x || 0, this.y = t.y || 0, this.z = t.z || 0) : (this.x = t || 0, this.y = e || 0, this.z = i || 0), this }, add: function (t) { return this.x += t.x, this.y += t.y, this.z += t.z || 0, this }, subtract: function (t) { return this.x -= t.x, this.y -= t.y, this.z -= t.z || 0, this }, multiply: function (t) { return this.x *= t.x, this.y *= t.y, this.z *= t.z || 1, this }, scale: function (t) { return isFinite(t) ? (this.x *= t, this.y *= t, this.z *= t) : (this.x = 0, this.y = 0, this.z = 0), this }, divide: function (t) { return this.x /= t.x, this.y /= t.y, this.z /= t.z || 1, this }, negate: function () { return this.x = -this.x, this.y = -this.y, this.z = -this.z, this }, distance: function (t) { var e = t.x - this.x, i = t.y - this.y, s = t.z - this.z || 0; return Math.sqrt(e * e + i * i + s * s) }, distanceSq: function (t) { var e = t.x - this.x, i = t.y - this.y, s = t.z - this.z || 0; return e * e + i * i + s * s }, length: function () { var t = this.x, e = this.y, i = this.z; return Math.sqrt(t * t + e * e + i * i) }, lengthSq: function () { var t = this.x, e = this.y, i = this.z; return t * t + e * e + i * i }, normalize: function () { var t = this.x, e = this.y, i = this.z, s = t * t + e * e + i * i; return s > 0 && (s = 1 / Math.sqrt(s), this.x = t * s, this.y = e * s, this.z = i * s), this }, dot: function (t) { return this.x * t.x + this.y * t.y + this.z * t.z }, cross: function (t) { var e = this.x, i = this.y, s = this.z, n = t.x, r = t.y, o = t.z; return this.x = i * o - s * r, this.y = s * n - e * o, this.z = e * r - i * n, this }, lerp: function (t, e) { void 0 === e && (e = 0); var i = this.x, s = this.y, n = this.z; return this.x = i + e * (t.x - i), this.y = s + e * (t.y - s), this.z = n + e * (t.z - n), this }, transformMat3: function (t) { var e = this.x, i = this.y, s = this.z, n = t.val; return this.x = e * n[0] + i * n[3] + s * n[6], this.y = e * n[1] + i * n[4] + s * n[7], this.z = e * n[2] + i * n[5] + s * n[8], this }, transformMat4: function (t) { var e = this.x, i = this.y, s = this.z, n = t.val; return this.x = n[0] * e + n[4] * i + n[8] * s + n[12], this.y = n[1] * e + n[5] * i + n[9] * s + n[13], this.z = n[2] * e + n[6] * i + n[10] * s + n[14], this }, transformCoordinates: function (t) { var e = this.x, i = this.y, s = this.z, n = t.val, r = e * n[0] + i * n[4] + s * n[8] + n[12], o = e * n[1] + i * n[5] + s * n[9] + n[13], a = e * n[2] + i * n[6] + s * n[10] + n[14], h = e * n[3] + i * n[7] + s * n[11] + n[15]; return this.x = r / h, this.y = o / h, this.z = a / h, this }, transformQuat: function (t) { var e = this.x, i = this.y, s = this.z, n = t.x, r = t.y, o = t.z, a = t.w, h = a * e + r * s - o * i, l = a * i + o * e - n * s, u = a * s + n * i - r * e, c = -n * e - r * i - o * s; return this.x = h * a + c * -n + l * -o - u * -r, this.y = l * a + c * -r + u * -n - h * -o, this.z = u * a + c * -o + h * -r - l * -n, this }, project: function (t) { var e = this.x, i = this.y, s = this.z, n = t.val, r = n[0], o = n[1], a = n[2], h = n[3], l = n[4], u = n[5], c = n[6], d = n[7], f = n[8], p = n[9], g = n[10], v = n[11], m = n[12], y = n[13], x = n[14], w = 1 / (e * h + i * d + s * v + n[15]); return this.x = (e * r + i * l + s * f + m) * w, this.y = (e * o + i * u + s * p + y) * w, this.z = (e * a + i * c + s * g + x) * w, this }, unproject: function (t, e) { var i = t.x, s = t.y, n = t.z, r = t.w, o = this.x - i, a = r - this.y - 1 - s, h = this.z; return this.x = 2 * o / n - 1, this.y = 2 * a / r - 1, this.z = 2 * h - 1, this.project(e) }, reset: function () { return this.x = 0, this.y = 0, this.z = 0, this } }); i.ZERO = new i, i.RIGHT = new i(1, 0, 0), i.LEFT = new i(-1, 0, 0), i.UP = new i(0, -1, 0), i.DOWN = new i(0, 1, 0), i.FORWARD = new i(0, 0, 1), i.BACK = new i(0, 0, -1), i.ONE = new i(1, 1, 1), t.exports = i })), n.register("27QVG", (function (t, e) { var i = new (n("jwj1g"))({ initialize: function (t, e, i, s) { this.x = 0, this.y = 0, this.z = 0, this.w = 0, "object" == typeof t ? (this.x = t.x || 0, this.y = t.y || 0, this.z = t.z || 0, this.w = t.w || 0) : (this.x = t || 0, this.y = e || 0, this.z = i || 0, this.w = s || 0) }, clone: function () { return new i(this.x, this.y, this.z, this.w) }, copy: function (t) { return this.x = t.x, this.y = t.y, this.z = t.z || 0, this.w = t.w || 0, this }, equals: function (t) { return this.x === t.x && this.y === t.y && this.z === t.z && this.w === t.w }, set: function (t, e, i, s) { return "object" == typeof t ? (this.x = t.x || 0, this.y = t.y || 0, this.z = t.z || 0, this.w = t.w || 0) : (this.x = t || 0, this.y = e || 0, this.z = i || 0, this.w = s || 0), this }, add: function (t) { return this.x += t.x, this.y += t.y, this.z += t.z || 0, this.w += t.w || 0, this }, subtract: function (t) { return this.x -= t.x, this.y -= t.y, this.z -= t.z || 0, this.w -= t.w || 0, this }, scale: function (t) { return this.x *= t, this.y *= t, this.z *= t, this.w *= t, this }, length: function () { var t = this.x, e = this.y, i = this.z, s = this.w; return Math.sqrt(t * t + e * e + i * i + s * s) }, lengthSq: function () { var t = this.x, e = this.y, i = this.z, s = this.w; return t * t + e * e + i * i + s * s }, normalize: function () { var t = this.x, e = this.y, i = this.z, s = this.w, n = t * t + e * e + i * i + s * s; return n > 0 && (n = 1 / Math.sqrt(n), this.x = t * n, this.y = e * n, this.z = i * n, this.w = s * n), this }, dot: function (t) { return this.x * t.x + this.y * t.y + this.z * t.z + this.w * t.w }, lerp: function (t, e) { void 0 === e && (e = 0); var i = this.x, s = this.y, n = this.z, r = this.w; return this.x = i + e * (t.x - i), this.y = s + e * (t.y - s), this.z = n + e * (t.z - n), this.w = r + e * (t.w - r), this }, multiply: function (t) { return this.x *= t.x, this.y *= t.y, this.z *= t.z || 1, this.w *= t.w || 1, this }, divide: function (t) { return this.x /= t.x, this.y /= t.y, this.z /= t.z || 1, this.w /= t.w || 1, this }, distance: function (t) { var e = t.x - this.x, i = t.y - this.y, s = t.z - this.z || 0, n = t.w - this.w || 0; return Math.sqrt(e * e + i * i + s * s + n * n) }, distanceSq: function (t) { var e = t.x - this.x, i = t.y - this.y, s = t.z - this.z || 0, n = t.w - this.w || 0; return e * e + i * i + s * s + n * n }, negate: function () { return this.x = -this.x, this.y = -this.y, this.z = -this.z, this.w = -this.w, this }, transformMat4: function (t) { var e = this.x, i = this.y, s = this.z, n = this.w, r = t.val; return this.x = r[0] * e + r[4] * i + r[8] * s + r[12] * n, this.y = r[1] * e + r[5] * i + r[9] * s + r[13] * n, this.z = r[2] * e + r[6] * i + r[10] * s + r[14] * n, this.w = r[3] * e + r[7] * i + r[11] * s + r[15] * n, this }, transformQuat: function (t) { var e = this.x, i = this.y, s = this.z, n = t.x, r = t.y, o = t.z, a = t.w, h = a * e + r * s - o * i, l = a * i + o * e - n * s, u = a * s + n * i - r * e, c = -n * e - r * i - o * s; return this.x = h * a + c * -n + l * -o - u * -r, this.y = l * a + c * -r + u * -n - h * -o, this.z = u * a + c * -o + h * -r - l * -n, this }, reset: function () { return this.x = 0, this.y = 0, this.z = 0, this.w = 0, this } }); i.prototype.sub = i.prototype.subtract, i.prototype.mul = i.prototype.multiply, i.prototype.div = i.prototype.divide, i.prototype.dist = i.prototype.distance, i.prototype.distSq = i.prototype.distanceSq, i.prototype.len = i.prototype.length, i.prototype.lenSq = i.prototype.lengthSq, t.exports = i })), n.register("gX42i", (function (t, e) { var i = new (n("jwj1g"))({ initialize: function (t) { this.val = new Float32Array(9), t ? this.copy(t) : this.identity() }, clone: function () { return new i(this) }, set: function (t) { return this.copy(t) }, copy: function (t) { var e = this.val, i = t.val; return e[0] = i[0], e[1] = i[1], e[2] = i[2], e[3] = i[3], e[4] = i[4], e[5] = i[5], e[6] = i[6], e[7] = i[7], e[8] = i[8], this }, fromMat4: function (t) { var e = t.val, i = this.val; return i[0] = e[0], i[1] = e[1], i[2] = e[2], i[3] = e[4], i[4] = e[5], i[5] = e[6], i[6] = e[8], i[7] = e[9], i[8] = e[10], this }, fromArray: function (t) { var e = this.val; return e[0] = t[0], e[1] = t[1], e[2] = t[2], e[3] = t[3], e[4] = t[4], e[5] = t[5], e[6] = t[6], e[7] = t[7], e[8] = t[8], this }, identity: function () { var t = this.val; return t[0] = 1, t[1] = 0, t[2] = 0, t[3] = 0, t[4] = 1, t[5] = 0, t[6] = 0, t[7] = 0, t[8] = 1, this }, transpose: function () { var t = this.val, e = t[1], i = t[2], s = t[5]; return t[1] = t[3], t[2] = t[6], t[3] = e, t[5] = t[7], t[6] = i, t[7] = s, this }, invert: function () { var t = this.val, e = t[0], i = t[1], s = t[2], n = t[3], r = t[4], o = t[5], a = t[6], h = t[7], l = t[8], u = l * r - o * h, c = -l * n + o * a, d = h * n - r * a, f = e * u + i * c + s * d; return f ? (f = 1 / f, t[0] = u * f, t[1] = (-l * i + s * h) * f, t[2] = (o * i - s * r) * f, t[3] = c * f, t[4] = (l * e - s * a) * f, t[5] = (-o * e + s * n) * f, t[6] = d * f, t[7] = (-h * e + i * a) * f, t[8] = (r * e - i * n) * f, this) : null }, adjoint: function () { var t = this.val, e = t[0], i = t[1], s = t[2], n = t[3], r = t[4], o = t[5], a = t[6], h = t[7], l = t[8]; return t[0] = r * l - o * h, t[1] = s * h - i * l, t[2] = i * o - s * r, t[3] = o * a - n * l, t[4] = e * l - s * a, t[5] = s * n - e * o, t[6] = n * h - r * a, t[7] = i * a - e * h, t[8] = e * r - i * n, this }, determinant: function () { var t = this.val, e = t[0], i = t[1], s = t[2], n = t[3], r = t[4], o = t[5], a = t[6], h = t[7], l = t[8]; return e * (l * r - o * h) + i * (-l * n + o * a) + s * (h * n - r * a) }, multiply: function (t) { var e = this.val, i = e[0], s = e[1], n = e[2], r = e[3], o = e[4], a = e[5], h = e[6], l = e[7], u = e[8], c = t.val, d = c[0], f = c[1], p = c[2], g = c[3], v = c[4], m = c[5], y = c[6], x = c[7], w = c[8]; return e[0] = d * i + f * r + p * h, e[1] = d * s + f * o + p * l, e[2] = d * n + f * a + p * u, e[3] = g * i + v * r + m * h, e[4] = g * s + v * o + m * l, e[5] = g * n + v * a + m * u, e[6] = y * i + x * r + w * h, e[7] = y * s + x * o + w * l, e[8] = y * n + x * a + w * u, this }, translate: function (t) { var e = this.val, i = t.x, s = t.y; return e[6] = i * e[0] + s * e[3] + e[6], e[7] = i * e[1] + s * e[4] + e[7], e[8] = i * e[2] + s * e[5] + e[8], this }, rotate: function (t) { var e = this.val, i = e[0], s = e[1], n = e[2], r = e[3], o = e[4], a = e[5], h = Math.sin(t), l = Math.cos(t); return e[0] = l * i + h * r, e[1] = l * s + h * o, e[2] = l * n + h * a, e[3] = l * r - h * i, e[4] = l * o - h * s, e[5] = l * a - h * n, this }, scale: function (t) { var e = this.val, i = t.x, s = t.y; return e[0] = i * e[0], e[1] = i * e[1], e[2] = i * e[2], e[3] = s * e[3], e[4] = s * e[4], e[5] = s * e[5], this }, fromQuat: function (t) { var e = t.x, i = t.y, s = t.z, n = t.w, r = e + e, o = i + i, a = s + s, h = e * r, l = e * o, u = e * a, c = i * o, d = i * a, f = s * a, p = n * r, g = n * o, v = n * a, m = this.val; return m[0] = 1 - (c + f), m[3] = l + v, m[6] = u - g, m[1] = l - v, m[4] = 1 - (h + f), m[7] = d + p, m[2] = u + g, m[5] = d - p, m[8] = 1 - (h + c), this }, normalFromMat4: function (t) { var e = t.val, i = this.val, s = e[0], n = e[1], r = e[2], o = e[3], a = e[4], h = e[5], l = e[6], u = e[7], c = e[8], d = e[9], f = e[10], p = e[11], g = e[12], v = e[13], m = e[14], y = e[15], x = s * h - n * a, w = s * l - r * a, T = s * u - o * a, b = n * l - r * h, S = n * u - o * h, A = r * u - o * l, E = c * v - d * g, C = c * m - f * g, _ = c * y - p * g, M = d * m - f * v, P = d * y - p * v, O = f * y - p * m, R = x * O - w * P + T * M + b * _ - S * C + A * E; return R ? (R = 1 / R, i[0] = (h * O - l * P + u * M) * R, i[1] = (l * _ - a * O - u * C) * R, i[2] = (a * P - h * _ + u * E) * R, i[3] = (r * P - n * O - o * M) * R, i[4] = (s * O - r * _ + o * C) * R, i[5] = (n * _ - s * P - o * E) * R, i[6] = (v * A - m * S + y * b) * R, i[7] = (m * T - g * A - y * w) * R, i[8] = (g * S - v * T + y * x) * R, this) : null } }); t.exports = i })), n.register("hD0DV", (function (t, e) { var i = n("jwj1g"), s = 1e-6, r = new i({ initialize: function (t) { this.val = new Float32Array(16), t ? this.copy(t) : this.identity() }, clone: function () { return new r(this) }, set: function (t) { return this.copy(t) }, copy: function (t) { var e = this.val, i = t.val; return e[0] = i[0], e[1] = i[1], e[2] = i[2], e[3] = i[3], e[4] = i[4], e[5] = i[5], e[6] = i[6], e[7] = i[7], e[8] = i[8], e[9] = i[9], e[10] = i[10], e[11] = i[11], e[12] = i[12], e[13] = i[13], e[14] = i[14], e[15] = i[15], this }, fromArray: function (t) { var e = this.val; return e[0] = t[0], e[1] = t[1], e[2] = t[2], e[3] = t[3], e[4] = t[4], e[5] = t[5], e[6] = t[6], e[7] = t[7], e[8] = t[8], e[9] = t[9], e[10] = t[10], e[11] = t[11], e[12] = t[12], e[13] = t[13], e[14] = t[14], e[15] = t[15], this }, zero: function () { var t = this.val; return t[0] = 0, t[1] = 0, t[2] = 0, t[3] = 0, t[4] = 0, t[5] = 0, t[6] = 0, t[7] = 0, t[8] = 0, t[9] = 0, t[10] = 0, t[11] = 0, t[12] = 0, t[13] = 0, t[14] = 0, t[15] = 0, this }, xyz: function (t, e, i) { this.identity(); var s = this.val; return s[12] = t, s[13] = e, s[14] = i, this }, scaling: function (t, e, i) { this.zero(); var s = this.val; return s[0] = t, s[5] = e, s[10] = i, s[15] = 1, this }, identity: function () { var t = this.val; return t[0] = 1, t[1] = 0, t[2] = 0, t[3] = 0, t[4] = 0, t[5] = 1, t[6] = 0, t[7] = 0, t[8] = 0, t[9] = 0, t[10] = 1, t[11] = 0, t[12] = 0, t[13] = 0, t[14] = 0, t[15] = 1, this }, transpose: function () { var t = this.val, e = t[1], i = t[2], s = t[3], n = t[6], r = t[7], o = t[11]; return t[1] = t[4], t[2] = t[8], t[3] = t[12], t[4] = e, t[6] = t[9], t[7] = t[13], t[8] = i, t[9] = n, t[11] = t[14], t[12] = s, t[13] = r, t[14] = o, this }, invert: function () { var t = this.val, e = t[0], i = t[1], s = t[2], n = t[3], r = t[4], o = t[5], a = t[6], h = t[7], l = t[8], u = t[9], c = t[10], d = t[11], f = t[12], p = t[13], g = t[14], v = t[15], m = e * o - i * r, y = e * a - s * r, x = e * h - n * r, w = i * a - s * o, T = i * h - n * o, b = s * h - n * a, S = l * p - u * f, A = l * g - c * f, E = l * v - d * f, C = u * g - c * p, _ = u * v - d * p, M = c * v - d * g, P = m * M - y * _ + x * C + w * E - T * A + b * S; return P ? (P = 1 / P, t[0] = (o * M - a * _ + h * C) * P, t[1] = (s * _ - i * M - n * C) * P, t[2] = (p * b - g * T + v * w) * P, t[3] = (c * T - u * b - d * w) * P, t[4] = (a * E - r * M - h * A) * P, t[5] = (e * M - s * E + n * A) * P, t[6] = (g * x - f * b - v * y) * P, t[7] = (l * b - c * x + d * y) * P, t[8] = (r * _ - o * E + h * S) * P, t[9] = (i * E - e * _ - n * S) * P, t[10] = (f * T - p * x + v * m) * P, t[11] = (u * x - l * T - d * m) * P, t[12] = (o * A - r * C - a * S) * P, t[13] = (e * C - i * A + s * S) * P, t[14] = (p * y - f * w - g * m) * P, t[15] = (l * w - u * y + c * m) * P, this) : null }, adjoint: function () { var t = this.val, e = t[0], i = t[1], s = t[2], n = t[3], r = t[4], o = t[5], a = t[6], h = t[7], l = t[8], u = t[9], c = t[10], d = t[11], f = t[12], p = t[13], g = t[14], v = t[15]; return t[0] = o * (c * v - d * g) - u * (a * v - h * g) + p * (a * d - h * c), t[1] = -(i * (c * v - d * g) - u * (s * v - n * g) + p * (s * d - n * c)), t[2] = i * (a * v - h * g) - o * (s * v - n * g) + p * (s * h - n * a), t[3] = -(i * (a * d - h * c) - o * (s * d - n * c) + u * (s * h - n * a)), t[4] = -(r * (c * v - d * g) - l * (a * v - h * g) + f * (a * d - h * c)), t[5] = e * (c * v - d * g) - l * (s * v - n * g) + f * (s * d - n * c), t[6] = -(e * (a * v - h * g) - r * (s * v - n * g) + f * (s * h - n * a)), t[7] = e * (a * d - h * c) - r * (s * d - n * c) + l * (s * h - n * a), t[8] = r * (u * v - d * p) - l * (o * v - h * p) + f * (o * d - h * u), t[9] = -(e * (u * v - d * p) - l * (i * v - n * p) + f * (i * d - n * u)), t[10] = e * (o * v - h * p) - r * (i * v - n * p) + f * (i * h - n * o), t[11] = -(e * (o * d - h * u) - r * (i * d - n * u) + l * (i * h - n * o)), t[12] = -(r * (u * g - c * p) - l * (o * g - a * p) + f * (o * c - a * u)), t[13] = e * (u * g - c * p) - l * (i * g - s * p) + f * (i * c - s * u), t[14] = -(e * (o * g - a * p) - r * (i * g - s * p) + f * (i * a - s * o)), t[15] = e * (o * c - a * u) - r * (i * c - s * u) + l * (i * a - s * o), this }, determinant: function () { var t = this.val, e = t[0], i = t[1], s = t[2], n = t[3], r = t[4], o = t[5], a = t[6], h = t[7], l = t[8], u = t[9], c = t[10], d = t[11], f = t[12], p = t[13], g = t[14], v = t[15]; return (e * o - i * r) * (c * v - d * g) - (e * a - s * r) * (u * v - d * p) + (e * h - n * r) * (u * g - c * p) + (i * a - s * o) * (l * v - d * f) - (i * h - n * o) * (l * g - c * f) + (s * h - n * a) * (l * p - u * f) }, multiply: function (t) { var e = this.val, i = e[0], s = e[1], n = e[2], r = e[3], o = e[4], a = e[5], h = e[6], l = e[7], u = e[8], c = e[9], d = e[10], f = e[11], p = e[12], g = e[13], v = e[14], m = e[15], y = t.val, x = y[0], w = y[1], T = y[2], b = y[3]; return e[0] = x * i + w * o + T * u + b * p, e[1] = x * s + w * a + T * c + b * g, e[2] = x * n + w * h + T * d + b * v, e[3] = x * r + w * l + T * f + b * m, x = y[4], w = y[5], T = y[6], b = y[7], e[4] = x * i + w * o + T * u + b * p, e[5] = x * s + w * a + T * c + b * g, e[6] = x * n + w * h + T * d + b * v, e[7] = x * r + w * l + T * f + b * m, x = y[8], w = y[9], T = y[10], b = y[11], e[8] = x * i + w * o + T * u + b * p, e[9] = x * s + w * a + T * c + b * g, e[10] = x * n + w * h + T * d + b * v, e[11] = x * r + w * l + T * f + b * m, x = y[12], w = y[13], T = y[14], b = y[15], e[12] = x * i + w * o + T * u + b * p, e[13] = x * s + w * a + T * c + b * g, e[14] = x * n + w * h + T * d + b * v, e[15] = x * r + w * l + T * f + b * m, this }, multiplyLocal: function (t) { var e = [], i = this.val, s = t.val; return e[0] = i[0] * s[0] + i[1] * s[4] + i[2] * s[8] + i[3] * s[12], e[1] = i[0] * s[1] + i[1] * s[5] + i[2] * s[9] + i[3] * s[13], e[2] = i[0] * s[2] + i[1] * s[6] + i[2] * s[10] + i[3] * s[14], e[3] = i[0] * s[3] + i[1] * s[7] + i[2] * s[11] + i[3] * s[15], e[4] = i[4] * s[0] + i[5] * s[4] + i[6] * s[8] + i[7] * s[12], e[5] = i[4] * s[1] + i[5] * s[5] + i[6] * s[9] + i[7] * s[13], e[6] = i[4] * s[2] + i[5] * s[6] + i[6] * s[10] + i[7] * s[14], e[7] = i[4] * s[3] + i[5] * s[7] + i[6] * s[11] + i[7] * s[15], e[8] = i[8] * s[0] + i[9] * s[4] + i[10] * s[8] + i[11] * s[12], e[9] = i[8] * s[1] + i[9] * s[5] + i[10] * s[9] + i[11] * s[13], e[10] = i[8] * s[2] + i[9] * s[6] + i[10] * s[10] + i[11] * s[14], e[11] = i[8] * s[3] + i[9] * s[7] + i[10] * s[11] + i[11] * s[15], e[12] = i[12] * s[0] + i[13] * s[4] + i[14] * s[8] + i[15] * s[12], e[13] = i[12] * s[1] + i[13] * s[5] + i[14] * s[9] + i[15] * s[13], e[14] = i[12] * s[2] + i[13] * s[6] + i[14] * s[10] + i[15] * s[14], e[15] = i[12] * s[3] + i[13] * s[7] + i[14] * s[11] + i[15] * s[15], this.fromArray(e) }, translate: function (t) { var e = t.x, i = t.y, s = t.z, n = this.val; return n[12] = n[0] * e + n[4] * i + n[8] * s + n[12], n[13] = n[1] * e + n[5] * i + n[9] * s + n[13], n[14] = n[2] * e + n[6] * i + n[10] * s + n[14], n[15] = n[3] * e + n[7] * i + n[11] * s + n[15], this }, translateXYZ: function (t, e, i) { var s = this.val; return s[12] = s[0] * t + s[4] * e + s[8] * i + s[12], s[13] = s[1] * t + s[5] * e + s[9] * i + s[13], s[14] = s[2] * t + s[6] * e + s[10] * i + s[14], s[15] = s[3] * t + s[7] * e + s[11] * i + s[15], this }, scale: function (t) { var e = t.x, i = t.y, s = t.z, n = this.val; return n[0] = n[0] * e, n[1] = n[1] * e, n[2] = n[2] * e, n[3] = n[3] * e, n[4] = n[4] * i, n[5] = n[5] * i, n[6] = n[6] * i, n[7] = n[7] * i, n[8] = n[8] * s, n[9] = n[9] * s, n[10] = n[10] * s, n[11] = n[11] * s, this }, scaleXYZ: function (t, e, i) { var s = this.val; return s[0] = s[0] * t, s[1] = s[1] * t, s[2] = s[2] * t, s[3] = s[3] * t, s[4] = s[4] * e, s[5] = s[5] * e, s[6] = s[6] * e, s[7] = s[7] * e, s[8] = s[8] * i, s[9] = s[9] * i, s[10] = s[10] * i, s[11] = s[11] * i, this }, makeRotationAxis: function (t, e) { var i = Math.cos(e), s = Math.sin(e), n = 1 - i, r = t.x, o = t.y, a = t.z, h = n * r, l = n * o; return this.fromArray([h * r + i, h * o - s * a, h * a + s * o, 0, h * o + s * a, l * o + i, l * a - s * r, 0, h * a - s * o, l * a + s * r, n * a * a + i, 0, 0, 0, 0, 1]), this }, rotate: function (t, e) { var i = this.val, n = e.x, r = e.y, o = e.z, a = Math.sqrt(n * n + r * r + o * o); if (Math.abs(a) < s) return null; n *= a = 1 / a, r *= a, o *= a; var h = Math.sin(t), l = Math.cos(t), u = 1 - l, c = i[0], d = i[1], f = i[2], p = i[3], g = i[4], v = i[5], m = i[6], y = i[7], x = i[8], w = i[9], T = i[10], b = i[11], S = n * n * u + l, A = r * n * u + o * h, E = o * n * u - r * h, C = n * r * u - o * h, _ = r * r * u + l, M = o * r * u + n * h, P = n * o * u + r * h, O = r * o * u - n * h, R = o * o * u + l; return i[0] = c * S + g * A + x * E, i[1] = d * S + v * A + w * E, i[2] = f * S + m * A + T * E, i[3] = p * S + y * A + b * E, i[4] = c * C + g * _ + x * M, i[5] = d * C + v * _ + w * M, i[6] = f * C + m * _ + T * M, i[7] = p * C + y * _ + b * M, i[8] = c * P + g * O + x * R, i[9] = d * P + v * O + w * R, i[10] = f * P + m * O + T * R, i[11] = p * P + y * O + b * R, this }, rotateX: function (t) { var e = this.val, i = Math.sin(t), s = Math.cos(t), n = e[4], r = e[5], o = e[6], a = e[7], h = e[8], l = e[9], u = e[10], c = e[11]; return e[4] = n * s + h * i, e[5] = r * s + l * i, e[6] = o * s + u * i, e[7] = a * s + c * i, e[8] = h * s - n * i, e[9] = l * s - r * i, e[10] = u * s - o * i, e[11] = c * s - a * i, this }, rotateY: function (t) { var e = this.val, i = Math.sin(t), s = Math.cos(t), n = e[0], r = e[1], o = e[2], a = e[3], h = e[8], l = e[9], u = e[10], c = e[11]; return e[0] = n * s - h * i, e[1] = r * s - l * i, e[2] = o * s - u * i, e[3] = a * s - c * i, e[8] = n * i + h * s, e[9] = r * i + l * s, e[10] = o * i + u * s, e[11] = a * i + c * s, this }, rotateZ: function (t) { var e = this.val, i = Math.sin(t), s = Math.cos(t), n = e[0], r = e[1], o = e[2], a = e[3], h = e[4], l = e[5], u = e[6], c = e[7]; return e[0] = n * s + h * i, e[1] = r * s + l * i, e[2] = o * s + u * i, e[3] = a * s + c * i, e[4] = h * s - n * i, e[5] = l * s - r * i, e[6] = u * s - o * i, e[7] = c * s - a * i, this }, fromRotationTranslation: function (t, e) { var i = this.val, s = t.x, n = t.y, r = t.z, o = t.w, a = s + s, h = n + n, l = r + r, u = s * a, c = s * h, d = s * l, f = n * h, p = n * l, g = r * l, v = o * a, m = o * h, y = o * l; return i[0] = 1 - (f + g), i[1] = c + y, i[2] = d - m, i[3] = 0, i[4] = c - y, i[5] = 1 - (u + g), i[6] = p + v, i[7] = 0, i[8] = d + m, i[9] = p - v, i[10] = 1 - (u + f), i[11] = 0, i[12] = e.x, i[13] = e.y, i[14] = e.z, i[15] = 1, this }, fromQuat: function (t) { var e = this.val, i = t.x, s = t.y, n = t.z, r = t.w, o = i + i, a = s + s, h = n + n, l = i * o, u = i * a, c = i * h, d = s * a, f = s * h, p = n * h, g = r * o, v = r * a, m = r * h; return e[0] = 1 - (d + p), e[1] = u + m, e[2] = c - v, e[3] = 0, e[4] = u - m, e[5] = 1 - (l + p), e[6] = f + g, e[7] = 0, e[8] = c + v, e[9] = f - g, e[10] = 1 - (l + d), e[11] = 0, e[12] = 0, e[13] = 0, e[14] = 0, e[15] = 1, this }, frustum: function (t, e, i, s, n, r) { var o = this.val, a = 1 / (e - t), h = 1 / (s - i), l = 1 / (n - r); return o[0] = 2 * n * a, o[1] = 0, o[2] = 0, o[3] = 0, o[4] = 0, o[5] = 2 * n * h, o[6] = 0, o[7] = 0, o[8] = (e + t) * a, o[9] = (s + i) * h, o[10] = (r + n) * l, o[11] = -1, o[12] = 0, o[13] = 0, o[14] = r * n * 2 * l, o[15] = 0, this }, perspective: function (t, e, i, s) { var n = this.val, r = 1 / Math.tan(t / 2), o = 1 / (i - s); return n[0] = r / e, n[1] = 0, n[2] = 0, n[3] = 0, n[4] = 0, n[5] = r, n[6] = 0, n[7] = 0, n[8] = 0, n[9] = 0, n[10] = (s + i) * o, n[11] = -1, n[12] = 0, n[13] = 0, n[14] = 2 * s * i * o, n[15] = 0, this }, perspectiveLH: function (t, e, i, s) { var n = this.val; return n[0] = 2 * i / t, n[1] = 0, n[2] = 0, n[3] = 0, n[4] = 0, n[5] = 2 * i / e, n[6] = 0, n[7] = 0, n[8] = 0, n[9] = 0, n[10] = -s / (i - s), n[11] = 1, n[12] = 0, n[13] = 0, n[14] = i * s / (i - s), n[15] = 0, this }, ortho: function (t, e, i, s, n, r) { var o = this.val, a = t - e, h = i - s, l = n - r; return a = 0 === a ? a : 1 / a, h = 0 === h ? h : 1 / h, l = 0 === l ? l : 1 / l, o[0] = -2 * a, o[1] = 0, o[2] = 0, o[3] = 0, o[4] = 0, o[5] = -2 * h, o[6] = 0, o[7] = 0, o[8] = 0, o[9] = 0, o[10] = 2 * l, o[11] = 0, o[12] = (t + e) * a, o[13] = (s + i) * h, o[14] = (r + n) * l, o[15] = 1, this }, lookAt: function (t, e, i) { var n = this.val, r = t.x, o = t.y, a = t.z, h = i.x, l = i.y, u = i.z, c = e.x, d = e.y, f = e.z; if (Math.abs(r - c) < s && Math.abs(o - d) < s && Math.abs(a - f) < s) return this.identity(); var p = r - c, g = o - d, v = a - f, m = 1 / Math.sqrt(p * p + g * g + v * v), y = l * (v *= m) - u * (g *= m), x = u * (p *= m) - h * v, w = h * g - l * p; (m = Math.sqrt(y * y + x * x + w * w)) ? (y *= m = 1 / m, x *= m, w *= m) : (y = 0, x = 0, w = 0); var T = g * w - v * x, b = v * y - p * w, S = p * x - g * y; return (m = Math.sqrt(T * T + b * b + S * S)) ? (T *= m = 1 / m, b *= m, S *= m) : (T = 0, b = 0, S = 0), n[0] = y, n[1] = T, n[2] = p, n[3] = 0, n[4] = x, n[5] = b, n[6] = g, n[7] = 0, n[8] = w, n[9] = S, n[10] = v, n[11] = 0, n[12] = -(y * r + x * o + w * a), n[13] = -(T * r + b * o + S * a), n[14] = -(p * r + g * o + v * a), n[15] = 1, this }, yawPitchRoll: function (t, e, i) { this.zero(), o.zero(), a.zero(); var s = this.val, n = o.val, r = a.val, h = Math.sin(i), l = Math.cos(i); return s[10] = 1, s[15] = 1, s[0] = l, s[1] = h, s[4] = -h, s[5] = l, h = Math.sin(e), l = Math.cos(e), n[0] = 1, n[15] = 1, n[5] = l, n[10] = l, n[9] = -h, n[6] = h, h = Math.sin(t), l = Math.cos(t), r[5] = 1, r[15] = 1, r[0] = l, r[2] = -h, r[8] = h, r[10] = l, this.multiplyLocal(o), this.multiplyLocal(a), this }, setWorldMatrix: function (t, e, i, s, n) { return this.yawPitchRoll(t.y, t.x, t.z), o.scaling(i.x, i.y, i.z), a.xyz(e.x, e.y, e.z), this.multiplyLocal(o), this.multiplyLocal(a), void 0 !== s && this.multiplyLocal(s), void 0 !== n && this.multiplyLocal(n), this } }), o = new r, a = new r; t.exports = r })), n.register("jzUY5", (function (t, e) { var i = n("jwj1g"), s = n("gbKIZ"), r = n("gX42i"), o = 1e-6, a = new Int8Array([1, 2, 0]), h = new Float32Array([0, 0, 0]), l = new s(1, 0, 0), u = new s(0, 1, 0), c = new s, d = new r, f = new i({ initialize: function (t, e, i, s) { "object" == typeof t ? (this.x = t.x || 0, this.y = t.y || 0, this.z = t.z || 0, this.w = t.w || 0) : (this.x = t || 0, this.y = e || 0, this.z = i || 0, this.w = s || 0) }, copy: function (t) { return this.x = t.x, this.y = t.y, this.z = t.z, this.w = t.w, this }, set: function (t, e, i, s) { return "object" == typeof t ? (this.x = t.x || 0, this.y = t.y || 0, this.z = t.z || 0, this.w = t.w || 0) : (this.x = t || 0, this.y = e || 0, this.z = i || 0, this.w = s || 0), this }, add: function (t) { return this.x += t.x, this.y += t.y, this.z += t.z, this.w += t.w, this }, subtract: function (t) { return this.x -= t.x, this.y -= t.y, this.z -= t.z, this.w -= t.w, this }, scale: function (t) { return this.x *= t, this.y *= t, this.z *= t, this.w *= t, this }, length: function () { var t = this.x, e = this.y, i = this.z, s = this.w; return Math.sqrt(t * t + e * e + i * i + s * s) }, lengthSq: function () { var t = this.x, e = this.y, i = this.z, s = this.w; return t * t + e * e + i * i + s * s }, normalize: function () { var t = this.x, e = this.y, i = this.z, s = this.w, n = t * t + e * e + i * i + s * s; return n > 0 && (n = 1 / Math.sqrt(n), this.x = t * n, this.y = e * n, this.z = i * n, this.w = s * n), this }, dot: function (t) { return this.x * t.x + this.y * t.y + this.z * t.z + this.w * t.w }, lerp: function (t, e) { void 0 === e && (e = 0); var i = this.x, s = this.y, n = this.z, r = this.w; return this.x = i + e * (t.x - i), this.y = s + e * (t.y - s), this.z = n + e * (t.z - n), this.w = r + e * (t.w - r), this }, rotationTo: function (t, e) { var i = t.x * e.x + t.y * e.y + t.z * e.z; return i < -.999999 ? (c.copy(l).cross(t).length() < o && c.copy(u).cross(t), c.normalize(), this.setAxisAngle(c, Math.PI)) : i > .999999 ? (this.x = 0, this.y = 0, this.z = 0, this.w = 1, this) : (c.copy(t).cross(e), this.x = c.x, this.y = c.y, this.z = c.z, this.w = 1 + i, this.normalize()) }, setAxes: function (t, e, i) { var s = d.val; return s[0] = e.x, s[3] = e.y, s[6] = e.z, s[1] = i.x, s[4] = i.y, s[7] = i.z, s[2] = -t.x, s[5] = -t.y, s[8] = -t.z, this.fromMat3(d).normalize() }, identity: function () { return this.x = 0, this.y = 0, this.z = 0, this.w = 1, this }, setAxisAngle: function (t, e) { e *= .5; var i = Math.sin(e); return this.x = i * t.x, this.y = i * t.y, this.z = i * t.z, this.w = Math.cos(e), this }, multiply: function (t) { var e = this.x, i = this.y, s = this.z, n = this.w, r = t.x, o = t.y, a = t.z, h = t.w; return this.x = e * h + n * r + i * a - s * o, this.y = i * h + n * o + s * r - e * a, this.z = s * h + n * a + e * o - i * r, this.w = n * h - e * r - i * o - s * a, this }, slerp: function (t, e) { var i = this.x, s = this.y, n = this.z, r = this.w, a = t.x, h = t.y, l = t.z, u = t.w, c = i * a + s * h + n * l + r * u; c < 0 && (c = -c, a = -a, h = -h, l = -l, u = -u); var d = 1 - e, f = e; if (1 - c > o) { var p = Math.acos(c), g = Math.sin(p); d = Math.sin((1 - e) * p) / g, f = Math.sin(e * p) / g } return this.x = d * i + f * a, this.y = d * s + f * h, this.z = d * n + f * l, this.w = d * r + f * u, this }, invert: function () { var t = this.x, e = this.y, i = this.z, s = this.w, n = t * t + e * e + i * i + s * s, r = n ? 1 / n : 0; return this.x = -t * r, this.y = -e * r, this.z = -i * r, this.w = s * r, this }, conjugate: function () { return this.x = -this.x, this.y = -this.y, this.z = -this.z, this }, rotateX: function (t) { t *= .5; var e = this.x, i = this.y, s = this.z, n = this.w, r = Math.sin(t), o = Math.cos(t); return this.x = e * o + n * r, this.y = i * o + s * r, this.z = s * o - i * r, this.w = n * o - e * r, this }, rotateY: function (t) { t *= .5; var e = this.x, i = this.y, s = this.z, n = this.w, r = Math.sin(t), o = Math.cos(t); return this.x = e * o - s * r, this.y = i * o + n * r, this.z = s * o + e * r, this.w = n * o - i * r, this }, rotateZ: function (t) { t *= .5; var e = this.x, i = this.y, s = this.z, n = this.w, r = Math.sin(t), o = Math.cos(t); return this.x = e * o + i * r, this.y = i * o - e * r, this.z = s * o + n * r, this.w = n * o - s * r, this }, calculateW: function () { var t = this.x, e = this.y, i = this.z; return this.w = -Math.sqrt(1 - t * t - e * e - i * i), this }, fromMat3: function (t) { var e, i = t.val, s = i[0] + i[4] + i[8]; if (s > 0) e = Math.sqrt(s + 1), this.w = .5 * e, e = .5 / e, this.x = (i[7] - i[5]) * e, this.y = (i[2] - i[6]) * e, this.z = (i[3] - i[1]) * e; else { var n = 0; i[4] > i[0] && (n = 1), i[8] > i[3 * n + n] && (n = 2); var r = a[n], o = a[r]; e = Math.sqrt(i[3 * n + n] - i[3 * r + r] - i[3 * o + o] + 1), h[n] = .5 * e, e = .5 / e, h[r] = (i[3 * r + n] + i[3 * n + r]) * e, h[o] = (i[3 * o + n] + i[3 * n + o]) * e, this.x = h[0], this.y = h[1], this.z = h[2], this.w = (i[3 * o + r] - i[3 * r + o]) * e } return this } }); t.exports = f })), n.register("iV7dk", (function (t, e) { var i = n("gbKIZ"), s = n("hD0DV"), r = n("jzUY5"), o = new s, a = new r, h = new i; t.exports = function (t, e, i) { return a.setAxisAngle(e, i), o.fromRotationTranslation(a, h.set(0, 0, 0)), t.transformMat4(o) } })), n.register("488fh", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    var i = { Global: ["game", "anims", "cache", "plugins", "registry", "scale", "sound", "textures"], CoreScene: ["EventEmitter", "CameraManager", "GameObjectCreator", "GameObjectFactory", "ScenePlugin", "DisplayList", "UpdateList"], DefaultScene: ["Clock", "DataManagerPlugin", "InputPlugin", "Loader", "TweenManager", "LightsPlugin"] }; i.DefaultScene.push("CameraManager3D"), i.Global.push("facebook"), t.exports = i
})), n.register("dFILV", (function (t, e) { var i = n("9OJi8"), s = n("kKoer"), r = n("bRAqZ"), o = n("9t9UB"); t.exports = function (t) { var e = t.config; if ((e.customEnvironment || e.canvas) && e.renderType === r.AUTO) throw new Error("Must set explicit renderType in custom environment"); if (!e.customEnvironment && !e.canvas && e.renderType !== r.HEADLESS) if (e.renderType === r.CANVAS || e.renderType !== r.CANVAS && !o.webGL) { if (!o.canvas) throw new Error("Cannot create Canvas or WebGL context, aborting."); e.renderType = r.CANVAS } else e.renderType = r.WEBGL; e.antialias || s.disableSmoothing(); var a, h, l = t.scale.baseSize, u = l.width, c = l.height; (e.canvas ? (t.canvas = e.canvas, t.canvas.width = u, t.canvas.height = c) : t.canvas = s.create(t, u, c, e.renderType), e.canvasStyle && (t.canvas.style = e.canvasStyle), e.antialias || i.setCrisp(t.canvas), e.renderType !== r.HEADLESS) && (a = n("b2B4m"), h = n("aPphQ"), e.renderType === r.WEBGL ? t.renderer = new h(t) : (t.renderer = new a(t), t.context = t.renderer.gameContext)) } })), n.register("9OJi8", (function (t, e) { t.exports = { setCrisp: function (t) { return ["optimizeSpeed", "-moz-crisp-edges", "-o-crisp-edges", "-webkit-optimize-contrast", "optimize-contrast", "crisp-edges", "pixelated"].forEach((function (e) { t.style["image-rendering"] = e })), t.style.msInterpolationMode = "nearest-neighbor", t }, setBicubic: function (t) { return t.style["image-rendering"] = "auto", t.style.msInterpolationMode = "bicubic", t } } })), n.register("b2B4m", (function (t, e) { var i = n("feofd"), s = n("3xxp2"), r = n("jwj1g"), o = n("bRAqZ"), a = n("3M7Hx"), h = n("jPI3B"), l = n("azs1m"), u = new r({ initialize: function (t) { this.game = t, this.type = o.CANVAS, this.drawCount = 0, this.width = 0, this.height = 0, this.config = { clearBeforeRender: t.config.clearBeforeRender, backgroundColor: t.config.backgroundColor, resolution: t.config.resolution, antialias: t.config.antialias, roundPixels: t.config.roundPixels }, this.gameCanvas = t.canvas; var e = { alpha: t.config.transparent, desynchronized: t.config.desynchronized }; this.gameContext = this.game.config.context ? this.game.config.context : this.gameCanvas.getContext("2d", e), this.currentContext = this.gameContext, this.antialias = t.config.antialias, this.blendModes = a(), this.snapshotState = { x: 0, y: 0, width: 1, height: 1, getPixel: !1, callback: null, type: "image/png", encoder: .92 }, this._tempMatrix1 = new l, this._tempMatrix2 = new l, this._tempMatrix3 = new l, this._tempMatrix4 = new l, this.init() }, init: function () { this.game.scale.on(h.RESIZE, this.onResize, this); var t = this.game.scale.baseSize; this.resize(t.width, t.height) }, onResize: function (t, e) { e.width === this.width && e.height === this.height || this.resize(e.width, e.height) }, resize: function (t, e) { this.width = t, this.height = e }, resetTransform: function () { this.currentContext.setTransform(1, 0, 0, 1, 0, 0) }, setBlendMode: function (t) { return this.currentContext.globalCompositeOperation = t, this }, setContext: function (t) { return this.currentContext = t || this.gameContext, this }, setAlpha: function (t) { return this.currentContext.globalAlpha = t, this }, preRender: function () { var t = this.gameContext, e = this.config, i = this.width, s = this.height; t.globalAlpha = 1, t.globalCompositeOperation = "source-over", t.setTransform(1, 0, 0, 1, 0, 0), e.clearBeforeRender && t.clearRect(0, 0, i, s), e.transparent || (t.fillStyle = e.backgroundColor.rgba, t.fillRect(0, 0, i, s)), t.save(), this.drawCount = 0 }, render: function (t, e, i, n) { var r = e.list, o = r.length, a = n._cx, h = n._cy, l = n._cw, u = n._ch, c = n.renderToTexture ? n.context : t.sys.context; c.save(), this.game.scene.customViewports && (c.beginPath(), c.rect(a, h, l, u), c.clip()), this.currentContext = c; var d = n.mask; d && d.preRenderCanvas(this, null, n._maskCamera), n.transparent || (c.fillStyle = n.backgroundColor.rgba, c.fillRect(a, h, l, u)), c.globalAlpha = n.alpha, c.globalCompositeOperation = "source-over", this.drawCount += r.length, n.renderToTexture && n.emit(s.PRE_RENDER, n), n.matrix.copyToContext(c); for (var f = 0; f < o; f++) { var p = r[f]; p.willRender(n) && (p.mask && p.mask.preRenderCanvas(this, p, n), p.renderCanvas(this, p, i, n), p.mask && p.mask.postRenderCanvas(this, p, n)) } c.setTransform(1, 0, 0, 1, 0, 0), c.globalCompositeOperation = "source-over", c.globalAlpha = 1, n.flashEffect.postRenderCanvas(c), n.fadeEffect.postRenderCanvas(c), n.dirty = !1, d && d.postRenderCanvas(this), c.restore(), n.renderToTexture && (n.emit(s.POST_RENDER, n), t.sys.context.drawImage(n.canvas, a, h)) }, postRender: function () { this.gameContext.restore(); var t = this.snapshotState; t.callback && (i(this.gameCanvas, t), t.callback = null) }, snapshotCanvas: function (t, e, s, n, r, o, a, h, l) { void 0 === s && (s = !1), this.snapshotArea(n, r, o, a, e, h, l); var u = this.snapshotState; return u.getPixel = s, i(this.canvas, u), u.callback = null, this }, snapshot: function (t, e, i) { return this.snapshotArea(0, 0, this.gameCanvas.width, this.gameCanvas.height, t, e, i) }, snapshotArea: function (t, e, i, s, n, r, o) { var a = this.snapshotState; return a.callback = n, a.type = r, a.encoder = o, a.getPixel = !1, a.x = t, a.y = e, a.width = Math.min(i, this.gameCanvas.width), a.height = Math.min(s, this.gameCanvas.height), this }, snapshotPixel: function (t, e, i) { return this.snapshotArea(t, e, 1, 1, i), this.snapshotState.getPixel = !0, this }, batchSprite: function (t, e, i, s) { var n = i.alpha * t.alpha; if (0 !== n) { var r = this.currentContext, o = this._tempMatrix1, a = this._tempMatrix2, h = this._tempMatrix3, l = e.canvasData, u = l.x, c = l.y, d = e.cutWidth, f = e.cutHeight, p = e.customPivot, g = e.source.resolution, v = t.displayOriginX, m = t.displayOriginY, y = -v + e.x, x = -m + e.y; if (t.isCropped) { var w = t._crop; w.flipX === t.flipX && w.flipY === t.flipY || e.updateCropUVs(w, t.flipX, t.flipY), d = w.cw, f = w.ch, u = w.cx, c = w.cy, y = -v + w.x, x = -m + w.y, t.flipX && (y >= 0 ? y = -(y + d) : y < 0 && (y = Math.abs(y) - d)), t.flipY && (x >= 0 ? x = -(x + f) : x < 0 && (x = Math.abs(x) - f)) } var T = 1, b = 1; t.flipX && (p || (y += -e.realWidth + 2 * v), T = -1), t.flipY && (p || (x += -e.realHeight + 2 * m), b = -1), a.applyITRS(t.x, t.y, t.rotation, t.scaleX * T, t.scaleY * b), o.copyFrom(i.matrix), s ? (o.multiplyWithOffset(s, -i.scrollX * t.scrollFactorX, -i.scrollY * t.scrollFactorY), a.e = t.x, a.f = t.y, o.multiply(a, h)) : (a.e -= i.scrollX * t.scrollFactorX, a.f -= i.scrollY * t.scrollFactorY, o.multiply(a, h)), r.save(), h.setToContext(r), r.globalCompositeOperation = this.blendModes[t.blendMode], r.globalAlpha = n, r.imageSmoothingEnabled = !(!this.antialias || e.source.scaleMode), r.drawImage(e.source.image, u, c, d, f, y, x, d / g, f / g), r.restore() } }, destroy: function () { this.gameCanvas = null, this.gameContext = null, this.game = null } }); t.exports = u })), n.register("feofd", (function (t, e) { var i = n("kKoer"), s = n("pqNJR"), r = n("7BSWl"); t.exports = function (t, e) { var n = r(e, "callback"), o = r(e, "type", "image/png"), a = r(e, "encoder", .92), h = Math.abs(Math.round(r(e, "x", 0))), l = Math.abs(Math.round(r(e, "y", 0))), u = r(e, "width", t.width), c = r(e, "height", t.height); if (r(e, "getPixel", !1)) { var d = t.getContext("2d").getImageData(h, l, 1, 1).data; n.call(null, new s(d[0], d[1], d[2], d[3] / 255)) } else if (0 !== h || 0 !== l || u !== t.width || c !== t.height) { var f = i.createWebGL(this, u, c); f.getContext("2d").drawImage(t, h, l, u, c, 0, 0, u, c); var p = new Image; p.onerror = function () { n.call(null), i.remove(f) }, p.onload = function () { n.call(null, p), i.remove(f) }, p.src = f.toDataURL(o, a) } else { var g = new Image; g.onerror = function () { n.call(null) }, g.onload = function () { n.call(null, g) }, g.src = t.toDataURL(o, a) } } })), n.register("3M7Hx", (function (t, e) { var i = n("3qUcC"), s = n("lz57b"); t.exports = function () { var t = [], e = s.supportNewBlendModes, n = "source-over"; return t[i.NORMAL] = n, t[i.ADD] = "lighter", t[i.MULTIPLY] = e ? "multiply" : n, t[i.SCREEN] = e ? "screen" : n, t[i.OVERLAY] = e ? "overlay" : n, t[i.DARKEN] = e ? "darken" : n, t[i.LIGHTEN] = e ? "lighten" : n, t[i.COLOR_DODGE] = e ? "color-dodge" : n, t[i.COLOR_BURN] = e ? "color-burn" : n, t[i.HARD_LIGHT] = e ? "hard-light" : n, t[i.SOFT_LIGHT] = e ? "soft-light" : n, t[i.DIFFERENCE] = e ? "difference" : n, t[i.EXCLUSION] = e ? "exclusion" : n, t[i.HUE] = e ? "hue" : n, t[i.SATURATION] = e ? "saturation" : n, t[i.COLOR] = e ? "color" : n, t[i.LUMINOSITY] = e ? "luminosity" : n, t[i.ERASE] = "destination-out", t[i.SOURCE_IN] = "source-in", t[i.SOURCE_OUT] = "source-out", t[i.SOURCE_ATOP] = "source-atop", t[i.DESTINATION_OVER] = "destination-over", t[i.DESTINATION_IN] = "destination-in", t[i.DESTINATION_OUT] = "destination-out", t[i.DESTINATION_ATOP] = "destination-atop", t[i.LIGHTER] = "lighter", t[i.COPY] = "copy", t[i.XOR] = "xor", t } })), n.register("aPphQ", (function (t, e) { var i = n("2LSzx"), s = n("3xxp2"), r = n("jwj1g"), o = n("bRAqZ"), a = n("aqcI1"), h = n("gV9Y0"), l = n("13GYA"), u = n("jPI3B"), c = n("eOqX8"), d = n("6R4Pe"), f = n("azs1m"), p = n("gaO4e"), g = n("65D27"), v = n("84zIv"), m = n("lOOAG"), y = n("jnBZP"), x = new r({ initialize: function (t) { var e = t.config, s = { alpha: e.transparent, desynchronized: e.desynchronized, depth: !1, antialias: e.antialiasGL, premultipliedAlpha: e.premultipliedAlpha, stencil: !0, failIfMajorPerformanceCaveat: e.failIfMajorPerformanceCaveat, powerPreference: e.powerPreference }; this.config = { clearBeforeRender: e.clearBeforeRender, antialias: e.antialias, backgroundColor: e.backgroundColor, contextCreation: s, resolution: e.resolution, roundPixels: e.roundPixels, maxTextures: e.maxTextures, maxTextureSize: e.maxTextureSize, batchSize: e.batchSize, maxLights: e.maxLights, mipmapFilter: e.mipmapFilter }, this.game = t, this.type = o.WEBGL, this.width = 0, this.height = 0, this.canvas = t.canvas, this.blendModes = [], this.nativeTextures = [], this.contextLost = !1, this.pipelines = null, this.snapshotState = { x: 0, y: 0, width: 1, height: 1, getPixel: !1, callback: null, type: "image/png", encoder: .92, isFramebuffer: !1, bufferWidth: 0, bufferHeight: 0 }, this.currentActiveTextureUnit = 0, this.currentTextures = new Array(16), this.currentFramebuffer = null, this.currentPipeline = null, this.currentProgram = null, this.currentVertexBuffer = null, this.currentIndexBuffer = null, this.currentBlendMode = 1 / 0, this.currentScissorEnabled = !1, this.currentScissor = null, this.scissorStack = [], this.contextLostHandler = l, this.contextRestoredHandler = l, this.gl = null, this.supportedExtensions = null, this.extensions = {}, this.glFormats = [], this.compression = { ETC1: !1, PVRTC: !1, S3TC: !1 }, this.drawingBufferHeight = 0, this.blankTexture = null, this.defaultCamera = new i(0, 0, 0, 0), this._tempMatrix1 = new f, this._tempMatrix2 = new f, this._tempMatrix3 = new f, this._tempMatrix4 = new f, this.maskCount = 0, this.maskStack = [], this.currentMask = { mask: null, camera: null }, this.currentCameraMask = { mask: null, camera: null }, this.glFuncMap = null, this.currentType = "", this.newType = !1, this.nextTypeMatch = !1, this.mipmapFilter = null, this.init(this.config) }, init: function (t) { var e, i = this.game, s = this.canvas, n = t.backgroundColor; if (!(e = i.config.context ? i.config.context : s.getContext("webgl", t.contextCreation) || s.getContext("experimental-webgl", t.contextCreation)) || e.isContextLost()) throw this.contextLost = !0, new Error("WebGL unsupported"); this.gl = e; var r = this; this.contextLostHandler = function (t) { r.contextLost = !0, r.game.events.emit(a.CONTEXT_LOST, r), t.preventDefault() }, this.contextRestoredHandler = function () { r.contextLost = !1, r.init(r.config), r.game.events.emit(a.CONTEXT_RESTORED, r) }, s.addEventListener("webglcontextlost", this.contextLostHandler, !1), s.addEventListener("webglcontextrestored", this.contextRestoredHandler, !1), i.context = e; for (var h = 0; h <= 27; h++)this.blendModes.push({ func: [e.ONE, e.ONE_MINUS_SRC_ALPHA], equation: e.FUNC_ADD }); this.blendModes[1].func = [e.ONE, e.DST_ALPHA], this.blendModes[2].func = [e.DST_COLOR, e.ONE_MINUS_SRC_ALPHA], this.blendModes[3].func = [e.ONE, e.ONE_MINUS_SRC_COLOR], this.blendModes[17] = { func: [e.ZERO, e.ONE_MINUS_SRC_ALPHA], equation: e.FUNC_REVERSE_SUBTRACT }, this.glFormats[0] = e.BYTE, this.glFormats[1] = e.SHORT, this.glFormats[2] = e.UNSIGNED_BYTE, this.glFormats[3] = e.UNSIGNED_SHORT, this.glFormats[4] = e.FLOAT, this.glFuncMap = { mat2: { func: e.uniformMatrix2fv, length: 1, matrix: !0 }, mat3: { func: e.uniformMatrix3fv, length: 1, matrix: !0 }, mat4: { func: e.uniformMatrix4fv, length: 1, matrix: !0 }, "1f": { func: e.uniform1f, length: 1 }, "1fv": { func: e.uniform1fv, length: 1 }, "1i": { func: e.uniform1i, length: 1 }, "1iv": { func: e.uniform1iv, length: 1 }, "2f": { func: e.uniform2f, length: 2 }, "2fv": { func: e.uniform2fv, length: 1 }, "2i": { func: e.uniform2i, length: 2 }, "2iv": { func: e.uniform2iv, length: 1 }, "3f": { func: e.uniform3f, length: 3 }, "3fv": { func: e.uniform3fv, length: 1 }, "3i": { func: e.uniform3i, length: 3 }, "3iv": { func: e.uniform3iv, length: 1 }, "4f": { func: e.uniform4f, length: 4 }, "4fv": { func: e.uniform4fv, length: 1 }, "4i": { func: e.uniform4i, length: 4 }, "4iv": { func: e.uniform4iv, length: 1 } }; var l = e.getSupportedExtensions(); t.maxTextures || (t.maxTextures = e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)), t.maxTextureSize || (t.maxTextureSize = e.getParameter(e.MAX_TEXTURE_SIZE)); var u = "WEBGL_compressed_texture_", c = "WEBKIT_" + u; this.compression.ETC1 = e.getExtension(u + "etc1") || e.getExtension(c + "etc1"), this.compression.PVRTC = e.getExtension(u + "pvrtc") || e.getExtension(c + "pvrtc"), this.compression.S3TC = e.getExtension(u + "s3tc") || e.getExtension(c + "s3tc"), this.supportedExtensions = l, e.disable(e.DEPTH_TEST), e.disable(e.CULL_FACE), e.enable(e.BLEND), e.clearColor(n.redGL, n.greenGL, n.blueGL, n.alphaGL), this.mipmapFilter = e[t.mipmapFilter]; for (var f = 0; f < this.currentTextures.length; ++f)this.currentTextures[f] = null; return this.pipelines = {}, this.addPipeline("TextureTintPipeline", new y({ game: i, renderer: this })), this.addPipeline("BitmapMaskPipeline", new v({ game: i, renderer: this })), this.addPipeline("Light2D", new m({ game: i, renderer: this, maxLights: t.maxLights })), this.setBlendMode(o.BlendModes.NORMAL), i.textures.once(d.READY, this.boot, this), this }, boot: function () { for (var t in this.pipelines) this.pipelines[t].boot(); var e = this.game.textures.getFrame("__DEFAULT"); this.pipelines.TextureTintPipeline.currentFrame = e, this.blankTexture = e; var i = this.gl; i.bindFramebuffer(i.FRAMEBUFFER, null), i.enable(i.SCISSOR_TEST), this.setPipeline(this.pipelines.TextureTintPipeline), this.game.scale.on(u.RESIZE, this.onResize, this); var s = this.game.scale.baseSize; this.resize(s.width, s.height, this.game.scale.resolution) }, onResize: function (t, e, i, s) { e.width === this.width && e.height === this.height && s === this.resolution || this.resize(e.width, e.height, s) }, resize: function (t, e, i) { var s = this.gl, n = this.pipelines; for (var r in this.width = t, this.height = e, this.resolution = i, s.viewport(0, 0, t, e), n) n[r].resize(t, e, i); return this.drawingBufferHeight = s.drawingBufferHeight, s.scissor(0, s.drawingBufferHeight - e, t, e), this.defaultCamera.setSize(t, e), this }, hasExtension: function (t) { return !!this.supportedExtensions && this.supportedExtensions.indexOf(t) }, getExtension: function (t) { return this.hasExtension(t) ? (t in this.extensions || (this.extensions[t] = this.gl.getExtension(t)), this.extensions[t]) : null }, flush: function () { this.currentPipeline && this.currentPipeline.flush() }, hasPipeline: function (t) { return t in this.pipelines }, getPipeline: function (t) { return this.hasPipeline(t) ? this.pipelines[t] : null }, removePipeline: function (t) { return delete this.pipelines[t], this }, addPipeline: function (t, e) { return this.hasPipeline(t) ? console.warn("Pipeline exists: " + t) : this.pipelines[t] = e, e.name = t, this.pipelines[t].resize(this.width, this.height, this.config.resolution), e }, pushScissor: function (t, e, i, s, n) { void 0 === n && (n = this.drawingBufferHeight); var r = [t, e, i, s]; return this.scissorStack.push(r), this.setScissor(t, e, i, s, n), this.currentScissor = r, r }, setScissor: function (t, e, i, s, n) { void 0 === n && (n = this.drawingBufferHeight); var r = this.gl, o = this.currentScissor, a = i > 0 && s > 0; if (o && a) { var h = o[0], l = o[1], u = o[2], c = o[3]; a = h !== t || l !== e || u !== i || c !== s } a && (this.flush(), r.scissor(t, n - e - s, i, s)) }, popScissor: function () { var t = this.scissorStack; t.pop(); var e = t[t.length - 1]; e && this.setScissor(e[0], e[1], e[2], e[3]), this.currentScissor = e }, setPipeline: function (t, e) { return this.currentPipeline === t && this.currentPipeline.vertexBuffer === this.currentVertexBuffer && this.currentPipeline.program === this.currentProgram || (this.flush(), this.currentPipeline = t, this.currentPipeline.bind()), this.currentPipeline.onBind(e), this.currentPipeline }, hasActiveStencilMask: function () { var t = this.currentMask.mask, e = this.currentCameraMask.mask; return t && t.isStencil || e && e.isStencil }, rebindPipeline: function (t) { var e = this.gl; e.disable(e.DEPTH_TEST), e.disable(e.CULL_FACE), this.hasActiveStencilMask() ? e.clear(e.DEPTH_BUFFER_BIT) : (e.disable(e.STENCIL_TEST), e.clear(e.DEPTH_BUFFER_BIT | e.STENCIL_BUFFER_BIT)), e.viewport(0, 0, this.width, this.height), this.setBlendMode(0, !0), e.activeTexture(e.TEXTURE0), e.bindTexture(e.TEXTURE_2D, this.blankTexture.glTexture), this.currentActiveTextureUnit = 0, this.currentTextures[0] = this.blankTexture.glTexture, this.currentPipeline = t, this.currentPipeline.bind(), this.currentPipeline.onBind() }, clearPipeline: function () { this.flush(), this.currentPipeline = null, this.currentProgram = null, this.currentVertexBuffer = null, this.currentIndexBuffer = null, this.setBlendMode(0, !0) }, setBlendMode: function (t, e) { void 0 === e && (e = !1); var i = this.gl, s = this.blendModes[t]; return !!(e || t !== o.BlendModes.SKIP_CHECK && this.currentBlendMode !== t) && (this.flush(), i.enable(i.BLEND), i.blendEquation(s.equation), s.func.length > 2 ? i.blendFuncSeparate(s.func[0], s.func[1], s.func[2], s.func[3]) : i.blendFunc(s.func[0], s.func[1]), this.currentBlendMode = t, !0) }, addBlendMode: function (t, e) { return this.blendModes.push({ func: t, equation: e }) - 1 }, updateBlendMode: function (t, e, i) { return this.blendModes[t] && (this.blendModes[t].func = e, i && (this.blendModes[t].equation = i)), this }, removeBlendMode: function (t) { return t > 17 && this.blendModes[t] && this.blendModes.splice(t, 1), this }, setBlankTexture: function (t) { void 0 === t && (t = !1), !t && 0 === this.currentActiveTextureUnit && this.currentTextures[0] || this.setTexture2D(this.blankTexture.glTexture, 0) }, setTexture2D: function (t, e, i) { void 0 === i && (i = !0); var s = this.gl; return t !== this.currentTextures[e] && (i && this.flush(), this.currentActiveTextureUnit !== e && (s.activeTexture(s.TEXTURE0 + e), this.currentActiveTextureUnit = e), s.bindTexture(s.TEXTURE_2D, t), this.currentTextures[e] = t), this }, setFramebuffer: function (t, e) { void 0 === e && (e = !1); var i = this.gl, s = this.width, n = this.height; return t !== this.currentFramebuffer && (t && t.renderTexture ? (s = t.renderTexture.width, n = t.renderTexture.height) : this.flush(), i.bindFramebuffer(i.FRAMEBUFFER, t), i.viewport(0, 0, s, n), e && (t ? (this.drawingBufferHeight = n, this.pushScissor(0, 0, s, n)) : (this.drawingBufferHeight = this.height, this.popScissor())), this.currentFramebuffer = t), this }, setProgram: function (t) { var e = this.gl; return t !== this.currentProgram && (this.flush(), e.useProgram(t), this.currentProgram = t), this }, setVertexBuffer: function (t) { var e = this.gl; return t !== this.currentVertexBuffer && (this.flush(), e.bindBuffer(e.ARRAY_BUFFER, t), this.currentVertexBuffer = t), this }, setIndexBuffer: function (t) { var e = this.gl; return t !== this.currentIndexBuffer && (this.flush(), e.bindBuffer(e.ELEMENT_ARRAY_BUFFER, t), this.currentIndexBuffer = t), this }, createTextureFromSource: function (t, e, i, s) { var n = this.gl, r = n.NEAREST, a = n.NEAREST, l = n.CLAMP_TO_EDGE; e = t ? t.width : e, i = t ? t.height : i; var u = h(e, i); return u && (l = n.REPEAT), s === o.ScaleModes.LINEAR && this.config.antialias && (r = u ? this.mipmapFilter : n.LINEAR, a = n.LINEAR), t || "number" != typeof e || "number" != typeof i ? this.createTexture2D(0, r, a, l, l, n.RGBA, t) : this.createTexture2D(0, r, a, l, l, n.RGBA, null, e, i) }, createTexture2D: function (t, e, i, s, n, r, o, a, l, u, c, d) { u = null == u || u, void 0 === c && (c = !1), void 0 === d && (d = !1); var f = this.gl, p = f.createTexture(); return this.setTexture2D(p, 0), f.texParameteri(f.TEXTURE_2D, f.TEXTURE_MIN_FILTER, e), f.texParameteri(f.TEXTURE_2D, f.TEXTURE_MAG_FILTER, i), f.texParameteri(f.TEXTURE_2D, f.TEXTURE_WRAP_S, n), f.texParameteri(f.TEXTURE_2D, f.TEXTURE_WRAP_T, s), f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL, u), f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL, d), null == o ? f.texImage2D(f.TEXTURE_2D, t, r, a, l, 0, r, f.UNSIGNED_BYTE, null) : (c || (a = o.width, l = o.height), f.texImage2D(f.TEXTURE_2D, t, r, r, f.UNSIGNED_BYTE, o)), h(a, l) && f.generateMipmap(f.TEXTURE_2D), this.setTexture2D(null, 0), p.isAlphaPremultiplied = u, p.isRenderTexture = !1, p.width = a, p.height = l, this.nativeTextures.push(p), p }, createFramebuffer: function (t, e, i, s) { var n, r = this.gl, o = r.createFramebuffer(); if (this.setFramebuffer(o), s) { var a = r.createRenderbuffer(); r.bindRenderbuffer(r.RENDERBUFFER, a), r.renderbufferStorage(r.RENDERBUFFER, r.DEPTH_STENCIL, t, e), r.framebufferRenderbuffer(r.FRAMEBUFFER, r.DEPTH_STENCIL_ATTACHMENT, r.RENDERBUFFER, a) } if (i.isRenderTexture = !0, i.isAlphaPremultiplied = !1, r.framebufferTexture2D(r.FRAMEBUFFER, r.COLOR_ATTACHMENT0, r.TEXTURE_2D, i, 0), (n = r.checkFramebufferStatus(r.FRAMEBUFFER)) !== r.FRAMEBUFFER_COMPLETE) { throw new Error("Framebuffer incomplete. Framebuffer status: " + { 36054: "Incomplete Attachment", 36055: "Missing Attachment", 36057: "Incomplete Dimensions", 36061: "Framebuffer Unsupported" }[n]) } return o.renderTexture = i, this.setFramebuffer(null), o }, createProgram: function (t, e) { var i = this.gl, s = i.createProgram(), n = i.createShader(i.VERTEX_SHADER), r = i.createShader(i.FRAGMENT_SHADER); if (i.shaderSource(n, t), i.shaderSource(r, e), i.compileShader(n), i.compileShader(r), !i.getShaderParameter(n, i.COMPILE_STATUS)) throw new Error("Failed to compile Vertex Shader:\n" + i.getShaderInfoLog(n)); if (!i.getShaderParameter(r, i.COMPILE_STATUS)) throw new Error("Failed to compile Fragment Shader:\n" + i.getShaderInfoLog(r)); if (i.attachShader(s, n), i.attachShader(s, r), i.linkProgram(s), !i.getProgramParameter(s, i.LINK_STATUS)) throw new Error("Failed to link program:\n" + i.getProgramInfoLog(s)); return s }, createVertexBuffer: function (t, e) { var i = this.gl, s = i.createBuffer(); return this.setVertexBuffer(s), i.bufferData(i.ARRAY_BUFFER, t, e), this.setVertexBuffer(null), s }, createIndexBuffer: function (t, e) { var i = this.gl, s = i.createBuffer(); return this.setIndexBuffer(s), i.bufferData(i.ELEMENT_ARRAY_BUFFER, t, e), this.setIndexBuffer(null), s }, deleteTexture: function (t) { var e = this.nativeTextures.indexOf(t); return -1 !== e && c(this.nativeTextures, e), this.gl.deleteTexture(t), this.currentTextures[0] !== t || this.game.pendingDestroy || this.setBlankTexture(!0), this }, deleteFramebuffer: function (t) { return this.gl.deleteFramebuffer(t), this }, deleteProgram: function (t) { return this.gl.deleteProgram(t), this }, deleteBuffer: function (t) { return this.gl.deleteBuffer(t), this }, preRenderCamera: function (t) { var e = t._cx, i = t._cy, n = t._cw, r = t._ch, o = this.pipelines.TextureTintPipeline, a = t.backgroundColor; if (t.renderToTexture) { this.flush(), this.pushScissor(e, i, n, -r), this.setFramebuffer(t.framebuffer); var h = this.gl; h.clearColor(0, 0, 0, 0), h.clear(h.COLOR_BUFFER_BIT), o.projOrtho(e, n + e, i, r + i, -1e3, 1e3), t.mask && (this.currentCameraMask.mask = t.mask, this.currentCameraMask.camera = t._maskCamera, t.mask.preRenderWebGL(this, t, t._maskCamera)), a.alphaGL > 0 && o.drawFillRect(e, i, n + e, r + i, p.getTintFromFloats(a.redGL, a.greenGL, a.blueGL, 1), a.alphaGL), t.emit(s.PRE_RENDER, t) } else this.pushScissor(e, i, n, r), t.mask && (this.currentCameraMask.mask = t.mask, this.currentCameraMask.camera = t._maskCamera, t.mask.preRenderWebGL(this, t, t._maskCamera)), a.alphaGL > 0 && o.drawFillRect(e, i, n, r, p.getTintFromFloats(a.redGL, a.greenGL, a.blueGL, 1), a.alphaGL) }, getCurrentStencilMask: function () { var t = null, e = this.maskStack, i = this.currentCameraMask; return e.length > 0 ? t = e[e.length - 1] : i.mask && i.mask.isStencil && (t = i), t }, postRenderCamera: function (t) { var e = this.pipelines.TextureTintPipeline; if (t.flashEffect.postRenderWebGL(e, p.getTintFromFloats), t.fadeEffect.postRenderWebGL(e, p.getTintFromFloats), t.dirty = !1, this.popScissor(), t.renderToTexture) { e.flush(), this.setFramebuffer(null), t.emit(s.POST_RENDER, t), e.projOrtho(0, e.width, e.height, 0, -1e3, 1e3); var i = p.getTintAppendFloatAlpha; (t.pipeline ? t.pipeline : e).batchTexture(t, t.glTexture, t.width, t.height, t.x, t.y, t.width, t.height, t.zoom, t.zoom, t.rotation, t.flipX, !t.flipY, 1, 1, 0, 0, 0, 0, t.width, t.height, i(t._tintTL, t._alphaTL), i(t._tintTR, t._alphaTR), i(t._tintBL, t._alphaBL), i(t._tintBR, t._alphaBR), t._isTinted && t.tintFill, 0, 0, this.defaultCamera, null), this.setBlankTexture(!0) } t.mask && (this.currentCameraMask.mask = null, t.mask.postRenderWebGL(this, t._maskCamera)) }, preRender: function () { if (!this.contextLost) { var t = this.gl, e = this.pipelines; if (t.bindFramebuffer(t.FRAMEBUFFER, null), this.config.clearBeforeRender) { var i = this.config.backgroundColor; t.clearColor(i.redGL, i.greenGL, i.blueGL, i.alphaGL), t.clear(t.COLOR_BUFFER_BIT | t.DEPTH_BUFFER_BIT | t.STENCIL_BUFFER_BIT) } for (var s in t.enable(t.SCISSOR_TEST), e) e[s].onPreRender(); this.currentScissor = [0, 0, this.width, this.height], this.scissorStack = [this.currentScissor], this.game.scene.customViewports && t.scissor(0, this.drawingBufferHeight - this.height, this.width, this.height), this.currentMask.mask = null, this.currentCameraMask.mask = null, this.maskStack.length = 0, this.setPipeline(this.pipelines.TextureTintPipeline) } }, render: function (t, e, i, s) { if (!this.contextLost) { var n = e.list, r = n.length, a = this.pipelines; for (var h in a) a[h].onRender(t, s); if (this.preRenderCamera(s), 0 === r) return this.setBlendMode(o.BlendModes.NORMAL), void this.postRenderCamera(s); this.currentType = ""; for (var l = this.currentMask, u = 0; u < r; u++) { var c = n[u]; if (c.willRender(s)) { c.blendMode !== this.currentBlendMode && this.setBlendMode(c.blendMode); var d = c.mask; (l = this.currentMask).mask && l.mask !== d && l.mask.postRenderWebGL(this, l.camera), d && l.mask !== d && d.preRenderWebGL(this, c, s); var f = c.type; f !== this.currentType && (this.newType = !0, this.currentType = f), this.nextTypeMatch = u < r - 1 && n[u + 1].type === this.currentType, c.renderWebGL(this, c, i, s), this.newType = !1 } } (l = this.currentMask).mask && l.mask.postRenderWebGL(this, l.camera), this.setBlendMode(o.BlendModes.NORMAL), this.postRenderCamera(s) } }, postRender: function () { if (!this.contextLost) { this.flush(); var t = this.snapshotState; t.callback && (g(this.canvas, t), t.callback = null); var e = this.pipelines; for (var i in e) e[i].onPostRender() } }, snapshot: function (t, e, i) { return this.snapshotArea(0, 0, this.gl.drawingBufferWidth, this.gl.drawingBufferHeight, t, e, i) }, snapshotArea: function (t, e, i, s, n, r, o) { var a = this.snapshotState; return a.callback = n, a.type = r, a.encoder = o, a.getPixel = !1, a.x = t, a.y = e, a.width = Math.min(i, this.gl.drawingBufferWidth), a.height = Math.min(s, this.gl.drawingBufferHeight), this }, snapshotPixel: function (t, e, i) { return this.snapshotArea(t, e, 1, 1, i), this.snapshotState.getPixel = !0, this }, snapshotFramebuffer: function (t, e, i, s, n, r, o, a, h, l, u) { void 0 === n && (n = !1), void 0 === r && (r = 0), void 0 === o && (o = 0), void 0 === a && (a = e), void 0 === h && (h = i); var c = this.currentFramebuffer; this.snapshotArea(r, o, a, h, s, l, u); var d = this.snapshotState; return d.getPixel = n, d.isFramebuffer = !0, d.bufferWidth = e, d.bufferHeight = i, this.setFramebuffer(t), g(this.canvas, d), this.setFramebuffer(c), d.callback = null, d.isFramebuffer = !1, this }, canvasToTexture: function (t, e, i, s) { return void 0 === i && (i = !1), void 0 === s && (s = !1), e ? this.updateCanvasTexture(t, e, s) : this.createCanvasTexture(t, i, s) }, createCanvasTexture: function (t, e, i) { void 0 === e && (e = !1), void 0 === i && (i = !1); var s = this.gl, n = s.NEAREST, r = s.NEAREST, o = t.width, a = t.height, l = s.CLAMP_TO_EDGE, u = h(o, a); return !e && u && (l = s.REPEAT), this.config.antialias && (n = u ? this.mipmapFilter : s.LINEAR, r = s.LINEAR), this.createTexture2D(0, n, r, l, l, s.RGBA, t, o, a, !0, !1, i) }, updateCanvasTexture: function (t, e, i) { void 0 === i && (i = !1); var s = this.gl, n = t.width, r = t.height; return n > 0 && r > 0 && (this.setTexture2D(e, 0), s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL, i), s.texImage2D(s.TEXTURE_2D, 0, s.RGBA, s.RGBA, s.UNSIGNED_BYTE, t), e.width = n, e.height = r, this.setTexture2D(null, 0)), e }, createVideoTexture: function (t, e, i) { void 0 === e && (e = !1), void 0 === i && (i = !1); var s = this.gl, n = s.NEAREST, r = s.NEAREST, o = t.videoWidth, a = t.videoHeight, l = s.CLAMP_TO_EDGE, u = h(o, a); return !e && u && (l = s.REPEAT), this.config.antialias && (n = u ? this.mipmapFilter : s.LINEAR, r = s.LINEAR), this.createTexture2D(0, n, r, l, l, s.RGBA, t, o, a, !0, !0, i) }, updateVideoTexture: function (t, e, i) { void 0 === i && (i = !1); var s = this.gl, n = t.videoWidth, r = t.videoHeight; return n > 0 && r > 0 && (this.setTexture2D(e, 0), s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL, i), s.texImage2D(s.TEXTURE_2D, 0, s.RGBA, s.RGBA, s.UNSIGNED_BYTE, t), e.width = n, e.height = r, this.setTexture2D(null, 0)), e }, setTextureFilter: function (t, e) { var i = this.gl, s = [i.LINEAR, i.NEAREST][e]; return this.setTexture2D(t, 0), i.texParameteri(i.TEXTURE_2D, i.TEXTURE_MIN_FILTER, s), i.texParameteri(i.TEXTURE_2D, i.TEXTURE_MAG_FILTER, s), this.setTexture2D(null, 0), this }, setFloat1: function (t, e, i) { return this.setProgram(t), this.gl.uniform1f(this.gl.getUniformLocation(t, e), i), this }, setFloat2: function (t, e, i, s) { return this.setProgram(t), this.gl.uniform2f(this.gl.getUniformLocation(t, e), i, s), this }, setFloat3: function (t, e, i, s, n) { return this.setProgram(t), this.gl.uniform3f(this.gl.getUniformLocation(t, e), i, s, n), this }, setFloat4: function (t, e, i, s, n, r) { return this.setProgram(t), this.gl.uniform4f(this.gl.getUniformLocation(t, e), i, s, n, r), this }, setFloat1v: function (t, e, i) { return this.setProgram(t), this.gl.uniform1fv(this.gl.getUniformLocation(t, e), i), this }, setFloat2v: function (t, e, i) { return this.setProgram(t), this.gl.uniform2fv(this.gl.getUniformLocation(t, e), i), this }, setFloat3v: function (t, e, i) { return this.setProgram(t), this.gl.uniform3fv(this.gl.getUniformLocation(t, e), i), this }, setFloat4v: function (t, e, i) { return this.setProgram(t), this.gl.uniform4fv(this.gl.getUniformLocation(t, e), i), this }, setInt1: function (t, e, i) { return this.setProgram(t), this.gl.uniform1i(this.gl.getUniformLocation(t, e), i), this }, setInt2: function (t, e, i, s) { return this.setProgram(t), this.gl.uniform2i(this.gl.getUniformLocation(t, e), i, s), this }, setInt3: function (t, e, i, s, n) { return this.setProgram(t), this.gl.uniform3i(this.gl.getUniformLocation(t, e), i, s, n), this }, setInt4: function (t, e, i, s, n, r) { return this.setProgram(t), this.gl.uniform4i(this.gl.getUniformLocation(t, e), i, s, n, r), this }, setMatrix2: function (t, e, i, s) { return this.setProgram(t), this.gl.uniformMatrix2fv(this.gl.getUniformLocation(t, e), i, s), this }, setMatrix3: function (t, e, i, s) { return this.setProgram(t), this.gl.uniformMatrix3fv(this.gl.getUniformLocation(t, e), i, s), this }, setMatrix4: function (t, e, i, s) { return this.setProgram(t), this.gl.uniformMatrix4fv(this.gl.getUniformLocation(t, e), i, s), this }, getMaxTextures: function () { return this.config.maxTextures }, getMaxTextureSize: function () { return this.config.maxTextureSize }, destroy: function () { for (var t = 0; t < this.nativeTextures.length; t++)this.gl.deleteTexture(this.nativeTextures[t]); for (var e in this.nativeTextures = [], this.pipelines) this.pipelines[e].destroy(), delete this.pipelines[e]; this.defaultCamera.destroy(), this.currentMask = null, this.currentCameraMask = null, this.canvas.removeEventListener("webglcontextlost", this.contextLostHandler, !1), this.canvas.removeEventListener("webglcontextrestored", this.contextRestoredHandler, !1), this.game = null, this.gl = null, this.canvas = null, this.maskStack = [], this.contextLost = !0, this.extensions = {} } }); t.exports = x })), n.register("eOqX8", (function (t, e) { t.exports = function (t, e) { if (!(e >= t.length)) { for (var i = t.length - 1, s = t[e], n = e; n < i; n++)t[n] = t[n + 1]; return t.length = i, s } } })), n.register("6R4Pe", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { ADD: n("fmgmG"), ERROR: n("eCT2W"), LOAD: n("djPoi"), READY: n("hlb1j"), REMOVE: n("a6nZA") }
})), n.register("fmgmG", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "addtexture"
})), n.register("eCT2W", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "onerror"
})), n.register("djPoi", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "onload"
})), n.register("hlb1j", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "ready"
})), n.register("a6nZA", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "removetexture"
})), n.register("gaO4e", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @author       Felipe Alfonso <@bitnenfer>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { getTintFromFloats: function (t, e, i, s) { return ((255 & (255 * s | 0)) << 24 | (255 & (255 * t | 0)) << 16 | (255 & (255 * e | 0)) << 8 | 255 & (255 * i | 0)) >>> 0 }, getTintAppendFloatAlpha: function (t, e) { return ((255 & (255 * e | 0)) << 24 | t) >>> 0 }, getTintAppendFloatAlphaAndSwap: function (t, e) { return ((255 & (255 * e | 0)) << 24 | (255 & (0 | t)) << 16 | (255 & (t >> 8 | 0)) << 8 | 255 & (t >> 16 | 0)) >>> 0 }, getFloatsFromUintRGB: function (t) { return [(255 & (t >> 16 | 0)) / 255, (255 & (t >> 8 | 0)) / 255, (255 & (0 | t)) / 255] }, getComponentCount: function (t, e) { for (var i = 0, s = 0; s < t.length; ++s) { var n = t[s]; n.type === e.FLOAT ? i += n.size : i += 1 } return i } }
})), n.register("65D27", (function (t, e) { var i = n("kKoer"), s = n("pqNJR"), r = n("7BSWl"); t.exports = function (t, e) { var n = t.getContext("experimental-webgl"), o = r(e, "callback"), a = r(e, "type", "image/png"), h = r(e, "encoder", .92), l = r(e, "x", 0), u = r(e, "y", 0), c = r(e, "getPixel", !1), d = r(e, "isFramebuffer", !1), f = d ? r(e, "bufferWidth", 1) : n.drawingBufferWidth, p = d ? r(e, "bufferHeight", 1) : n.drawingBufferHeight; if (c) { var g = new Uint8Array(4), v = d ? u : p - u; n.readPixels(l, v, 1, 1, n.RGBA, n.UNSIGNED_BYTE, g), o.call(null, new s(g[0], g[1], g[2], g[3] / 255)) } else { var m = r(e, "width", f), y = r(e, "height", p), x = m * y * 4, w = new Uint8Array(x); n.readPixels(l, p - u - y, m, y, n.RGBA, n.UNSIGNED_BYTE, w); for (var T = i.createWebGL(this, m, y), b = T.getContext("2d"), S = b.getImageData(0, 0, m, y), A = S.data, E = 0; E < y; E++)for (var C = 0; C < m; C++) { var _ = 4 * ((y - E) * m + C), M = d ? x - 4 * (E * m + (m - C)) : 4 * (E * m + C); A[M + 0] = w[_ + 0], A[M + 1] = w[_ + 1], A[M + 2] = w[_ + 2], A[M + 3] = w[_ + 3] } b.putImageData(S, 0, 0); var P = new Image; P.onerror = function () { o.call(null), i.remove(T) }, P.onload = function () { o.call(null, P), i.remove(T) }, P.src = T.toDataURL(a, h) } } })), n.register("84zIv", (function (t, e) { var i = n("jwj1g"), s = n("X6csy"), r = n("66wRu"), o = n("AbdBB"), a = new i({ Extends: o, initialize: function (t) { o.call(this, { game: t.game, renderer: t.renderer, gl: t.renderer.gl, topology: t.topology ? t.topology : t.renderer.gl.TRIANGLES, vertShader: t.vertShader ? t.vertShader : r, fragShader: t.fragShader ? t.fragShader : s, vertexCapacity: t.vertexCapacity ? t.vertexCapacity : 3, vertexSize: t.vertexSize ? t.vertexSize : 2 * Float32Array.BYTES_PER_ELEMENT, vertices: new Float32Array([-1, 1, -1, -7, 7, 1]).buffer, attributes: [{ name: "inPosition", size: 2, type: t.renderer.gl.FLOAT, normalized: !1, offset: 0 }] }), this.vertexViewF32 = new Float32Array(this.vertexData), this.maxQuads = 1, this.resolutionDirty = !0 }, onBind: function () { o.prototype.onBind.call(this); var t = this.renderer, e = this.program; return this.resolutionDirty && (t.setFloat2(e, "uResolution", this.width, this.height), t.setInt1(e, "uMainSampler", 0), t.setInt1(e, "uMaskSampler", 1), this.resolutionDirty = !1), this }, resize: function (t, e, i) { return o.prototype.resize.call(this, t, e, i), this.resolutionDirty = !0, this }, beginMask: function (t, e, i) { var s = this.renderer, n = this.gl; t.bitmapMask && n && (s.flush(), t.prevFramebuffer = s.currentFramebuffer, s.setFramebuffer(t.mainFramebuffer), n.disable(n.STENCIL_TEST), n.clearColor(0, 0, 0, 0), n.clear(n.COLOR_BUFFER_BIT), s.currentCameraMask.mask !== t && (s.currentMask.mask = t, s.currentMask.camera = i)) }, endMask: function (t, e) { var i = this.gl, s = this.renderer, n = t.bitmapMask; if (n && i) { s.flush(), s.setFramebuffer(t.maskFramebuffer), i.clearColor(0, 0, 0, 0), i.clear(i.COLOR_BUFFER_BIT), s.setBlendMode(0, !0), n.renderWebGL(s, n, 0, e), s.flush(), s.setFramebuffer(t.prevFramebuffer); var r = s.getCurrentStencilMask(); r ? (i.enable(i.STENCIL_TEST), r.mask.applyStencil(s, r.camera, !0)) : s.currentMask.mask = null, s.setPipeline(this), i.activeTexture(i.TEXTURE1), i.bindTexture(i.TEXTURE_2D, t.maskTexture), i.activeTexture(i.TEXTURE0), i.bindTexture(i.TEXTURE_2D, t.mainTexture), i.uniform1i(i.getUniformLocation(this.program, "uInvertMaskAlpha"), t.invertAlpha), i.drawArrays(this.topology, 0, 3) } } }); t.exports = a })), n.register("X6csy", (function (t, e) { t.exports = ["#define SHADER_NAME PHASER_BITMAP_MASK_FS", "", "precision mediump float;", "", "uniform vec2 uResolution;", "uniform sampler2D uMainSampler;", "uniform sampler2D uMaskSampler;", "uniform bool uInvertMaskAlpha;", "", "void main()", "{", "    vec2 uv = gl_FragCoord.xy / uResolution;", "    vec4 mainColor = texture2D(uMainSampler, uv);", "    vec4 maskColor = texture2D(uMaskSampler, uv);", "    float alpha = mainColor.a;", "", "    if (!uInvertMaskAlpha)", "    {", "        alpha *= (maskColor.a);", "    }", "    else", "    {", "        alpha *= (1.0 - maskColor.a);", "    }", "", "    gl_FragColor = vec4(mainColor.rgb * alpha, alpha);", "}", ""].join("\n") })), n.register("66wRu", (function (t, e) { t.exports = ["#define SHADER_NAME PHASER_BITMAP_MASK_VS", "", "precision mediump float;", "", "attribute vec2 inPosition;", "", "void main()", "{", "    gl_Position = vec4(inPosition, 0.0, 1.0);", "}", ""].join("\n") })), n.register("AbdBB", (function (t, e) { var i = n("jwj1g"), s = n("gaO4e"), r = new i({ initialize: function (t) { this.name = "WebGLPipeline", this.game = t.game, this.view = t.game.canvas, this.resolution = 1, this.width = 0, this.height = 0, this.gl = t.gl, this.vertexCount = 0, this.vertexCapacity = t.vertexCapacity, this.renderer = t.renderer, this.vertexData = t.vertices ? t.vertices : new ArrayBuffer(t.vertexCapacity * t.vertexSize), this.vertexBuffer = this.renderer.createVertexBuffer(t.vertices ? t.vertices : this.vertexData.byteLength, this.gl.STREAM_DRAW), this.program = this.renderer.createProgram(t.vertShader, t.fragShader), this.attributes = t.attributes, this.vertexSize = t.vertexSize, this.topology = t.topology, this.bytes = new Uint8Array(this.vertexData), this.vertexComponentCount = s.getComponentCount(t.attributes, this.gl), this.flushLocked = !1, this.active = !1 }, boot: function () { }, addAttribute: function (t, e, i, n, r) { return this.attributes.push({ name: t, size: e, type: this.renderer.glFormats[i], normalized: n, offset: r }), this.vertexComponentCount = s.getComponentCount(this.attributes, this.gl), this }, shouldFlush: function () { return this.vertexCount >= this.vertexCapacity }, resize: function (t, e, i) { return this.width = t * i, this.height = e * i, this.resolution = i, this }, bind: function () { var t = this.gl, e = this.vertexBuffer, i = this.attributes, s = this.program, n = this.renderer, r = this.vertexSize; n.setProgram(s), n.setVertexBuffer(e); for (var o = 0; o < i.length; ++o) { var a = i[o], h = t.getAttribLocation(s, a.name); h >= 0 ? (t.enableVertexAttribArray(h), t.vertexAttribPointer(h, a.size, a.type, a.normalized, r, a.offset)) : -1 !== h && t.disableVertexAttribArray(h) } return this }, onBind: function () { return this }, onPreRender: function () { return this }, onRender: function () { return this }, onPostRender: function () { return this }, flush: function () { if (this.flushLocked) return this; this.flushLocked = !0; var t = this.gl, e = this.vertexCount, i = this.topology, s = this.vertexSize; if (0 !== e) return t.bufferSubData(t.ARRAY_BUFFER, 0, this.bytes.subarray(0, e * s)), t.drawArrays(i, 0, e), this.vertexCount = 0, this.flushLocked = !1, this; this.flushLocked = !1 }, destroy: function () { var t = this.gl; return t.deleteProgram(this.program), t.deleteBuffer(this.vertexBuffer), delete this.program, delete this.vertexBuffer, delete this.gl, this }, setFloat1: function (t, e) { return this.renderer.setFloat1(this.program, t, e), this }, setFloat2: function (t, e, i) { return this.renderer.setFloat2(this.program, t, e, i), this }, setFloat3: function (t, e, i, s) { return this.renderer.setFloat3(this.program, t, e, i, s), this }, setFloat4: function (t, e, i, s, n) { return this.renderer.setFloat4(this.program, t, e, i, s, n), this }, setFloat1v: function (t, e) { return this.renderer.setFloat1v(this.program, t, e), this }, setFloat2v: function (t, e) { return this.renderer.setFloat2v(this.program, t, e), this }, setFloat3v: function (t, e) { return this.renderer.setFloat3v(this.program, t, e), this }, setFloat4v: function (t, e) { return this.renderer.setFloat4v(this.program, t, e), this }, setInt1: function (t, e) { return this.renderer.setInt1(this.program, t, e), this }, setInt2: function (t, e, i) { return this.renderer.setInt2(this.program, t, e, i), this }, setInt3: function (t, e, i, s) { return this.renderer.setInt3(this.program, t, e, i, s), this }, setInt4: function (t, e, i, s, n) { return this.renderer.setInt4(this.program, t, e, i, s, n), this }, setMatrix2: function (t, e, i) { return this.renderer.setMatrix2(this.program, t, e, i), this }, setMatrix3: function (t, e, i) { return this.renderer.setMatrix3(this.program, t, e, i), this }, setMatrix4: function (t, e, i) { return this.renderer.setMatrix4(this.program, t, e, i), this } }); t.exports = r })), n.register("lOOAG", (function (t, e) { var i = n("jwj1g"), s = n("5eWH0"), r = n("jnBZP"), o = 10, a = new i({ Extends: r, initialize: function (t) { o = t.maxLights, t.fragShader = s.replace("%LIGHT_COUNT%", o.toString()), r.call(this, t), this.defaultNormalMap, this.inverseRotationMatrix = new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]) }, boot: function () { this.defaultNormalMap = this.game.textures.getFrame("__DEFAULT") }, onBind: function (t) { r.prototype.onBind.call(this); var e = this.renderer, i = this.program; return this.mvpUpdate(), e.setInt1(i, "uNormSampler", 1), e.setFloat2(i, "uResolution", this.width, this.height), t && this.setNormalMap(t), this }, onRender: function (t, e) { this.active = !1; var i = t.sys.lights; if (!i || i.lights.length <= 0 || !i.active) return this; var s = i.cull(e), n = Math.min(s.length, o); if (0 === n) return this; this.active = !0; var r, a = this.renderer, h = this.program, l = e.matrix, u = { x: 0, y: 0 }, c = a.height; for (r = 0; r < o; ++r)a.setFloat1(h, "uLights[" + r + "].radius", 0); for (a.setFloat4(h, "uCamera", e.x, e.y, e.rotation, e.zoom), a.setFloat3(h, "uAmbientLightColor", i.ambientColor.r, i.ambientColor.g, i.ambientColor.b), r = 0; r < n; ++r) { var d = s[r], f = "uLights[" + r + "]."; l.transformPoint(d.x, d.y, u), a.setFloat2(h, f + "position", u.x - e.scrollX * d.scrollFactorX * e.zoom, c - (u.y - e.scrollY * d.scrollFactorY * e.zoom)), a.setFloat3(h, f + "color", d.r, d.g, d.b), a.setFloat1(h, f + "intensity", d.intensity), a.setFloat1(h, f + "radius", d.radius) } return this.currentNormalMapRotation = null, this }, batchTexture: function (t, e, i, s, n, r, o, a, h, l, u, c, d, f, p, g, v, m, y, x, w, T, b, S, A, E, C, _, M, P) { var O; if (this.active) if (this.renderer.setPipeline(this), t.displayTexture ? O = t.displayTexture.dataSource[t.displayFrame.sourceIndex] : t.texture ? O = t.texture.dataSource[t.frame.sourceIndex] : t.tileset && (O = Array.isArray(t.tileset) ? t.tileset[0].image.dataSource[0] : t.tileset.image.dataSource[0]), O) { this.setTexture2D(O.glTexture, 1), this.setNormalMapRotation(u); var R = this._tempMatrix1, L = this._tempMatrix2, k = this._tempMatrix3, D = m / i + C, F = y / s + _, I = (m + x) / i + C, B = (y + w) / s + _, N = o, Y = a, z = -g, j = -v; if (t.isCropped) { var X = t._crop; N = X.width, Y = X.height, o = X.width, a = X.height; var U = m = X.x, G = y = X.y; c && (U = x - X.x - X.width), d && !e.isRenderTexture && (G = w - X.y - X.height), D = U / i + C, F = G / s + _, I = (U + X.width) / i + C, B = (G + X.height) / s + _, z = -g + m, j = -v + y } c && (N *= -1, z += o), (d ^= e.isRenderTexture ? 1 : 0) && (Y *= -1, j += a); var W = z + N, V = j + Y; L.applyITRS(n, r, u, h, l), R.copyFrom(M.matrix), P ? (R.multiplyWithOffset(P, -M.scrollX * f, -M.scrollY * p), L.e = n, L.f = r, R.multiply(L, k)) : (L.e -= M.scrollX * f, L.f -= M.scrollY * p, R.multiply(L, k)); var H = k.getX(z, j), q = k.getY(z, j), K = k.getX(z, V), Z = k.getY(z, V), Q = k.getX(W, V), J = k.getY(W, V), $ = k.getX(W, j), tt = k.getY(W, j); M.roundPixels && (H = Math.round(H), q = Math.round(q), K = Math.round(K), Z = Math.round(Z), Q = Math.round(Q), J = Math.round(J), $ = Math.round($), tt = Math.round(tt)), this.setTexture2D(e, 0), this.batchQuad(H, q, K, Z, Q, J, $, tt, D, F, I, B, T, b, S, A, E, e, 0) } else console.warn("Normal map missing or invalid") }, setNormalMap: function (t) { var e; this.active && t && (t.texture && (e = t.texture.dataSource[t.frame.sourceIndex]), e || (e = this.defaultNormalMap), this.setTexture2D(e.glTexture, 1), this.renderer.setPipeline(t.defaultPipeline)) }, setNormalMapRotation: function (t) { if (t !== this.currentNormalMapRotation || 0 === this.batches.length) { this.batches.length > 0 && this.flush(); var e = this.inverseRotationMatrix; if (t) { var i = -t, s = Math.cos(i), n = Math.sin(i); e[1] = n, e[3] = -n, e[0] = e[4] = s } else e[0] = e[4] = 1, e[1] = e[3] = 0; this.renderer.setMatrix3(this.program, "uInverseRotationMatrix", !1, e), this.currentNormalMapRotation = t } }, batchSprite: function (t, e, i) { if (this.active) { var s = t.texture.dataSource[t.frame.sourceIndex]; s && (this.renderer.setPipeline(this), this.setTexture2D(s.glTexture, 1), this.setNormalMapRotation(t.rotation), r.prototype.batchSprite.call(this, t, e, i)) } } }); a.LIGHT_COUNT = o, t.exports = a })), n.register("5eWH0", (function (t, e) { t.exports = ["#define SHADER_NAME PHASER_FORWARD_DIFFUSE_FS", "", "precision mediump float;", "", "struct Light", "{", "    vec2 position;", "    vec3 color;", "    float intensity;", "    float radius;", "};", "", "const int kMaxLights = %LIGHT_COUNT%;", "", "uniform vec4 uCamera; /* x, y, rotation, zoom */", "uniform vec2 uResolution;", "uniform sampler2D uMainSampler;", "uniform sampler2D uNormSampler;", "uniform vec3 uAmbientLightColor;", "uniform Light uLights[kMaxLights];", "uniform mat3 uInverseRotationMatrix;", "", "varying vec2 outTexCoord;", "varying vec4 outTint;", "", "void main()", "{", "    vec3 finalColor = vec3(0.0, 0.0, 0.0);", "    vec4 color = texture2D(uMainSampler, outTexCoord) * vec4(outTint.rgb * outTint.a, outTint.a);", "    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;", "    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));", "    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;", "", "    for (int index = 0; index < kMaxLights; ++index)", "    {", "        Light light = uLights[index];", "        vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);", "        vec3 lightNormal = normalize(lightDir);", "        float distToSurf = length(lightDir) * uCamera.w;", "        float diffuseFactor = max(dot(normal, lightNormal), 0.0);", "        float radius = (light.radius / res.x * uCamera.w) * uCamera.w;", "        float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);", "        vec3 diffuse = light.color * diffuseFactor;", "        finalColor += (attenuation * diffuse) * light.intensity;", "    }", "", "    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);", "    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);", "", "}", ""].join("\n") })), n.register("jnBZP", (function (t, e) { var i = n("jwj1g"), s = n("hjbjS"), r = n("7BSWl"), o = n("g1JCF"), a = n("uU5DT"), h = n("kaOgK"), l = n("azs1m"), u = n("gaO4e"), c = n("AbdBB"), d = new i({ Extends: c, Mixins: [o], initialize: function (t) { var e = t.renderer.config; c.call(this, { game: t.game, renderer: t.renderer, gl: t.renderer.gl, topology: r(t, "topology", t.renderer.gl.TRIANGLES), vertShader: r(t, "vertShader", h), fragShader: r(t, "fragShader", a), vertexCapacity: r(t, "vertexCapacity", 6 * e.batchSize), vertexSize: r(t, "vertexSize", 5 * Float32Array.BYTES_PER_ELEMENT + 4 * Uint8Array.BYTES_PER_ELEMENT), attributes: [{ name: "inPosition", size: 2, type: t.renderer.gl.FLOAT, normalized: !1, offset: 0 }, { name: "inTexCoord", size: 2, type: t.renderer.gl.FLOAT, normalized: !1, offset: 2 * Float32Array.BYTES_PER_ELEMENT }, { name: "inTintEffect", size: 1, type: t.renderer.gl.FLOAT, normalized: !1, offset: 4 * Float32Array.BYTES_PER_ELEMENT }, { name: "inTint", size: 4, type: t.renderer.gl.UNSIGNED_BYTE, normalized: !0, offset: 5 * Float32Array.BYTES_PER_ELEMENT }] }), this.vertexViewF32 = new Float32Array(this.vertexData), this.vertexViewU32 = new Uint32Array(this.vertexData), this.maxQuads = e.batchSize, this.batches = [], this._tempMatrix1 = new l, this._tempMatrix2 = new l, this._tempMatrix3 = new l, this._tempMatrix4 = new l, this.tempTriangle = [{ x: 0, y: 0, width: 0 }, { x: 0, y: 0, width: 0 }, { x: 0, y: 0, width: 0 }, { x: 0, y: 0, width: 0 }], this.tintEffect = 2, this.strokeTint = { TL: 0, TR: 0, BL: 0, BR: 0 }, this.fillTint = { TL: 0, TR: 0, BL: 0, BR: 0 }, this.currentFrame = { u0: 0, v0: 0, u1: 1, v1: 1 }, this.firstQuad = [0, 0, 0, 0, 0], this.prevQuad = [0, 0, 0, 0, 0], this.polygonCache = [], this.mvpInit() }, onBind: function () { return c.prototype.onBind.call(this), this.mvpUpdate(), this }, resize: function (t, e, i) { return c.prototype.resize.call(this, t, e, i), this.projOrtho(0, this.width, this.height, 0, -1e3, 1e3), this }, setTexture2D: function (t, e) { return void 0 === t && (t = this.renderer.blankTexture.glTexture), void 0 === e && (e = 0), this.requireTextureBatch(t, e) && this.pushBatch(t, e), this }, requireTextureBatch: function (t, e) { var i = this.batches, s = i.length; return !(s > 0) || !((e > 0 ? i[s - 1].textures[e - 1] : i[s - 1].texture) === t) }, pushBatch: function (t, e) { if (0 === e) this.batches.push({ first: this.vertexCount, texture: t, textures: [] }); else { var i = []; i[e - 1] = t, this.batches.push({ first: this.vertexCount, texture: null, textures: i }) } }, flush: function () { if (this.flushLocked) return this; this.flushLocked = !0; var t, e, i, s = this.gl, n = this.vertexCount, r = this.topology, o = this.vertexSize, a = this.renderer, h = this.batches, l = h.length, u = 0, c = null; if (0 === l || 0 === n) return this.flushLocked = !1, this; s.bufferSubData(s.ARRAY_BUFFER, 0, this.bytes.subarray(0, n * o)); for (var d = 0; d < l - 1; d++) { if (c = h[d], t = h[d + 1], c.textures.length > 0) { for (e = 0; e < c.textures.length; ++e)(i = c.textures[e]) && a.setTexture2D(i, 1 + e, !1); s.activeTexture(s.TEXTURE0) } u = t.first - c.first, null === c.texture || u <= 0 || (a.setTexture2D(c.texture, 0, !1), s.drawArrays(r, c.first, u)) } if ((c = h[l - 1]).textures.length > 0) { for (e = 0; e < c.textures.length; ++e)(i = c.textures[e]) && a.setTexture2D(i, 1 + e, !1); s.activeTexture(s.TEXTURE0) } return u = n - c.first, c.texture && u > 0 && (a.setTexture2D(c.texture, 0, !1), s.drawArrays(r, c.first, u)), this.vertexCount = 0, h.length = 0, this.flushLocked = !1, this }, batchSprite: function (t, e, i) { this.renderer.setPipeline(this); var s = this._tempMatrix1, n = this._tempMatrix2, r = this._tempMatrix3, o = t.frame, a = o.glTexture, h = o.u0, l = o.v0, c = o.u1, d = o.v1, f = o.x, p = o.y, g = o.cutWidth, v = o.cutHeight, m = o.customPivot, y = t.displayOriginX, x = t.displayOriginY, w = -y + f, T = -x + p; if (t.isCropped) { var b = t._crop; b.flipX === t.flipX && b.flipY === t.flipY || o.updateCropUVs(b, t.flipX, t.flipY), h = b.u0, l = b.v0, c = b.u1, d = b.v1, g = b.width, v = b.height, w = -y + (f = b.x), T = -x + (p = b.y) } var S = 1, A = 1; t.flipX && (m || (w += -o.realWidth + 2 * y), S = -1), (t.flipY || o.source.isGLTexture && !a.flipY) && (m || (T += -o.realHeight + 2 * x), A = -1), n.applyITRS(t.x, t.y, t.rotation, t.scaleX * S, t.scaleY * A), s.copyFrom(e.matrix), i ? (s.multiplyWithOffset(i, -e.scrollX * t.scrollFactorX, -e.scrollY * t.scrollFactorY), n.e = t.x, n.f = t.y, s.multiply(n, r)) : (n.e -= e.scrollX * t.scrollFactorX, n.f -= e.scrollY * t.scrollFactorY, s.multiply(n, r)); var E = w + g, C = T + v, _ = r.getX(w, T), M = r.getY(w, T), P = r.getX(w, C), O = r.getY(w, C), R = r.getX(E, C), L = r.getY(E, C), k = r.getX(E, T), D = r.getY(E, T), F = u.getTintAppendFloatAlpha(t._tintTL, e.alpha * t._alphaTL), I = u.getTintAppendFloatAlpha(t._tintTR, e.alpha * t._alphaTR), B = u.getTintAppendFloatAlpha(t._tintBL, e.alpha * t._alphaBL), N = u.getTintAppendFloatAlpha(t._tintBR, e.alpha * t._alphaBR); e.roundPixels && (_ = Math.round(_), M = Math.round(M), P = Math.round(P), O = Math.round(O), R = Math.round(R), L = Math.round(L), k = Math.round(k), D = Math.round(D)), this.setTexture2D(a, 0); var Y = t._isTinted && t.tintFill; this.batchQuad(_, M, P, O, R, L, k, D, h, l, c, d, F, I, B, N, Y, a, 0) }, batchQuad: function (t, e, i, s, n, r, o, a, h, l, u, c, d, f, p, g, v, m, y) { var x = !1; this.vertexCount + 6 > this.vertexCapacity && (this.flush(), x = !0, this.setTexture2D(m, y)); var w = this.vertexViewF32, T = this.vertexViewU32, b = this.vertexCount * this.vertexComponentCount - 1; return w[++b] = t, w[++b] = e, w[++b] = h, w[++b] = l, w[++b] = v, T[++b] = d, w[++b] = i, w[++b] = s, w[++b] = h, w[++b] = c, w[++b] = v, T[++b] = p, w[++b] = n, w[++b] = r, w[++b] = u, w[++b] = c, w[++b] = v, T[++b] = g, w[++b] = t, w[++b] = e, w[++b] = h, w[++b] = l, w[++b] = v, T[++b] = d, w[++b] = n, w[++b] = r, w[++b] = u, w[++b] = c, w[++b] = v, T[++b] = g, w[++b] = o, w[++b] = a, w[++b] = u, w[++b] = l, w[++b] = v, T[++b] = f, this.vertexCount += 6, x }, batchTri: function (t, e, i, s, n, r, o, a, h, l, u, c, d, f, p, g) { var v = !1; this.vertexCount + 3 > this.vertexCapacity && (this.flush(), this.setTexture2D(p, g), v = !0); var m = this.vertexViewF32, y = this.vertexViewU32, x = this.vertexCount * this.vertexComponentCount - 1; return m[++x] = t, m[++x] = e, m[++x] = o, m[++x] = a, m[++x] = f, y[++x] = u, m[++x] = i, m[++x] = s, m[++x] = o, m[++x] = l, m[++x] = f, y[++x] = c, m[++x] = n, m[++x] = r, m[++x] = h, m[++x] = l, m[++x] = f, y[++x] = d, this.vertexCount += 3, v }, batchTexture: function (t, e, i, s, n, r, o, a, h, l, u, c, d, f, p, g, v, m, y, x, w, T, b, S, A, E, C, _, M, P, O) { this.renderer.setPipeline(this, t); var R = this._tempMatrix1, L = this._tempMatrix2, k = this._tempMatrix3, D = m / i + C, F = y / s + _, I = (m + x) / i + C, B = (y + w) / s + _, N = o, Y = a, z = -g, j = -v; if (t.isCropped) { var X = t._crop; N = X.width, Y = X.height, o = X.width, a = X.height; var U = m = X.x, G = y = X.y; c && (U = x - X.x - X.width), d && !e.isRenderTexture && (G = w - X.y - X.height), D = U / i + C, F = G / s + _, I = (U + X.width) / i + C, B = (G + X.height) / s + _, z = -g + m, j = -v + y } c && (N *= -1, z += o), (d ^= !O && e.isRenderTexture ? 1 : 0) && (Y *= -1, j += a); var W = z + N, V = j + Y; L.applyITRS(n, r, u, h, l), R.copyFrom(M.matrix), P ? (R.multiplyWithOffset(P, -M.scrollX * f, -M.scrollY * p), L.e = n, L.f = r, R.multiply(L, k)) : (L.e -= M.scrollX * f, L.f -= M.scrollY * p, R.multiply(L, k)); var H = k.getX(z, j), q = k.getY(z, j), K = k.getX(z, V), Z = k.getY(z, V), Q = k.getX(W, V), J = k.getY(W, V), $ = k.getX(W, j), tt = k.getY(W, j); M.roundPixels && (H = Math.round(H), q = Math.round(q), K = Math.round(K), Z = Math.round(Z), Q = Math.round(Q), J = Math.round(J), $ = Math.round($), tt = Math.round(tt)), this.setTexture2D(e, 0), this.batchQuad(H, q, K, Z, Q, J, $, tt, D, F, I, B, T, b, S, A, E, e, 0) }, batchTextureFrame: function (t, e, i, s, n, r, o) { this.renderer.setPipeline(this); var a = this._tempMatrix1.copyFrom(r), h = this._tempMatrix2, l = e + t.width, c = i + t.height; o ? a.multiply(o, h) : h = a; var d = h.getX(e, i), f = h.getY(e, i), p = h.getX(e, c), g = h.getY(e, c), v = h.getX(l, c), m = h.getY(l, c), y = h.getX(l, i), x = h.getY(l, i); this.setTexture2D(t.glTexture, 0), s = u.getTintAppendFloatAlpha(s, n), this.batchQuad(d, f, p, g, v, m, y, x, t.u0, t.v0, t.u1, t.v1, s, s, s, s, 0, t.glTexture, 0) }, drawFillRect: function (t, e, i, s, n, r) { var o = t + i, a = e + s; this.setTexture2D(); var h = u.getTintAppendFloatAlphaAndSwap(n, r); this.batchQuad(t, e, t, a, o, a, o, e, 0, 0, 1, 1, h, h, h, h, 2) }, batchFillRect: function (t, e, i, s, n, r) { this.renderer.setPipeline(this); var o = this._tempMatrix3; r && r.multiply(n, o); var a = t + i, h = e + s, l = o.getX(t, e), u = o.getY(t, e), c = o.getX(t, h), d = o.getY(t, h), f = o.getX(a, h), p = o.getY(a, h), g = o.getX(a, e), v = o.getY(a, e), m = this.currentFrame, y = m.u0, x = m.v0, w = m.u1, T = m.v1; this.batchQuad(l, u, c, d, f, p, g, v, y, x, w, T, this.fillTint.TL, this.fillTint.TR, this.fillTint.BL, this.fillTint.BR, this.tintEffect) }, batchFillTriangle: function (t, e, i, s, n, r, o, a) { this.renderer.setPipeline(this); var h = this._tempMatrix3; a && a.multiply(o, h); var l = h.getX(t, e), u = h.getY(t, e), c = h.getX(i, s), d = h.getY(i, s), f = h.getX(n, r), p = h.getY(n, r), g = this.currentFrame, v = g.u0, m = g.v0, y = g.u1, x = g.v1; this.batchTri(l, u, c, d, f, p, v, m, y, x, this.fillTint.TL, this.fillTint.TR, this.fillTint.BL, this.tintEffect) }, batchStrokeTriangle: function (t, e, i, s, n, r, o, a, h) { var l = this.tempTriangle; l[0].x = t, l[0].y = e, l[0].width = o, l[1].x = i, l[1].y = s, l[1].width = o, l[2].x = n, l[2].y = r, l[2].width = o, l[3].x = t, l[3].y = e, l[3].width = o, this.batchStrokePath(l, o, !1, a, h) }, batchFillPath: function (t, e, i) { this.renderer.setPipeline(this); var n = this._tempMatrix3; i && i.multiply(e, n); for (var r, o, a = t.length, h = this.polygonCache, l = this.fillTint.TL, u = this.fillTint.TR, c = this.fillTint.BL, d = this.tintEffect, f = 0; f < a; ++f)o = t[f], h.push(o.x, o.y); a = (r = s(h)).length; for (var p = this.currentFrame, g = 0; g < a; g += 3) { var v = 2 * r[g + 0], m = 2 * r[g + 1], y = 2 * r[g + 2], x = h[v + 0], w = h[v + 1], T = h[m + 0], b = h[m + 1], S = h[y + 0], A = h[y + 1], E = n.getX(x, w), C = n.getY(x, w), _ = n.getX(T, b), M = n.getY(T, b), P = n.getX(S, A), O = n.getY(S, A), R = p.u0, L = p.v0, k = p.u1, D = p.v1; this.batchTri(E, C, _, M, P, O, R, L, k, D, l, u, c, d) } h.length = 0 }, batchStrokePath: function (t, e, i, s, n) { this.renderer.setPipeline(this), this.prevQuad[4] = 0, this.firstQuad[4] = 0; for (var r = t.length - 1, o = 0; o < r; o++) { var a = t[o], h = t[o + 1]; this.batchLine(a.x, a.y, h.x, h.y, a.width / 2, h.width / 2, e, o, !i && o === r - 1, s, n) } }, batchLine: function (t, e, i, s, n, r, o, a, h, l, u) { this.renderer.setPipeline(this); var c = this._tempMatrix3; u && u.multiply(l, c); var d = i - t, f = s - e, p = Math.sqrt(d * d + f * f), g = n * (s - e) / p, v = n * (t - i) / p, m = r * (s - e) / p, y = r * (t - i) / p, x = i - m, w = s - y, T = t - g, b = e - v, S = i + m, A = s + y, E = t + g, C = e + v, _ = c.getX(x, w), M = c.getY(x, w), P = c.getX(T, b), O = c.getY(T, b), R = c.getX(S, A), L = c.getY(S, A), k = c.getX(E, C), D = c.getY(E, C), F = this.strokeTint, I = this.tintEffect, B = F.TL, N = F.TR, Y = F.BL, z = F.BR, j = this.currentFrame, X = j.u0, U = j.v0, G = j.u1, W = j.v1; if (this.batchQuad(k, D, P, O, _, M, R, L, X, U, G, W, B, N, Y, z, I), !(o <= 2)) { var V = this.prevQuad, H = this.firstQuad; a > 0 && V[4] ? this.batchQuad(k, D, P, O, V[0], V[1], V[2], V[3], X, U, G, W, B, N, Y, z, I) : (H[0] = k, H[1] = D, H[2] = P, H[3] = O, H[4] = 1), h && H[4] ? this.batchQuad(_, M, R, L, H[0], H[1], H[2], H[3], X, U, G, W, B, N, Y, z, I) : (V[0] = _, V[1] = M, V[2] = R, V[3] = L, V[4] = 1) } } }); t.exports = d })), n.register("hjbjS", (function (t, e) { function i(t, e, i) { i = i || 2; var o, a, h, l, d, p, g, v = e && e.length, m = v ? e[0] * i : t.length, y = s(t, 0, m, i, !0), x = []; if (!y || y.next === y.prev) return x; if (v && (y = function (t, e, i, r) { var o, a, h, l = []; for (o = 0, a = e.length; o < a; o++)(h = s(t, e[o] * r, o < a - 1 ? e[o + 1] * r : t.length, r, !1)) === h.next && (h.steiner = !0), l.push(f(h)); for (l.sort(u), o = 0; o < l.length; o++)c(l[o], i), i = n(i, i.next); return i }(t, e, y, i)), t.length > 80 * i) { o = h = t[0], a = l = t[1]; for (var w = i; w < m; w += i)(d = t[w]) < o && (o = d), (p = t[w + 1]) < a && (a = p), d > h && (h = d), p > l && (l = p); g = 0 !== (g = Math.max(h - o, l - a)) ? 1 / g : 0 } return r(y, x, i, o, a, g), x } function s(t, e, i, s, n) { var r, o; if (n === A(t, e, i, s) > 0) for (r = e; r < i; r += s)o = T(r, t[r], t[r + 1], o); else for (r = i - s; r >= e; r -= s)o = T(r, t[r], t[r + 1], o); return o && m(o, o.next) && (b(o), o = o.next), o } function n(t, e) { if (!t) return t; e || (e = t); var i, s = t; do { if (i = !1, s.steiner || !m(s, s.next) && 0 !== v(s.prev, s, s.next)) s = s.next; else { if (b(s), (s = e = s.prev) === s.next) break; i = !0 } } while (i || s !== e); return e } function r(t, e, i, s, u, c, f) { if (t) { !f && c && function (t, e, i, s) { var n = t; do { null === n.z && (n.z = d(n.x, n.y, e, i, s)), n.prevZ = n.prev, n.nextZ = n.next, n = n.next } while (n !== t); n.prevZ.nextZ = null, n.prevZ = null, function (t) { var e, i, s, n, r, o, a, h, l = 1; do { for (i = t, t = null, r = null, o = 0; i;) { for (o++, s = i, a = 0, e = 0; e < l && (a++, s = s.nextZ); e++); for (h = l; a > 0 || h > 0 && s;)0 !== a && (0 === h || !s || i.z <= s.z) ? (n = i, i = i.nextZ, a--) : (n = s, s = s.nextZ, h--), r ? r.nextZ = n : t = n, n.prevZ = r, r = n; i = s } r.nextZ = null, l *= 2 } while (o > 1) }(n) }(t, s, u, c); for (var p, g, v = t; t.prev !== t.next;)if (p = t.prev, g = t.next, c ? a(t, s, u, c) : o(t)) e.push(p.i / i), e.push(t.i / i), e.push(g.i / i), b(t), t = g.next, v = g.next; else if ((t = g) === v) { f ? 1 === f ? r(t = h(t, e, i), e, i, s, u, c, 2) : 2 === f && l(t, e, i, s, u, c) : r(n(t), e, i, s, u, c, 1); break } } } function o(t) { var e = t.prev, i = t, s = t.next; if (v(e, i, s) >= 0) return !1; for (var n = t.next.next; n !== t.prev;) { if (p(e.x, e.y, i.x, i.y, s.x, s.y, n.x, n.y) && v(n.prev, n, n.next) >= 0) return !1; n = n.next } return !0 } function a(t, e, i, s) { var n = t.prev, r = t, o = t.next; if (v(n, r, o) >= 0) return !1; for (var a = n.x < r.x ? n.x < o.x ? n.x : o.x : r.x < o.x ? r.x : o.x, h = n.y < r.y ? n.y < o.y ? n.y : o.y : r.y < o.y ? r.y : o.y, l = n.x > r.x ? n.x > o.x ? n.x : o.x : r.x > o.x ? r.x : o.x, u = n.y > r.y ? n.y > o.y ? n.y : o.y : r.y > o.y ? r.y : o.y, c = d(a, h, e, i, s), f = d(l, u, e, i, s), g = t.prevZ, m = t.nextZ; g && g.z >= c && m && m.z <= f;) { if (g !== t.prev && g !== t.next && p(n.x, n.y, r.x, r.y, o.x, o.y, g.x, g.y) && v(g.prev, g, g.next) >= 0) return !1; if (g = g.prevZ, m !== t.prev && m !== t.next && p(n.x, n.y, r.x, r.y, o.x, o.y, m.x, m.y) && v(m.prev, m, m.next) >= 0) return !1; m = m.nextZ } for (; g && g.z >= c;) { if (g !== t.prev && g !== t.next && p(n.x, n.y, r.x, r.y, o.x, o.y, g.x, g.y) && v(g.prev, g, g.next) >= 0) return !1; g = g.prevZ } for (; m && m.z <= f;) { if (m !== t.prev && m !== t.next && p(n.x, n.y, r.x, r.y, o.x, o.y, m.x, m.y) && v(m.prev, m, m.next) >= 0) return !1; m = m.nextZ } return !0 } function h(t, e, i) { var s = t; do { var n = s.prev, r = s.next.next; !m(n, r) && y(n, s, s.next, r) && x(n, r) && x(r, n) && (e.push(n.i / i), e.push(s.i / i), e.push(r.i / i), b(s), b(s.next), s = t = r), s = s.next } while (s !== t); return s } function l(t, e, i, s, o, a) { var h = t; do { for (var l = h.next.next; l !== h.prev;) { if (h.i !== l.i && g(h, l)) { var u = w(h, l); return h = n(h, h.next), u = n(u, u.next), r(h, e, i, s, o, a), void r(u, e, i, s, o, a) } l = l.next } h = h.next } while (h !== t) } function u(t, e) { return t.x - e.x } function c(t, e) { if (e = function (t, e) { var i, s = e, n = t.x, r = t.y, o = -1 / 0; do { if (r <= s.y && r >= s.next.y && s.next.y !== s.y) { var a = s.x + (r - s.y) * (s.next.x - s.x) / (s.next.y - s.y); if (a <= n && a > o) { if (o = a, a === n) { if (r === s.y) return s; if (r === s.next.y) return s.next } i = s.x < s.next.x ? s : s.next } } s = s.next } while (s !== e); if (!i) return null; if (n === o) return i.prev; var h, l = i, u = i.x, c = i.y, d = 1 / 0; s = i.next; for (; s !== l;)n >= s.x && s.x >= u && n !== s.x && p(r < c ? n : o, r, u, c, r < c ? o : n, r, s.x, s.y) && ((h = Math.abs(r - s.y) / (n - s.x)) < d || h === d && s.x > i.x) && x(s, t) && (i = s, d = h), s = s.next; return i }(t, e), e) { var i = w(e, t); n(i, i.next) } } function d(t, e, i, s, n) { return (t = 1431655765 & ((t = 858993459 & ((t = 252645135 & ((t = 16711935 & ((t = 32767 * (t - i) * n) | t << 8)) | t << 4)) | t << 2)) | t << 1)) | (e = 1431655765 & ((e = 858993459 & ((e = 252645135 & ((e = 16711935 & ((e = 32767 * (e - s) * n) | e << 8)) | e << 4)) | e << 2)) | e << 1)) << 1 } function f(t) { var e = t, i = t; do { e.x < i.x && (i = e), e = e.next } while (e !== t); return i } function p(t, e, i, s, n, r, o, a) { return (n - o) * (e - a) - (t - o) * (r - a) >= 0 && (t - o) * (s - a) - (i - o) * (e - a) >= 0 && (i - o) * (r - a) - (n - o) * (s - a) >= 0 } function g(t, e) { return t.next.i !== e.i && t.prev.i !== e.i && !function (t, e) { var i = t; do { if (i.i !== t.i && i.next.i !== t.i && i.i !== e.i && i.next.i !== e.i && y(i, i.next, t, e)) return !0; i = i.next } while (i !== t); return !1 }(t, e) && x(t, e) && x(e, t) && function (t, e) { var i = t, s = !1, n = (t.x + e.x) / 2, r = (t.y + e.y) / 2; do { i.y > r != i.next.y > r && i.next.y !== i.y && n < (i.next.x - i.x) * (r - i.y) / (i.next.y - i.y) + i.x && (s = !s), i = i.next } while (i !== t); return s }(t, e) } function v(t, e, i) { return (e.y - t.y) * (i.x - e.x) - (e.x - t.x) * (i.y - e.y) } function m(t, e) { return t.x === e.x && t.y === e.y } function y(t, e, i, s) { return !!(m(t, e) && m(i, s) || m(t, s) && m(i, e)) || v(t, e, i) > 0 != v(t, e, s) > 0 && v(i, s, t) > 0 != v(i, s, e) > 0 } function x(t, e) { return v(t.prev, t, t.next) < 0 ? v(t, e, t.next) >= 0 && v(t, t.prev, e) >= 0 : v(t, e, t.prev) < 0 || v(t, t.next, e) < 0 } function w(t, e) { var i = new S(t.i, t.x, t.y), s = new S(e.i, e.x, e.y), n = t.next, r = e.prev; return t.next = e, e.prev = t, i.next = n, n.prev = i, s.next = i, i.prev = s, r.next = s, s.prev = r, s } function T(t, e, i, s) { var n = new S(t, e, i); return s ? (n.next = s.next, n.prev = s, s.next.prev = n, s.next = n) : (n.prev = n, n.next = n), n } function b(t) { t.next.prev = t.prev, t.prev.next = t.next, t.prevZ && (t.prevZ.nextZ = t.nextZ), t.nextZ && (t.nextZ.prevZ = t.prevZ) } function S(t, e, i) { this.i = t, this.x = e, this.y = i, this.prev = null, this.next = null, this.z = null, this.prevZ = null, this.nextZ = null, this.steiner = !1 } function A(t, e, i, s) { for (var n = 0, r = e, o = i - s; r < i; r += s)n += (t[o] - t[r]) * (t[r + 1] + t[o + 1]), o = r; return n } t.exports = i, i.deviation = function (t, e, i, s) { var n = e && e.length, r = n ? e[0] * i : t.length, o = Math.abs(A(t, 0, r, i)); if (n) for (var a = 0, h = e.length; a < h; a++) { var l = e[a] * i, u = a < h - 1 ? e[a + 1] * i : t.length; o -= Math.abs(A(t, l, u, i)) } var c = 0; for (a = 0; a < s.length; a += 3) { var d = s[a] * i, f = s[a + 1] * i, p = s[a + 2] * i; c += Math.abs((t[d] - t[p]) * (t[f + 1] - t[d + 1]) - (t[d] - t[f]) * (t[p + 1] - t[d + 1])) } return 0 === o && 0 === c ? 0 : Math.abs((c - o) / o) }, i.flatten = function (t) { for (var e = t[0][0].length, i = { vertices: [], holes: [], dimensions: e }, s = 0, n = 0; n < t.length; n++) { for (var r = 0; r < t[n].length; r++)for (var o = 0; o < e; o++)i.vertices.push(t[n][r][o]); n > 0 && (s += t[n - 1].length, i.holes.push(s)) } return i } })), n.register("g1JCF", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    var i = { modelMatrixDirty: !1, viewMatrixDirty: !1, projectionMatrixDirty: !1, modelMatrix: null, viewMatrix: null, projectionMatrix: null, mvpInit: function () { return this.modelMatrixDirty = !0, this.viewMatrixDirty = !0, this.projectionMatrixDirty = !0, this.modelMatrix = new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]), this.viewMatrix = new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]), this.projectionMatrix = new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]), this }, mvpUpdate: function () { var t = this.program; return this.modelMatrixDirty && (this.renderer.setMatrix4(t, "uModelMatrix", !1, this.modelMatrix), this.modelMatrixDirty = !1), this.viewMatrixDirty && (this.renderer.setMatrix4(t, "uViewMatrix", !1, this.viewMatrix), this.viewMatrixDirty = !1), this.projectionMatrixDirty && (this.renderer.setMatrix4(t, "uProjectionMatrix", !1, this.projectionMatrix), this.projectionMatrixDirty = !1), this }, modelIdentity: function () { var t = this.modelMatrix; return t[0] = 1, t[1] = 0, t[2] = 0, t[3] = 0, t[4] = 0, t[5] = 1, t[6] = 0, t[7] = 0, t[8] = 0, t[9] = 0, t[10] = 1, t[11] = 0, t[12] = 0, t[13] = 0, t[14] = 0, t[15] = 1, this.modelMatrixDirty = !0, this }, modelScale: function (t, e, i) { var s = this.modelMatrix; return s[0] = s[0] * t, s[1] = s[1] * t, s[2] = s[2] * t, s[3] = s[3] * t, s[4] = s[4] * e, s[5] = s[5] * e, s[6] = s[6] * e, s[7] = s[7] * e, s[8] = s[8] * i, s[9] = s[9] * i, s[10] = s[10] * i, s[11] = s[11] * i, this.modelMatrixDirty = !0, this }, modelTranslate: function (t, e, i) { var s = this.modelMatrix; return s[12] = s[0] * t + s[4] * e + s[8] * i + s[12], s[13] = s[1] * t + s[5] * e + s[9] * i + s[13], s[14] = s[2] * t + s[6] * e + s[10] * i + s[14], s[15] = s[3] * t + s[7] * e + s[11] * i + s[15], this.modelMatrixDirty = !0, this }, modelRotateX: function (t) { var e = this.modelMatrix, i = Math.sin(t), s = Math.cos(t), n = e[4], r = e[5], o = e[6], a = e[7], h = e[8], l = e[9], u = e[10], c = e[11]; return e[4] = n * s + h * i, e[5] = r * s + l * i, e[6] = o * s + u * i, e[7] = a * s + c * i, e[8] = h * s - n * i, e[9] = l * s - r * i, e[10] = u * s - o * i, e[11] = c * s - a * i, this.modelMatrixDirty = !0, this }, modelRotateY: function (t) { var e = this.modelMatrix, i = Math.sin(t), s = Math.cos(t), n = e[0], r = e[1], o = e[2], a = e[3], h = e[8], l = e[9], u = e[10], c = e[11]; return e[0] = n * s - h * i, e[1] = r * s - l * i, e[2] = o * s - u * i, e[3] = a * s - c * i, e[8] = n * i + h * s, e[9] = r * i + l * s, e[10] = o * i + u * s, e[11] = a * i + c * s, this.modelMatrixDirty = !0, this }, modelRotateZ: function (t) { var e = this.modelMatrix, i = Math.sin(t), s = Math.cos(t), n = e[0], r = e[1], o = e[2], a = e[3], h = e[4], l = e[5], u = e[6], c = e[7]; return e[0] = n * s + h * i, e[1] = r * s + l * i, e[2] = o * s + u * i, e[3] = a * s + c * i, e[4] = h * s - n * i, e[5] = l * s - r * i, e[6] = u * s - o * i, e[7] = c * s - a * i, this.modelMatrixDirty = !0, this }, viewIdentity: function () { var t = this.viewMatrix; return t[0] = 1, t[1] = 0, t[2] = 0, t[3] = 0, t[4] = 0, t[5] = 1, t[6] = 0, t[7] = 0, t[8] = 0, t[9] = 0, t[10] = 1, t[11] = 0, t[12] = 0, t[13] = 0, t[14] = 0, t[15] = 1, this.viewMatrixDirty = !0, this }, viewScale: function (t, e, i) { var s = this.viewMatrix; return s[0] = s[0] * t, s[1] = s[1] * t, s[2] = s[2] * t, s[3] = s[3] * t, s[4] = s[4] * e, s[5] = s[5] * e, s[6] = s[6] * e, s[7] = s[7] * e, s[8] = s[8] * i, s[9] = s[9] * i, s[10] = s[10] * i, s[11] = s[11] * i, this.viewMatrixDirty = !0, this }, viewTranslate: function (t, e, i) { var s = this.viewMatrix; return s[12] = s[0] * t + s[4] * e + s[8] * i + s[12], s[13] = s[1] * t + s[5] * e + s[9] * i + s[13], s[14] = s[2] * t + s[6] * e + s[10] * i + s[14], s[15] = s[3] * t + s[7] * e + s[11] * i + s[15], this.viewMatrixDirty = !0, this }, viewRotateX: function (t) { var e = this.viewMatrix, i = Math.sin(t), s = Math.cos(t), n = e[4], r = e[5], o = e[6], a = e[7], h = e[8], l = e[9], u = e[10], c = e[11]; return e[4] = n * s + h * i, e[5] = r * s + l * i, e[6] = o * s + u * i, e[7] = a * s + c * i, e[8] = h * s - n * i, e[9] = l * s - r * i, e[10] = u * s - o * i, e[11] = c * s - a * i, this.viewMatrixDirty = !0, this }, viewRotateY: function (t) { var e = this.viewMatrix, i = Math.sin(t), s = Math.cos(t), n = e[0], r = e[1], o = e[2], a = e[3], h = e[8], l = e[9], u = e[10], c = e[11]; return e[0] = n * s - h * i, e[1] = r * s - l * i, e[2] = o * s - u * i, e[3] = a * s - c * i, e[8] = n * i + h * s, e[9] = r * i + l * s, e[10] = o * i + u * s, e[11] = a * i + c * s, this.viewMatrixDirty = !0, this }, viewRotateZ: function (t) { var e = this.viewMatrix, i = Math.sin(t), s = Math.cos(t), n = e[0], r = e[1], o = e[2], a = e[3], h = e[4], l = e[5], u = e[6], c = e[7]; return e[0] = n * s + h * i, e[1] = r * s + l * i, e[2] = o * s + u * i, e[3] = a * s + c * i, e[4] = h * s - n * i, e[5] = l * s - r * i, e[6] = u * s - o * i, e[7] = c * s - a * i, this.viewMatrixDirty = !0, this }, viewLoad2D: function (t) { var e = this.viewMatrix; return e[0] = t[0], e[1] = t[1], e[2] = 0, e[3] = 0, e[4] = t[2], e[5] = t[3], e[6] = 0, e[7] = 0, e[8] = t[4], e[9] = t[5], e[10] = 1, e[11] = 0, e[12] = 0, e[13] = 0, e[14] = 0, e[15] = 1, this.viewMatrixDirty = !0, this }, viewLoad: function (t) { var e = this.viewMatrix; return e[0] = t[0], e[1] = t[1], e[2] = t[2], e[3] = t[3], e[4] = t[4], e[5] = t[5], e[6] = t[6], e[7] = t[7], e[8] = t[8], e[9] = t[9], e[10] = t[10], e[11] = t[11], e[12] = t[12], e[13] = t[13], e[14] = t[14], e[15] = t[15], this.viewMatrixDirty = !0, this }, projIdentity: function () { var t = this.projectionMatrix; return t[0] = 1, t[1] = 0, t[2] = 0, t[3] = 0, t[4] = 0, t[5] = 1, t[6] = 0, t[7] = 0, t[8] = 0, t[9] = 0, t[10] = 1, t[11] = 0, t[12] = 0, t[13] = 0, t[14] = 0, t[15] = 1, this.projectionMatrixDirty = !0, this }, projOrtho: function (t, e, i, s, n, r) { var o = this.projectionMatrix, a = 1 / (t - e), h = 1 / (i - s), l = 1 / (n - r); return o[0] = -2 * a, o[1] = 0, o[2] = 0, o[3] = 0, o[4] = 0, o[5] = -2 * h, o[6] = 0, o[7] = 0, o[8] = 0, o[9] = 0, o[10] = 2 * l, o[11] = 0, o[12] = (t + e) * a, o[13] = (s + i) * h, o[14] = (r + n) * l, o[15] = 1, this.projectionMatrixDirty = !0, this }, projPersp: function (t, e, i, s) { var n = this.projectionMatrix, r = 1 / Math.tan(t / 2), o = 1 / (i - s); return n[0] = r / e, n[1] = 0, n[2] = 0, n[3] = 0, n[4] = 0, n[5] = r, n[6] = 0, n[7] = 0, n[8] = 0, n[9] = 0, n[10] = (s + i) * o, n[11] = -1, n[12] = 0, n[13] = 0, n[14] = 2 * s * i * o, n[15] = 0, this.projectionMatrixDirty = !0, this } }; t.exports = i
})), n.register("uU5DT", (function (t, e) { t.exports = ["#define SHADER_NAME PHASER_TEXTURE_TINT_FS", "", "precision mediump float;", "", "uniform sampler2D uMainSampler;", "", "varying vec2 outTexCoord;", "varying float outTintEffect;", "varying vec4 outTint;", "", "void main()", "{", "    vec4 texture = texture2D(uMainSampler, outTexCoord);", "    vec4 texel = vec4(outTint.rgb * outTint.a, outTint.a);", "    vec4 color = texture;", "", "    if (outTintEffect == 0.0)", "    {", "        //  Multiply texture tint", "        color = texture * texel;", "    }", "    else if (outTintEffect == 1.0)", "    {", "        //  Solid color + texture alpha", "        color.rgb = mix(texture.rgb, outTint.rgb * outTint.a, texture.a);", "        color.a = texture.a * texel.a;", "    }", "    else if (outTintEffect == 2.0)", "    {", "        //  Solid color, no texture", "        color = texel;", "    }", "", "    gl_FragColor = color;", "}", ""].join("\n") })), n.register("kaOgK", (function (t, e) { t.exports = ["#define SHADER_NAME PHASER_TEXTURE_TINT_VS", "", "precision mediump float;", "", "uniform mat4 uProjectionMatrix;", "uniform mat4 uViewMatrix;", "uniform mat4 uModelMatrix;", "", "attribute vec2 inPosition;", "attribute vec2 inTexCoord;", "attribute float inTintEffect;", "attribute vec4 inTint;", "", "varying vec2 outTexCoord;", "varying float outTintEffect;", "varying vec4 outTint;", "", "void main ()", "{", "    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(inPosition, 1.0, 1.0);", "", "    outTexCoord = inTexCoord;", "    outTint = inTint;", "    outTintEffect = inTintEffect;", "}", "", ""].join("\n") })), n.register("aGYvp", (function (t, e) { var i = n("bRAqZ"); t.exports = function (t) { var e = t.config; if (!e.hideBanner) { var s = "WebGL"; e.renderType === i.CANVAS ? s = "Canvas" : e.renderType === i.HEADLESS && (s = "Headless"); var n, r = e.audio, o = t.device.audio; if (n = !o.webAudio || r && r.disableWebAudio ? r && r.noAudio || !o.webAudio && !o.audioData ? "No Audio" : "HTML5 Audio" : "Web Audio", t.device.browser.ie) window.console && console.log("Phaser v" + i.VERSION + " / https://phaser.io"); else { var a, h = "", l = [h]; if (Array.isArray(e.bannerBackgroundColor)) e.bannerBackgroundColor.forEach((function (t) { h = h.concat("%c "), l.push("background: " + t), a = t })), l[l.length - 1] = "color: " + e.bannerTextColor + "; background: " + a; else h = h.concat("%c "), l.push("color: " + e.bannerTextColor + "; background: " + e.bannerBackgroundColor); l.push("background: #fff"), e.gameTitle && (h = h.concat(e.gameTitle), e.gameVersion && (h = h.concat(" v" + e.gameVersion)), e.hidePhaser || (h = h.concat(" / "))); e.hidePhaser || (h = h.concat("Phaser v" + i.VERSION + "-FB (" + s + " | " + n + ")")), h = h.concat(" %c " + e.gameURL), l[0] = h, console.log.apply(console, l) } } } })), n.register("bc6Xj", (function (t, e) { var i = n("jwj1g"), s = n("5pMDk"), r = n("13GYA"), o = n("eGwje"), a = new i({ initialize: function (t, e) { this.game = t, this.raf = new o, this.started = !1, this.running = !1, this.minFps = s(e, "min", 5), this.targetFps = s(e, "target", 60), this._min = 1e3 / this.minFps, this._target = 1e3 / this.targetFps, this.actualFps = this.targetFps, this.nextFpsUpdate = 0, this.framesThisSecond = 0, this.callback = r, this.forceSetTimeOut = s(e, "forceSetTimeOut", !1), this.time = 0, this.startTime = 0, this.lastTime = 0, this.frame = 0, this.inFocus = !0, this._pauseTime = 0, this._coolDown = 0, this.delta = 0, this.deltaIndex = 0, this.deltaHistory = [], this.deltaSmoothingMax = s(e, "deltaHistory", 10), this.panicMax = s(e, "panicMax", 120), this.rawDelta = 0, this.now = 0, this.smoothStep = s(e, "smoothStep", !0) }, blur: function () { this.inFocus = !1 }, focus: function () { this.inFocus = !0, this.resetDelta() }, pause: function () { this._pauseTime = window.performance.now() }, resume: function () { this.resetDelta(), this.startTime += this.time - this._pauseTime }, resetDelta: function () { var t = window.performance.now(); this.time = t, this.lastTime = t, this.nextFpsUpdate = t + 1e3, this.framesThisSecond = 0; for (var e = 0; e < this.deltaSmoothingMax; e++)this.deltaHistory[e] = Math.min(this._target, this.deltaHistory[e]); this.delta = 0, this.deltaIndex = 0, this._coolDown = this.panicMax }, start: function (t) { if (this.started) return this; this.started = !0, this.running = !0; for (var e = 0; e < this.deltaSmoothingMax; e++)this.deltaHistory[e] = this._target; this.resetDelta(), this.startTime = window.performance.now(), this.callback = t, this.raf.start(this.step.bind(this), this.forceSetTimeOut, this._target) }, step: function () { var t = window.performance.now(); this.now = t; var e = t - this.lastTime; e < 0 && (e = 0), this.rawDelta = e; var i = this.deltaIndex, s = this.deltaHistory, n = this.deltaSmoothingMax, r = e, o = e; if (this.smoothStep) { (this._coolDown > 0 || !this.inFocus) && (this._coolDown--, r = Math.min(r, this._target)), r > this._min && (r = s[i], r = Math.min(r, this._min)), s[i] = r, this.deltaIndex++, this.deltaIndex > n && (this.deltaIndex = 0), o = 0; for (var a = 0; a < n; a++)o += s[a]; o /= n } this.delta = o, this.time += this.rawDelta, t > this.nextFpsUpdate && (this.actualFps = .25 * this.framesThisSecond + .75 * this.actualFps, this.nextFpsUpdate = t + 1e3, this.framesThisSecond = 0), this.framesThisSecond++; var h = o / this._target; this.callback(t, o, h), this.lastTime = t, this.frame++ }, tick: function () { this.step() }, sleep: function () { this.running && (this.raf.stop(), this.running = !1) }, wake: function (t) { this.running ? this.sleep() : t && (this.startTime += -this.lastTime + (this.lastTime + window.performance.now())), this.raf.start(this.step.bind(this), this.useRAF), this.running = !0, this.step() }, getDuration: function () { return Math.round(this.lastTime - this.startTime) / 1e3 }, getDurationMS: function () { return Math.round(this.lastTime - this.startTime) }, stop: function () { return this.running = !1, this.started = !1, this.raf.stop(), this }, destroy: function () { this.stop(), this.callback = r, this.raf = null, this.game = null } }); t.exports = a })), n.register("eGwje", (function (t, e) { var i = n("jwj1g"), s = n("13GYA"), r = new i({ initialize: function () { this.isRunning = !1, this.callback = s, this.tick = 0, this.isSetTimeOut = !1, this.timeOutID = null, this.lastTime = 0, this.target = 0; var t = this; this.step = function e() { var i = window.performance.now(); t.lastTime = t.tick, t.tick = i, t.callback(i), t.timeOutID = window.requestAnimationFrame(e) }, this.stepTimeout = function e() { var i = Date.now(), s = Math.min(Math.max(2 * t.target + t.tick - i, 0), t.target); t.lastTime = t.tick, t.tick = i, t.callback(i), t.timeOutID = window.setTimeout(e, s) } }, start: function (t, e, i) { this.isRunning || (this.callback = t, this.isSetTimeOut = e, this.target = i, this.isRunning = !0, this.timeOutID = e ? window.setTimeout(this.stepTimeout, 0) : window.requestAnimationFrame(this.step)) }, stop: function () { this.isRunning = !1, this.isSetTimeOut ? clearTimeout(this.timeOutID) : window.cancelAnimationFrame(this.timeOutID) }, destroy: function () { this.stop(), this.callback = s } }); t.exports = r })), n.register("cEGtP", (function (t, e) { var i = n("aqcI1"); t.exports = function (t) { var e, s = t.events; if (void 0 !== document.hidden) e = "visibilitychange"; else { ["webkit", "moz", "ms"].forEach((function (t) { void 0 !== document[t + "Hidden"] && (document.hidden = function () { return document[t + "Hidden"] }, e = t + "visibilitychange") })) } e && document.addEventListener(e, (function (t) { document.hidden || "pause" === t.type ? s.emit(i.HIDDEN) : s.emit(i.VISIBLE) }), !1), window.onblur = function () { s.emit(i.BLUR) }, window.onfocus = function () { s.emit(i.FOCUS) }, window.focus && t.config.autoFocus && window.focus() } })), n.register("avk0U", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { GenerateTexture: n("gRl5V"), Palettes: n("2OPde") }
})), n.register("gRl5V", (function (t, e) { var i = n("eU8IS"), s = n("kKoer"), r = n("5pMDk"); t.exports = function (t) { var e = r(t, "data", []), n = r(t, "canvas", null), o = r(t, "palette", i), a = r(t, "pixelWidth", 1), h = r(t, "pixelHeight", a), l = r(t, "resizeCanvas", !0), u = r(t, "clearCanvas", !0), c = r(t, "preRender", null), d = r(t, "postRender", null), f = Math.floor(Math.abs(e[0].length * a)), p = Math.floor(Math.abs(e.length * h)); n || (n = s.create2D(this, f, p), l = !1, u = !1), l && (n.width = f, n.height = p); var g = n.getContext("2d"); u && g.clearRect(0, 0, f, p), c && c(n, g); for (var v = 0; v < e.length; v++)for (var m = e[v], y = 0; y < m.length; y++) { var x = m[y]; "." !== x && " " !== x && (g.fillStyle = o[x], g.fillRect(y * a, v * h, a, h)) } return d && d(n, g), n } })), n.register("eU8IS", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { 0: "#000", 1: "#9D9D9D", 2: "#FFF", 3: "#BE2633", 4: "#E06F8B", 5: "#493C2B", 6: "#A46422", 7: "#EB8931", 8: "#F7E26B", 9: "#2F484E", A: "#44891A", B: "#A3CE27", C: "#1B2632", D: "#005784", E: "#31A2F2", F: "#B2DCEF" }
})), n.register("2OPde", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { ARNE16: n("eU8IS"), C64: n("6HQdH"), CGA: n("dcP4o"), JMP: n("ldJiA"), MSX: n("5cKMW") }
})), n.register("6HQdH", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { 0: "#000", 1: "#fff", 2: "#8b4131", 3: "#7bbdc5", 4: "#8b41ac", 5: "#6aac41", 6: "#3931a4", 7: "#d5de73", 8: "#945a20", 9: "#5a4100", A: "#bd736a", B: "#525252", C: "#838383", D: "#acee8b", E: "#7b73de", F: "#acacac" }
})), n.register("dcP4o", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { 0: "#000", 1: "#2234d1", 2: "#0c7e45", 3: "#44aacc", 4: "#8a3622", 5: "#5c2e78", 6: "#aa5c3d", 7: "#b5b5b5", 8: "#5e606e", 9: "#4c81fb", A: "#6cd947", B: "#7be2f9", C: "#eb8a60", D: "#e23d69", E: "#ffd93f", F: "#fff" }
})), n.register("ldJiA", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { 0: "#000", 1: "#191028", 2: "#46af45", 3: "#a1d685", 4: "#453e78", 5: "#7664fe", 6: "#833129", 7: "#9ec2e8", 8: "#dc534b", 9: "#e18d79", A: "#d6b97b", B: "#e9d8a1", C: "#216c4b", D: "#d365c8", E: "#afaab9", F: "#f5f4eb" }
})), n.register("5cKMW", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { 0: "#000", 1: "#191028", 2: "#46af45", 3: "#a1d685", 4: "#453e78", 5: "#7664fe", 6: "#833129", 7: "#9ec2e8", 8: "#dc534b", 9: "#e18d79", A: "#d6b97b", B: "#e9d8a1", C: "#216c4b", D: "#d365c8", E: "#afaab9", F: "#fff" }
})), n.register("fIfAn", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { Path: n("bPycw"), CubicBezier: n("j2fdY"), Curve: n("bNtX1"), Ellipse: n("i4AdP"), Line: n("ibIaQ"), QuadraticBezier: n("7qbxE"), Spline: n("l3YGt") }
})), n.register("bPycw", (function (t, e) { var i = n("jwj1g"), s = n("j2fdY"), r = n("i4AdP"), o = n("kge7H"), a = n("ibIaQ"), h = n("8wqGH"), l = n("7qbxE"), u = n("cwr8X"), c = n("l3YGt"), d = n("7SBSk"), f = n("bNtDi"), p = new i({ initialize: function (t, e) { void 0 === t && (t = 0), void 0 === e && (e = 0), this.name = "", this.curves = [], this.cacheLengths = [], this.autoClose = !1, this.startPoint = new d, this._tmpVec2A = new d, this._tmpVec2B = new d, "object" == typeof t ? this.fromJSON(t) : this.startPoint.set(t, e) }, add: function (t) { return this.curves.push(t), this }, circleTo: function (t, e, i) { return void 0 === e && (e = !1), this.ellipseTo(t, t, 0, 360, e, i) }, closePath: function () { var t = this.curves[0].getPoint(0), e = this.curves[this.curves.length - 1].getPoint(1); return t.equals(e) || this.curves.push(new a(e, t)), this }, cubicBezierTo: function (t, e, i, n, r, o) { var a, h, l, u = this.getEndPoint(); return t instanceof d ? (a = t, h = e, l = i) : (a = new d(i, n), h = new d(r, o), l = new d(t, e)), this.add(new s(u, a, h, l)) }, quadraticBezierTo: function (t, e, i, s) { var n, r, o = this.getEndPoint(); return t instanceof d ? (n = t, r = e) : (n = new d(i, s), r = new d(t, e)), this.add(new l(o, n, r)) }, draw: function (t, e) { for (var i = 0; i < this.curves.length; i++) { var s = this.curves[i]; s.active && s.draw(t, e) } return t }, ellipseTo: function (t, e, i, s, n, o) { var a = new r(0, 0, t, e, i, s, n, o), h = this.getEndPoint(this._tmpVec2A), l = a.getStartPoint(this._tmpVec2B); return h.subtract(l), a.x = h.x, a.y = h.y, this.add(a) }, fromJSON: function (t) { this.curves = [], this.cacheLengths = [], this.startPoint.set(t.x, t.y), this.autoClose = t.autoClose; for (var e = 0; e < t.curves.length; e++) { var i = t.curves[e]; switch (i.type) { case "LineCurve": this.add(a.fromJSON(i)); break; case "EllipseCurve": this.add(r.fromJSON(i)); break; case "SplineCurve": this.add(c.fromJSON(i)); break; case "CubicBezierCurve": this.add(s.fromJSON(i)); break; case "QuadraticBezierCurve": this.add(l.fromJSON(i)) } } return this }, getBounds: function (t, e) { void 0 === t && (t = new u), void 0 === e && (e = 16), t.x = Number.MAX_VALUE, t.y = Number.MAX_VALUE; for (var i = new u, s = f.MIN_SAFE_INTEGER, n = f.MIN_SAFE_INTEGER, r = 0; r < this.curves.length; r++) { var o = this.curves[r]; o.active && (o.getBounds(i, e), t.x = Math.min(t.x, i.x), t.y = Math.min(t.y, i.y), s = Math.max(s, i.right), n = Math.max(n, i.bottom)) } return t.right = s, t.bottom = n, t }, getCurveLengths: function () { if (this.cacheLengths.length === this.curves.length) return this.cacheLengths; for (var t = [], e = 0, i = 0; i < this.curves.length; i++)e += this.curves[i].getLength(), t.push(e); return this.cacheLengths = t, t }, getEndPoint: function (t) { return void 0 === t && (t = new d), this.curves.length > 0 ? this.curves[this.curves.length - 1].getPoint(1, t) : t.copy(this.startPoint), t }, getLength: function () { var t = this.getCurveLengths(); return t[t.length - 1] }, getPoint: function (t, e) { void 0 === e && (e = new d); for (var i = t * this.getLength(), s = this.getCurveLengths(), n = 0; n < s.length;) { if (s[n] >= i) { var r = s[n] - i, o = this.curves[n], a = o.getLength(), h = 0 === a ? 0 : 1 - r / a; return o.getPointAt(h, e) } n++ } return null }, getPoints: function (t) { void 0 === t && (t = 12); for (var e, i = [], s = 0; s < this.curves.length; s++) { var n = this.curves[s]; if (n.active) for (var r = n.getResolution(t), o = n.getPoints(r), a = 0; a < o.length; a++) { var h = o[a]; e && e.equals(h) || (i.push(h), e = h) } } return this.autoClose && i.length > 1 && !i[i.length - 1].equals(i[0]) && i.push(i[0]), i }, getRandomPoint: function (t) { return void 0 === t && (t = new d), this.getPoint(Math.random(), t) }, getSpacedPoints: function (t) { void 0 === t && (t = 40); for (var e = [], i = 0; i <= t; i++)e.push(this.getPoint(i / t)); return this.autoClose && e.push(e[0]), e }, getStartPoint: function (t) { return void 0 === t && (t = new d), t.copy(this.startPoint) }, lineTo: function (t, e) { t instanceof d ? this._tmpVec2B.copy(t) : this._tmpVec2B.set(t, e); var i = this.getEndPoint(this._tmpVec2A); return this.add(new a([i.x, i.y, this._tmpVec2B.x, this._tmpVec2B.y])) }, splineTo: function (t) { return t.unshift(this.getEndPoint()), this.add(new c(t)) }, moveTo: function (t, e) { return t instanceof d ? this.add(new h(t.x, t.y)) : this.add(new h(t, e)) }, toJSON: function () { for (var t = [], e = 0; e < this.curves.length; e++)t.push(this.curves[e].toJSON()); return { type: "Path", x: this.startPoint.x, y: this.startPoint.y, autoClose: this.autoClose, curves: t } }, updateArcLengths: function () { this.cacheLengths = [], this.getCurveLengths() }, destroy: function () { this.curves.length = 0, this.cacheLengths.length = 0, this.startPoint = void 0 } }); o.register("path", (function (t, e) { return new p(t, e) })), t.exports = p })), n.register("j2fdY", (function (t, e) { var i = n("jwj1g"), s = n("2OzPP"), r = n("bNtX1"), o = n("7SBSk"), a = new i({ Extends: r, initialize: function (t, e, i, s) { r.call(this, "CubicBezierCurve"), Array.isArray(t) && (s = new o(t[6], t[7]), i = new o(t[4], t[5]), e = new o(t[2], t[3]), t = new o(t[0], t[1])), this.p0 = t, this.p1 = e, this.p2 = i, this.p3 = s }, getStartPoint: function (t) { return void 0 === t && (t = new o), t.copy(this.p0) }, getResolution: function (t) { return t }, getPoint: function (t, e) { void 0 === e && (e = new o); var i = this.p0, n = this.p1, r = this.p2, a = this.p3; return e.set(s(t, i.x, n.x, r.x, a.x), s(t, i.y, n.y, r.y, a.y)) }, draw: function (t, e) { void 0 === e && (e = 32); var i = this.getPoints(e); t.beginPath(), t.moveTo(this.p0.x, this.p0.y); for (var s = 1; s < i.length; s++)t.lineTo(i[s].x, i[s].y); return t.strokePath(), t }, toJSON: function () { return { type: this.type, points: [this.p0.x, this.p0.y, this.p1.x, this.p1.y, this.p2.x, this.p2.y, this.p3.x, this.p3.y] } } }); a.fromJSON = function (t) { var e = t.points, i = new o(e[0], e[1]), s = new o(e[2], e[3]), n = new o(e[4], e[5]), r = new o(e[6], e[7]); return new a(i, s, n, r) }, t.exports = a })), n.register("bNtX1", (function (t, e) { var i = n("jwj1g"), s = n("1zoJ0"), r = n("cwr8X"), o = n("7SBSk"), a = new i({ initialize: function (t) { this.type = t, this.defaultDivisions = 5, this.arcLengthDivisions = 100, this.cacheArcLengths = [], this.needsUpdate = !0, this.active = !0, this._tmpVec2A = new o, this._tmpVec2B = new o }, draw: function (t, e) { return void 0 === e && (e = 32), t.strokePoints(this.getPoints(e)) }, getBounds: function (t, e) { t || (t = new r), void 0 === e && (e = 16); var i = this.getLength(); e > i && (e = i / 2); var n = Math.max(1, Math.round(i / e)); return s(this.getSpacedPoints(n), t) }, getDistancePoints: function (t) { var e = this.getLength(), i = Math.max(1, e / t); return this.getSpacedPoints(i) }, getEndPoint: function (t) { return void 0 === t && (t = new o), this.getPointAt(1, t) }, getLength: function () { var t = this.getLengths(); return t[t.length - 1] }, getLengths: function (t) { if (void 0 === t && (t = this.arcLengthDivisions), this.cacheArcLengths.length === t + 1 && !this.needsUpdate) return this.cacheArcLengths; this.needsUpdate = !1; var e, i = [], s = this.getPoint(0, this._tmpVec2A), n = 0; i.push(0); for (var r = 1; r <= t; r++)n += (e = this.getPoint(r / t, this._tmpVec2B)).distance(s), i.push(n), s.copy(e); return this.cacheArcLengths = i, i }, getPointAt: function (t, e) { var i = this.getUtoTmapping(t); return this.getPoint(i, e) }, getPoints: function (t, e, i) { void 0 === i && (i = []), t || (t = e ? this.getLength() / e : this.defaultDivisions); for (var s = 0; s <= t; s++)i.push(this.getPoint(s / t)); return i }, getRandomPoint: function (t) { return void 0 === t && (t = new o), this.getPoint(Math.random(), t) }, getSpacedPoints: function (t, e, i) { void 0 === i && (i = []), t || (t = e ? this.getLength() / e : this.defaultDivisions); for (var s = 0; s <= t; s++) { var n = this.getUtoTmapping(s / t, null, t); i.push(this.getPoint(n)) } return i }, getStartPoint: function (t) { return void 0 === t && (t = new o), this.getPointAt(0, t) }, getTangent: function (t, e) { void 0 === e && (e = new o); var i = 1e-4, s = t - i, n = t + i; return s < 0 && (s = 0), n > 1 && (n = 1), this.getPoint(s, this._tmpVec2A), this.getPoint(n, e), e.subtract(this._tmpVec2A).normalize() }, getTangentAt: function (t, e) { var i = this.getUtoTmapping(t); return this.getTangent(i, e) }, getTFromDistance: function (t, e) { return t <= 0 ? 0 : this.getUtoTmapping(0, t, e) }, getUtoTmapping: function (t, e, i) { var s, n = this.getLengths(i), r = 0, o = n.length; s = e ? Math.min(e, n[o - 1]) : t * n[o - 1]; for (var a, h = 0, l = o - 1; h <= l;)if ((a = n[r = Math.floor(h + (l - h) / 2)] - s) < 0) h = r + 1; else { if (!(a > 0)) { l = r; break } l = r - 1 } if (n[r = l] === s) return r / (o - 1); var u = n[r]; return (r + (s - u) / (n[r + 1] - u)) / (o - 1) }, updateArcLengths: function () { this.needsUpdate = !0, this.getLengths() } }); t.exports = a })), n.register("1zoJ0", (function (t, e) { var i = n("cwr8X"), s = n("bNtDi"); t.exports = function (t, e) { if (void 0 === e && (e = new i), 0 === t.length) return e; for (var n, r, o, a = Number.MAX_VALUE, h = Number.MAX_VALUE, l = s.MIN_SAFE_INTEGER, u = s.MIN_SAFE_INTEGER, c = 0; c < t.length; c++)n = t[c], Array.isArray(n) ? (r = n[0], o = n[1]) : (r = n.x, o = n.y), a = Math.min(a, r), h = Math.min(h, o), l = Math.max(l, r), u = Math.max(u, o); return e.x = a, e.y = h, e.width = l - a, e.height = u - h, e } })), n.register("i4AdP", (function (t, e) { var i = n("jwj1g"), s = n("bNtX1"), r = n("2zqSA"), o = n("5pMDk"), a = n("dcSyA"), h = n("7SBSk"), l = new i({ Extends: s, initialize: function (t, e, i, n, a, l, u, c) { if ("object" == typeof t) { var d = t; t = o(d, "x", 0), e = o(d, "y", 0), i = o(d, "xRadius", 0), n = o(d, "yRadius", i), a = o(d, "startAngle", 0), l = o(d, "endAngle", 360), u = o(d, "clockwise", !1), c = o(d, "rotation", 0) } else void 0 === n && (n = i), void 0 === a && (a = 0), void 0 === l && (l = 360), void 0 === u && (u = !1), void 0 === c && (c = 0); s.call(this, "EllipseCurve"), this.p0 = new h(t, e), this._xRadius = i, this._yRadius = n, this._startAngle = r(a), this._endAngle = r(l), this._clockwise = u, this._rotation = r(c) }, getStartPoint: function (t) { return void 0 === t && (t = new h), this.getPoint(0, t) }, getResolution: function (t) { return 2 * t }, getPoint: function (t, e) { void 0 === e && (e = new h); for (var i = 2 * Math.PI, s = this._endAngle - this._startAngle, n = Math.abs(s) < Number.EPSILON; s < 0;)s += i; for (; s > i;)s -= i; s < Number.EPSILON && (s = n ? 0 : i), this._clockwise && !n && (s === i ? s = -i : s -= i); var r = this._startAngle + t * s, o = this.p0.x + this._xRadius * Math.cos(r), a = this.p0.y + this._yRadius * Math.sin(r); if (0 !== this._rotation) { var l = Math.cos(this._rotation), u = Math.sin(this._rotation), c = o - this.p0.x, d = a - this.p0.y; o = c * l - d * u + this.p0.x, a = c * u + d * l + this.p0.y } return e.set(o, a) }, setXRadius: function (t) { return this.xRadius = t, this }, setYRadius: function (t) { return this.yRadius = t, this }, setWidth: function (t) { return this.xRadius = 2 * t, this }, setHeight: function (t) { return this.yRadius = 2 * t, this }, setStartAngle: function (t) { return this.startAngle = t, this }, setEndAngle: function (t) { return this.endAngle = t, this }, setClockwise: function (t) { return this.clockwise = t, this }, setRotation: function (t) { return this.rotation = t, this }, x: { get: function () { return this.p0.x }, set: function (t) { this.p0.x = t } }, y: { get: function () { return this.p0.y }, set: function (t) { this.p0.y = t } }, xRadius: { get: function () { return this._xRadius }, set: function (t) { this._xRadius = t } }, yRadius: { get: function () { return this._yRadius }, set: function (t) { this._yRadius = t } }, startAngle: { get: function () { return a(this._startAngle) }, set: function (t) { this._startAngle = r(t) } }, endAngle: { get: function () { return a(this._endAngle) }, set: function (t) { this._endAngle = r(t) } }, clockwise: { get: function () { return this._clockwise }, set: function (t) { this._clockwise = t } }, angle: { get: function () { return a(this._rotation) }, set: function (t) { this._rotation = r(t) } }, rotation: { get: function () { return this._rotation }, set: function (t) { this._rotation = t } }, toJSON: function () { return { type: this.type, x: this.p0.x, y: this.p0.y, xRadius: this._xRadius, yRadius: this._yRadius, startAngle: a(this._startAngle), endAngle: a(this._endAngle), clockwise: this._clockwise, rotation: a(this._rotation) } } }); l.fromJSON = function (t) { return new l(t) }, t.exports = l })), n.register("kge7H", (function (t, e) { var i = n("jwj1g"), s = n("7AzQW"), r = n("4rtgc"), o = new i({ initialize: function (t) { this.scene = t, this.systems = t.sys, this.displayList, this.updateList, t.sys.events.once(r.BOOT, this.boot, this), t.sys.events.on(r.START, this.start, this) }, boot: function () { this.displayList = this.systems.displayList, this.updateList = this.systems.updateList, this.systems.events.once(r.DESTROY, this.destroy, this) }, start: function () { this.systems.events.once(r.SHUTDOWN, this.shutdown, this) }, existing: function (t) { return (t.renderCanvas || t.renderWebGL) && this.displayList.add(t), t.preUpdate && this.updateList.add(t), t }, shutdown: function () { this.systems.events.off(r.SHUTDOWN, this.shutdown, this) }, destroy: function () { this.shutdown(), this.scene.sys.events.off(r.START, this.start, this), this.scene = null, this.systems = null, this.displayList = null, this.updateList = null } }); o.register = function (t, e) { o.prototype.hasOwnProperty(t) || (o.prototype[t] = e) }, o.remove = function (t) { o.prototype.hasOwnProperty(t) && delete o.prototype[t] }, s.register("GameObjectFactory", o, "add"), t.exports = o })), n.register("ibIaQ", (function (t, e) { var i = n("jwj1g"), s = n("bNtX1"), r = n("1zoJ0"), o = n("cwr8X"), a = n("7SBSk"), h = new a, l = new i({ Extends: s, initialize: function (t, e) { s.call(this, "LineCurve"), Array.isArray(t) && (e = new a(t[2], t[3]), t = new a(t[0], t[1])), this.p0 = t, this.p1 = e, this.arcLengthDivisions = 1 }, getBounds: function (t) { return void 0 === t && (t = new o), r([this.p0, this.p1], t) }, getStartPoint: function (t) { return void 0 === t && (t = new a), t.copy(this.p0) }, getResolution: function (t) { return void 0 === t && (t = 1), t }, getPoint: function (t, e) { return void 0 === e && (e = new a), 1 === t ? e.copy(this.p1) : (e.copy(this.p1).subtract(this.p0).scale(t).add(this.p0), e) }, getPointAt: function (t, e) { return this.getPoint(t, e) }, getTangent: function () { return h.copy(this.p1).subtract(this.p0).normalize() }, getUtoTmapping: function (t, e, i) { var s; if (e) { var n = this.getLengths(i), r = n[n.length - 1]; s = Math.min(e, r) / r } else s = t; return s }, draw: function (t) { return t.lineBetween(this.p0.x, this.p0.y, this.p1.x, this.p1.y), t }, toJSON: function () { return { type: this.type, points: [this.p0.x, this.p0.y, this.p1.x, this.p1.y] } } }); l.fromJSON = function (t) { var e = t.points, i = new a(e[0], e[1]), s = new a(e[2], e[3]); return new l(i, s) }, t.exports = l })), n.register("8wqGH", (function (t, e) { var i = n("jwj1g"), s = n("7SBSk"), r = new i({ initialize: function (t, e) { this.active = !1, this.p0 = new s(t, e) }, getPoint: function (t, e) { return void 0 === e && (e = new s), e.copy(this.p0) }, getPointAt: function (t, e) { return this.getPoint(t, e) }, getResolution: function () { return 1 }, getLength: function () { return 0 }, toJSON: function () { return { type: "MoveTo", points: [this.p0.x, this.p0.y] } } }); t.exports = r })), n.register("7qbxE", (function (t, e) { var i = n("jwj1g"), s = n("bNtX1"), r = n("lNAp3"), o = n("7SBSk"), a = new i({ Extends: s, initialize: function (t, e, i) { s.call(this, "QuadraticBezier"), Array.isArray(t) && (i = new o(t[4], t[5]), e = new o(t[2], t[3]), t = new o(t[0], t[1])), this.p0 = t, this.p1 = e, this.p2 = i }, getStartPoint: function (t) { return void 0 === t && (t = new o), t.copy(this.p0) }, getResolution: function (t) { return t }, getPoint: function (t, e) { void 0 === e && (e = new o); var i = this.p0, s = this.p1, n = this.p2; return e.set(r(t, i.x, s.x, n.x), r(t, i.y, s.y, n.y)) }, draw: function (t, e) { void 0 === e && (e = 32); var i = this.getPoints(e); t.beginPath(), t.moveTo(this.p0.x, this.p0.y); for (var s = 1; s < i.length; s++)t.lineTo(i[s].x, i[s].y); return t.strokePath(), t }, toJSON: function () { return { type: this.type, points: [this.p0.x, this.p0.y, this.p1.x, this.p1.y, this.p2.x, this.p2.y] } } }); a.fromJSON = function (t) { var e = t.points, i = new o(e[0], e[1]), s = new o(e[2], e[3]), n = new o(e[4], e[5]); return new a(i, s, n) }, t.exports = a })), n.register("l3YGt", (function (t, e) { var i = n("4pkLE"), s = n("jwj1g"), r = n("bNtX1"), o = n("7SBSk"), a = new s({ Extends: r, initialize: function (t) { void 0 === t && (t = []), r.call(this, "SplineCurve"), this.points = [], this.addPoints(t) }, addPoints: function (t) { for (var e = 0; e < t.length; e++) { var i = new o; "number" == typeof t[e] ? (i.x = t[e], i.y = t[e + 1], e++) : Array.isArray(t[e]) ? (i.x = t[e][0], i.y = t[e][1]) : (i.x = t[e].x, i.y = t[e].y), this.points.push(i) } return this }, addPoint: function (t, e) { var i = new o(t, e); return this.points.push(i), i }, getStartPoint: function (t) { return void 0 === t && (t = new o), t.copy(this.points[0]) }, getResolution: function (t) { return t * this.points.length }, getPoint: function (t, e) { void 0 === e && (e = new o); var s = this.points, n = (s.length - 1) * t, r = Math.floor(n), a = n - r, h = s[0 === r ? r : r - 1], l = s[r], u = s[r > s.length - 2 ? s.length - 1 : r + 1], c = s[r > s.length - 3 ? s.length - 1 : r + 2]; return e.set(i(a, h.x, l.x, u.x, c.x), i(a, h.y, l.y, u.y, c.y)) }, toJSON: function () { for (var t = [], e = 0; e < this.points.length; e++)t.push(this.points[e].x), t.push(this.points[e].y); return { type: this.type, points: t } } }); a.fromJSON = function (t) { return new a(t.points) }, t.exports = a })), n.register("fvFEG", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { DataManager: n("ewzDY"), DataManagerPlugin: n("1xQQd"), Events: n("jKmu9") }
})), n.register("1xQQd", (function (t, e) { var i = n("jwj1g"), s = n("ewzDY"), r = n("7AzQW"), o = n("4rtgc"), a = new i({ Extends: s, initialize: function (t) { s.call(this, t, t.sys.events), this.scene = t, this.systems = t.sys, t.sys.events.once(o.BOOT, this.boot, this), t.sys.events.on(o.START, this.start, this) }, boot: function () { this.events = this.systems.events, this.events.once(o.DESTROY, this.destroy, this) }, start: function () { this.events.once(o.SHUTDOWN, this.shutdown, this) }, shutdown: function () { this.systems.events.off(o.SHUTDOWN, this.shutdown, this) }, destroy: function () { s.prototype.destroy.call(this), this.events.off(o.START, this.start, this), this.scene = null, this.systems = null } }); r.register("DataManagerPlugin", a, "data"), t.exports = a })), n.register("g2mK1", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { Align: n("8WKjk"), BaseShader: n("dtVn6"), Bounds: n("bPXBb"), Canvas: n("4V4gt"), Color: n("dqWRJ"), Masks: n("7QACF") }
})), n.register("8WKjk", (function (t, e) { var i = n("hPWXH"), s = n("hVk4C"), r = { In: n("4FNJt"), To: n("h6oXX") }; r = s(!1, r, i), t.exports = r })), n.register("4FNJt", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { BottomCenter: n("bI66X"), BottomLeft: n("9aKJT"), BottomRight: n("57VIW"), Center: n("8OPIk"), LeftCenter: n("lCav5"), QuickSet: n("lW6Z2"), RightCenter: n("d4CDm"), TopCenter: n("aBZ2v"), TopLeft: n("jIofi"), TopRight: n("gVJ1b") }
})), n.register("h6oXX", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { BottomCenter: n("7V1sp"), BottomLeft: n("hUnFl"), BottomRight: n("hyRjB"), LeftBottom: n("fNGut"), LeftCenter: n("1LQnW"), LeftTop: n("fPpzE"), QuickSet: n("g6HRX"), RightBottom: n("7d2qQ"), RightCenter: n("lavD1"), RightTop: n("suJhd"), TopCenter: n("hjjdG"), TopLeft: n("5H3NR"), TopRight: n("6Cewx") }
})), n.register("dtVn6", (function (t, e) { var i = new (n("jwj1g"))({ initialize: function (t, e, i, s) { e && "" !== e || (e = ["precision mediump float;", "uniform vec2 resolution;", "varying vec2 fragCoord;", "void main () {", "    vec2 uv = fragCoord / resolution.xy;", "    gl_FragColor = vec4(uv.xyx, 1.0);", "}"].join("\n")), i && "" !== i || (i = ["precision mediump float;", "uniform mat4 uProjectionMatrix;", "uniform mat4 uViewMatrix;", "uniform vec2 uResolution;", "attribute vec2 inPosition;", "varying vec2 fragCoord;", "void main () {", "gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);", "fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);", "}"].join("\n")), void 0 === s && (s = null), this.key = t, this.fragmentSrc = e, this.vertexSrc = i, this.uniforms = s } }); t.exports = i })), n.register("bPXBb", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { CenterOn: n("73gOb"), GetBottom: n("cWmua"), GetCenterX: n("k74fg"), GetCenterY: n("14FXn"), GetLeft: n("7Hc2m"), GetOffsetX: n("fXG4g"), GetOffsetY: n("dg84n"), GetRight: n("dD4Dr"), GetTop: n("b873I"), SetBottom: n("gNxHP"), SetCenterX: n("7ltKj"), SetCenterY: n("9L2xG"), SetLeft: n("jcMTD"), SetRight: n("4G1x9"), SetTop: n("2yhAk") }
})), n.register("fXG4g", (function (t, e) { t.exports = function (t) { return t.width * t.originX } })), n.register("dg84n", (function (t, e) { t.exports = function (t) { return t.height * t.originY } })), n.register("4V4gt", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { CanvasInterpolation: n("9OJi8"), CanvasPool: n("kKoer"), Smoothing: n("g0MK9"), TouchAction: n("cUjum"), UserSelect: n("3pBEz") }
})), n.register("cUjum", (function (t, e) { t.exports = function (t, e) { return void 0 === e && (e = "none"), t.style.msTouchAction = e, t.style["ms-touch-action"] = e, t.style["touch-action"] = e, t } })), n.register("3pBEz", (function (t, e) { t.exports = function (t, e) { void 0 === e && (e = "none"); return ["-webkit-", "-khtml-", "-moz-", "-ms-", ""].forEach((function (i) { t.style[i + "user-select"] = e })), t.style["-webkit-touch-callout"] = e, t.style["-webkit-tap-highlight-color"] = "rgba(0, 0, 0, 0)", t } })), n.register("dqWRJ", (function (t, e) { var i = n("pqNJR"); i.ColorToRGBA = n("gsgi6"), i.ComponentToHex = n("8j7ov"), i.GetColor = n("hqJVB"), i.GetColor32 = n("cEpdV"), i.HexStringToColor = n("geCzd"), i.HSLToColor = n("3GTIE"), i.HSVColorWheel = n("jrQ9H"), i.HSVToRGB = n("1jgzS"), i.HueToComponent = n("1AMCZ"), i.IntegerToColor = n("bAeWh"), i.IntegerToRGB = n("3sQbm"), i.Interpolate = n("hxSfB"), i.ObjectToColor = n("1xsnc"), i.RandomRGB = n("itc7X"), i.RGBStringToColor = n("8lcCL"), i.RGBToHSV = n("hM4Fo"), i.RGBToString = n("4BTW2"), i.ValueToColor = n("iYnst"), t.exports = i })), n.register("gsgi6", (function (t, e) { t.exports = function (t) { var e = { r: t >> 16 & 255, g: t >> 8 & 255, b: 255 & t, a: 255 }; return t > 16777215 && (e.a = t >>> 24), e } })), n.register("8j7ov", (function (t, e) { t.exports = function (t) { var e = t.toString(16); return 1 === e.length ? "0" + e : e } })), n.register("3GTIE", (function (t, e) { var i = n("pqNJR"), s = n("1AMCZ"); t.exports = function (t, e, n) { var r = n, o = n, a = n; if (0 !== e) { var h = n < .5 ? n * (1 + e) : n + e - n * e, l = 2 * n - h; r = s(l, h, t + 1 / 3), o = s(l, h, t), a = s(l, h, t - 1 / 3) } return (new i).setGLTo(r, o, a, 1) } })), n.register("1AMCZ", (function (t, e) { t.exports = function (t, e, i) { return i < 0 && (i += 1), i > 1 && (i -= 1), i < 1 / 6 ? t + 6 * (e - t) * i : i < .5 ? e : i < 2 / 3 ? t + (e - t) * (2 / 3 - i) * 6 : t } })), n.register("jrQ9H", (function (t, e) { var i = n("1jgzS"); t.exports = function (t, e) { void 0 === t && (t = 1), void 0 === e && (e = 1); for (var s = [], n = 0; n <= 359; n++)s.push(i(n / 359, t, e)); return s } })), n.register("hxSfB", (function (t, e) { var i = n("fDkZ4"), s = function (t, e, s, n, r, o, a, h) { void 0 === a && (a = 100), void 0 === h && (h = 0); var l = h / a; return { r: i(t, n, l), g: i(e, r, l), b: i(s, o, l) } }; t.exports = { RGBWithRGB: s, ColorWithRGB: function (t, e, i, n, r, o) { return void 0 === r && (r = 100), void 0 === o && (o = 0), s(t.r, t.g, t.b, e, i, n, r, o) }, ColorWithColor: function (t, e, i, n) { return void 0 === i && (i = 100), void 0 === n && (n = 0), s(t.r, t.g, t.b, e.r, e.g, e.b, i, n) } } })), n.register("itc7X", (function (t, e) { var i = n("2EBZh"), s = n("pqNJR"); t.exports = function (t, e) { return void 0 === t && (t = 0), void 0 === e && (e = 255), new s(i(t, e), i(t, e), i(t, e)) } })), n.register("4BTW2", (function (t, e) { var i = n("8j7ov"); t.exports = function (t, e, s, n, r) { return void 0 === n && (n = 255), void 0 === r && (r = "#"), "#" === r ? "#" + (16777216 + (t << 16) + (e << 8) + s).toString(16).slice(1) : "0x" + i(n) + i(t) + i(e) + i(s) } })), n.register("7QACF", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { BitmapMask: n("JBPsZ"), GeometryMask: n("gPaIB") }
})), n.register("4SM0m", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    var i = { AddToDOM: n("6686h"), DOMContentLoaded: n("e741E"), GetScreenOrientation: n("6rG19"), GetTarget: n("ckyH1"), ParseXML: n("1zOUS"), RemoveFromDOM: n("kJrIV"), RequestAnimationFrame: n("eGwje") }; t.exports = i
})), n.register("6686h", (function (t, e) { t.exports = function (t, e) { var i; if (e) "string" == typeof e ? i = document.getElementById(e) : "object" == typeof e && 1 === e.nodeType && (i = e); else if (t.parentElement) return t; return i || (i = document.body), i.appendChild(t), t } })), n.register("e741E", (function (t, e) { var i = n("1SePj"); t.exports = function (t) { if ("complete" !== document.readyState && "interactive" !== document.readyState) { var e = function () { document.removeEventListener("deviceready", e, !0), document.removeEventListener("DOMContentLoaded", e, !0), window.removeEventListener("load", e, !0), t() }; document.body ? i.cordova ? document.addEventListener("deviceready", e, !1) : (document.addEventListener("DOMContentLoaded", e, !0), window.addEventListener("load", e, !0)) : window.setTimeout(e, 20) } else t() } })), n.register("6rG19", (function (t, e) { var i = n("dlsVr"); t.exports = function (t, e) { var s = window.screen, n = !!s && (s.orientation || s.mozOrientation || s.msOrientation); if (n && "string" == typeof n.type) return n.type; if ("string" == typeof n) return n; if (s) return s.height > s.width ? i.ORIENTATION.PORTRAIT : i.ORIENTATION.LANDSCAPE; if ("number" == typeof window.orientation) return 0 === window.orientation || 180 === window.orientation ? i.ORIENTATION.PORTRAIT : i.ORIENTATION.LANDSCAPE; if (window.matchMedia) { if (window.matchMedia("(orientation: portrait)").matches) return i.ORIENTATION.PORTRAIT; if (window.matchMedia("(orientation: landscape)").matches) return i.ORIENTATION.LANDSCAPE } return e > t ? i.ORIENTATION.PORTRAIT : i.ORIENTATION.LANDSCAPE } })), n.register("dlsVr", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    var i = { CENTER: n("9tm7z"), ORIENTATION: n("8cRWJ"), SCALE_MODE: n("1mQJz"), ZOOM: n("9l9Tb") }; t.exports = i
})), n.register("9tm7z", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { NO_CENTER: 0, CENTER_BOTH: 1, CENTER_HORIZONTALLY: 2, CENTER_VERTICALLY: 3 }
})), n.register("8cRWJ", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { LANDSCAPE: "landscape-primary", PORTRAIT: "portrait-primary" }
})), n.register("1mQJz", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { NONE: 0, WIDTH_CONTROLS_HEIGHT: 1, HEIGHT_CONTROLS_WIDTH: 2, FIT: 3, ENVELOP: 4, RESIZE: 5 }
})), n.register("9l9Tb", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { NO_ZOOM: 1, ZOOM_2X: 2, ZOOM_4X: 4, MAX_ZOOM: -1 }
})), n.register("ckyH1", (function (t, e) { t.exports = function (t) { var e; return "" !== t && ("string" == typeof t ? e = document.getElementById(t) : t && 1 === t.nodeType && (e = t)), e || (e = document.body), e } })), n.register("1zOUS", (function (t, e) { t.exports = function (t) { var e = ""; try { if (window.DOMParser) e = (new DOMParser).parseFromString(t, "text/xml"); else (e = new ActiveXObject("Microsoft.XMLDOM")).loadXML(t) } catch (t) { e = null } return e && e.documentElement && !e.getElementsByTagName("parsererror").length ? e : null } })), n.register("kJrIV", (function (t, e) { t.exports = function (t) { t.parentNode && t.parentNode.removeChild(t) } })), n.register("1ZXFk", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { EventEmitter: n("j77Xc") }
})), n.register("j77Xc", (function (t, e) { var i = n("jwj1g"), s = n("3vRz3"), r = n("7AzQW"), o = new i({ Extends: s, initialize: function () { s.call(this) }, shutdown: function () { this.removeAllListeners() }, destroy: function () { this.removeAllListeners() } }); r.register("EventEmitter", o, "events"), t.exports = o })), n.register("L2T5H", (function (t, e) { var i = n("6686h"), s = n("dq46t"), r = n("083aW"), o = n("kKoer"), a = n("jwj1g"), h = n("cIuDW"), l = n("fmVR6"), u = n("dFILV"), c = n("ewzDY"), d = n("aGYvp"), f = n("eii8B"), p = n("e741E"), g = n("3vRz3"), v = n("aqcI1"), m = n("5ZH3f"), y = n("7AzQW"), x = n("brulE"), w = n("861Bh"), T = n("TOZF7"), b = n("6R4Pe"), S = n("5QcEl"), A = n("bc6Xj"), E = n("cEGtP"), C = n("jskqO"), _ = n("LHpuq"), M = new a({ initialize: function (t) { this.config = new h(t), this.renderer = null, this.domContainer = null, this.canvas = null, this.context = null, this.isBooted = !1, this.isRunning = !1, this.events = new g, this.anims = new s(this), this.textures = new S(this), this.cache = new r(this), this.registry = new c(this), this.input = new m(this, this.config), this.scene = new T(this, this.config.sceneConfig), this.device = f, this.scale = new w(this, this.config), this.sound = null, this.sound = C.create(this), this.loop = new A(this, this.config.fps), this.plugins = new x(this, this.config), this.facebook = new _(this), this.pendingDestroy = !1, this.removeCanvas = !1, this.noReturn = !1, this.hasFocus = !1, p(this.boot.bind(this)) }, boot: function () { y.hasCore("EventEmitter") ? (this.isBooted = !0, this.config.preBoot(this), this.scale.preBoot(), u(this), l(this), d(this), i(this.canvas, this.config.parent), this.textures.once(b.READY, this.texturesReady, this), this.events.emit(v.BOOT)) : console.warn("Aborting. Core Plugins missing.") }, texturesReady: function () { this.events.emit(v.READY), this.start() }, start: function () { this.isRunning = !0, this.config.postBoot(this), this.renderer ? this.loop.start(this.step.bind(this)) : this.loop.start(this.headlessStep.bind(this)), E(this); var t = this.events; t.on(v.HIDDEN, this.onHidden, this), t.on(v.VISIBLE, this.onVisible, this), t.on(v.BLUR, this.onBlur, this), t.on(v.FOCUS, this.onFocus, this) }, step: function (t, e) { if (this.pendingDestroy) return this.runDestroy(); var i = this.events; i.emit(v.PRE_STEP, t, e), i.emit(v.STEP, t, e), this.scene.update(t, e), i.emit(v.POST_STEP, t, e); var s = this.renderer; s.preRender(), i.emit(v.PRE_RENDER, s, t, e), this.scene.render(s), s.postRender(), i.emit(v.POST_RENDER, s, t, e) }, headlessStep: function (t, e) { if (this.pendingDestroy) return this.runDestroy(); var i = this.events; i.emit(v.PRE_STEP, t, e), i.emit(v.STEP, t, e), this.scene.update(t, e), i.emit(v.POST_STEP, t, e), i.emit(v.PRE_RENDER), i.emit(v.POST_RENDER) }, onHidden: function () { this.loop.pause(), this.events.emit(v.PAUSE) }, onVisible: function () { this.loop.resume(), this.events.emit(v.RESUME) }, onBlur: function () { this.hasFocus = !1, this.loop.blur() }, onFocus: function () { this.hasFocus = !0, this.loop.focus() }, getFrame: function () { return this.loop.frame }, getTime: function () { return this.loop.now }, destroy: function (t, e) { void 0 === e && (e = !1), this.pendingDestroy = !0, this.removeCanvas = t, this.noReturn = e }, runDestroy: function () { this.scene.destroy(), this.events.emit(v.DESTROY), this.events.removeAllListeners(), this.renderer && this.renderer.destroy(), this.removeCanvas && this.canvas && (o.remove(this.canvas), this.canvas.parentNode && this.canvas.parentNode.removeChild(this.canvas)), this.domContainer && this.domContainer.parentNode.removeChild(this.domContainer), this.loop.destroy(), this.pendingDestroy = !1 } }); t.exports = M })), n.register("fmVR6", (function (t, e) { var i = n("6686h"); t.exports = function (t) { var e = t.config; if (e.parent && e.domCreateContainer) { var s = document.createElement("div"); s.style.cssText = ["display: block;", "width: " + t.scale.width + "px;", "height: " + t.scale.height + "px;", "padding: 0; margin: 0;", "position: absolute;", "overflow: hidden;", "pointer-events: none;", "transform: scale(1);", "transform-origin: left top;"].join(" "), t.domContainer = s, i(s, e.parent) } } })), n.register("5ZH3f", (function (t, e) { var i = n("jwj1g"), s = n("1BSIy"), r = n("3vRz3"), o = n("2nOjn"), a = n("aqcI1"), h = n("c0CF7"), l = n("jy9yA"), u = n("1Oao7"), c = n("d3PYD"), d = n("azs1m"), f = n("coTXE"), p = new i({ initialize: function (t, e) { this.game = t, this.scaleManager, this.canvas, this.config = e, this.enabled = !0, this.events = new r, this.isOver = !0, this.defaultCursor = "", this.keyboard = e.inputKeyboard ? new h(this) : null, this.mouse = e.inputMouse ? new l(this) : null, this.touch = e.inputTouch ? new c(this) : null, this.pointers = [], this.pointersTotal = e.inputActivePointers, e.inputTouch && 1 === this.pointersTotal && (this.pointersTotal = 2); for (var i = 0; i <= this.pointersTotal; i++) { var s = new u(this, i); s.smoothFactor = e.inputSmoothFactor, this.pointers.push(s) } this.mousePointer = e.inputMouse ? this.pointers[0] : null, this.activePointer = this.pointers[0], this.globalTopOnly = !0, this.time = 0, this._tempPoint = { x: 0, y: 0 }, this._tempHitTest = [], this._tempMatrix = new d, this._tempMatrix2 = new d, this._tempSkip = !1, this.mousePointerContainer = [this.mousePointer], t.events.once(a.BOOT, this.boot, this) }, boot: function () { this.canvas = this.game.canvas, this.scaleManager = this.game.scale, this.events.emit(o.MANAGER_BOOT), this.game.events.on(a.PRE_RENDER, this.preRender, this), this.game.events.once(a.DESTROY, this.destroy, this) }, setCanvasOver: function (t) { this.isOver = !0, this.events.emit(o.GAME_OVER, t) }, setCanvasOut: function (t) { this.isOver = !1, this.events.emit(o.GAME_OUT, t) }, preRender: function () { var t = this.game.loop.now, e = this.game.loop.delta, i = this.game.scene.getScenes(!0, !0); this.time = t, this.events.emit(o.MANAGER_UPDATE); for (var s = 0; s < i.length; s++) { var n = i[s]; if (n.sys.input && n.sys.input.updatePoll(t, e) && this.globalTopOnly) return } }, setDefaultCursor: function (t) { this.defaultCursor = t, this.canvas.style.cursor !== t && (this.canvas.style.cursor = t) }, setCursor: function (t) { t.cursor && (this.canvas.style.cursor = t.cursor) }, resetCursor: function (t) { t.cursor && this.canvas && (this.canvas.style.cursor = this.defaultCursor) }, addPointer: function (t) { void 0 === t && (t = 1); var e = []; this.pointersTotal + t > 10 && (t = 10 - this.pointersTotal); for (var i = 0; i < t; i++) { var s = this.pointers.length, n = new u(this, s); n.smoothFactor = this.config.inputSmoothFactor, this.pointers.push(n), this.pointersTotal++, e.push(n) } return e }, updateInputPlugins: function (t, e) { var i = this.game.scene.getScenes(!0, !0); this._tempSkip = !1; for (var s = 0; s < i.length; s++) { var n = i[s]; if (n.sys.input) if (n.sys.input.update(t, e) && this.globalTopOnly || this._tempSkip) return } }, onTouchStart: function (t) { for (var e = this.pointers, i = [], n = 0; n < t.changedTouches.length; n++)for (var r = t.changedTouches[n], o = 1; o < this.pointersTotal; o++) { var a = e[o]; if (!a.active) { a.touchstart(r, t), this.activePointer = a, i.push(a); break } } this.updateInputPlugins(s.TOUCH_START, i) }, onTouchMove: function (t) { for (var e = this.pointers, i = [], n = 0; n < t.changedTouches.length; n++)for (var r = t.changedTouches[n], o = 1; o < this.pointersTotal; o++) { var a = e[o]; if (a.active && a.identifier === r.identifier) { a.touchmove(r, t), this.activePointer = a, i.push(a); break } } this.updateInputPlugins(s.TOUCH_MOVE, i) }, onTouchEnd: function (t) { for (var e = this.pointers, i = [], n = 0; n < t.changedTouches.length; n++)for (var r = t.changedTouches[n], o = 1; o < this.pointersTotal; o++) { var a = e[o]; if (a.active && a.identifier === r.identifier) { a.touchend(r, t), i.push(a); break } } this.updateInputPlugins(s.TOUCH_END, i) }, onTouchCancel: function (t) { for (var e = this.pointers, i = [], n = 0; n < t.changedTouches.length; n++)for (var r = t.changedTouches[n], o = 1; o < this.pointersTotal; o++) { var a = e[o]; if (a.active && a.identifier === r.identifier) { a.touchcancel(r, t), i.push(a); break } } this.updateInputPlugins(s.TOUCH_CANCEL, i) }, onMouseDown: function (t) { this.mousePointer.down(t), this.mousePointer.updateMotion(), this.updateInputPlugins(s.MOUSE_DOWN, this.mousePointerContainer) }, onMouseMove: function (t) { this.mousePointer.move(t), this.mousePointer.updateMotion(), this.updateInputPlugins(s.MOUSE_MOVE, this.mousePointerContainer) }, onMouseUp: function (t) { this.mousePointer.up(t), this.mousePointer.updateMotion(), this.updateInputPlugins(s.MOUSE_UP, this.mousePointerContainer) }, onMouseWheel: function (t) { this.mousePointer.wheel(t), this.updateInputPlugins(s.MOUSE_WHEEL, this.mousePointerContainer) }, onPointerLockChange: function (t) { var e = this.mouse.locked; this.mousePointer.locked = e, this.events.emit(o.POINTERLOCK_CHANGE, t, e) }, inputCandidate: function (t, e) { var i = t.input; if (!i || !i.enabled || !i.alwaysEnabled && !t.willRender(e)) return !1; var s = !0, n = t.parentContainer; if (n) do { if (!n.willRender(e)) { s = !1; break } n = n.parentContainer } while (n); return s }, hitTest: function (t, e, i, s) { void 0 === s && (s = this._tempHitTest); var n = this._tempPoint, r = i.scrollX, o = i.scrollY; s.length = 0; var a = t.x, h = t.y; 1 !== i.resolution && (a += i._x, h += i._y), i.getWorldPoint(a, h, n), t.worldX = n.x, t.worldY = n.y; for (var l = { x: 0, y: 0 }, u = this._tempMatrix, c = this._tempMatrix2, d = 0; d < e.length; d++) { var p = e[d]; if (this.inputCandidate(p, i)) { var g = n.x + r * p.scrollFactorX - r, v = n.y + o * p.scrollFactorY - o; p.parentContainer ? (p.getWorldTransformMatrix(u, c), u.applyInverse(g, v, l)) : f(g, v, p.x, p.y, p.rotation, p.scaleX, p.scaleY, l), this.pointWithinHitArea(p, l.x, l.y) && s.push(p) } } return s }, pointWithinHitArea: function (t, e, i) { e += t.displayOriginX, i += t.displayOriginY; var s = t.input; return !(!s || !s.hitAreaCallback(s.hitArea, e, i, t)) && (s.localX = e, s.localY = i, !0) }, pointWithinInteractiveObject: function (t, e, i) { return !!t.hitArea && (e += t.gameObject.displayOriginX, i += t.gameObject.displayOriginY, t.localX = e, t.localY = i, t.hitAreaCallback(t.hitArea, e, i, t)) }, transformPointer: function (t, e, i, s) { var n = t.position, r = t.prevPosition; r.x = n.x, r.y = n.y; var o = this.scaleManager.transformX(e), a = this.scaleManager.transformY(i), h = t.smoothFactor; s && 0 !== h ? (n.x = o * h + r.x * (1 - h), n.y = a * h + r.y * (1 - h)) : (n.x = o, n.y = a) }, destroy: function () { this.events.removeAllListeners(), this.game.events.off(a.PRE_RENDER), this.keyboard && this.keyboard.destroy(), this.mouse && this.mouse.destroy(), this.touch && this.touch.destroy(); for (var t = 0; t < this.pointers.length; t++)this.pointers[t].destroy(); this.pointers = [], this._tempHitTest = [], this._tempMatrix.destroy(), this.canvas = null, this.game = null } }); t.exports = p })), n.register("1BSIy", (function (t, e) { t.exports = { MOUSE_DOWN: 0, MOUSE_MOVE: 1, MOUSE_UP: 2, TOUCH_START: 3, TOUCH_MOVE: 4, TOUCH_END: 5, POINTER_LOCK_CHANGE: 6, TOUCH_CANCEL: 7, MOUSE_WHEEL: 8 } })), n.register("2nOjn", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { BOOT: n("iFiZ5"), DESTROY: n("3HaDB"), DRAG_END: n("6mx1i"), DRAG_ENTER: n("jk8Kd"), DRAG: n("3WF9Q"), DRAG_LEAVE: n("5Qkj5"), DRAG_OVER: n("ltytI"), DRAG_START: n("6Qryf"), DROP: n("knigW"), GAME_OUT: n("5oC5k"), GAME_OVER: n("8C4sB"), GAMEOBJECT_DOWN: n("7Oftj"), GAMEOBJECT_DRAG_END: n("9Iwd8"), GAMEOBJECT_DRAG_ENTER: n("frUzC"), GAMEOBJECT_DRAG: n("hCqfb"), GAMEOBJECT_DRAG_LEAVE: n("bXQ64"), GAMEOBJECT_DRAG_OVER: n("bNYF4"), GAMEOBJECT_DRAG_START: n("OmQPT"), GAMEOBJECT_DROP: n("jEnda"), GAMEOBJECT_MOVE: n("60XRK"), GAMEOBJECT_OUT: n("1sITA"), GAMEOBJECT_OVER: n("eqcRo"), GAMEOBJECT_POINTER_DOWN: n("6TpPo"), GAMEOBJECT_POINTER_MOVE: n("g3uzZ"), GAMEOBJECT_POINTER_OUT: n("i7mHF"), GAMEOBJECT_POINTER_OVER: n("4eRkD"), GAMEOBJECT_POINTER_UP: n("gg7DB"), GAMEOBJECT_POINTER_WHEEL: n("8UIGa"), GAMEOBJECT_UP: n("ctPWb"), GAMEOBJECT_WHEEL: n("5IRJh"), MANAGER_BOOT: n("3kqsk"), MANAGER_PROCESS: n("i7zGI"), MANAGER_UPDATE: n("dd0KV"), POINTER_DOWN: n("1sxHL"), POINTER_DOWN_OUTSIDE: n("8CGcw"), POINTER_MOVE: n("4li2e"), POINTER_OUT: n("aZsBE"), POINTER_OVER: n("9fwZR"), POINTER_UP: n("eNCWU"), POINTER_UP_OUTSIDE: n("bROn8"), POINTER_WHEEL: n("5GjXc"), POINTERLOCK_CHANGE: n("a5LHP"), PRE_UPDATE: n("cD8SJ"), SHUTDOWN: n("eC17K"), START: n("8cyv7"), UPDATE: n("32r8k") }
})), n.register("iFiZ5", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "boot"
})), n.register("3HaDB", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "destroy"
})), n.register("6mx1i", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "dragend"
})), n.register("jk8Kd", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "dragenter"
})), n.register("3WF9Q", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "drag"
})), n.register("5Qkj5", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "dragleave"
})), n.register("ltytI", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "dragover"
})), n.register("6Qryf", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "dragstart"
})), n.register("knigW", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "drop"
})), n.register("5oC5k", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "gameout"
})), n.register("8C4sB", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "gameover"
})), n.register("7Oftj", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "gameobjectdown"
})), n.register("9Iwd8", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "dragend"
})), n.register("frUzC", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "dragenter"
})), n.register("hCqfb", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "drag"
})), n.register("bXQ64", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "dragleave"
})), n.register("bNYF4", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "dragover"
})), n.register("OmQPT", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "dragstart"
})), n.register("jEnda", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "drop"
})), n.register("60XRK", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "gameobjectmove"
})), n.register("1sITA", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "gameobjectout"
})), n.register("eqcRo", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "gameobjectover"
})), n.register("6TpPo", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "pointerdown"
})), n.register("g3uzZ", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "pointermove"
})), n.register("i7mHF", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "pointerout"
})), n.register("4eRkD", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "pointerover"
})), n.register("gg7DB", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "pointerup"
})), n.register("8UIGa", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "wheel"
})), n.register("ctPWb", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "gameobjectup"
})), n.register("5IRJh", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "gameobjectwheel"
})), n.register("3kqsk", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "boot"
})), n.register("i7zGI", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "process"
})), n.register("dd0KV", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "update"
})), n.register("1sxHL", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "pointerdown"
})), n.register("8CGcw", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "pointerdownoutside"
})), n.register("4li2e", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "pointermove"
})), n.register("aZsBE", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "pointerout"
})), n.register("9fwZR", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "pointerover"
})), n.register("eNCWU", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "pointerup"
})), n.register("bROn8", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "pointerupoutside"
})), n.register("5GjXc", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "wheel"
})), n.register("a5LHP", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "pointerlockchange"
})), n.register("cD8SJ", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "preupdate"
})), n.register("eC17K", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "shutdown"
})), n.register("8cyv7", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "start"
})), n.register("32r8k", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "update"
})), n.register("c0CF7", (function (t, e) { var i = n("2SW6f"), s = n("jwj1g"), r = n("aqcI1"), o = n("2nOjn"), a = n("hmrEO"), h = new (s = n("jwj1g"))({ initialize: function (t) { this.manager = t, this.queue = [], this.preventDefault = !0, this.captures = [], this.enabled = !1, this.target, this.onKeyDown = s, this.onKeyUp = s, t.events.once(o.MANAGER_BOOT, this.boot, this) }, boot: function () { var t = this.manager.config; this.enabled = t.inputKeyboard, this.target = t.inputKeyboardEventTarget, this.addCapture(t.inputKeyboardCapture), !this.target && window && (this.target = window), this.enabled && this.target && this.startListeners(), this.manager.game.events.on(r.POST_STEP, this.postUpdate, this) }, startListeners: function () { var t = this; this.onKeyDown = function (e) { if (!e.defaultPrevented && t.enabled && t.manager) { t.queue.push(e), t.manager.useQueue || t.manager.events.emit(o.MANAGER_PROCESS); var i = e.altKey || e.ctrlKey || e.shiftKey || e.metaKey; t.preventDefault && !i && t.captures.indexOf(e.keyCode) > -1 && e.preventDefault() } }, this.onKeyUp = function (e) { if (!e.defaultPrevented && t.enabled && t.manager) { t.queue.push(e), t.manager.useQueue || t.manager.events.emit(o.MANAGER_PROCESS); var i = e.altKey || e.ctrlKey || e.shiftKey || e.metaKey; t.preventDefault && !i && t.captures.indexOf(e.keyCode) > -1 && e.preventDefault() } }; var e = this.target; e && (e.addEventListener("keydown", this.onKeyDown, !1), e.addEventListener("keyup", this.onKeyUp, !1), this.enabled = !0) }, stopListeners: function () { var t = this.target; t.removeEventListener("keydown", this.onKeyDown, !1), t.removeEventListener("keyup", this.onKeyUp, !1), this.enabled = !1 }, postUpdate: function () { this.queue = [] }, addCapture: function (t) { "string" == typeof t && (t = t.split(",")), Array.isArray(t) || (t = [t]); for (var e = this.captures, i = 0; i < t.length; i++) { var s = t[i]; "string" == typeof s && (s = a[s.trim().toUpperCase()]), -1 === e.indexOf(s) && e.push(s) } this.preventDefault = e.length > 0 }, removeCapture: function (t) { "string" == typeof t && (t = t.split(",")), Array.isArray(t) || (t = [t]); for (var e = this.captures, s = 0; s < t.length; s++) { var n = t[s]; "string" == typeof n && (n = a[n.toUpperCase()]), i(e, n) } this.preventDefault = e.length > 0 }, clearCaptures: function () { this.captures = [], this.preventDefault = !1 }, destroy: function () { this.stopListeners(), this.clearCaptures(), this.queue = [], this.manager.game.events.off(r.POST_RENDER, this.postUpdate, this), this.target = null, this.enabled = !1, this.manager = null } }); t.exports = h })), n.register("2SW6f", (function (t, e) { var i = n("eOqX8"); t.exports = function (t, e, s, n) { var r; if (void 0 === n && (n = t), !Array.isArray(e)) return -1 !== (r = t.indexOf(e)) ? (i(t, r), s && s.call(n, e), e) : null; for (var o = e.length - 1; o >= 0;) { var a = e[o]; -1 !== (r = t.indexOf(a)) ? (i(t, r), s && s.call(n, a)) : e.pop(), o-- } return e } })), n.register("hmrEO", (function (t, e) { t.exports = { BACKSPACE: 8, TAB: 9, ENTER: 13, SHIFT: 16, CTRL: 17, ALT: 18, PAUSE: 19, CAPS_LOCK: 20, ESC: 27, SPACE: 32, PAGE_UP: 33, PAGE_DOWN: 34, END: 35, HOME: 36, LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40, PRINT_SCREEN: 42, INSERT: 45, DELETE: 46, ZERO: 48, ONE: 49, TWO: 50, THREE: 51, FOUR: 52, FIVE: 53, SIX: 54, SEVEN: 55, EIGHT: 56, NINE: 57, NUMPAD_ZERO: 96, NUMPAD_ONE: 97, NUMPAD_TWO: 98, NUMPAD_THREE: 99, NUMPAD_FOUR: 100, NUMPAD_FIVE: 101, NUMPAD_SIX: 102, NUMPAD_SEVEN: 103, NUMPAD_EIGHT: 104, NUMPAD_NINE: 105, NUMPAD_ADD: 107, NUMPAD_SUBTRACT: 109, A: 65, B: 66, C: 67, D: 68, E: 69, F: 70, G: 71, H: 72, I: 73, J: 74, K: 75, L: 76, M: 77, N: 78, O: 79, P: 80, Q: 81, R: 82, S: 83, T: 84, U: 85, V: 86, W: 87, X: 88, Y: 89, Z: 90, F1: 112, F2: 113, F3: 114, F4: 115, F5: 116, F6: 117, F7: 118, F8: 119, F9: 120, F10: 121, F11: 122, F12: 123, SEMICOLON: 186, PLUS: 187, COMMA: 188, MINUS: 189, PERIOD: 190, FORWARD_SLASH: 191, BACK_SLASH: 220, QUOTES: 222, BACKTICK: 192, OPEN_BRACKET: 219, CLOSED_BRACKET: 221, SEMICOLON_FIREFOX: 59, COLON: 58, COMMA_FIREFOX_WINDOWS: 60, COMMA_FIREFOX: 62, BRACKET_RIGHT_FIREFOX: 174, BRACKET_LEFT_FIREFOX: 175 } })), n.register("jy9yA", (function (t, e) { var i = n("jwj1g"), s = n("9t9UB"), r = n("2nOjn"), o = new (i = n("jwj1g"))({ initialize: function (t) { this.manager = t, this.capture = !0, this.enabled = !1, this.target, this.locked = !1, this.onMouseMove = i, this.onMouseDown = i, this.onMouseUp = i, this.onMouseDownWindow = i, this.onMouseUpWindow = i, this.onMouseOver = i, this.onMouseOut = i, this.onMouseWheel = i, this.pointerLockChange = i, t.events.once(r.MANAGER_BOOT, this.boot, this) }, boot: function () { var t = this.manager.config; this.enabled = t.inputMouse, this.target = t.inputMouseEventTarget, this.capture = t.inputMouseCapture, this.target ? "string" == typeof this.target && (this.target = document.getElementById(this.target)) : this.target = this.manager.game.canvas, t.disableContextMenu && this.disableContextMenu(), this.enabled && this.target && this.startListeners() }, disableContextMenu: function () { return document.body.addEventListener("contextmenu", (function (t) { return t.preventDefault(), !1 })), this }, requestPointerLock: function () { if (s.pointerLock) { var t = this.target; t.requestPointerLock = t.requestPointerLock || t.mozRequestPointerLock || t.webkitRequestPointerLock, t.requestPointerLock() } }, releasePointerLock: function () { s.pointerLock && (document.exitPointerLock = document.exitPointerLock || document.mozExitPointerLock || document.webkitExitPointerLock, document.exitPointerLock()) }, startListeners: function () { var t = this, e = this.manager.canvas, i = window && window.focus && this.manager.game.config.autoFocus; this.onMouseMove = function (e) { !e.defaultPrevented && t.enabled && t.manager && t.manager.enabled && (t.manager.onMouseMove(e), t.capture && e.preventDefault()) }, this.onMouseDown = function (s) { i && window.focus(), !s.defaultPrevented && t.enabled && t.manager && t.manager.enabled && (t.manager.onMouseDown(s), t.capture && s.target === e && s.preventDefault()) }, this.onMouseDownWindow = function (i) { !i.defaultPrevented && t.enabled && t.manager && t.manager.enabled && i.target !== e && t.manager.onMouseDown(i) }, this.onMouseUp = function (i) { !i.defaultPrevented && t.enabled && t.manager && t.manager.enabled && (t.manager.onMouseUp(i), t.capture && i.target === e && i.preventDefault()) }, this.onMouseUpWindow = function (i) { !i.defaultPrevented && t.enabled && t.manager && t.manager.enabled && i.target !== e && t.manager.onMouseUp(i) }, this.onMouseOver = function (e) { !e.defaultPrevented && t.enabled && t.manager && t.manager.enabled && t.manager.setCanvasOver(e) }, this.onMouseOut = function (e) { !e.defaultPrevented && t.enabled && t.manager && t.manager.enabled && t.manager.setCanvasOut(e) }, this.onMouseWheel = function (e) { !e.defaultPrevented && t.enabled && t.manager && t.manager.enabled && t.manager.onMouseWheel(e) }; var n = this.target; if (n) { var r = { passive: !0 }, o = { passive: !1 }; n.addEventListener("mousemove", this.onMouseMove, this.capture ? o : r), n.addEventListener("mousedown", this.onMouseDown, this.capture ? o : r), n.addEventListener("mouseup", this.onMouseUp, this.capture ? o : r), n.addEventListener("mouseover", this.onMouseOver, this.capture ? o : r), n.addEventListener("mouseout", this.onMouseOut, this.capture ? o : r), n.addEventListener("wheel", this.onMouseWheel, this.capture ? o : r), window && this.manager.game.config.inputWindowEvents && (window.addEventListener("mousedown", this.onMouseDownWindow, o), window.addEventListener("mouseup", this.onMouseUpWindow, o)), s.pointerLock && (this.pointerLockChange = function (e) { var i = t.target; t.locked = document.pointerLockElement === i || document.mozPointerLockElement === i || document.webkitPointerLockElement === i, t.manager.onPointerLockChange(e) }, document.addEventListener("pointerlockchange", this.pointerLockChange, !0), document.addEventListener("mozpointerlockchange", this.pointerLockChange, !0), document.addEventListener("webkitpointerlockchange", this.pointerLockChange, !0)), this.enabled = !0 } }, stopListeners: function () { var t = this.target; t.removeEventListener("mousemove", this.onMouseMove), t.removeEventListener("mousedown", this.onMouseDown), t.removeEventListener("mouseup", this.onMouseUp), t.removeEventListener("mouseover", this.onMouseOver), t.removeEventListener("mouseout", this.onMouseOut), window && (window.removeEventListener("mousedown", this.onMouseDownWindow), window.removeEventListener("mouseup", this.onMouseUpWindow)), s.pointerLock && (document.removeEventListener("pointerlockchange", this.pointerLockChange, !0), document.removeEventListener("mozpointerlockchange", this.pointerLockChange, !0), document.removeEventListener("webkitpointerlockchange", this.pointerLockChange, !0)) }, destroy: function () { this.stopListeners(), this.target = null, this.enabled = !1, this.manager = null } }); t.exports = o })), n.register("1Oao7", (function (t, e) { var i = n("n95vh"), s = n("jwj1g"), r = n("bwLQh"), o = n("4cohD"), a = n("gLlh1"), h = n("7SBSk"), l = new s({ initialize: function (t, e) { this.manager = t, this.id = e, this.event, this.downElement, this.upElement, this.camera = null, this.button = 0, this.buttons = 0, this.position = new h, this.prevPosition = new h, this.midPoint = new h(-1, -1), this.velocity = new h, this.angle = 0, this.distance = 0, this.smoothFactor = 0, this.motionFactor = .2, this.worldX = 0, this.worldY = 0, this.moveTime = 0, this.downX = 0, this.downY = 0, this.downTime = 0, this.upX = 0, this.upY = 0, this.upTime = 0, this.primaryDown = !1, this.isDown = !1, this.wasTouch = !1, this.wasCanceled = !1, this.movementX = 0, this.movementY = 0, this.identifier = 0, this.pointerId = null, this.active = 0 === e, this.locked = !1, this.deltaX = 0, this.deltaY = 0, this.deltaZ = 0 }, updateWorldPoint: function (t) { var e = this.x, i = this.y; 1 !== t.resolution && (e += t._x, i += t._y); var s = t.getWorldPoint(e, i); return this.worldX = s.x, this.worldY = s.y, this }, positionToCamera: function (t, e) { return t.getWorldPoint(this.x, this.y, e) }, updateMotion: function () { var t = this.position.x, e = this.position.y, s = this.midPoint.x, n = this.midPoint.y; if (t !== s || e !== n) { var r = a(this.motionFactor, s, t), h = a(this.motionFactor, n, e); o(r, t, .1) && (r = t), o(h, e, .1) && (h = e), this.midPoint.set(r, h); var l = t - r, u = e - h; this.velocity.set(l, u), this.angle = i(r, h, t, e), this.distance = Math.sqrt(l * l + u * u) } }, up: function (t) { "buttons" in t && (this.buttons = t.buttons), this.event = t, this.button = t.button, this.upElement = t.target, this.manager.transformPointer(this, t.pageX, t.pageY, !1), 0 === t.button && (this.primaryDown = !1, this.upX = this.x, this.upY = this.y, this.upTime = t.timeStamp), this.isDown = !1, this.wasTouch = !1 }, down: function (t) { "buttons" in t && (this.buttons = t.buttons), this.event = t, this.button = t.button, this.downElement = t.target, this.manager.transformPointer(this, t.pageX, t.pageY, !1), 0 === t.button && (this.primaryDown = !0, this.downX = this.x, this.downY = this.y, this.downTime = t.timeStamp), this.isDown = !0, this.wasTouch = !1 }, move: function (t) { "buttons" in t && (this.buttons = t.buttons), this.event = t, this.manager.transformPointer(this, t.pageX, t.pageY, !0), this.locked && (this.movementX = t.movementX || t.mozMovementX || t.webkitMovementX || 0, this.movementY = t.movementY || t.mozMovementY || t.webkitMovementY || 0), this.moveTime = t.timeStamp, this.wasTouch = !1 }, wheel: function (t) { "buttons" in t && (this.buttons = t.buttons), this.event = t, this.manager.transformPointer(this, t.pageX, t.pageY, !1), this.deltaX = t.deltaX, this.deltaY = t.deltaY, this.deltaZ = t.deltaZ, this.wasTouch = !1 }, touchstart: function (t, e) { t.pointerId && (this.pointerId = t.pointerId), this.identifier = t.identifier, this.target = t.target, this.active = !0, this.buttons = 1, this.event = e, this.downElement = t.target, this.manager.transformPointer(this, t.pageX, t.pageY, !1), this.primaryDown = !0, this.downX = this.x, this.downY = this.y, this.downTime = e.timeStamp, this.isDown = !0, this.wasTouch = !0, this.wasCanceled = !1, this.updateMotion() }, touchmove: function (t, e) { this.event = e, this.manager.transformPointer(this, t.pageX, t.pageY, !0), this.moveTime = e.timeStamp, this.wasTouch = !0, this.updateMotion() }, touchend: function (t, e) { this.buttons = 0, this.event = e, this.upElement = t.target, this.manager.transformPointer(this, t.pageX, t.pageY, !1), this.primaryDown = !1, this.upX = this.x, this.upY = this.y, this.upTime = e.timeStamp, this.isDown = !1, this.wasTouch = !0, this.wasCanceled = !1, this.active = !1, this.updateMotion() }, touchcancel: function (t, e) { this.buttons = 0, this.event = e, this.upElement = t.target, this.manager.transformPointer(this, t.pageX, t.pageY, !1), this.primaryDown = !1, this.upX = this.x, this.upY = this.y, this.upTime = e.timeStamp, this.isDown = !1, this.wasTouch = !0, this.wasCanceled = !0, this.active = !1 }, noButtonDown: function () { return 0 === this.buttons }, leftButtonDown: function () { return !!(1 & this.buttons) }, rightButtonDown: function () { return !!(2 & this.buttons) }, middleButtonDown: function () { return !!(4 & this.buttons) }, backButtonDown: function () { return !!(8 & this.buttons) }, forwardButtonDown: function () { return !!(16 & this.buttons) }, leftButtonReleased: function () { return 0 === this.button && !this.isDown }, rightButtonReleased: function () { return 2 === this.button && !this.isDown }, middleButtonReleased: function () { return 1 === this.button && !this.isDown }, backButtonReleased: function () { return 3 === this.button && !this.isDown }, forwardButtonReleased: function () { return 4 === this.button && !this.isDown }, getDistance: function () { return this.isDown ? r(this.downX, this.downY, this.x, this.y) : r(this.downX, this.downY, this.upX, this.upY) }, getDistanceX: function () { return this.isDown ? Math.abs(this.downX - this.x) : Math.abs(this.downX - this.upX) }, getDistanceY: function () { return this.isDown ? Math.abs(this.downY - this.y) : Math.abs(this.downY - this.upY) }, getDuration: function () { return this.isDown ? this.manager.time - this.downTime : this.upTime - this.downTime }, getAngle: function () { return this.isDown ? i(this.downX, this.downY, this.x, this.y) : i(this.downX, this.downY, this.upX, this.upY) }, getInterpolatedPosition: function (t, e) { void 0 === t && (t = 10), void 0 === e && (e = []); for (var i = this.prevPosition.x, s = this.prevPosition.y, n = this.position.x, r = this.position.y, o = 0; o < t; o++) { var h = 1 / t * o; e[o] = { x: a(h, i, n), y: a(h, s, r) } } return e }, destroy: function () { this.camera = null, this.manager = null, this.position = null }, x: { get: function () { return this.position.x }, set: function (t) { this.position.x = t } }, y: { get: function () { return this.position.y }, set: function (t) { this.position.y = t } }, time: { get: function () { return this.event ? this.event.timeStamp : 0 } } }); t.exports = l })), n.register("d3PYD", (function (t, e) { var i = n("jwj1g"), s = n("2nOjn"), r = n("13GYA"), o = new i({ initialize: function (t) { this.manager = t, this.capture = !0, this.enabled = !1, this.target, this.onTouchStart = r, this.onTouchStartWindow = r, this.onTouchMove = r, this.onTouchEnd = r, this.onTouchEndWindow = r, this.onTouchCancel = r, this.onTouchCancelWindow = r, this.onTouchOver = r, this.onTouchOut = r, t.events.once(s.MANAGER_BOOT, this.boot, this) }, boot: function () { var t = this.manager.config; this.enabled = t.inputTouch, this.target = t.inputTouchEventTarget, this.capture = t.inputTouchCapture, this.target || (this.target = this.manager.game.canvas), t.disableContextMenu && this.disableContextMenu(), this.enabled && this.target && this.startListeners() }, disableContextMenu: function () { return document.body.addEventListener("contextmenu", (function (t) { return t.preventDefault(), !1 })), this }, startListeners: function () { var t = this, e = this.manager.canvas, i = window && window.focus && this.manager.game.config.autoFocus; this.onTouchStart = function (s) { i && window.focus(), !s.defaultPrevented && t.enabled && t.manager && t.manager.enabled && (t.manager.onTouchStart(s), t.capture && s.cancelable && s.target === e && s.preventDefault()) }, this.onTouchStartWindow = function (i) { !i.defaultPrevented && t.enabled && t.manager && t.manager.enabled && i.target !== e && t.manager.onTouchStart(i) }, this.onTouchMove = function (e) { !e.defaultPrevented && t.enabled && t.manager && t.manager.enabled && (t.manager.onTouchMove(e), t.capture && e.cancelable && e.preventDefault()) }, this.onTouchEnd = function (i) { !i.defaultPrevented && t.enabled && t.manager && t.manager.enabled && (t.manager.onTouchEnd(i), t.capture && i.cancelable && i.target === e && i.preventDefault()) }, this.onTouchEndWindow = function (i) { !i.defaultPrevented && t.enabled && t.manager && t.manager.enabled && i.target !== e && t.manager.onTouchEnd(i) }, this.onTouchCancel = function (e) { !e.defaultPrevented && t.enabled && t.manager && t.manager.enabled && (t.manager.onTouchCancel(e), t.capture && e.preventDefault()) }, this.onTouchCancelWindow = function (e) { !e.defaultPrevented && t.enabled && t.manager && t.manager.enabled && t.manager.onTouchCancel(e) }, this.onTouchOver = function (e) { !e.defaultPrevented && t.enabled && t.manager && t.manager.enabled && t.manager.setCanvasOver(e) }, this.onTouchOut = function (e) { !e.defaultPrevented && t.enabled && t.manager && t.manager.enabled && t.manager.setCanvasOut(e) }; var s = this.target; if (s) { var n = { passive: !0 }, r = { passive: !1 }; s.addEventListener("touchstart", this.onTouchStart, this.capture ? r : n), s.addEventListener("touchmove", this.onTouchMove, this.capture ? r : n), s.addEventListener("touchend", this.onTouchEnd, this.capture ? r : n), s.addEventListener("touchcancel", this.onTouchCancel, this.capture ? r : n), s.addEventListener("touchover", this.onTouchOver, this.capture ? r : n), s.addEventListener("touchout", this.onTouchOut, this.capture ? r : n), window && this.manager.game.config.inputWindowEvents && (window.addEventListener("touchstart", this.onTouchStartWindow, r), window.addEventListener("touchend", this.onTouchEndWindow, r), window.addEventListener("touchcancel", this.onTouchCancelWindow, r)), this.enabled = !0 } }, stopListeners: function () { var t = this.target; t.removeEventListener("touchstart", this.onTouchStart), t.removeEventListener("touchmove", this.onTouchMove), t.removeEventListener("touchend", this.onTouchEnd), t.removeEventListener("touchcancel", this.onTouchCancel), t.removeEventListener("touchover", this.onTouchOver), t.removeEventListener("touchout", this.onTouchOut), window && (window.removeEventListener("touchstart", this.onTouchStartWindow), window.removeEventListener("touchend", this.onTouchEndWindow)) }, destroy: function () { this.stopListeners(), this.target = null, this.enabled = !1, this.manager = null } }); t.exports = o })), n.register("brulE", (function (t, e) { var i = n("jwj1g"), s = n("aqcI1"), r = n("3vRz3"), o = n("9csvT"), a = n("ebQQp"), h = n("kge7H"), l = n("7BSWl"), u = n("7AzQW"), c = n("2SW6f"), d = new i({ Extends: r, initialize: function (t) { r.call(this), this.game = t, this.plugins = [], this.scenePlugins = [], this._pendingGlobal = [], this._pendingScene = [], t.isBooted ? this.boot() : t.events.once(s.BOOT, this.boot, this) }, boot: function () { var t, e, i, n, r, o, a, h = this.game.config, u = h.installGlobalPlugins; for (u = u.concat(this._pendingGlobal), t = 0; t < u.length; t++)e = u[t], i = l(e, "key", null), n = l(e, "plugin", null), r = l(e, "start", !1), o = l(e, "mapping", null), a = l(e, "data", null), i && (n ? this.install(i, n, r, o, a) : console.warn("Missing `plugin` for key: " + i)); for (u = (u = h.installScenePlugins).concat(this._pendingScene), t = 0; t < u.length; t++)e = u[t], i = l(e, "key", null), n = l(e, "plugin", null), o = l(e, "mapping", null), i && (n ? this.installScenePlugin(i, n, o) : console.warn("Missing `plugin` for key: " + i)); this._pendingGlobal = [], this._pendingScene = [], this.game.events.once(s.DESTROY, this.destroy, this) }, addToScene: function (t, e, i) { var s, n, r, o = this.game, a = t.scene, h = t.settings.map, l = t.settings.isBooted; for (s = 0; s < e.length; s++)o[n = e[s]] ? (t[n] = o[n], h.hasOwnProperty(n) && (a[h[n]] = t[n])) : "game" === n && h.hasOwnProperty(n) && (a[h[n]] = o); for (var c = 0; c < i.length; c++)for (r = i[c], s = 0; s < r.length; s++)if (n = r[s], u.hasCore(n)) { var d = u.getCore(n), f = new d.plugin(a, this); t[d.mapping] = f, d.custom ? a[d.mapping] = f : h.hasOwnProperty(d.mapping) && (a[h[d.mapping]] = f), l && f.boot() } for (r = this.plugins, s = 0; s < r.length; s++) { var p = r[s]; p.mapping && (a[p.mapping] = p.plugin) } }, getDefaultScenePlugins: function () { var t = this.game.config.defaultPlugins; return t = t.concat(this.scenePlugins) }, installScenePlugin: function (t, e, i, s, n) { if (void 0 === n && (n = !1), "function" == typeof e) { if (u.hasCore(t)) { if (!n && u.hasCore(t)) return void console.warn("Scene Plugin key in use: " + t) } else u.register(t, e, i, !0), this.scenePlugins.push(t); if (s) { var r = new e(s, this); s.sys[t] = r, i && "" !== i && (s[i] = r), r.boot() } } else console.warn("Invalid Scene Plugin: " + t) }, install: function (t, e, i, s, n) { if (void 0 === i && (i = !1), void 0 === s && (s = null), void 0 === n && (n = null), "function" != typeof e) return console.warn("Invalid Plugin: " + t), null; if (u.hasCustom(t)) return console.warn("Plugin key in use: " + t), null; if (null !== s && (i = !0), this.game.isBooted) { if (u.registerCustom(t, e, s, n), i) return this.start(t) } else this._pendingGlobal.push({ key: t, plugin: e, start: i, mapping: s, data: n }); return null }, getIndex: function (t) { for (var e = this.plugins, i = 0; i < e.length; i++) { if (e[i].key === t) return i } return -1 }, getEntry: function (t) { var e = this.getIndex(t); if (-1 !== e) return this.plugins[e] }, isActive: function (t) { var e = this.getEntry(t); return e && e.active }, start: function (t, e) { void 0 === e && (e = t); var i = this.getEntry(e); return i && !i.active ? (i.active = !0, i.plugin.start()) : i || (i = this.createEntry(t, e)), i ? i.plugin : null }, createEntry: function (t, e) { var i = u.getCustom(t); if (i) { var s = new i.plugin(this); i = { key: e, plugin: s, active: !0, mapping: i.mapping, data: i.data }, this.plugins.push(i), s.init(i.data), s.start() } return i }, stop: function (t) { var e = this.getEntry(t); return e && e.active && (e.active = !1, e.plugin.stop()), this }, get: function (t, e) { void 0 === e && (e = !0); var i = this.getEntry(t); if (i) return i.plugin; var s = this.getClass(t); return s && e ? (i = this.createEntry(t, t)) ? i.plugin : null : s || null }, getClass: function (t) { return u.getCustomClass(t) }, removeGlobalPlugin: function (t) { var e = this.getEntry(t); e && c(this.plugins, e), u.removeCustom(t) }, removeScenePlugin: function (t) { c(this.scenePlugins, t), u.remove(t) }, registerGameObject: function (t, e, i) { return e && h.register(t, e), i && a.register(t, i), this }, removeGameObject: function (t, e, i) { return void 0 === e && (e = !0), void 0 === i && (i = !0), e && h.remove(t), i && a.remove(t), this }, registerFileType: function (t, e, i) { o.register(t, e), i && i.sys.load && (i.sys.load[t] = e) }, destroy: function () { for (var t = 0; t < this.plugins.length; t++)this.plugins[t].plugin.destroy(); u.destroyCustomPlugins(), this.game.noReturn && u.destroyCorePlugins(), this.game = null, this.plugins = [], this.scenePlugins = [] } }); t.exports = d })), n.register("9csvT", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    var i = {}, s = { install: function (t) { for (var e in i) t[e] = i[e] }, register: function (t, e) { i[t] = e }, destroy: function () { i = {} } }; t.exports = s
})), n.register("ebQQp", (function (t, e) { var i = n("jwj1g"), s = n("7AzQW"), r = n("4rtgc"), o = new i({ initialize: function (t) { this.scene = t, this.systems = t.sys, this.displayList, this.updateList, t.sys.events.once(r.BOOT, this.boot, this), t.sys.events.on(r.START, this.start, this) }, boot: function () { this.displayList = this.systems.displayList, this.updateList = this.systems.updateList, this.systems.events.once(r.DESTROY, this.destroy, this) }, start: function () { this.systems.events.once(r.SHUTDOWN, this.shutdown, this) }, shutdown: function () { this.systems.events.off(r.SHUTDOWN, this.shutdown, this) }, destroy: function () { this.shutdown(), this.scene.sys.events.off(r.START, this.start, this), this.scene = null, this.systems = null, this.displayList = null, this.updateList = null } }); o.register = function (t, e) { o.prototype.hasOwnProperty(t) || (o.prototype[t] = e) }, o.remove = function (t) { o.prototype.hasOwnProperty(t) && delete o.prototype[t] }, s.register("GameObjectCreator", o, "make"), t.exports = o })), n.register("861Bh", (function (t, e) { var i = n("dlsVr"), s = n("jwj1g"), r = n("3vRz3"), o = n("jPI3B"), a = n("aqcI1"), h = n("9YEK2"), l = n("ckyH1"), u = n("6rG19"), c = n("13GYA"), d = n("cwr8X"), f = n("ehRgb"), p = n("jcIaO"), g = n("7SBSk"), v = new s({ Extends: r, initialize: function (t) { r.call(this), this.game = t, this.canvas, this.canvasBounds = new d, this.parent = null, this.parentIsWindow = !1, this.parentSize = new f, this.gameSize = new f, this.baseSize = new f, this.displaySize = new f, this.scaleMode = i.SCALE_MODE.NONE, this.resolution = 1, this.zoom = 1, this._resetZoom = !1, this.displayScale = new g(1, 1), this.autoRound = !1, this.autoCenter = i.CENTER.NO_CENTER, this.orientation = i.ORIENTATION.LANDSCAPE, this.fullscreen, this.fullscreenTarget = null, this._createdFullscreenTarget = !1, this.dirty = !1, this.resizeInterval = 500, this._lastCheck = 0, this._checkOrientation = !1, this.listeners = { orientationChange: c, windowResize: c, fullScreenChange: c, fullScreenError: c } }, preBoot: function () { this.parseConfig(this.game.config), this.game.events.once("boot", this.boot, this) }, boot: function () { var t = this.game; this.canvas = t.canvas, this.fullscreen = t.device.fullscreen, this.scaleMode !== i.SCALE_MODE.RESIZE && this.displaySize.setAspectMode(this.scaleMode), this.scaleMode === i.SCALE_MODE.NONE ? this.resize(this.width, this.height) : (this.getParentBounds(), this.parentSize.width > 0 && this.parentSize.height > 0 && this.displaySize.setParent(this.parentSize), this.refresh()), t.events.on(a.PRE_STEP, this.step, this), t.events.once(a.DESTROY, this.destroy, this), this.startListeners() }, parseConfig: function (t) { this.getParent(t), this.getParentBounds(); var e = t.width, s = t.height, n = t.scaleMode, r = t.resolution, o = t.zoom, a = t.autoRound; if ("string" == typeof e) { var h = this.parentSize.width; 0 === h && (h = window.innerWidth); var l = parseInt(e, 10) / 100; e = Math.floor(h * l) } if ("string" == typeof s) { var c = this.parentSize.height; 0 === c && (c = window.innerHeight); var d = parseInt(s, 10) / 100; s = Math.floor(c * d) } this.resolution = 1, this.scaleMode = n, this.autoRound = a, this.autoCenter = t.autoCenter, this.resizeInterval = t.resizeInterval, a && (e = Math.floor(e), s = Math.floor(s)), this.gameSize.setSize(e, s), o === i.ZOOM.MAX_ZOOM && (o = this.getMaxZoom()), this.zoom = o, 1 !== o && (this._resetZoom = !0), this.baseSize.setSize(e * r, s * r), a && (this.baseSize.width = Math.floor(this.baseSize.width), this.baseSize.height = Math.floor(this.baseSize.height)), t.minWidth > 0 && this.displaySize.setMin(t.minWidth * o, t.minHeight * o), t.maxWidth > 0 && this.displaySize.setMax(t.maxWidth * o, t.maxHeight * o), this.displaySize.setSize(e, s), this.orientation = u(e, s) }, getParent: function (t) { var e = t.parent; if (null !== e) { if (this.parent = l(e), this.parentIsWindow = this.parent === document.body, t.expandParent && t.scaleMode !== i.SCALE_MODE.NONE) { var s = this.parent.getBoundingClientRect(); (this.parentIsWindow || 0 === s.height) && (document.documentElement.style.height = "100%", document.body.style.height = "100%", s = this.parent.getBoundingClientRect(), this.parentIsWindow || 0 !== s.height || (this.parent.style.overflow = "hidden", this.parent.style.width = "100%", this.parent.style.height = "100%")) } t.fullscreenTarget && !this.fullscreenTarget && (this.fullscreenTarget = l(t.fullscreenTarget)) } }, getParentBounds: function () { if (!this.parent) return !1; var t = this.parentSize, e = this.parent.getBoundingClientRect(); this.parentIsWindow && this.game.device.os.iOS && (e.height = h(!0)); var i = this.resolution, s = e.width * i, n = e.height * i; return (t.width !== s || t.height !== n) && (t.setSize(s, n), !0) }, lockOrientation: function (t) { var e = screen.lockOrientation || screen.mozLockOrientation || screen.msLockOrientation; return !!e && e(t) }, setParentSize: function (t, e) { return this.parentSize.setSize(t, e), this.refresh() }, setGameSize: function (t, e) { var i = this.autoRound, s = this.resolution; i && (t = Math.floor(t), e = Math.floor(e)); var n = this.width, r = this.height; return this.gameSize.resize(t, e), this.baseSize.resize(t * s, e * s), i && (this.baseSize.width = Math.floor(this.baseSize.width), this.baseSize.height = Math.floor(this.baseSize.height)), this.displaySize.setSize(t, e), this.canvas.width = this.baseSize.width, this.canvas.height = this.baseSize.height, this.refresh(n, r) }, resize: function (t, e) { var i = this.zoom, s = this.resolution, n = this.autoRound; n && (t = Math.floor(t), e = Math.floor(e)); var r = this.width, o = this.height; this.gameSize.resize(t, e), this.baseSize.resize(t * s, e * s), n && (this.baseSize.width = Math.floor(this.baseSize.width), this.baseSize.height = Math.floor(this.baseSize.height)), this.displaySize.setSize(t * i * s, e * i * s), this.canvas.width = this.baseSize.width, this.canvas.height = this.baseSize.height; var a = this.canvas.style, h = t * i, l = e * i; return n && (h = Math.floor(h), l = Math.floor(l)), h === t && l === e || (a.width = h + "px", a.height = l + "px"), this.refresh(r, o) }, setZoom: function (t) { return this.zoom = t, this._resetZoom = !0, this.refresh() }, setMaxZoom: function () { return this.zoom = this.getMaxZoom(), this._resetZoom = !0, this.refresh() }, refresh: function (t, e) { void 0 === t && (t = this.width), void 0 === e && (e = this.height), this.updateScale(), this.updateBounds(), this.updateOrientation(), this.displayScale.set(this.baseSize.width / this.canvasBounds.width, this.baseSize.height / this.canvasBounds.height); var i = this.game.domContainer; if (i) { this.baseSize.setCSS(i); var s = this.canvas.style, n = i.style; n.transform = "scale(" + this.displaySize.width / this.baseSize.width + "," + this.displaySize.height / this.baseSize.height + ")", n.marginLeft = s.marginLeft, n.marginTop = s.marginTop } return this.emit(o.RESIZE, this.gameSize, this.baseSize, this.displaySize, this.resolution, t, e), this }, updateOrientation: function () { if (this._checkOrientation) { this._checkOrientation = !1; var t = u(this.width, this.height); t !== this.orientation && (this.orientation = t, this.emit(o.ORIENTATION_CHANGE, t)) } }, updateScale: function () { var t, e, s = this.canvas.style, n = this.gameSize.width, r = this.gameSize.height, o = this.zoom, a = this.autoRound; this.scaleMode === i.SCALE_MODE.NONE ? (this.displaySize.setSize(n * o * 1, r * o * 1), t = this.displaySize.width / 1, e = this.displaySize.height / 1, a && (t = Math.floor(t), e = Math.floor(e)), this._resetZoom && (s.width = t + "px", s.height = e + "px", this._resetZoom = !1)) : this.scaleMode === i.SCALE_MODE.RESIZE ? (this.displaySize.setSize(this.parentSize.width, this.parentSize.height), this.gameSize.setSize(this.displaySize.width, this.displaySize.height), this.baseSize.setSize(1 * this.displaySize.width, 1 * this.displaySize.height), t = this.displaySize.width / 1, e = this.displaySize.height / 1, a && (t = Math.floor(t), e = Math.floor(e)), this.canvas.width = t, this.canvas.height = e) : (this.displaySize.setSize(this.parentSize.width, this.parentSize.height), t = this.displaySize.width / 1, e = this.displaySize.height / 1, a && (t = Math.floor(t), e = Math.floor(e)), s.width = t + "px", s.height = e + "px"), this.getParentBounds(), this.updateCenter() }, getMaxZoom: function () { var t = p(this.parentSize.width, this.gameSize.width, 0, !0), e = p(this.parentSize.height, this.gameSize.height, 0, !0); return Math.max(Math.min(t, e), 1) }, updateCenter: function () { var t = this.autoCenter; if (t !== i.CENTER.NO_CENTER) { var e = this.canvas, s = e.style, n = e.getBoundingClientRect(), r = n.width, o = n.height, a = Math.floor((this.parentSize.width - r) / 2), h = Math.floor((this.parentSize.height - o) / 2); t === i.CENTER.CENTER_HORIZONTALLY ? h = 0 : t === i.CENTER.CENTER_VERTICALLY && (a = 0), s.marginLeft = a + "px", s.marginTop = h + "px" } }, updateBounds: function () { var t = this.canvasBounds, e = this.canvas.getBoundingClientRect(); t.x = e.left + (window.pageXOffset || 0) - (document.documentElement.clientLeft || 0), t.y = e.top + (window.pageYOffset || 0) - (document.documentElement.clientTop || 0), t.width = e.width, t.height = e.height }, transformX: function (t) { return (t - this.canvasBounds.left) * this.displayScale.x }, transformY: function (t) { return (t - this.canvasBounds.top) * this.displayScale.y }, startFullscreen: function (t) { void 0 === t && (t = { navigationUI: "hide" }); var e = this.fullscreen; if (e.available) { if (!e.active) { var i, s = this.getFullscreenTarget(); (i = e.keyboard ? s[e.request](Element.ALLOW_KEYBOARD_INPUT) : s[e.request](t)) ? i.then(this.fullscreenSuccessHandler.bind(this)).catch(this.fullscreenErrorHandler.bind(this)) : e.active ? this.fullscreenSuccessHandler() : this.fullscreenErrorHandler() } } else this.emit(o.FULLSCREEN_UNSUPPORTED) }, fullscreenSuccessHandler: function () { this.getParentBounds(), this.refresh(), this.emit(o.ENTER_FULLSCREEN) }, fullscreenErrorHandler: function (t) { this.removeFullscreenTarget(), this.emit(o.FULLSCREEN_FAILED, t) }, getFullscreenTarget: function () { if (!this.fullscreenTarget) { var t = document.createElement("div"); t.style.margin = "0", t.style.padding = "0", t.style.width = "100%", t.style.height = "100%", this.fullscreenTarget = t, this._createdFullscreenTarget = !0 } this._createdFullscreenTarget && (this.canvas.parentNode.insertBefore(this.fullscreenTarget, this.canvas), this.fullscreenTarget.appendChild(this.canvas)); return this.fullscreenTarget }, removeFullscreenTarget: function () { if (this._createdFullscreenTarget) { var t = this.fullscreenTarget; if (t && t.parentNode) { var e = t.parentNode; e.insertBefore(this.canvas, t), e.removeChild(t) } } }, stopFullscreen: function () { var t = this.fullscreen; if (!t.available) return this.emit(o.FULLSCREEN_UNSUPPORTED), !1; t.active && document[t.cancel](), this.removeFullscreenTarget(), this.getParentBounds(), this.emit(o.LEAVE_FULLSCREEN), this.refresh() }, toggleFullscreen: function (t) { this.fullscreen.active ? this.stopFullscreen() : this.startFullscreen(t) }, startListeners: function () { var t = this, e = this.listeners; if (e.orientationChange = function () { t._checkOrientation = !0, t.dirty = !0 }, e.windowResize = function () { t.dirty = !0 }, window.addEventListener("orientationchange", e.orientationChange, !1), window.addEventListener("resize", e.windowResize, !1), this.fullscreen.available) { e.fullScreenChange = function (e) { return t.onFullScreenChange(e) }, e.fullScreenError = function (e) { return t.onFullScreenError(e) };["webkit", "moz", ""].forEach((function (t) { document.addEventListener(t + "fullscreenchange", e.fullScreenChange, !1), document.addEventListener(t + "fullscreenerror", e.fullScreenError, !1) })), document.addEventListener("MSFullscreenChange", e.fullScreenChange, !1), document.addEventListener("MSFullscreenError", e.fullScreenError, !1) } }, onFullScreenChange: function () { document.fullscreenElement || document.webkitFullscreenElement || document.msFullscreenElement || document.mozFullScreenElement || this.stopFullscreen() }, onFullScreenError: function () { this.removeFullscreenTarget() }, step: function (t, e) { this.parent && (this._lastCheck += e, (this.dirty || this._lastCheck > this.resizeInterval) && (this.getParentBounds() && this.refresh(), this.dirty = !1, this._lastCheck = 0)) }, stopListeners: function () { var t = this.listeners; window.removeEventListener("orientationchange", t.orientationChange, !1), window.removeEventListener("resize", t.windowResize, !1);["webkit", "moz", ""].forEach((function (e) { document.removeEventListener(e + "fullscreenchange", t.fullScreenChange, !1), document.removeEventListener(e + "fullscreenerror", t.fullScreenError, !1) })), document.removeEventListener("MSFullscreenChange", t.fullScreenChange, !1), document.removeEventListener("MSFullscreenError", t.fullScreenError, !1) }, destroy: function () { this.removeAllListeners(), this.stopListeners(), this.game = null, this.canvas = null, this.canvasBounds = null, this.parent = null, this.fullscreenTarget = null, this.parentSize.destroy(), this.gameSize.destroy(), this.baseSize.destroy(), this.displaySize.destroy() }, isFullscreen: { get: function () { return this.fullscreen.active } }, width: { get: function () { return this.gameSize.width } }, height: { get: function () { return this.gameSize.height } }, isPortrait: { get: function () { return this.orientation === i.ORIENTATION.PORTRAIT } }, isLandscape: { get: function () { return this.orientation === i.ORIENTATION.LANDSCAPE } }, isGamePortrait: { get: function () { return this.height > this.width } }, isGameLandscape: { get: function () { return this.width > this.height } } }); t.exports = v })), n.register("9YEK2", (function (t, e) { t.exports = function (t) { if (!t) return window.innerHeight; var e = Math.abs(window.orientation), i = { w: 0, h: 0 }, s = document.createElement("div"); return s.setAttribute("style", "position: fixed; height: 100vh; width: 0; top: 0"), document.documentElement.appendChild(s), i.w = 90 === e ? s.offsetHeight : window.innerWidth, i.h = 90 === e ? window.innerWidth : s.offsetHeight, document.documentElement.removeChild(s), s = null, 90 !== Math.abs(window.orientation) ? i.h : i.w } })), n.register("ehRgb", (function (t, e) { var i = n("iEUUO"), s = n("jwj1g"), r = n("jcIaO"), o = n("7SBSk"), a = new s({ initialize: function (t, e, i, s) { void 0 === t && (t = 0), void 0 === e && (e = t), void 0 === i && (i = 0), void 0 === s && (s = null), this._width = t, this._height = e, this._parent = s, this.aspectMode = i, this.aspectRatio = 0 === e ? 1 : t / e, this.minWidth = 0, this.minHeight = 0, this.maxWidth = Number.MAX_VALUE, this.maxHeight = Number.MAX_VALUE, this.snapTo = new o }, setAspectMode: function (t) { return void 0 === t && (t = 0), this.aspectMode = t, this.setSize(this._width, this._height) }, setSnap: function (t, e) { return void 0 === t && (t = 0), void 0 === e && (e = t), this.snapTo.set(t, e), this.setSize(this._width, this._height) }, setParent: function (t) { return this._parent = t, this.setSize(this._width, this._height) }, setMin: function (t, e) { return void 0 === t && (t = 0), void 0 === e && (e = t), this.minWidth = i(t, 0, this.maxWidth), this.minHeight = i(e, 0, this.maxHeight), this.setSize(this._width, this._height) }, setMax: function (t, e) { return void 0 === t && (t = Number.MAX_VALUE), void 0 === e && (e = t), this.maxWidth = i(t, this.minWidth, Number.MAX_VALUE), this.maxHeight = i(e, this.minHeight, Number.MAX_VALUE), this.setSize(this._width, this._height) }, setSize: function (t, e) { switch (void 0 === t && (t = 0), void 0 === e && (e = t), this.aspectMode) { case a.NONE: this._width = this.getNewWidth(r(t, this.snapTo.x)), this._height = this.getNewHeight(r(e, this.snapTo.y)), this.aspectRatio = 0 === this._height ? 1 : this._width / this._height; break; case a.WIDTH_CONTROLS_HEIGHT: this._width = this.getNewWidth(r(t, this.snapTo.x)), this._height = this.getNewHeight(this._width * (1 / this.aspectRatio), !1); break; case a.HEIGHT_CONTROLS_WIDTH: this._height = this.getNewHeight(r(e, this.snapTo.y)), this._width = this.getNewWidth(this._height * this.aspectRatio, !1); break; case a.FIT: this.constrain(t, e, !0); break; case a.ENVELOP: this.constrain(t, e, !1) }return this }, setAspectRatio: function (t) { return this.aspectRatio = t, this.setSize(this._width, this._height) }, resize: function (t, e) { return this._width = this.getNewWidth(r(t, this.snapTo.x)), this._height = this.getNewHeight(r(e, this.snapTo.y)), this.aspectRatio = 0 === this._height ? 1 : this._width / this._height, this }, getNewWidth: function (t, e) { return void 0 === e && (e = !0), t = i(t, this.minWidth, this.maxWidth), e && this._parent && t > this._parent.width && (t = Math.max(this.minWidth, this._parent.width)), t }, getNewHeight: function (t, e) { return void 0 === e && (e = !0), t = i(t, this.minHeight, this.maxHeight), e && this._parent && t > this._parent.height && (t = Math.max(this.minHeight, this._parent.height)), t }, constrain: function (t, e, i) { void 0 === t && (t = 0), void 0 === e && (e = t), void 0 === i && (i = !0), t = this.getNewWidth(t), e = this.getNewHeight(e); var s = this.snapTo, n = 0 === e ? 1 : t / e; return i && this.aspectRatio > n || !i && this.aspectRatio < n ? (e = (t = r(t, s.x)) / this.aspectRatio, s.y > 0 && (t = (e = r(e, s.y)) * this.aspectRatio)) : (i && this.aspectRatio < n || !i && this.aspectRatio > n) && (t = (e = r(e, s.y)) * this.aspectRatio, s.x > 0 && (e = (t = r(t, s.x)) * (1 / this.aspectRatio))), this._width = t, this._height = e, this }, fitTo: function (t, e) { return this.constrain(t, e, !0) }, envelop: function (t, e) { return this.constrain(t, e, !1) }, setWidth: function (t) { return this.setSize(t, this._height) }, setHeight: function (t) { return this.setSize(this._width, t) }, toString: function () { return "[{ Size (width=" + this._width + " height=" + this._height + " aspectRatio=" + this.aspectRatio + " aspectMode=" + this.aspectMode + ") }]" }, setCSS: function (t) { t && t.style && (t.style.width = this._width + "px", t.style.height = this._height + "px") }, copy: function (t) { return t.setAspectMode(this.aspectMode), t.aspectRatio = this.aspectRatio, t.setSize(this.width, this.height) }, destroy: function () { this._parent = null, this.snapTo = null }, width: { get: function () { return this._width }, set: function (t) { this.setSize(t, this._height) } }, height: { get: function () { return this._height }, set: function (t) { this.setSize(this._width, t) } } }); a.NONE = 0, a.WIDTH_CONTROLS_HEIGHT = 1, a.HEIGHT_CONTROLS_WIDTH = 2, a.FIT = 3, a.ENVELOP = 4, t.exports = a })), n.register("TOZF7", (function (t, e) { var i = n("jwj1g"), s = n("anFCw"), r = n("4rtgc"), o = n("aqcI1"), a = n("5pMDk"), h = n("ls69h"), l = n("13GYA"), u = n("iXVlb"), c = n("jgSN1"), d = new i({ initialize: function (t, e) { if (this.game = t, this.keys = {}, this.scenes = [], this._pending = [], this._start = [], this._queue = [], this._data = {}, this.isProcessing = !1, this.isBooted = !1, this.customViewports = 0, e) { Array.isArray(e) || (e = [e]); for (var i = 0; i < e.length; i++)this._pending.push({ key: "default", scene: e[i], autoStart: 0 === i, data: {} }) } t.events.once(o.READY, this.bootQueue, this) }, bootQueue: function () { if (!this.isBooted) { var t, e, i, s; for (t = 0; t < this._pending.length; t++) { var n; i = (e = this._pending[t]).key, (s = e.scene) instanceof u ? n = this.createSceneFromInstance(i, s) : "object" == typeof s ? n = this.createSceneFromObject(i, s) : "function" == typeof s && (n = this.createSceneFromFunction(i, s)), i = n.sys.settings.key, this.keys[i] = n, this.scenes.push(n), this._data[i] && (n.sys.settings.data = this._data[i].data, this._data[i].autoStart && (e.autoStart = !0)), (e.autoStart || n.sys.settings.active) && this._start.push(i) } for (this._pending.length = 0, this._data = {}, this.isBooted = !0, t = 0; t < this._start.length; t++)e = this._start[t], this.start(e); this._start.length = 0 } }, processQueue: function () { var t = this._pending.length, e = this._queue.length; if (0 !== t || 0 !== e) { var i, s; if (t) { for (i = 0; i < t; i++)s = this._pending[i], this.add(s.key, s.scene, s.autoStart, s.data); for (i = 0; i < this._start.length; i++)s = this._start[i], this.start(s); return this._start.length = 0, void (this._pending.length = 0) } for (i = 0; i < this._queue.length; i++)this[(s = this._queue[i]).op](s.keyA, s.keyB); this._queue.length = 0 } }, add: function (t, e, i, s) { return void 0 === i && (i = !1), void 0 === s && (s = {}), this.isProcessing || !this.isBooted ? (this._pending.push({ key: t, scene: e, autoStart: i, data: s }), this.isBooted || (this._data[t] = { data: s }), null) : (t = this.getKey(t, e), e instanceof u ? n = this.createSceneFromInstance(t, e) : "object" == typeof e ? (e.key = t, n = this.createSceneFromObject(t, e)) : "function" == typeof e && (n = this.createSceneFromFunction(t, e)), n.sys.settings.data = s, t = n.sys.settings.key, this.keys[t] = n, this.scenes.push(n), (i || n.sys.settings.active) && (this._pending.length ? this._start.push(t) : this.start(t)), n); var n }, remove: function (t) { if (this.isProcessing) this._queue.push({ op: "remove", keyA: t, keyB: null }); else { var e = this.getScene(t); if (!e || e.sys.isTransitioning()) return this; var i = this.scenes.indexOf(e), s = e.sys.settings.key; i > -1 && (delete this.keys[s], this.scenes.splice(i, 1), this._start.indexOf(s) > -1 && (i = this._start.indexOf(s), this._start.splice(i, 1)), e.sys.destroy()) } return this }, bootScene: function (t) { var e, i = t.sys, n = i.settings; t.init && (t.init.call(t, n.data), n.status = s.INIT, n.isTransition && i.events.emit(r.TRANSITION_INIT, n.transitionFrom, n.transitionDuration)), i.load && (e = i.load).reset(), e && t.preload ? (t.preload.call(t), 0 === e.list.size ? this.create(t) : (n.status = s.LOADING, e.once(h.COMPLETE, this.loadComplete, this), e.start())) : this.create(t) }, loadComplete: function (t) { var e = t.scene; this.game.sound && this.game.sound.onBlurPausedSounds && this.game.sound.unlock(), this.create(e) }, payloadComplete: function (t) { this.bootScene(t.scene) }, update: function (t, e) { this.processQueue(), this.isProcessing = !0; for (var i = this.scenes.length - 1; i >= 0; i--) { var n = this.scenes[i].sys; n.settings.status > s.START && n.settings.status <= s.RUNNING && n.step(t, e) } }, render: function (t) { for (var e = 0; e < this.scenes.length; e++) { var i = this.scenes[e].sys; i.settings.visible && i.settings.status >= s.LOADING && i.settings.status < s.SLEEPING && i.render(t) } this.isProcessing = !1 }, create: function (t) { var e = t.sys, i = e.settings; t.create && (i.status = s.CREATING, t.create.call(t, i.data), i.status === s.DESTROYED) || (i.isTransition && e.events.emit(r.TRANSITION_START, i.transitionFrom, i.transitionDuration), t.update && (e.sceneUpdate = t.update), i.status = s.RUNNING, e.events.emit(r.CREATE, t)) }, createSceneFromFunction: function (t, e) { var i = new e; if (i instanceof u) { var s = i.sys.settings.key; if ("" !== s && (t = s), this.keys.hasOwnProperty(t)) throw new Error("Cannot add a Scene with duplicate key: " + t); return this.createSceneFromInstance(t, i) } return i.sys = new c(i), i.sys.settings.key = t, i.sys.init(this.game), i }, createSceneFromInstance: function (t, e) { var i = e.sys.settings.key; return "" !== i ? t = i : e.sys.settings.key = t, e.sys.init(this.game), e }, createSceneFromObject: function (t, e) { var i = new u(e), s = i.sys.settings.key; "" !== s ? t = s : i.sys.settings.key = t, i.sys.init(this.game); for (var n = ["init", "preload", "create", "update", "render"], r = 0; r < n.length; r++) { var o = a(e, n[r], null); o && (i[n[r]] = o) } if (e.hasOwnProperty("extend")) for (var h in e.extend) if (e.extend.hasOwnProperty(h)) { var l = e.extend[h]; "data" === h && i.hasOwnProperty("data") && "object" == typeof l ? i.data.merge(l) : "sys" !== h && (i[h] = l) } return i }, getKey: function (t, e) { if (t || (t = "default"), "function" == typeof e) return t; if (e instanceof u ? t = e.sys.settings.key : "object" == typeof e && e.hasOwnProperty("key") && (t = e.key), this.keys.hasOwnProperty(t)) throw new Error("Cannot add a Scene with duplicate key: " + t); return t }, getScenes: function (t, e) { void 0 === t && (t = !0), void 0 === e && (e = !1); for (var i = [], s = this.scenes, n = 0; n < s.length; n++) { var r = s[n]; r && (!t || t && r.sys.isActive()) && i.push(r) } return e ? i.reverse() : i }, getScene: function (t) { if ("string" == typeof t) { if (this.keys[t]) return this.keys[t] } else for (var e = 0; e < this.scenes.length; e++)if (t === this.scenes[e]) return t; return null }, isActive: function (t) { var e = this.getScene(t); return e ? e.sys.isActive() : null }, isPaused: function (t) { var e = this.getScene(t); return e ? e.sys.isPaused() : null }, isVisible: function (t) { var e = this.getScene(t); return e ? e.sys.isVisible() : null }, isSleeping: function (t) { var e = this.getScene(t); return e ? e.sys.isSleeping() : null }, pause: function (t, e) { var i = this.getScene(t); return i && i.sys.pause(e), this }, resume: function (t, e) { var i = this.getScene(t); return i && i.sys.resume(e), this }, sleep: function (t, e) { var i = this.getScene(t); return i && !i.sys.isTransitioning() && i.sys.sleep(e), this }, wake: function (t, e) { var i = this.getScene(t); return i && i.sys.wake(e), this }, run: function (t, e) { var i = this.getScene(t); if (!i) { for (var s = 0; s < this._pending.length; s++)if (this._pending[s].key === t) { this.queueOp("start", t, e); break } return this } i.sys.isSleeping() ? i.sys.wake(e) : i.sys.isPaused() ? i.sys.resume(e) : this.start(t, e) }, start: function (t, e) { if (!this.isBooted) return this._data[t] = { autoStart: !0, data: e }, this; var i = this.getScene(t); if (i) { var n; if (i.sys.isActive() || i.sys.isPaused()) i.sys.shutdown(), i.sys.start(e); else if (i.sys.start(e), i.sys.load && (n = i.sys.load), n && i.sys.settings.hasOwnProperty("pack") && (n.reset(), n.addPack({ payload: i.sys.settings.pack }))) return i.sys.settings.status = s.LOADING, n.once(h.COMPLETE, this.payloadComplete, this), n.start(), this; this.bootScene(i) } return this }, stop: function (t, e) { var i = this.getScene(t); return i && !i.sys.isTransitioning() && i.sys.shutdown(e), this }, switch: function (t, e) { var i = this.getScene(t), s = this.getScene(e); return i && s && i !== s && (this.sleep(t), this.isSleeping(e) ? this.wake(e) : this.start(e)), this }, getAt: function (t) { return this.scenes[t] }, getIndex: function (t) { var e = this.getScene(t); return this.scenes.indexOf(e) }, bringToTop: function (t) { if (this.isProcessing) this._queue.push({ op: "bringToTop", keyA: t, keyB: null }); else { var e = this.getIndex(t); if (-1 !== e && e < this.scenes.length) { var i = this.getScene(t); this.scenes.splice(e, 1), this.scenes.push(i) } } return this }, sendToBack: function (t) { if (this.isProcessing) this._queue.push({ op: "sendToBack", keyA: t, keyB: null }); else { var e = this.getIndex(t); if (-1 !== e && e > 0) { var i = this.getScene(t); this.scenes.splice(e, 1), this.scenes.unshift(i) } } return this }, moveDown: function (t) { if (this.isProcessing) this._queue.push({ op: "moveDown", keyA: t, keyB: null }); else { var e = this.getIndex(t); if (e > 0) { var i = e - 1, s = this.getScene(t), n = this.getAt(i); this.scenes[e] = n, this.scenes[i] = s } } return this }, moveUp: function (t) { if (this.isProcessing) this._queue.push({ op: "moveUp", keyA: t, keyB: null }); else { var e = this.getIndex(t); if (e < this.scenes.length - 1) { var i = e + 1, s = this.getScene(t), n = this.getAt(i); this.scenes[e] = n, this.scenes[i] = s } } return this }, moveAbove: function (t, e) { if (t === e) return this; if (this.isProcessing) this._queue.push({ op: "moveAbove", keyA: t, keyB: e }); else { var i = this.getIndex(t), s = this.getIndex(e); if (-1 !== i && -1 !== s) { var n = this.getAt(s); this.scenes.splice(s, 1), this.scenes.splice(i + 1, 0, n) } } return this }, moveBelow: function (t, e) { if (t === e) return this; if (this.isProcessing) this._queue.push({ op: "moveBelow", keyA: t, keyB: e }); else { var i = this.getIndex(t), s = this.getIndex(e); if (-1 !== i && -1 !== s) { var n = this.getAt(s); this.scenes.splice(s, 1), 0 === i ? this.scenes.unshift(n) : this.scenes.splice(i, 0, n) } } return this }, queueOp: function (t, e, i) { return this._queue.push({ op: t, keyA: e, keyB: i }), this }, swapPosition: function (t, e) { if (t === e) return this; if (this.isProcessing) this._queue.push({ op: "swapPosition", keyA: t, keyB: e }); else { var i = this.getIndex(t), s = this.getIndex(e); if (i !== s && -1 !== i && -1 !== s) { var n = this.getAt(i); this.scenes[i] = this.scenes[s], this.scenes[s] = n } } return this }, dump: function () { for (var t = [], e = ["pending", "init", "start", "loading", "creating", "running", "paused", "sleeping", "shutdown", "destroyed"], i = 0; i < this.scenes.length; i++) { var n = this.scenes[i].sys, r = !n.settings.visible || n.settings.status !== s.RUNNING && n.settings.status !== s.PAUSED ? "[-] " : "[*] "; r += n.settings.key + " (" + e[n.settings.status] + ")", t.push(r) } console.log(t.join("\n")) }, destroy: function () { for (var t = 0; t < this.scenes.length; t++) { this.scenes[t].sys.destroy() } this.update = l, this.scenes = [], this._pending = [], this._start = [], this._queue = [], this.game = null } }); t.exports = d })), n.register("anFCw", (function (t, e) { t.exports = { PENDING: 0, INIT: 1, START: 2, LOADING: 3, CREATING: 4, RUNNING: 5, PAUSED: 6, SLEEPING: 7, SHUTDOWN: 8, DESTROYED: 9 } })), n.register("ls69h", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { ADD: n("4gfRD"), COMPLETE: n("i1ZcM"), FILE_COMPLETE: n("6PHQY"), FILE_KEY_COMPLETE: n("eplKm"), FILE_LOAD_ERROR: n("dQA3F"), FILE_LOAD: n("FkPeg"), FILE_PROGRESS: n("ehiNc"), POST_PROCESS: n("9OSOB"), PROGRESS: n("4hDiu"), START: n("iJYBJ") }
})), n.register("4gfRD", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "addfile"
})), n.register("i1ZcM", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "complete"
})), n.register("6PHQY", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "filecomplete"
})), n.register("eplKm", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "filecomplete-"
})), n.register("dQA3F", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "loaderror"
})), n.register("FkPeg", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "load"
})), n.register("ehiNc", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "fileprogress"
})), n.register("9OSOB", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "postprocess"
})), n.register("4hDiu", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "progress"
})), n.register("iJYBJ", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "start"
})), n.register("iXVlb", (function (t, e) { var i = n("jwj1g"), s = n("jgSN1"), r = new i({ initialize: function (t) { this.sys = new s(this, t), this.game, this.anims, this.cache, this.registry, this.sound, this.textures, this.events, this.cameras, this.add, this.make, this.scene, this.children, this.lights, this.data, this.input, this.load, this.time, this.tweens, this.physics, this.impact, this.matter, this.facebook, this.scale, this.plugins }, update: function () { } }); t.exports = r })), n.register("jgSN1", (function (t, e) { var i = n("jwj1g"), s = n("anFCw"), r = n("488fh"), o = n("4rtgc"), a = n("dXsU1"), h = n("hq9AL"), l = n("13GYA"), u = n("i9d1I"), c = new i({ initialize: function (t, e) { this.scene = t, this.game, this.renderer, this.facebook, this.config = e, this.settings = u.create(e), this.canvas, this.context, this.anims, this.cache, this.plugins, this.registry, this.scale, this.sound, this.textures, this.add, this.cameras, this.displayList, this.events, this.make, this.scenePlugin, this.updateList, this.sceneUpdate = l }, init: function (t) { this.settings.status = s.INIT, this.sceneUpdate = l, this.game = t, this.renderer = t.renderer, this.canvas = t.canvas, this.context = t.context; var e = t.plugins; this.plugins = e, e.addToScene(this, r.Global, [r.CoreScene, h(this), a(this)]), this.events.emit(o.BOOT, this), this.settings.isBooted = !0 }, install: function (t) { Array.isArray(t) || (t = [t]), this.plugins.installLocal(this, t) }, step: function (t, e) { this.events.emit(o.PRE_UPDATE, t, e), this.events.emit(o.UPDATE, t, e), this.sceneUpdate.call(this.scene, t, e), this.events.emit(o.POST_UPDATE, t, e) }, render: function (t) { var e = this.displayList; e.depthSort(), this.cameras.render(t, e), this.events.emit(o.RENDER, t) }, queueDepthSort: function () { this.displayList.queueDepthSort() }, depthSort: function () { this.displayList.depthSort() }, pause: function (t) { return this.settings.active && (this.settings.status = s.PAUSED, this.settings.active = !1, this.events.emit(o.PAUSE, this, t)), this }, resume: function (t) { return this.settings.active || (this.settings.status = s.RUNNING, this.settings.active = !0, this.events.emit(o.RESUME, this, t)), this }, sleep: function (t) { return this.settings.status = s.SLEEPING, this.settings.active = !1, this.settings.visible = !1, this.events.emit(o.SLEEP, this, t), this }, wake: function (t) { var e = this.settings; return e.status = s.RUNNING, e.active = !0, e.visible = !0, this.events.emit(o.WAKE, this, t), e.isTransition && this.events.emit(o.TRANSITION_WAKE, e.transitionFrom, e.transitionDuration), this }, getData: function () { return this.settings.data }, isSleeping: function () { return this.settings.status === s.SLEEPING }, isActive: function () { return this.settings.status === s.RUNNING }, isPaused: function () { return this.settings.status === s.PAUSED }, isTransitioning: function () { return this.settings.isTransition || null !== this.scenePlugin._target }, isTransitionOut: function () { return null !== this.scenePlugin._target && this.scenePlugin._duration > 0 }, isTransitionIn: function () { return this.settings.isTransition }, isVisible: function () { return this.settings.visible }, setVisible: function (t) { return this.settings.visible = t, this }, setActive: function (t, e) { return t ? this.resume(e) : this.pause(e) }, start: function (t) { t && (this.settings.data = t), this.settings.status = s.START, this.settings.active = !0, this.settings.visible = !0, this.events.emit(o.START, this), this.events.emit(o.READY, this, t) }, shutdown: function (t) { this.events.off(o.TRANSITION_INIT), this.events.off(o.TRANSITION_START), this.events.off(o.TRANSITION_COMPLETE), this.events.off(o.TRANSITION_OUT), this.settings.status = s.SHUTDOWN, this.settings.active = !1, this.settings.visible = !1, this.events.emit(o.SHUTDOWN, this, t) }, destroy: function () { this.settings.status = s.DESTROYED, this.settings.active = !1, this.settings.visible = !1, this.events.emit(o.DESTROY, this), this.events.removeAllListeners(); for (var t = ["scene", "game", "anims", "cache", "plugins", "registry", "sound", "textures", "add", "camera", "displayList", "events", "make", "scenePlugin", "updateList"], e = 0; e < t.length; e++)this[t[e]] = null } }); t.exports = c })), n.register("dXsU1", (function (t, e) { var i = n("7BSWl"), s = n("aEzMt"); t.exports = function (t) { var e = t.game.config.defaultPhysicsSystem, n = i(t.settings, "physics", !1); if (e || n) { var r = []; if (e && r.push(s(e + "Physics")), n) for (var o in n) o = s(o.concat("Physics")), -1 === r.indexOf(o) && r.push(o); return r } } })), n.register("aEzMt", (function (t, e) { t.exports = function (t) { return t && t[0].toUpperCase() + t.slice(1) } })), n.register("hq9AL", (function (t, e) { var i = n("7BSWl"); t.exports = function (t) { var e = t.plugins.getDefaultScenePlugins(), s = i(t.settings, "plugins", !1); return Array.isArray(s) ? s : e || [] } })), n.register("i9d1I", (function (t, e) { var i = n("anFCw"), s = n("5pMDk"), r = n("awyQk"), o = n("2LV6U"), a = { create: function (t) { return "string" == typeof t ? t = { key: t } : void 0 === t && (t = {}), { status: i.PENDING, key: s(t, "key", ""), active: s(t, "active", !1), visible: s(t, "visible", !0), isBooted: !1, isTransition: !1, transitionFrom: null, transitionDuration: 0, transitionAllowInput: !0, data: {}, pack: s(t, "pack", !1), cameras: s(t, "cameras", null), map: s(t, "map", r(o, s(t, "mapAdd", {}))), physics: s(t, "physics", {}), loader: s(t, "loader", {}), plugins: s(t, "plugins", !1), input: s(t, "input", {}) } } }; t.exports = a })), n.register("awyQk", (function (t, e) { var i = n("5pqmQ"); t.exports = function (t, e) { var s = i(t); for (var n in e) s.hasOwnProperty(n) || (s[n] = e[n]); return s } })), n.register("5pqmQ", (function (t, e) { t.exports = function (t) { var e = {}; for (var i in t) Array.isArray(t[i]) ? e[i] = t[i].slice(0) : e[i] = t[i]; return e } })), n.register("2LV6U", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    var i = { game: "game", anims: "anims", cache: "cache", plugins: "plugins", registry: "registry", scale: "scale", sound: "sound", textures: "textures", events: "events", cameras: "cameras", add: "add", make: "make", scenePlugin: "scene", displayList: "children", lights: "lights", data: "data", input: "input", load: "load", time: "time", tweens: "tweens", arcadePhysics: "physics", impactPhysics: "impact", matterPhysics: "matter", cameras3d: "cameras3d", facebook: "facebook" }; t.exports = i
})), n.register("5QcEl", (function (t, e) { var i = n("kKoer"), s = n("demvd"), r = n("jwj1g"), o = n("pqNJR"), a = n("bRAqZ"), h = n("3vRz3"), l = n("6R4Pe"), u = n("aqcI1"), c = n("gRl5V"), d = n("5pMDk"), f = n("jx0HO"), p = n("cCQL0"), g = new r({ Extends: h, initialize: function (t) { h.call(this), this.game = t, this.name = "TextureManager", this.list = {}, this._tempCanvas = i.create2D(this, 1, 1), this._tempContext = this._tempCanvas.getContext("2d"), this._pending = 0, t.events.once(u.BOOT, this.boot, this) }, boot: function () { this._pending = 2, this.on(l.LOAD, this.updatePending, this), this.on(l.ERROR, this.updatePending, this), this.addBase64("__DEFAULT", this.game.config.defaultImage), this.addBase64("__MISSING", this.game.config.missingImage), this.game.events.once(u.DESTROY, this.destroy, this) }, updatePending: function () { this._pending--, 0 === this._pending && (this.off(l.LOAD), this.off(l.ERROR), this.emit(l.READY)) }, checkKey: function (t) { return !this.exists(t) || (console.error("Texture key already in use: " + t), !1) }, remove: function (t) { if ("string" == typeof t) { if (!this.exists(t)) return console.warn("No texture found matching key: " + t), this; t = this.get(t) } return this.list.hasOwnProperty(t.key) && (t.destroy(), this.emit(l.REMOVE, t.key)), this }, removeKey: function (t) { return this.list.hasOwnProperty(t) && delete this.list[t], this }, addBase64: function (t, e) { if (this.checkKey(t)) { var i = this, s = new Image; s.onerror = function () { i.emit(l.ERROR, t) }, s.onload = function () { var e = i.create(t, s); f.Image(e, 0), i.emit(l.ADD, t, e), i.emit(l.LOAD, t, e) }, s.src = e } return this }, getBase64: function (t, e, s, n) { void 0 === s && (s = "image/png"), void 0 === n && (n = .92); var r = "", o = this.getFrame(t, e); if (o && (o.source.isRenderTexture || o.source.isGLTexture)) console.warn("Cannot getBase64 from WebGL Texture"); else if (o) { var a = o.canvasData, h = i.create2D(this, a.width, a.height); h.getContext("2d").drawImage(o.source.image, a.x, a.y, a.width, a.height, 0, 0, a.width, a.height), r = h.toDataURL(s, n), i.remove(h) } return r }, addImage: function (t, e, i) { var s = null; return this.checkKey(t) && (s = this.create(t, e), f.Image(s, 0), i && s.setDataSource(i), this.emit(l.ADD, t, s)), s }, addGLTexture: function (t, e, i, s) { var n = null; return this.checkKey(t) && ((n = this.create(t, e, i, s)).add("__BASE", 0, 0, 0, i, s), this.emit(l.ADD, t, n)), n }, addRenderTexture: function (t, e) { var i = null; return this.checkKey(t) && ((i = this.create(t, e)).add("__BASE", 0, 0, 0, e.width, e.height), this.emit(l.ADD, t, i)), i }, generate: function (t, e) { if (this.checkKey(t)) { var s = i.create(this, 1, 1); return e.canvas = s, c(e), this.addCanvas(t, s) } return null }, createCanvas: function (t, e, s) { if (void 0 === e && (e = 256), void 0 === s && (s = 256), this.checkKey(t)) { var n = i.create(this, e, s, a.CANVAS, !0); return this.addCanvas(t, n) } return null }, addCanvas: function (t, e, i) { void 0 === i && (i = !1); var n = null; return i ? n = new s(this, t, e, e.width, e.height) : this.checkKey(t) && (n = new s(this, t, e, e.width, e.height), this.list[t] = n, this.emit(l.ADD, t, n)), n }, addAtlas: function (t, e, i, s) { return Array.isArray(i.textures) || Array.isArray(i.frames) ? this.addAtlasJSONArray(t, e, i, s) : this.addAtlasJSONHash(t, e, i, s) }, addAtlasJSONArray: function (t, e, i, s) { var n = null; if (this.checkKey(t)) { if (n = this.create(t, e), Array.isArray(i)) for (var r = 1 === i.length, o = 0; o < n.source.length; o++) { var a = r ? i[0] : i[o]; f.JSONArray(n, o, a) } else f.JSONArray(n, 0, i); s && n.setDataSource(s), this.emit(l.ADD, t, n) } return n }, addAtlasJSONHash: function (t, e, i, s) { var n = null; if (this.checkKey(t)) { if (n = this.create(t, e), Array.isArray(i)) for (var r = 0; r < i.length; r++)f.JSONHash(n, r, i[r]); else f.JSONHash(n, 0, i); s && n.setDataSource(s), this.emit(l.ADD, t, n) } return n }, addAtlasXML: function (t, e, i, s) { var n = null; return this.checkKey(t) && (n = this.create(t, e), f.AtlasXML(n, 0, i), s && n.setDataSource(s), this.emit(l.ADD, t, n)), n }, addUnityAtlas: function (t, e, i, s) { var n = null; return this.checkKey(t) && (n = this.create(t, e), f.UnityYAML(n, 0, i), s && n.setDataSource(s), this.emit(l.ADD, t, n)), n }, addSpriteSheet: function (t, e, i) { var s = null; if (this.checkKey(t)) { var n = (s = this.create(t, e)).source[0].width, r = s.source[0].height; f.SpriteSheet(s, 0, 0, 0, n, r, i), this.emit(l.ADD, t, s) } return s }, addSpriteSheetFromAtlas: function (t, e) { if (!this.checkKey(t)) return null; var i = d(e, "atlas", null), s = d(e, "frame", null); if (i && s) { var n = this.get(i).get(s); if (n) { var r = this.create(t, n.source.image); return n.trimmed ? f.SpriteSheetFromAtlas(r, n, e) : f.SpriteSheet(r, 0, n.cutX, n.cutY, n.cutWidth, n.cutHeight, e), this.emit(l.ADD, t, r), r } } }, create: function (t, e, i, s) { var n = null; return this.checkKey(t) && (n = new p(this, t, e, i, s), this.list[t] = n), n }, exists: function (t) { return this.list.hasOwnProperty(t) }, get: function (t) { return void 0 === t && (t = "__DEFAULT"), this.list[t] ? this.list[t] : t instanceof p ? t : this.list.__MISSING }, cloneFrame: function (t, e) { if (this.list[t]) return this.list[t].get(e).clone() }, getFrame: function (t, e) { if (this.list[t]) return this.list[t].get(e) }, getTextureKeys: function () { var t = []; for (var e in this.list) "__DEFAULT" !== e && "__MISSING" !== e && t.push(e); return t }, getPixel: function (t, e, i, s) { var n = this.getFrame(i, s); if (n) { t -= n.x, e -= n.y; var r = n.data.cut; if (t += r.x, e += r.y, t >= r.x && t < r.r && e >= r.y && e < r.b) { var a = this._tempContext; a.clearRect(0, 0, 1, 1), a.drawImage(n.source.image, t, e, 1, 1, 0, 0, 1, 1); var h = a.getImageData(0, 0, 1, 1); return new o(h.data[0], h.data[1], h.data[2], h.data[3]) } } return null }, getPixelAlpha: function (t, e, i, s) { var n = this.getFrame(i, s); if (n) { t -= n.x, e -= n.y; var r = n.data.cut; if (t += r.x, e += r.y, t >= r.x && t < r.r && e >= r.y && e < r.b) { var o = this._tempContext; return o.clearRect(0, 0, 1, 1), o.drawImage(n.source.image, t, e, 1, 1, 0, 0, 1, 1), o.getImageData(0, 0, 1, 1).data[3] } } return null }, setTexture: function (t, e, i) { return this.list[e] && (t.texture = this.list[e], t.frame = t.texture.get(i)), t }, renameTexture: function (t, e) { var i = this.get(t); return !(!i || t === e) && (i.key = e, this.list[e] = i, delete this.list[t], !0) }, each: function (t, e) { for (var i = [null], s = 1; s < arguments.length; s++)i.push(arguments[s]); for (var n in this.list) i[0] = this.list[n], t.apply(e, i) }, destroy: function () { for (var t in this.list) this.list[t].destroy(); this.list = {}, this.game = null, i.remove(this._tempCanvas) } }); t.exports = g })), n.register("demvd", (function (t, e) { var i = n("jwj1g"), s = n("iEUUO"), r = n("pqNJR"), o = n("bRAqZ"), a = n("gV9Y0"), h = n("cCQL0"), l = new i({ Extends: h, initialize: function (t, e, i, s, n) { h.call(this, t, e, i, s, n), this.add("__BASE", 0, 0, 0, s, n), this._source = this.frames.__BASE.source, this.canvas = this._source.image, this.context = this.canvas.getContext("2d"), this.width = s, this.height = n, this.imageData = this.context.getImageData(0, 0, s, n), this.data = null, this.imageData && (this.data = this.imageData.data), this.pixels = null, this.buffer, this.data && (this.imageData.data.buffer ? (this.buffer = this.imageData.data.buffer, this.pixels = new Uint32Array(this.buffer)) : window.ArrayBuffer ? (this.buffer = new ArrayBuffer(this.imageData.data.length), this.pixels = new Uint32Array(this.buffer)) : this.pixels = this.imageData.data) }, update: function () { return this.imageData = this.context.getImageData(0, 0, this.width, this.height), this.data = this.imageData.data, this.imageData.data.buffer ? (this.buffer = this.imageData.data.buffer, this.pixels = new Uint32Array(this.buffer)) : window.ArrayBuffer ? (this.buffer = new ArrayBuffer(this.imageData.data.length), this.pixels = new Uint32Array(this.buffer)) : this.pixels = this.imageData.data, this.manager.game.config.renderType === o.WEBGL && this.refresh(), this }, draw: function (t, e, i) { return this.context.drawImage(i, t, e), this.update() }, drawFrame: function (t, e, i, s) { void 0 === i && (i = 0), void 0 === s && (s = 0); var n = this.manager.getFrame(t, e); if (n) { var r = n.canvasData, o = n.cutWidth, a = n.cutHeight, h = n.source.resolution; return this.context.drawImage(n.source.image, r.x, r.y, o, a, i, s, o / h, a / h), this.update() } return this }, setPixel: function (t, e, i, s, n, r) { if (void 0 === r && (r = 255), t = Math.abs(Math.floor(t)), e = Math.abs(Math.floor(e)), this.getIndex(t, e) > -1) { var o = this.context.getImageData(t, e, 1, 1); o.data[0] = i, o.data[1] = s, o.data[2] = n, o.data[3] = r, this.context.putImageData(o, t, e) } return this }, putData: function (t, e, i, s, n, r, o) { return void 0 === s && (s = 0), void 0 === n && (n = 0), void 0 === r && (r = t.width), void 0 === o && (o = t.height), this.context.putImageData(t, e, i, s, n, r, o), this }, getData: function (t, e, i, n) { return t = s(Math.floor(t), 0, this.width - 1), e = s(Math.floor(e), 0, this.height - 1), i = s(i, 1, this.width - t), n = s(n, 1, this.height - e), this.context.getImageData(t, e, i, n) }, getPixel: function (t, e, i) { i || (i = new r); var s = this.getIndex(t, e); if (s > -1) { var n = this.data, o = n[s + 0], a = n[s + 1], h = n[s + 2], l = n[s + 3]; i.setTo(o, a, h, l) } return i }, getPixels: function (t, e, i, n) { void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = this.width), void 0 === n && (n = i), t = Math.abs(Math.round(t)), e = Math.abs(Math.round(e)); for (var o = s(t, 0, this.width), a = s(t + i, 0, this.width), h = s(e, 0, this.height), l = s(e + n, 0, this.height), u = new r, c = [], d = h; d < l; d++) { for (var f = [], p = o; p < a; p++)u = this.getPixel(p, d, u), f.push({ x: p, y: d, color: u.color, alpha: u.alphaGL }); c.push(f) } return c }, getIndex: function (t, e) { return t = Math.abs(Math.round(t)), e = Math.abs(Math.round(e)), t < this.width && e < this.height ? 4 * (t + e * this.width) : -1 }, refresh: function () { return this._source.update(), this }, getCanvas: function () { return this.canvas }, getContext: function () { return this.context }, clear: function (t, e, i, s) { return void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = this.width), void 0 === s && (s = this.height), this.context.clearRect(t, e, i, s), this.update() }, setSize: function (t, e) { return void 0 === e && (e = t), t === this.width && e === this.height || (this.canvas.width = t, this.canvas.height = e, this._source.width = t, this._source.height = e, this._source.isPowerOf2 = a(t, e), this.frames.__BASE.setSize(t, e, 0, 0), this.refresh()), this }, destroy: function () { h.prototype.destroy.call(this), this._source = null, this.canvas = null, this.context = null, this.imageData = null, this.data = null, this.pixels = null, this.buffer = null } }); t.exports = l })), n.register("cCQL0", (function (t, e) { var i = n("jwj1g"), s = n("7O4PF"), r = n("k25Vv"), o = "Texture.frame missing: ", a = new i({ initialize: function (t, e, i, s, n) { Array.isArray(i) || (i = [i]), this.manager = t, this.key = e, this.source = [], this.dataSource = [], this.frames = {}, this.customData = {}, this.firstFrame = "__BASE", this.frameTotal = 0; for (var o = 0; o < i.length; o++)this.source.push(new r(this, i[o], s, n)) }, add: function (t, e, i, n, r, o) { if (this.has(t)) return null; var a = new s(this, t, e, i, n, r, o); return this.frames[t] = a, "__BASE" === this.firstFrame && (this.firstFrame = t), this.frameTotal++, a }, remove: function (t) { return !!this.has(t) && (this.get(t).destroy(), delete this.frames[t], !0) }, has: function (t) { return this.frames[t] }, get: function (t) { t || (t = this.firstFrame); var e = this.frames[t]; return e || (console.warn(o + t), e = this.frames[this.firstFrame]), e }, getTextureSourceIndex: function (t) { for (var e = 0; e < this.source.length; e++)if (this.source[e] === t) return e; return -1 }, getFramesFromTextureSource: function (t, e) { void 0 === e && (e = !1); var i = []; for (var s in this.frames) if ("__BASE" !== s || e) { var n = this.frames[s]; n.sourceIndex === t && i.push(n) } return i }, getFrameNames: function (t) { void 0 === t && (t = !1); var e = Object.keys(this.frames); if (!t) { var i = e.indexOf("__BASE"); -1 !== i && e.splice(i, 1) } return e }, getSourceImage: function (t) { null != t && 1 !== this.frameTotal || (t = "__BASE"); var e = this.frames[t]; return e ? e.source.image : (console.warn(o + t), this.frames.__BASE.source.image) }, getDataSourceImage: function (t) { null != t && 1 !== this.frameTotal || (t = "__BASE"); var e, i = this.frames[t]; return i ? e = i.sourceIndex : (console.warn(o + t), e = this.frames.__BASE.sourceIndex), this.dataSource[e].image }, setDataSource: function (t) { Array.isArray(t) || (t = [t]); for (var e = 0; e < t.length; e++) { var i = this.source[e]; this.dataSource.push(new r(this, t[e], i.width, i.height)) } }, setFilter: function (t) { var e; for (e = 0; e < this.source.length; e++)this.source[e].setFilter(t); for (e = 0; e < this.dataSource.length; e++)this.dataSource[e].setFilter(t) }, destroy: function () { var t; for (t = 0; t < this.source.length; t++)this.source[t].destroy(); for (t = 0; t < this.dataSource.length; t++)this.dataSource[t].destroy(); for (var e in this.frames) { this.frames[e].destroy() } this.source = [], this.dataSource = [], this.frames = {}, this.manager.removeKey(this.key), this.manager = null } }); t.exports = a })), n.register("7O4PF", (function (t, e) { var i = n("jwj1g"), s = n("iEUUO"), r = n("hVk4C"), o = new i({ initialize: function (t, e, i, s, n, r, o) { this.texture = t, this.name = e, this.source = t.source[i], this.sourceIndex = i, this.glTexture = this.source.glTexture, this.cutX, this.cutY, this.cutWidth, this.cutHeight, this.x = 0, this.y = 0, this.width, this.height, this.halfWidth, this.halfHeight, this.centerX, this.centerY, this.pivotX = 0, this.pivotY = 0, this.customPivot = !1, this.rotated = !1, this.autoRound = -1, this.customData = {}, this.u0 = 0, this.v0 = 0, this.u1 = 0, this.v1 = 0, this.data = { cut: { x: 0, y: 0, w: 0, h: 0, r: 0, b: 0 }, trim: !1, sourceSize: { w: 0, h: 0 }, spriteSourceSize: { x: 0, y: 0, w: 0, h: 0, r: 0, b: 0 }, radius: 0, drawImage: { x: 0, y: 0, width: 0, height: 0 } }, this.setSize(r, o, s, n) }, setSize: function (t, e, i, s) { void 0 === i && (i = 0), void 0 === s && (s = 0), this.cutX = i, this.cutY = s, this.cutWidth = t, this.cutHeight = e, this.width = t, this.height = e, this.halfWidth = Math.floor(.5 * t), this.halfHeight = Math.floor(.5 * e), this.centerX = Math.floor(t / 2), this.centerY = Math.floor(e / 2); var n = this.data, r = n.cut; r.x = i, r.y = s, r.w = t, r.h = e, r.r = i + t, r.b = s + e, n.sourceSize.w = t, n.sourceSize.h = e, n.spriteSourceSize.w = t, n.spriteSourceSize.h = e, n.radius = .5 * Math.sqrt(t * t + e * e); var o = n.drawImage; return o.x = i, o.y = s, o.width = t, o.height = e, this.updateUVs() }, setTrim: function (t, e, i, s, n, r) { var o = this.data, a = o.spriteSourceSize; return o.trim = !0, o.sourceSize.w = t, o.sourceSize.h = e, a.x = i, a.y = s, a.w = n, a.h = r, a.r = i + n, a.b = s + r, this.x = i, this.y = s, this.width = n, this.height = r, this.halfWidth = .5 * n, this.halfHeight = .5 * r, this.centerX = Math.floor(n / 2), this.centerY = Math.floor(r / 2), this.updateUVs() }, setCropUVs: function (t, e, i, n, r, o, a) { var h = this.cutX, l = this.cutY, u = this.cutWidth, c = this.cutHeight, d = this.realWidth, f = this.realHeight, p = h + (e = s(e, 0, d)), g = l + (i = s(i, 0, f)), v = n = s(n, 0, d - e), m = r = s(r, 0, f - i), y = this.data; if (y.trim) { var x = y.spriteSourceSize, w = e + (n = s(n, 0, u - e)), T = i + (r = s(r, 0, c - i)); if (!(x.r < e || x.b < i || x.x > w || x.y > T)) { var b = Math.max(x.x, e), S = Math.max(x.y, i), A = Math.min(x.r, w) - b, E = Math.min(x.b, T) - S; v = A, m = E, p = o ? h + (u - (b - x.x) - A) : h + (b - x.x), g = a ? l + (c - (S - x.y) - E) : l + (S - x.y), e = b, i = S, n = A, r = E } else p = 0, g = 0, v = 0, m = 0 } else o && (p = h + (u - e - n)), a && (g = l + (c - i - r)); var C = this.source.width, _ = this.source.height; return t.u0 = Math.max(0, p / C), t.v0 = Math.max(0, g / _), t.u1 = Math.min(1, (p + v) / C), t.v1 = Math.min(1, (g + m) / _), t.x = e, t.y = i, t.cx = p, t.cy = g, t.cw = v, t.ch = m, t.width = n, t.height = r, t.flipX = o, t.flipY = a, t }, updateCropUVs: function (t, e, i) { return this.setCropUVs(t, t.x, t.y, t.width, t.height, e, i) }, updateUVs: function () { var t = this.cutX, e = this.cutY, i = this.cutWidth, s = this.cutHeight, n = this.data.drawImage; n.width = i, n.height = s; var r = this.source.width, o = this.source.height; return this.u0 = t / r, this.v0 = e / o, this.u1 = (t + i) / r, this.v1 = (e + s) / o, this }, updateUVsInverted: function () { var t = this.source.width, e = this.source.height; return this.u0 = (this.cutX + this.cutHeight) / t, this.v0 = this.cutY / e, this.u1 = this.cutX / t, this.v1 = (this.cutY + this.cutWidth) / e, this }, clone: function () { var t = new o(this.texture, this.name, this.sourceIndex); return t.cutX = this.cutX, t.cutY = this.cutY, t.cutWidth = this.cutWidth, t.cutHeight = this.cutHeight, t.x = this.x, t.y = this.y, t.width = this.width, t.height = this.height, t.halfWidth = this.halfWidth, t.halfHeight = this.halfHeight, t.centerX = this.centerX, t.centerY = this.centerY, t.rotated = this.rotated, t.data = r(!0, t.data, this.data), t.updateUVs(), t }, destroy: function () { this.source = null, this.texture = null, this.glTexture = null, this.customData = null, this.data = null }, realWidth: { get: function () { return this.data.sourceSize.w } }, realHeight: { get: function () { return this.data.sourceSize.h } }, radius: { get: function () { return this.data.radius } }, trimmed: { get: function () { return this.data.trim } }, canvasData: { get: function () { return this.data.drawImage } } }); t.exports = o })), n.register("k25Vv", (function (t, e) { var i = n("kKoer"), s = n("jwj1g"), r = n("gV9Y0"), o = n("1iebW"), a = new s({ initialize: function (t, e, i, s, n) { void 0 === n && (n = !1); var a = t.manager.game; this.renderer = a.renderer, this.texture = t, this.source = e, this.image = e, this.compressionAlgorithm = null, this.resolution = 1, this.width = i || e.naturalWidth || e.videoWidth || e.width || 0, this.height = s || e.naturalHeight || e.videoHeight || e.height || 0, this.scaleMode = o.DEFAULT, this.isCanvas = e instanceof HTMLCanvasElement, this.isVideo = window.hasOwnProperty("HTMLVideoElement") && e instanceof HTMLVideoElement, this.isRenderTexture = "RenderTexture" === e.type, this.isGLTexture = window.hasOwnProperty("WebGLTexture") && e instanceof WebGLTexture, this.isPowerOf2 = r(this.width, this.height), this.glTexture = null, this.flipY = n, this.init(a) }, init: function (t) { this.renderer && (this.renderer.gl ? this.isCanvas ? this.glTexture = this.renderer.createCanvasTexture(this.image, !1, this.flipY) : this.isVideo ? this.glTexture = this.renderer.createVideoTexture(this.image, !1, this.flipY) : this.isRenderTexture ? (this.image = this.source.canvas, this.glTexture = this.renderer.createTextureFromSource(null, this.width, this.height, this.scaleMode)) : this.isGLTexture ? this.glTexture = this.source : this.glTexture = this.renderer.createTextureFromSource(this.image, this.width, this.height, this.scaleMode) : this.isRenderTexture && (this.image = this.source.canvas)), t.config.antialias || this.setFilter(1) }, setFilter: function (t) { this.renderer.gl && this.renderer.setTextureFilter(this.glTexture, t), this.scaleMode = t }, setFlipY: function (t) { return void 0 === t && (t = !0), this.flipY = t, this }, update: function () { var t = this.renderer.gl; t && this.isCanvas ? this.glTexture = this.renderer.updateCanvasTexture(this.image, this.glTexture, this.flipY) : t && this.isVideo && (this.glTexture = this.renderer.updateVideoTexture(this.image, this.glTexture, this.flipY)) }, destroy: function () { this.glTexture && this.renderer.deleteTexture(this.glTexture), this.isCanvas && i.remove(this.image), this.renderer = null, this.texture = null, this.source = null, this.image = null, this.glTexture = null } }); t.exports = a })), n.register("jx0HO", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { AtlasXML: n("7a76q"), Canvas: n("bz440"), Image: n("5pLtu"), JSONArray: n("daSEJ"), JSONHash: n("hJexV"), SpriteSheet: n("ftOGv"), SpriteSheetFromAtlas: n("aeqbU"), UnityYAML: n("efYKh") }
})), n.register("7a76q", (function (t, e) { t.exports = function (t, e, i) { if (i.getElementsByTagName("TextureAtlas")) { var s = t.source[e]; t.add("__BASE", e, 0, 0, s.width, s.height); for (var n, r = i.getElementsByTagName("SubTexture"), o = 0; o < r.length; o++) { var a = r[o].attributes, h = a.name.value, l = parseInt(a.x.value, 10), u = parseInt(a.y.value, 10), c = parseInt(a.width.value, 10), d = parseInt(a.height.value, 10); if (n = t.add(h, e, l, u, c, d), a.frameX) { var f = Math.abs(parseInt(a.frameX.value, 10)), p = Math.abs(parseInt(a.frameY.value, 10)), g = parseInt(a.frameWidth.value, 10), v = parseInt(a.frameHeight.value, 10); n.setTrim(c, d, f, p, g, v) } } return t } console.warn("Invalid Texture Atlas XML given") } })), n.register("bz440", (function (t, e) { t.exports = function (t, e) { var i = t.source[e]; return t.add("__BASE", e, 0, 0, i.width, i.height), t } })), n.register("5pLtu", (function (t, e) { t.exports = function (t, e) { var i = t.source[e]; return t.add("__BASE", e, 0, 0, i.width, i.height), t } })), n.register("daSEJ", (function (t, e) { var i = n("5pqmQ"); t.exports = function (t, e, s) { if (s.frames || s.textures) { var n = t.source[e]; t.add("__BASE", e, 0, 0, n.width, n.height); for (var r, o = Array.isArray(s.textures) ? s.textures[e].frames : s.frames, a = 0; a < o.length; a++) { var h = o[a]; r = t.add(h.filename, e, h.frame.x, h.frame.y, h.frame.w, h.frame.h), h.trimmed && r.setTrim(h.sourceSize.w, h.sourceSize.h, h.spriteSourceSize.x, h.spriteSourceSize.y, h.spriteSourceSize.w, h.spriteSourceSize.h), h.rotated && (r.rotated = !0, r.updateUVsInverted()), h.anchor && (r.customPivot = !0, r.pivotX = h.anchor.x, r.pivotY = h.anchor.y), r.customData = i(h) } for (var l in s) "frames" !== l && (Array.isArray(s[l]) ? t.customData[l] = s[l].slice(0) : t.customData[l] = s[l]); return t } console.warn("Invalid Texture Atlas JSON Array") } })), n.register("hJexV", (function (t, e) { var i = n("5pqmQ"); t.exports = function (t, e, s) { if (s.frames) { var n = t.source[e]; t.add("__BASE", e, 0, 0, n.width, n.height); var r, o = s.frames; for (var a in o) { var h = o[a]; r = t.add(a, e, h.frame.x, h.frame.y, h.frame.w, h.frame.h), h.trimmed && r.setTrim(h.sourceSize.w, h.sourceSize.h, h.spriteSourceSize.x, h.spriteSourceSize.y, h.spriteSourceSize.w, h.spriteSourceSize.h), h.rotated && (r.rotated = !0, r.updateUVsInverted()), r.customData = i(h) } for (var l in s) "frames" !== l && (Array.isArray(s[l]) ? t.customData[l] = s[l].slice(0) : t.customData[l] = s[l]); return t } console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object") } })), n.register("ftOGv", (function (t, e) { var i = n("7BSWl"); t.exports = function (t, e, s, n, r, o, a) { var h = i(a, "frameWidth", null), l = i(a, "frameHeight", h); if (null === h) throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given."); var u = t.source[e]; t.add("__BASE", e, 0, 0, u.width, u.height); var c = i(a, "startFrame", 0), d = i(a, "endFrame", -1), f = i(a, "margin", 0), p = i(a, "spacing", 0), g = Math.floor((r - f + p) / (h + p)) * Math.floor((o - f + p) / (l + p)); 0 === g && console.warn("SpriteSheet frame dimensions will result in zero frames."), (c > g || c < -g) && (c = 0), c < 0 && (c = g + c), -1 !== d && (g = c + (d + 1)); for (var v = f, m = f, y = 0, x = 0, w = 0; w < g; w++) { y = 0, x = 0; var T = v + h, b = m + l; T > r && (y = T - r), b > o && (x = b - o), t.add(w, e, s + v, n + m, h - y, l - x), (v += h + p) + h > r && (v = f, m += l + p) } return t } })), n.register("aeqbU", (function (t, e) { var i = n("7BSWl"); t.exports = function (t, e, s) { var n = i(s, "frameWidth", null), r = i(s, "frameHeight", n); if (!n) throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given."); var o = t.source[0]; t.add("__BASE", 0, 0, 0, o.width, o.height); var a, h = i(s, "startFrame", 0), l = i(s, "endFrame", -1), u = i(s, "margin", 0), c = i(s, "spacing", 0), d = e.cutX, f = e.cutY, p = e.cutWidth, g = e.cutHeight, v = e.realWidth, m = e.realHeight, y = Math.floor((v - u + c) / (n + c)), x = Math.floor((m - u + c) / (r + c)), w = y * x, T = e.x, b = n - T, S = n - (v - p - T), A = e.y, E = r - A, C = r - (m - g - A); (h > w || h < -w) && (h = 0), h < 0 && (h = w + h), -1 !== l && (w = h + (l + 1)); for (var _ = u, M = u, P = 0, O = e.sourceIndex, R = 0; R < x; R++) { for (var L = 0 === R, k = R === x - 1, D = 0; D < y; D++) { var F = 0 === D, I = D === y - 1; if (a = t.add(P, O, d + _, f + M, n, r), F || L || I || k) { var B = F ? T : 0, N = L ? A : 0, Y = 0, z = 0; F && (Y += n - b), I && (Y += n - S), L && (z += r - E), k && (z += r - C); var j = n - Y, X = r - z; a.cutWidth = j, a.cutHeight = X, a.setTrim(n, r, B, N, j, X) } _ += c, _ += F ? b : I ? S : n, P++ } _ = u, M += c, M += L ? E : k ? C : r } return t } })), n.register("efYKh", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    var i = 0, s = function (t, e, s, n) { var r = i - n.y - n.height; t.add(s, e, n.x, r, n.width, n.height) }; t.exports = function (t, e, n) { var r = t.source[e]; t.add("__BASE", e, 0, 0, r.width, r.height), i = r.height; for (var o = n.split("\n"), a = /^[ ]*(- )*(\w+)+[: ]+(.*)/, h = "", l = "", u = { x: 0, y: 0, width: 0, height: 0 }, c = 0; c < o.length; c++) { var d = o[c].match(a); if (d) { var f = "- " === d[1], p = d[2], g = d[3]; if (f && (l !== h && (s(t, e, l, u), h = l), u = { x: 0, y: 0, width: 0, height: 0 }), "name" !== p) switch (p) { case "x": case "y": case "width": case "height": u[p] = parseInt(g, 10) } else l = g } } return l !== h && s(t, e, l, u), t }
})), n.register("jskqO", (function (t, e) { var i = n("4eU0A"), s = n("5wl8F"), r = n("d69lL"), o = { create: function (t) { var e = t.config.audio, n = t.device.audio; return e && e.noAudio || !n.webAudio && !n.audioData ? new s(t) : !n.webAudio || e && e.disableWebAudio ? new i(t) : new r(t) } }; t.exports = o })), n.register("4eU0A", (function (t, e) { var i = n("hw6uH"), s = n("jwj1g"), r = n("kcpiS"), o = n("1jI3b"), a = new s({ Extends: i, initialize: function (t) { this.override = !0, this.audioPlayDelay = .1, this.loopEndOffset = .05, this.onBlurPausedSounds = [], this.locked = "ontouchstart" in window, this.lockedActionsQueue = this.locked ? [] : null, this._mute = !1, this._volume = 1, i.call(this, t) }, add: function (t, e) { var i = new o(this, t, e); return this.sounds.push(i), i }, unlock: function () { this.locked = !1; var t = this; if (this.game.cache.audio.entries.each((function (e, i) { for (var s = 0; s < i.length; s++)if ("true" === i[s].dataset.locked) return t.locked = !0, !1; return !0 })), this.locked) { var e = !1, i = function () { e = !0 }, s = function () { if (e) e = !1; else { document.body.removeEventListener("touchmove", i), document.body.removeEventListener("touchend", s); var n = []; if (t.game.cache.audio.entries.each((function (t, e) { for (var i = 0; i < e.length; i++) { var s = e[i]; "true" === s.dataset.locked && n.push(s) } return !0 })), 0 !== n.length) { var r = n[n.length - 1]; r.oncanplaythrough = function () { r.oncanplaythrough = null, n.forEach((function (t) { t.dataset.locked = "false" })), t.unlocked = !0 }, n.forEach((function (t) { t.load() })) } } }; this.once(r.UNLOCKED, (function () { for (this.forEachActiveSound((function (t) { null === t.currentMarker && 0 === t.duration && (t.duration = t.tags[0].duration), t.totalDuration = t.tags[0].duration })); this.lockedActionsQueue.length;) { var t = this.lockedActionsQueue.shift(); t.sound[t.prop].apply ? t.sound[t.prop].apply(t.sound, t.value || []) : t.sound[t.prop] = t.value } }), this), document.body.addEventListener("touchmove", i, !1), document.body.addEventListener("touchend", s, !1) } }, onBlur: function () { this.forEachActiveSound((function (t) { t.isPlaying && (this.onBlurPausedSounds.push(t), t.onBlur()) })) }, onFocus: function () { this.onBlurPausedSounds.forEach((function (t) { t.onFocus() })), this.onBlurPausedSounds.length = 0 }, destroy: function () { i.prototype.destroy.call(this), this.onBlurPausedSounds.length = 0, this.onBlurPausedSounds = null }, isLocked: function (t, e, i) { return "true" === t.tags[0].dataset.locked && (this.lockedActionsQueue.push({ sound: t, prop: e, value: i }), !0) }, setMute: function (t) { return this.mute = t, this }, mute: { get: function () { return this._mute }, set: function (t) { this._mute = t, this.forEachActiveSound((function (t) { t.updateMute() })), this.emit(r.GLOBAL_MUTE, this, t) } }, setVolume: function (t) { return this.volume = t, this }, volume: { get: function () { return this._volume }, set: function (t) { this._volume = t, this.forEachActiveSound((function (t) { t.updateVolume() })), this.emit(r.GLOBAL_VOLUME, this, t) } } }); t.exports = a })), n.register("hw6uH", (function (t, e) { var i = n("jwj1g"), s = n("5pqmQ"), r = n("3vRz3"), o = n("kcpiS"), a = n("aqcI1"), h = n("13GYA"), l = new i({ Extends: r, initialize: function (t) { r.call(this), this.game = t, this.jsonCache = t.cache.json, this.sounds = [], this.mute = !1, this.volume = 1, this.pauseOnBlur = !0, this._rate = 1, this._detune = 0, this.locked = this.locked || !1, this.unlocked = !1, t.events.on(a.BLUR, (function () { this.pauseOnBlur && this.onBlur() }), this), t.events.on(a.FOCUS, (function () { this.pauseOnBlur && this.onFocus() }), this), t.events.on(a.PRE_STEP, this.update, this), t.events.once(a.DESTROY, this.destroy, this) }, add: h, addAudioSprite: function (t, e) { void 0 === e && (e = {}); var i = this.add(t, e); for (var n in i.spritemap = this.jsonCache.get(t).spritemap, i.spritemap) if (i.spritemap.hasOwnProperty(n)) { var r = s(e), o = i.spritemap[n]; r.loop = !!o.hasOwnProperty("loop") && o.loop, i.addMarker({ name: n, start: o.start, duration: o.end - o.start, config: r }) } return i }, play: function (t, e) { var i = this.add(t); return i.once(o.COMPLETE, i.destroy, i), e ? e.name ? (i.addMarker(e), i.play(e.name)) : i.play(e) : i.play() }, playAudioSprite: function (t, e, i) { var s = this.addAudioSprite(t); return s.once(o.COMPLETE, s.destroy, s), s.play(e, i) }, remove: function (t) { var e = this.sounds.indexOf(t); return -1 !== e && (t.destroy(), this.sounds.splice(e, 1), !0) }, removeByKey: function (t) { for (var e = 0, i = this.sounds.length - 1; i >= 0; i--) { var s = this.sounds[i]; s.key === t && (s.destroy(), this.sounds.splice(i, 1), e++) } return e }, pauseAll: function () { this.forEachActiveSound((function (t) { t.pause() })), this.emit(o.PAUSE_ALL, this) }, resumeAll: function () { this.forEachActiveSound((function (t) { t.resume() })), this.emit(o.RESUME_ALL, this) }, stopAll: function () { this.forEachActiveSound((function (t) { t.stop() })), this.emit(o.STOP_ALL, this) }, unlock: h, onBlur: h, onFocus: h, update: function (t, e) { this.unlocked && (this.unlocked = !1, this.locked = !1, this.emit(o.UNLOCKED, this)); for (var i = this.sounds.length - 1; i >= 0; i--)this.sounds[i].pendingRemove && this.sounds.splice(i, 1); this.sounds.forEach((function (i) { i.update(t, e) })) }, destroy: function () { this.removeAllListeners(), this.forEachActiveSound((function (t) { t.destroy() })), this.sounds.length = 0, this.sounds = null, this.game = null }, forEachActiveSound: function (t, e) { var i = this; this.sounds.forEach((function (s, n) { s && !s.pendingRemove && t.call(e || i, s, n, i.sounds) })) }, setRate: function (t) { return this.rate = t, this }, rate: { get: function () { return this._rate }, set: function (t) { this._rate = t, this.forEachActiveSound((function (t) { t.calculateRate() })), this.emit(o.GLOBAL_RATE, this, t) } }, setDetune: function (t) { return this.detune = t, this }, detune: { get: function () { return this._detune }, set: function (t) { this._detune = t, this.forEachActiveSound((function (t) { t.calculateRate() })), this.emit(o.GLOBAL_DETUNE, this, t) } } }); t.exports = l })), n.register("kcpiS", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { COMPLETE: n("37dJ0"), DECODED: n("hmm9y"), DECODED_ALL: n("iTPXa"), DESTROY: n("7CVWc"), DETUNE: n("kQm6q"), GLOBAL_DETUNE: n("aF0Bz"), GLOBAL_MUTE: n("cjsKe"), GLOBAL_RATE: n("g9B9q"), GLOBAL_VOLUME: n("1ne4s"), LOOP: n("kNnwh"), LOOPED: n("gAwFJ"), MUTE: n("8I72u"), PAUSE_ALL: n("gfAKp"), PAUSE: n("1ZwMn"), PLAY: n("ehBWS"), RATE: n("mufzx"), RESUME_ALL: n("ebbYi"), RESUME: n("cyWBF"), SEEK: n("XUXAf"), STOP_ALL: n("1kg4E"), STOP: n("bQ7yl"), UNLOCKED: n("lOEVP"), VOLUME: n("gdzQ9") }
})), n.register("37dJ0", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "complete"
})), n.register("hmm9y", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "decoded"
})), n.register("iTPXa", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "decodedall"
})), n.register("7CVWc", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "destroy"
})), n.register("kQm6q", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "detune"
})), n.register("aF0Bz", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "detune"
})), n.register("cjsKe", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "mute"
})), n.register("g9B9q", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "rate"
})), n.register("1ne4s", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "volume"
})), n.register("kNnwh", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "loop"
})), n.register("gAwFJ", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "looped"
})), n.register("8I72u", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "mute"
})), n.register("gfAKp", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "pauseall"
})), n.register("1ZwMn", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "pause"
})), n.register("ehBWS", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "play"
})), n.register("mufzx", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "rate"
})), n.register("ebbYi", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "resumeall"
})), n.register("cyWBF", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "resume"
})), n.register("XUXAf", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "seek"
})), n.register("1kg4E", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "stopall"
})), n.register("bQ7yl", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "stop"
})), n.register("lOEVP", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "unlocked"
})), n.register("gdzQ9", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "volume"
})), n.register("1jI3b", (function (t, e) { var i = n("4x7f5"), s = n("jwj1g"), r = n("kcpiS"), o = new s({ Extends: i, initialize: function (t, e, s) { if (void 0 === s && (s = {}), this.tags = t.game.cache.audio.get(e), !this.tags) throw new Error('There is no audio asset with key "' + e + '" in the audio cache'); this.audio = null, this.startTime = 0, this.previousTime = 0, this.duration = this.tags[0].duration, this.totalDuration = this.tags[0].duration, i.call(this, t, e, s) }, play: function (t, e) { return !this.manager.isLocked(this, "play", [t, e]) && (!!i.prototype.play.call(this, t, e) && (!!this.pickAndPlayAudioTag() && (this.emit(r.PLAY, this), !0))) }, pause: function () { return !this.manager.isLocked(this, "pause") && (!(this.startTime > 0) && (!!i.prototype.pause.call(this) && (this.currentConfig.seek = this.audio.currentTime - (this.currentMarker ? this.currentMarker.start : 0), this.stopAndReleaseAudioTag(), this.emit(r.PAUSE, this), !0))) }, resume: function () { return !this.manager.isLocked(this, "resume") && (!(this.startTime > 0) && (!!i.prototype.resume.call(this) && (!!this.pickAndPlayAudioTag() && (this.emit(r.RESUME, this), !0)))) }, stop: function () { return !this.manager.isLocked(this, "stop") && (!!i.prototype.stop.call(this) && (this.stopAndReleaseAudioTag(), this.emit(r.STOP, this), !0)) }, pickAndPlayAudioTag: function () { if (!this.pickAudioTag()) return this.reset(), !1; var t = this.currentConfig.seek, e = this.currentConfig.delay, i = (this.currentMarker ? this.currentMarker.start : 0) + t; return this.previousTime = i, this.audio.currentTime = i, this.applyConfig(), 0 === e ? (this.startTime = 0, this.audio.paused && this.playCatchPromise()) : (this.startTime = window.performance.now() + 1e3 * e, this.audio.paused || this.audio.pause()), this.resetConfig(), !0 }, pickAudioTag: function () { if (this.audio) return !0; for (var t = 0; t < this.tags.length; t++) { var e = this.tags[t]; if ("false" === e.dataset.used) return e.dataset.used = "true", this.audio = e, !0 } if (!this.manager.override) return !1; var i = []; this.manager.forEachActiveSound((function (t) { t.key === this.key && t.audio && i.push(t) }), this), i.sort((function (t, e) { return t.loop === e.loop ? e.seek / e.duration - t.seek / t.duration : t.loop ? 1 : -1 })); var s = i[0]; return this.audio = s.audio, s.reset(), s.audio = null, s.startTime = 0, s.previousTime = 0, !0 }, playCatchPromise: function () { var t = this.audio.play(); t && t.catch((function (t) { console.warn(t) })) }, stopAndReleaseAudioTag: function () { this.audio.pause(), this.audio.dataset.used = "false", this.audio = null, this.startTime = 0, this.previousTime = 0 }, reset: function () { i.prototype.stop.call(this) }, onBlur: function () { this.isPlaying = !1, this.isPaused = !0, this.currentConfig.seek = this.audio.currentTime - (this.currentMarker ? this.currentMarker.start : 0), this.currentConfig.delay = Math.max(0, (this.startTime - window.performance.now()) / 1e3), this.stopAndReleaseAudioTag() }, onFocus: function () { this.isPlaying = !0, this.isPaused = !1, this.pickAndPlayAudioTag() }, update: function (t, e) { if (this.isPlaying) if (this.startTime > 0) this.startTime < t - this.manager.audioPlayDelay && (this.audio.currentTime += Math.max(0, t - this.startTime) / 1e3, this.startTime = 0, this.previousTime = this.audio.currentTime, this.playCatchPromise()); else { var i = this.currentMarker ? this.currentMarker.start : 0, s = i + this.duration, n = this.audio.currentTime; if (this.currentConfig.loop) n >= s - this.manager.loopEndOffset ? (this.audio.currentTime = i + Math.max(0, n - s), n = this.audio.currentTime) : n < i && (this.audio.currentTime += i, n = this.audio.currentTime), n < this.previousTime && this.emit(r.LOOPED, this); else if (n >= s) return this.reset(), this.stopAndReleaseAudioTag(), void this.emit(r.COMPLETE, this); this.previousTime = n } }, destroy: function () { i.prototype.destroy.call(this), this.tags = null, this.audio && this.stopAndReleaseAudioTag() }, updateMute: function () { this.audio && (this.audio.muted = this.currentConfig.mute || this.manager.mute) }, updateVolume: function () { this.audio && (this.audio.volume = this.currentConfig.volume * this.manager.volume) }, calculateRate: function () { i.prototype.calculateRate.call(this), this.audio && (this.audio.playbackRate = this.totalRate) }, mute: { get: function () { return this.currentConfig.mute }, set: function (t) { this.currentConfig.mute = t, this.manager.isLocked(this, "mute", t) || (this.updateMute(), this.emit(r.MUTE, this, t)) } }, setMute: function (t) { return this.mute = t, this }, volume: { get: function () { return this.currentConfig.volume }, set: function (t) { this.currentConfig.volume = t, this.manager.isLocked(this, "volume", t) || (this.updateVolume(), this.emit(r.VOLUME, this, t)) } }, setVolume: function (t) { return this.volume = t, this }, rate: { get: function () { return this.currentConfig.rate }, set: function (t) { this.currentConfig.rate = t, this.manager.isLocked(this, r.RATE, t) || (this.calculateRate(), this.emit(r.RATE, this, t)) } }, setRate: function (t) { return this.rate = t, this }, detune: { get: function () { return this.currentConfig.detune }, set: function (t) { this.currentConfig.detune = t, this.manager.isLocked(this, r.DETUNE, t) || (this.calculateRate(), this.emit(r.DETUNE, this, t)) } }, setDetune: function (t) { return this.detune = t, this }, seek: { get: function () { return this.isPlaying ? this.audio.currentTime - (this.currentMarker ? this.currentMarker.start : 0) : this.isPaused ? this.currentConfig.seek : 0 }, set: function (t) { this.manager.isLocked(this, "seek", t) || this.startTime > 0 || (this.isPlaying || this.isPaused) && (t = Math.min(Math.max(0, t), this.duration), this.isPlaying ? (this.previousTime = t, this.audio.currentTime = t) : this.isPaused && (this.currentConfig.seek = t), this.emit(r.SEEK, this, t)) } }, setSeek: function (t) { return this.seek = t, this }, loop: { get: function () { return this.currentConfig.loop }, set: function (t) { this.currentConfig.loop = t, this.manager.isLocked(this, "loop", t) || (this.audio && (this.audio.loop = t), this.emit(r.LOOP, this, t)) } }, setLoop: function (t) { return this.loop = t, this } }); t.exports = o })), n.register("4x7f5", (function (t, e) { var i = n("jwj1g"), s = n("3vRz3"), r = n("kcpiS"), o = n("hVk4C"), a = n("13GYA"), h = new i({ Extends: s, initialize: function (t, e, i) { s.call(this), this.manager = t, this.key = e, this.isPlaying = !1, this.isPaused = !1, this.totalRate = 1, this.duration = this.duration || 0, this.totalDuration = this.totalDuration || 0, this.config = { mute: !1, volume: 1, rate: 1, detune: 0, seek: 0, loop: !1, delay: 0 }, this.currentConfig = this.config, this.config = o(this.config, i), this.markers = {}, this.currentMarker = null, this.pendingRemove = !1 }, addMarker: function (t) { return !(!t || !t.name || "string" != typeof t.name) && (this.markers[t.name] ? (console.error("addMarker " + t.name + " already exists in Sound"), !1) : (t = o(!0, { name: "", start: 0, duration: this.totalDuration - (t.start || 0), config: { mute: !1, volume: 1, rate: 1, detune: 0, seek: 0, loop: !1, delay: 0 } }, t), this.markers[t.name] = t, !0)) }, updateMarker: function (t) { return !(!t || !t.name || "string" != typeof t.name) && (this.markers[t.name] ? (this.markers[t.name] = o(!0, this.markers[t.name], t), !0) : (console.warn("Audio Marker: " + t.name + " missing in Sound: " + this.key), !1)) }, removeMarker: function (t) { var e = this.markers[t]; return e ? (this.markers[t] = null, e) : null }, play: function (t, e) { if (void 0 === t && (t = ""), "object" == typeof t && (e = t, t = ""), "string" != typeof t) return !1; if (t) { if (!this.markers[t]) return console.warn("Marker: " + t + " missing in Sound: " + this.key), !1; this.currentMarker = this.markers[t], this.currentConfig = this.currentMarker.config, this.duration = this.currentMarker.duration } else this.currentMarker = null, this.currentConfig = this.config, this.duration = this.totalDuration; return this.resetConfig(), this.currentConfig = o(this.currentConfig, e), this.isPlaying = !0, this.isPaused = !1, !0 }, pause: function () { return !(this.isPaused || !this.isPlaying) && (this.isPlaying = !1, this.isPaused = !0, !0) }, resume: function () { return !(!this.isPaused || this.isPlaying) && (this.isPlaying = !0, this.isPaused = !1, !0) }, stop: function () { return !(!this.isPaused && !this.isPlaying) && (this.isPlaying = !1, this.isPaused = !1, this.resetConfig(), !0) }, applyConfig: function () { this.mute = this.currentConfig.mute, this.volume = this.currentConfig.volume, this.rate = this.currentConfig.rate, this.detune = this.currentConfig.detune, this.loop = this.currentConfig.loop }, resetConfig: function () { this.currentConfig.seek = 0, this.currentConfig.delay = 0 }, update: a, calculateRate: function () { var t = this.currentConfig.detune + this.manager.detune, e = Math.pow(1.0005777895065548, t); this.totalRate = this.currentConfig.rate * this.manager.rate * e }, destroy: function () { this.pendingRemove || (this.emit(r.DESTROY, this), this.pendingRemove = !0, this.manager = null, this.key = "", this.removeAllListeners(), this.isPlaying = !1, this.isPaused = !1, this.config = null, this.currentConfig = null, this.markers = null, this.currentMarker = null) } }); t.exports = h })), n.register("5wl8F", (function (t, e) { var i = n("hw6uH"), s = n("jwj1g"), r = n("3vRz3"), o = n("4Z5ti"), a = n("13GYA"), h = new s({ Extends: r, initialize: function (t) { r.call(this), this.game = t, this.sounds = [], this.mute = !1, this.volume = 1, this.rate = 1, this.detune = 0, this.pauseOnBlur = !0, this.locked = !1 }, add: function (t, e) { var i = new o(this, t, e); return this.sounds.push(i), i }, addAudioSprite: function (t, e) { var i = this.add(t, e); return i.spritemap = {}, i }, play: function (t, e) { return !1 }, playAudioSprite: function (t, e, i) { return !1 }, remove: function (t) { return i.prototype.remove.call(this, t) }, removeByKey: function (t) { return i.prototype.removeByKey.call(this, t) }, pauseAll: a, resumeAll: a, stopAll: a, update: a, setRate: a, setDetune: a, setMute: a, setVolume: a, forEachActiveSound: function (t, e) { i.prototype.forEachActiveSound.call(this, t, e) }, destroy: function () { i.prototype.destroy.call(this) } }); t.exports = h })), n.register("4Z5ti", (function (t, e) { var i = n("4x7f5"), s = n("jwj1g"), r = n("3vRz3"), o = n("hVk4C"), a = new s({ Extends: r, initialize: function (t, e, i) { void 0 === i && (i = {}), r.call(this), this.manager = t, this.key = e, this.isPlaying = !1, this.isPaused = !1, this.totalRate = 1, this.duration = 0, this.totalDuration = 0, this.config = o({ mute: !1, volume: 1, rate: 1, detune: 0, seek: 0, loop: !1, delay: 0 }, i), this.currentConfig = this.config, this.mute = !1, this.volume = 1, this.rate = 1, this.detune = 0, this.seek = 0, this.loop = !1, this.markers = {}, this.currentMarker = null, this.pendingRemove = !1 }, addMarker: function (t) { return !1 }, updateMarker: function (t) { return !1 }, removeMarker: function (t) { return null }, play: function (t, e) { return !1 }, pause: function () { return !1 }, resume: function () { return !1 }, stop: function () { return !1 }, destroy: function () { this.manager.remove(this), i.prototype.destroy.call(this) } }); t.exports = a })), n.register("d69lL", (function (t, e) { var i = n("8wlD1"), s = n("hw6uH"), r = n("jwj1g"), o = n("kcpiS"), a = n("auhY5"), h = new r({ Extends: s, initialize: function (t) { this.context = this.createAudioContext(t), this.masterMuteNode = this.context.createGain(), this.masterVolumeNode = this.context.createGain(), this.masterMuteNode.connect(this.masterVolumeNode), this.masterVolumeNode.connect(this.context.destination), this.destination = this.masterMuteNode, this.locked = "suspended" === this.context.state && ("ontouchstart" in window || "onclick" in window), s.call(this, t), this.locked && this.unlock() }, createAudioContext: function (t) { var e = t.config.audio; return e && e.context ? (e.context.resume(), e.context) : new AudioContext }, setAudioContext: function (t) { return this.context && this.context.close(), this.masterMuteNode && this.masterMuteNode.disconnect(), this.masterVolumeNode && this.masterVolumeNode.disconnect(), this.context = t, this.masterMuteNode = t.createGain(), this.masterVolumeNode = t.createGain(), this.masterMuteNode.connect(this.masterVolumeNode), this.masterVolumeNode.connect(t.destination), this.destination = this.masterMuteNode, this }, add: function (t, e) { var i = new a(this, t, e); return this.sounds.push(i), i }, decodeAudio: function (t, e) { var s; s = Array.isArray(t) ? t : [{ key: t, data: e }]; for (var n = this.game.cache.audio, r = s.length, a = 0; a < s.length; a++) { var h = s[a], l = h.key, u = h.data; "string" == typeof u && (u = i(u)); var c = function (t, e) { n.add(t, e), this.emit(o.DECODED, t), 0 === --r && this.emit(o.DECODED_ALL) }.bind(this, l), d = function (t, e) { console.error("Error decoding audio: " + t + " - ", e ? e.message : ""), 0 === --r && this.emit(o.DECODED_ALL) }.bind(this, l); this.context.decodeAudioData(u, c, d) } }, unlock: function () { var t = this, e = document.body, i = function i() { t.context && t.context.resume().then((function () { e.removeEventListener("touchstart", i), e.removeEventListener("touchend", i), e.removeEventListener("click", i), e.removeEventListener("keydown", i), t.unlocked = !0 }), (function () { e.removeEventListener("touchstart", i), e.removeEventListener("touchend", i), e.removeEventListener("click", i), e.removeEventListener("keydown", i) })) }; e && (e.addEventListener("touchstart", i, !1), e.addEventListener("touchend", i, !1), e.addEventListener("click", i, !1), e.addEventListener("keydown", i, !1)) }, onBlur: function () { this.locked || this.context.suspend() }, onFocus: function () { this.locked || this.context.resume() }, destroy: function () { if (this.destination = null, this.masterVolumeNode.disconnect(), this.masterVolumeNode = null, this.masterMuteNode.disconnect(), this.masterMuteNode = null, this.game.config.audio && this.game.config.audio.context) this.context.suspend(); else { var t = this; this.context.close().then((function () { t.context = null })) } s.prototype.destroy.call(this) }, setMute: function (t) { return this.mute = t, this }, mute: { get: function () { return 0 === this.masterMuteNode.gain.value }, set: function (t) { this.masterMuteNode.gain.setValueAtTime(t ? 0 : 1, 0), this.emit(o.GLOBAL_MUTE, this, t) } }, setVolume: function (t) { return this.volume = t, this }, volume: { get: function () { return this.masterVolumeNode.gain.value }, set: function (t) { this.masterVolumeNode.gain.setValueAtTime(t, 0), this.emit(o.GLOBAL_VOLUME, this, t) } } }); t.exports = h })), n.register("8wlD1", (function (t, e) {
    for (
        /**
         * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
         * @author       Richard Davey <rich@photonstorm.com>
         * @copyright    2020 Photon Storm Ltd.
         * @license      {@link https://opensource.org/licenses/MIT|MIT License}
         */
        var i = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", s = new Uint8Array(256), n = 0; n < i.length; n++)s[i.charCodeAt(n)] = n; t.exports = function (t) { var e, i, n, r, o = (t = t.substr(t.indexOf(",") + 1)).length, a = .75 * o, h = 0; "=" === t[o - 1] && (a--, "=" === t[o - 2] && a--); for (var l = new ArrayBuffer(a), u = new Uint8Array(l), c = 0; c < o; c += 4)e = s[t.charCodeAt(c)], i = s[t.charCodeAt(c + 1)], n = s[t.charCodeAt(c + 2)], r = s[t.charCodeAt(c + 3)], u[h++] = e << 2 | i >> 4, u[h++] = (15 & i) << 4 | n >> 2, u[h++] = (3 & n) << 6 | 63 & r; return l }
})), n.register("auhY5", (function (t, e) { var i = n("4x7f5"), s = n("jwj1g"), r = n("kcpiS"), o = new s({ Extends: i, initialize: function (t, e, s) { if (void 0 === s && (s = {}), this.audioBuffer = t.game.cache.audio.get(e), !this.audioBuffer) throw new Error('There is no audio asset with key "' + e + '" in the audio cache'); this.source = null, this.loopSource = null, this.muteNode = t.context.createGain(), this.volumeNode = t.context.createGain(), this.playTime = 0, this.startTime = 0, this.loopTime = 0, this.rateUpdates = [], this.hasEnded = !1, this.hasLooped = !1, this.muteNode.connect(this.volumeNode), this.volumeNode.connect(t.destination), this.duration = this.audioBuffer.duration, this.totalDuration = this.audioBuffer.duration, i.call(this, t, e, s) }, play: function (t, e) { return !!i.prototype.play.call(this, t, e) && (this.stopAndRemoveBufferSource(), this.createAndStartBufferSource(), this.emit(r.PLAY, this), !0) }, pause: function () { return !(this.manager.context.currentTime < this.startTime) && (!!i.prototype.pause.call(this) && (this.currentConfig.seek = this.getCurrentTime(), this.stopAndRemoveBufferSource(), this.emit(r.PAUSE, this), !0)) }, resume: function () { return !(this.manager.context.currentTime < this.startTime) && (!!i.prototype.resume.call(this) && (this.createAndStartBufferSource(), this.emit(r.RESUME, this), !0)) }, stop: function () { return !!i.prototype.stop.call(this) && (this.stopAndRemoveBufferSource(), this.emit(r.STOP, this), !0) }, createAndStartBufferSource: function () { var t = this.currentConfig.seek, e = this.currentConfig.delay, i = this.manager.context.currentTime + e, s = (this.currentMarker ? this.currentMarker.start : 0) + t, n = this.duration - t; this.playTime = i - t, this.startTime = i, this.source = this.createBufferSource(), this.applyConfig(), this.source.start(Math.max(0, i), Math.max(0, s), Math.max(0, n)), this.resetConfig() }, createAndStartLoopBufferSource: function () { var t = this.getLoopTime(), e = this.currentMarker ? this.currentMarker.start : 0, i = this.duration; this.loopTime = t, this.loopSource = this.createBufferSource(), this.loopSource.playbackRate.setValueAtTime(this.totalRate, 0), this.loopSource.start(Math.max(0, t), Math.max(0, e), Math.max(0, i)) }, createBufferSource: function () { var t = this, e = this.manager.context.createBufferSource(); return e.buffer = this.audioBuffer, e.connect(this.muteNode), e.onended = function (e) { e.target === t.source && (t.currentConfig.loop ? t.hasLooped = !0 : t.hasEnded = !0) }, e }, stopAndRemoveBufferSource: function () { this.source && (this.source.stop(), this.source.disconnect(), this.source = null), this.playTime = 0, this.startTime = 0, this.stopAndRemoveLoopBufferSource() }, stopAndRemoveLoopBufferSource: function () { this.loopSource && (this.loopSource.stop(), this.loopSource.disconnect(), this.loopSource = null), this.loopTime = 0 }, applyConfig: function () { this.rateUpdates.length = 0, this.rateUpdates.push({ time: 0, rate: 1 }), i.prototype.applyConfig.call(this) }, update: function (t, e) { this.hasEnded ? (this.hasEnded = !1, i.prototype.stop.call(this), this.stopAndRemoveBufferSource(), this.emit(r.COMPLETE, this)) : this.hasLooped && (this.hasLooped = !1, this.source = this.loopSource, this.loopSource = null, this.playTime = this.startTime = this.loopTime, this.rateUpdates.length = 0, this.rateUpdates.push({ time: 0, rate: this.totalRate }), this.createAndStartLoopBufferSource(), this.emit(r.LOOPED, this)) }, destroy: function () { i.prototype.destroy.call(this), this.audioBuffer = null, this.stopAndRemoveBufferSource(), this.muteNode.disconnect(), this.muteNode = null, this.volumeNode.disconnect(), this.volumeNode = null, this.rateUpdates.length = 0, this.rateUpdates = null }, calculateRate: function () { i.prototype.calculateRate.call(this); var t = this.manager.context.currentTime; this.source && "number" == typeof this.totalRate && this.source.playbackRate.setValueAtTime(this.totalRate, t), this.isPlaying && (this.rateUpdates.push({ time: Math.max(this.startTime, t) - this.playTime, rate: this.totalRate }), this.loopSource && (this.stopAndRemoveLoopBufferSource(), this.createAndStartLoopBufferSource())) }, getCurrentTime: function () { for (var t = 0, e = 0; e < this.rateUpdates.length; e++) { t += ((e < this.rateUpdates.length - 1 ? this.rateUpdates[e + 1].time : this.manager.context.currentTime - this.playTime) - this.rateUpdates[e].time) * this.rateUpdates[e].rate } return t }, getLoopTime: function () { for (var t = 0, e = 0; e < this.rateUpdates.length - 1; e++)t += (this.rateUpdates[e + 1].time - this.rateUpdates[e].time) * this.rateUpdates[e].rate; var i = this.rateUpdates[this.rateUpdates.length - 1]; return this.playTime + i.time + (this.duration - t) / i.rate }, rate: { get: function () { return this.currentConfig.rate }, set: function (t) { this.currentConfig.rate = t, this.calculateRate(), this.emit(r.RATE, this, t) } }, setRate: function (t) { return this.rate = t, this }, detune: { get: function () { return this.currentConfig.detune }, set: function (t) { this.currentConfig.detune = t, this.calculateRate(), this.emit(r.DETUNE, this, t) } }, setDetune: function (t) { return this.detune = t, this }, mute: { get: function () { return 0 === this.muteNode.gain.value }, set: function (t) { this.currentConfig.mute = t, this.muteNode.gain.setValueAtTime(t ? 0 : 1, 0), this.emit(r.MUTE, this, t) } }, setMute: function (t) { return this.mute = t, this }, volume: { get: function () { return this.volumeNode.gain.value }, set: function (t) { this.currentConfig.volume = t, this.volumeNode.gain.setValueAtTime(t, 0), this.emit(r.VOLUME, this, t) } }, setVolume: function (t) { return this.volume = t, this }, seek: { get: function () { return this.isPlaying ? this.manager.context.currentTime < this.startTime ? this.startTime - this.playTime : this.getCurrentTime() : this.isPaused ? this.currentConfig.seek : 0 }, set: function (t) { this.manager.context.currentTime < this.startTime || (this.isPlaying || this.isPaused) && (t = Math.min(Math.max(0, t), this.duration), this.currentConfig.seek = t, this.isPlaying && (this.stopAndRemoveBufferSource(), this.createAndStartBufferSource()), this.emit(r.SEEK, this, t)) } }, setSeek: function (t) { return this.seek = t, this }, loop: { get: function () { return this.currentConfig.loop }, set: function (t) { this.currentConfig.loop = t, this.isPlaying && (this.stopAndRemoveLoopBufferSource(), t && this.createAndStartLoopBufferSource()), this.emit(r.LOOP, this, t) } }, setLoop: function (t) { return this.loop = t, this } }); t.exports = o })), n.register("LHpuq", (function (t, e) { var i = n("6QMQ2"), s = n("jwj1g"), r = n("ewzDY"), o = n("3vRz3"), a = n("c0SEE"), h = n("czVpT"), l = n("2kdfq"), u = new s({ Extends: o, initialize: function (t) { o.call(this), this.game = t, this.data = new r(this), this.on("setdata", this.setDataHandler, this), this.on("changedata", this.changeDataHandler, this), this.hasLoaded = !1, this.dataLocked = !1, this.supportedAPIs = [], this.entryPoint = "", this.entryPointData = null, this.contextID = null, this.contextType = null, this.locale = null, this.platform = null, this.version = null, this.playerID = null, this.playerName = null, this.playerPhotoURL = null, this.playerCanSubscribeBot = !1, this.paymentsReady = !1, this.catalog = [], this.purchases = [], this.leaderboards = {}, this.ads = [] }, setDataHandler: function (t, e, i) { if (!this.dataLocked) { var s = {}; s[e] = i; var n = this; FBInstant.player.setDataAsync(s).then((function () { n.emit("savedata", s) })) } }, changeDataHandler: function (t, e, i) { if (!this.dataLocked) { var s = {}; s[e] = i; var n = this; FBInstant.player.setDataAsync(s).then((function () { n.emit("savedata", s) })) } }, showLoadProgress: function (t) { return t.load.on("progress", (function (t) { this.hasLoaded || FBInstant.setLoadingProgress(100 * t) }), this), t.load.on("complete", (function () { this.hasLoaded || (this.hasLoaded = !0, FBInstant.startGameAsync().then(this.gameStartedHandler.bind(this))) }), this), this }, gameStarted: function () { this.hasLoaded ? this.gameStartedHandler() : (this.hasLoaded = !0, FBInstant.startGameAsync().then(this.gameStartedHandler.bind(this))) }, gameStartedHandler: function () { var t = FBInstant.getSupportedAPIs(), e = {}, i = function (t) { return t[1].toUpperCase() }; t.forEach((function (t) { t = t.replace(/\../g, i), e[t] = !0 })), this.supportedAPIs = e, this.getID(), this.getType(), this.getLocale(), this.getPlatform(), this.getSDKVersion(), this.getPlayerID(), this.getPlayerName(), this.getPlayerPhotoURL(); var s = this; FBInstant.onPause((function () { s.emit("pause") })), FBInstant.getEntryPointAsync().then((function (t) { s.entryPoint = t, s.entryPointData = FBInstant.getEntryPointData(), s.emit("startgame") })).catch((function (t) { console.warn(t) })), this.supportedAPIs.paymentsPurchaseAsync && FBInstant.payments.onReady((function () { s.paymentsReady = !0 })).catch((function (t) { console.warn(t) })) }, checkAPI: function (t) { return !!this.supportedAPIs[t] }, getID: function () { return !this.contextID && this.supportedAPIs.contextGetID && (this.contextID = FBInstant.context.getID()), this.contextID }, getType: function () { return !this.contextType && this.supportedAPIs.contextGetType && (this.contextType = FBInstant.context.getType()), this.contextType }, getLocale: function () { return !this.locale && this.supportedAPIs.getLocale && (this.locale = FBInstant.getLocale()), this.locale }, getPlatform: function () { return !this.platform && this.supportedAPIs.getPlatform && (this.platform = FBInstant.getPlatform()), this.platform }, getSDKVersion: function () { return !this.version && this.supportedAPIs.getSDKVersion && (this.version = FBInstant.getSDKVersion()), this.version }, getPlayerID: function () { return !this.playerID && this.supportedAPIs.playerGetID && (this.playerID = FBInstant.player.getID()), this.playerID }, getPlayerName: function () { return !this.playerName && this.supportedAPIs.playerGetName && (this.playerName = FBInstant.player.getName()), this.playerName }, getPlayerPhotoURL: function () { return !this.playerPhotoURL && this.supportedAPIs.playerGetPhoto && (this.playerPhotoURL = FBInstant.player.getPhoto()), this.playerPhotoURL }, loadPlayerPhoto: function (t, e) { return this.playerPhotoURL && (t.load.setCORS("anonymous"), t.load.image(e, this.playerPhotoURL), t.load.once("filecomplete-image-" + e, (function () { this.emit("photocomplete", e) }), this), t.load.start()), this }, canSubscribeBot: function () { if (this.supportedAPIs.playerCanSubscribeBotAsync) { var t = this; FBInstant.player.canSubscribeBotAsync().then((function () { t.playerCanSubscribeBot = !0, t.emit("cansubscribebot") })).catch((function (e) { t.emit("cansubscribebotfail", e) })) } else this.emit("cansubscribebotfail"); return this }, subscribeBot: function () { if (this.playerCanSubscribeBot) { var t = this; FBInstant.player.subscribeBotAsync().then((function () { t.emit("subscribebot") })).catch((function (e) { t.emit("subscribebotfail", e) })) } else this.emit("subscribebotfail"); return this }, getData: function (t) { if (!this.checkAPI("playerGetDataAsync")) return this; Array.isArray(t) || (t = [t]); var e = this; return FBInstant.player.getDataAsync(t).then((function (t) { for (var i in e.dataLocked = !0, t) e.data.set(i, t[i]); e.dataLocked = !1, e.emit("getdata", t) })), this }, saveData: function (t) { if (!this.checkAPI("playerSetDataAsync")) return this; var e = this; return FBInstant.player.setDataAsync(t).then((function () { e.emit("savedata", t) })).catch((function (t) { e.emit("savedatafail", t) })), this }, flushData: function () { if (!this.checkAPI("playerFlushDataAsync")) return this; var t = this; return FBInstant.player.flushDataAsync().then((function () { t.emit("flushdata") })).catch((function (e) { t.emit("flushdatafail", e) })), this }, getStats: function (t) { if (!this.checkAPI("playerGetStatsAsync")) return this; var e = this; return FBInstant.player.getStatsAsync(t).then((function (t) { e.emit("getstats", t) })).catch((function (t) { e.emit("getstatsfail", t) })), this }, saveStats: function (t) { if (!this.checkAPI("playerSetStatsAsync")) return this; var e = {}; for (var i in t) "number" == typeof t[i] && (e[i] = t[i]); var s = this; return FBInstant.player.setStatsAsync(e).then((function () { s.emit("savestats", e) })).catch((function (t) { s.emit("savestatsfail", t) })), this }, incStats: function (t) { if (!this.checkAPI("playerIncrementStatsAsync")) return this; var e = {}; for (var i in t) "number" == typeof t[i] && (e[i] = t[i]); var s = this; return FBInstant.player.incrementStatsAsync(e).then((function (t) { s.emit("incstats", t) })).catch((function (t) { s.emit("incstatsfail", t) })), this }, saveSession: function (t) { return this.checkAPI("setSessionData") ? (JSON.stringify(t).length <= 1e3 ? FBInstant.setSessionData(t) : console.warn("Session data too long. Max 1000 chars."), this) : this }, openShare: function (t, e, i, s) { return this._share("SHARE", t, e, i, s) }, openInvite: function (t, e, i, s) { return this._share("INVITE", t, e, i, s) }, openRequest: function (t, e, i, s) { return this._share("REQUEST", t, e, i, s) }, openChallenge: function (t, e, i, s) { return this._share("CHALLENGE", t, e, i, s) }, _share: function (t, e, i, s, n) { if (!this.checkAPI("shareAsync")) return this; if (void 0 === n && (n = {}), i) var r = this.game.textures.getBase64(i, s); var o = { intent: t, image: r, text: e, data: n }, a = this; return FBInstant.shareAsync(o).then((function () { a.emit("resume") })), this }, isSizeBetween: function (t, e) { return this.checkAPI("contextIsSizeBetween") ? FBInstant.context.isSizeBetween(t, e) : this }, switchContext: function (t) { if (!this.checkAPI("contextSwitchAsync")) return this; if (t !== this.contextID) { var e = this; FBInstant.context.switchAsync(t).then((function () { e.contextID = FBInstant.context.getID(), e.emit("switch", e.contextID) })).catch((function (t) { e.emit("switchfail", t) })) } return this }, chooseContext: function (t) { if (!this.checkAPI("contextChooseAsync")) return this; var e = this; return FBInstant.context.chooseAsync(t).then((function () { e.contextID = FBInstant.context.getID(), e.emit("choose", e.contextID) })).catch((function (t) { e.emit("choosefail", t) })), this }, createContext: function (t) { if (!this.checkAPI("contextCreateAsync")) return this; var e = this; return FBInstant.context.createAsync(t).then((function () { e.contextID = FBInstant.context.getID(), e.emit("create", e.contextID) })).catch((function (t) { e.emit("createfail", t) })), this }, getPlayers: function () { if (!this.checkAPI("playerGetConnectedPlayersAsync")) return this; var t = this; return FBInstant.player.getConnectedPlayersAsync().then((function (e) { t.emit("players", e) })).catch((function (e) { t.emit("playersfail", e) })), this }, getCatalog: function () { if (!this.paymentsReady) return this; var t = this, e = this.catalog; return FBInstant.payments.getCatalogAsync().then((function (i) { e = [], i.forEach((function (t) { e.push(h(t)) })), t.emit("getcatalog", e) })).catch((function (e) { t.emit("getcatalogfail", e) })), this }, getProduct: function (t) { for (var e = 0; e < this.catalog.length; e++)if (this.catalog[e].productID === t) return this.catalog[e]; return null }, purchase: function (t, e) { if (!this.paymentsReady) return this; var i = { productID: t }; e && (i.developerPayload = e); var s = this; return FBInstant.payments.purchaseAsync(i).then((function (t) { var e = l(t); s.emit("purchase", e) })).catch((function (t) { s.emit("purchasefail", t) })), this }, getPurchases: function () { if (!this.paymentsReady) return this; var t = this, e = this.purchases; return FBInstant.payments.getPurchasesAsync().then((function (i) { e = [], i.forEach((function (t) { e.push(l(t)) })), t.emit("getpurchases", e) })).catch((function (e) { t.emit("getpurchasesfail", e) })), this }, consumePurchase: function (t) { if (!this.paymentsReady) return this; var e = this; return FBInstant.payments.consumePurchaseAsync(t).then((function () { e.emit("consumepurchase", t) })).catch((function (t) { e.emit("consumepurchasefail", t) })), this }, update: function (t, e, i, s, n, r) { return this._update("CUSTOM", t, e, i, s, n, r) }, updateLeaderboard: function (t, e, i, s, n, r) { return this._update("LEADERBOARD", t, e, i, s, n, r) }, _update: function (t, e, i, s, n, r, o) { if (!this.checkAPI("shareAsync")) return this; if (void 0 === e && (e = ""), "string" == typeof i && (i = { default: i }), void 0 === o && (o = {}), s) var a = this.game.textures.getBase64(s, n); var h = { action: t, cta: e, image: a, text: i, template: r, data: o, strategy: "IMMEDIATE", notification: "NO_PUSH" }, l = this; return FBInstant.updateAsync(h).then((function () { l.emit("update") })).catch((function (t) { l.emit("updatefail", t) })), this }, switchGame: function (t, e) { if (!this.checkAPI("switchGameAsync")) return this; if (e && JSON.stringify(e).length > 1e3) return console.warn("Switch Game data too long. Max 1000 chars."), this; var i = this; return FBInstant.switchGameAsync(t, e).then((function () { i.emit("switchgame", t) })).catch((function (t) { i.emit("switchgamefail", t) })), this }, createShortcut: function () { var t = this; return FBInstant.canCreateShortcutAsync().then((function (e) { e && FBInstant.createShortcutAsync().then((function () { t.emit("shortcutcreated") })).catch((function (e) { t.emit("shortcutfailed", e) })) })), this }, quit: function () { FBInstant.quit() }, log: function (t, e, i) { return this.checkAPI("logEvent") ? (void 0 === i && (i = {}), t.length >= 2 && t.length <= 40 && FBInstant.logEvent(t, parseFloat(e), i), this) : this }, preloadAds: function (t) { if (!this.checkAPI("getInterstitialAdAsync")) return this; var e; Array.isArray(t) || (t = [t]); var s = this, n = 0; for (e = 0; e < this.ads.length; e++)this.ads[e].shown || n++; if (n + t.length >= 3) return console.warn("Too many AdInstances. Show an ad before loading more"), this; for (e = 0; e < t.length; e++) { var r, o = t[e]; FBInstant.getInterstitialAdAsync(o).then((function (t) { return r = t, t.loadAsync() })).then((function () { var t = i(o, r, !1); s.ads.push(t), s.emit("adloaded", t) })).catch((function (t) { "ADS_NO_FILL" === t.code ? s.emit("adsnofill", o) : "ADS_FREQUENT_LOAD" === t.code ? s.emit("adsfrequentload", o) : console.warn(t) })) } return this }, preloadVideoAds: function (t) { if (!this.checkAPI("getRewardedVideoAsync")) return this; var e; Array.isArray(t) || (t = [t]); var s = this, n = 0; for (e = 0; e < this.ads.length; e++)this.ads[e].shown || n++; if (n + t.length >= 3) return console.warn("Too many AdInstances. Show an ad before loading more"), this; for (e = 0; e < t.length; e++) { var r, o = t[e]; FBInstant.getRewardedVideoAsync(o).then((function (t) { return r = t, t.loadAsync() })).then((function () { var t = i(o, r, !0); s.ads.push(t), s.emit("adloaded", t) })).catch((function (t) { "ADS_NO_FILL" === t.code ? s.emit("adsnofill", o) : "ADS_FREQUENT_LOAD" === t.code ? s.emit("adsfrequentload", o) : console.warn(t) })) } return this }, showAd: function (t) { for (var e = this, i = 0; i < this.ads.length; i++) { var s = this.ads[i]; if (s.placementID === t && !s.shown) { s.instance.showAsync().then((function () { s.shown = !0, e.emit("adfinished", s) })).catch((function (t) { "ADS_NOT_LOADED" === t.code ? e.emit("adsnotloaded", s) : "RATE_LIMITED" === t.code && e.emit("adratelimited", s), e.emit("adshowerror", t, s) })); break } } return this }, showVideo: function (t) { for (var e = this, i = 0; i < this.ads.length; i++) { var s = this.ads[i]; if (s.placementID === t && s.video && !s.shown) { s.instance.showAsync().then((function () { s.shown = !0, e.emit("adfinished", s) })).catch((function (t) { "ADS_NOT_LOADED" === t.code ? e.emit("adsnotloaded", s) : "RATE_LIMITED" === t.code && e.emit("adratelimited", s), e.emit("adshowerror", t, s) })); break } } return this }, matchPlayer: function (t, e) { if (void 0 === t && (t = null), void 0 === e && (e = !1), !this.checkAPI("matchPlayerAsync")) return this; var i = this; return FBInstant.matchPlayerAsync(t, e).then((function () { i.getID(), i.getType(), i.emit("matchplayer", i.contextID, i.contextType) })), this }, getLeaderboard: function (t) { if (!this.checkAPI("getLeaderboardAsync")) return this; var e = this; return FBInstant.getLeaderboardAsync(t).then((function (i) { var s = new a(e, i); e.leaderboards[t] = s, e.emit("getleaderboard", s) })).catch((function (t) { console.warn(t) })), this }, destroy: function () { FBInstant.quit(), this.data.destroy(), this.removeAllListeners(), this.catalog = [], this.purchases = [], this.leaderboards = [], this.ads = [], this.game = null } }); t.exports = u })), n.register("6QMQ2", (function (t, e) { t.exports = function (t, e, i) { return { instance: e, placementID: t, shown: !1, video: i } } })), n.register("c0SEE", (function (t, e) { var i = n("jwj1g"), s = n("3vRz3"), r = n("aNzkO"), o = new i({ Extends: s, initialize: function (t, e) { s.call(this), this.plugin = t, this.ref = e, this.name = e.getName(), this.contextID = e.getContextID(), this.entryCount = 0, this.playerScore = null, this.scores = [], this.getEntryCount() }, getEntryCount: function () { var t = this; return this.ref.getEntryCountAsync().then((function (e) { t.entryCount = e, t.emit("getentrycount", e, t.name) })).catch((function (t) { console.warn(t) })), this }, setScore: function (t, e) { void 0 === e && (e = ""), "object" == typeof e && (e = JSON.stringify(e)); var i = this; return this.ref.setScoreAsync(t, e).then((function (t) { if (t) { var e = r(t); i.playerScore = e, i.emit("setscore", e, i.name) } else i.emit("setscore", null, i.name) })).catch((function (t) { console.warn(t) })), this }, getPlayerScore: function () { var t = this; return this.ref.getPlayerEntryAsync().then((function (e) { if (e) { var i = r(e); t.playerScore = i, t.emit("getplayerscore", i, t.name) } else t.emit("getplayerscore", null, t.name) })).catch((function (t) { console.warn(t) })), this }, getScores: function (t, e) { void 0 === t && (t = 10), void 0 === e && (e = 0); var i = this; return this.ref.getEntriesAsync(t, e).then((function (t) { i.scores = [], t.forEach((function (t) { i.scores.push(r(t)) })), i.emit("getscores", i.scores, i.name) })).catch((function (t) { console.warn(t) })), this }, getConnectedScores: function () { var t = this; return this.ref.getConnectedPlayerEntriesAsync().then((function (e) { t.scores = [], e.forEach((function (e) { t.scores.push(r(e)) })), t.emit("getconnectedscores", t.scores, t.name) })).catch((function (t) { console.warn(t) })), this } }); t.exports = o })), n.register("aNzkO", (function (t, e) { t.exports = function (t) { return { score: t.getScore(), scoreFormatted: t.getFormattedScore(), timestamp: t.getTimestamp(), rank: t.getRank(), data: t.getExtraData(), playerName: t.getPlayer().getName(), playerPhotoURL: t.getPlayer().getPhoto(), playerID: t.getPlayer().getID() } } })), n.register("czVpT", (function (t, e) { var i = n("7BSWl"); t.exports = function (t) { return { title: i(t, "title", ""), productID: i(t, "productID", ""), description: i(t, "description", ""), imageURI: i(t, "imageURI", ""), price: i(t, "price", ""), priceCurrencyCode: i(t, "priceCurrencyCode", "") } } })), n.register("2kdfq", (function (t, e) { var i = n("7BSWl"); t.exports = function (t) { return { developerPayload: i(t, "developerPayload", ""), paymentID: i(t, "paymentID", ""), productID: i(t, "productID", ""), purchaseTime: i(t, "purchaseTime", ""), purchaseToken: i(t, "purchaseToken", ""), signedRequest: i(t, "signedRequest", "") } } })), n.register("kNR1J", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    var i = { Events: n("jIv3O"), DisplayList: n("l2vY8"), GameObjectCreator: n("ebQQp"), GameObjectFactory: n("kge7H"), UpdateList: n("2WeDD"), Components: n("4FF1v"), BuildGameObject: n("i9cSP"), BuildGameObjectAnimation: n("cDuAM"), GameObject: n("1zqlR"), BitmapText: n("gvPR8"), Blitter: n("2cD2D"), Container: n("ixgBh"), DOMElement: n("gZAGH"), DynamicBitmapText: n("5soSO"), Extern: n("9I9TZ"), Graphics: n("2Irqj"), Group: n("hDBsd"), Image: n("8qGvv"), Particles: n("jyMeR"), PathFollower: n("75mFg"), RenderTexture: n("iCX4n"), RetroFont: n("eCKky"), Sprite: n("gXuc8"), Text: n("1jO0s"), TileSprite: n("kwyUq"), Zone: n("dZGDG"), Video: n("Cfqdl"), Shape: n("6cKpG"), Arc: n("ab6uD"), Curve: n("20vs1"), Ellipse: n("i1Pn1"), Grid: n("3qA3v"), IsoBox: n("ibqbn"), IsoTriangle: n("e1XH0"), Line: n("cW0dL"), Polygon: n("4HMPS"), Rectangle: n("gGVmO"), Star: n("lemMU"), Triangle: n("b6DRH"), Factories: { Blitter: n("i3l6S"), Container: n("gE6ET"), DOMElement: n("ghXwl"), DynamicBitmapText: n("pLPkQ"), Extern: n("3f2P6"), Graphics: n("5tfzZ"), Group: n("knm1M"), Image: n("dI5N4"), Particles: n("fgDAM"), PathFollower: n("iE8dp"), RenderTexture: n("60zoM"), Sprite: n("5SbTm"), StaticBitmapText: n("iv8Vm"), Text: n("8BYGq"), TileSprite: n("ivPvd"), Zone: n("6HUvG"), Video: n("aFn2V"), Arc: n("kh6qR"), Curve: n("kVr0M"), Ellipse: n("1f8NL"), Grid: n("kJGm5"), IsoBox: n("4MiAm"), IsoTriangle: n("5wABL"), Line: n("jyuVH"), Polygon: n("1dcev"), Rectangle: n("9pPj8"), Star: n("7gJso"), Triangle: n("dhc8H") }, Creators: { Blitter: n("hS4bP"), Container: n("azfIw"), DynamicBitmapText: n("aQ5a3"), Graphics: n("aSOvl"), Group: n("kteFs"), Image: n("978g9"), Particles: n("k6UHi"), RenderTexture: n("fc299"), Sprite: n("jEuMc"), StaticBitmapText: n("k8onx"), Text: n("ejLtj"), TileSprite: n("4wQ0d"), Zone: n("1Uncu"), Video: n("3HD58") } }; i.Mesh = n("3JO7H"), i.Quad = n("frkgB"), i.Shader = n("iwnS9"), i.Factories.Mesh = n("ek47i"), i.Factories.Quad = n("5sQTt"), i.Factories.Shader = n("imx1M"), i.Creators.Mesh = n("3VQSR"), i.Creators.Quad = n("aW7lj"), i.Creators.Shader = n("7bRuL"), i.Light = n("hDwlH"), n("5eZQq"), n("hsf2U"), t.exports = i
})), n.register("l2vY8", (function (t, e) { var i = n("jwj1g"), s = n("aqhsx"), r = n("7AzQW"), o = n("4rtgc"), a = n("7D0e6"), h = new i({ Extends: s, initialize: function (t) { s.call(this, t), this.sortChildrenFlag = !1, this.scene = t, this.systems = t.sys, t.sys.events.once(o.BOOT, this.boot, this), t.sys.events.on(o.START, this.start, this) }, boot: function () { this.systems.events.once(o.DESTROY, this.destroy, this) }, start: function () { this.systems.events.once(o.SHUTDOWN, this.shutdown, this) }, queueDepthSort: function () { this.sortChildrenFlag = !0 }, depthSort: function () { this.sortChildrenFlag && (a.inplace(this.list, this.sortByDepth), this.sortChildrenFlag = !1) }, sortByDepth: function (t, e) { return t._depth - e._depth }, getChildren: function () { return this.list }, shutdown: function () { for (var t = this.list.length; t--;)this.list[t].destroy(!0); this.list.length = 0, this.systems.events.off(o.SHUTDOWN, this.shutdown, this) }, destroy: function () { this.shutdown(), this.scene.sys.events.off(o.START, this.start, this), this.scene = null, this.systems = null } }); r.register("DisplayList", h, "displayList"), t.exports = h })), n.register("aqhsx", (function (t, e) { var i = n("3Mp2n"), s = n("jwj1g"), r = n("13GYA"), o = n("7D0e6"), a = new s({ initialize: function (t) { this.parent = t, this.list = [], this.position = 0, this.addCallback = r, this.removeCallback = r, this._sortKey = "" }, add: function (t, e) { return e ? i.Add(this.list, t) : i.Add(this.list, t, 0, this.addCallback, this) }, addAt: function (t, e, s) { return s ? i.AddAt(this.list, t, e) : i.AddAt(this.list, t, e, 0, this.addCallback, this) }, getAt: function (t) { return this.list[t] }, getIndex: function (t) { return this.list.indexOf(t) }, sort: function (t, e) { return t ? (void 0 === e && (e = function (e, i) { return e[t] - i[t] }), o.inplace(this.list, e), this) : this }, getByName: function (t) { return i.GetFirst(this.list, "name", t) }, getRandom: function (t, e) { return i.GetRandom(this.list, t, e) }, getFirst: function (t, e, s, n) { return i.GetFirst(this.list, t, e, s, n) }, getAll: function (t, e, s, n) { return i.GetAll(this.list, t, e, s, n) }, count: function (t, e) { return i.CountAllMatching(this.list, t, e) }, swap: function (t, e) { i.Swap(this.list, t, e) }, moveTo: function (t, e) { return i.MoveTo(this.list, t, e) }, remove: function (t, e) { return e ? i.Remove(this.list, t) : i.Remove(this.list, t, this.removeCallback, this) }, removeAt: function (t, e) { return e ? i.RemoveAt(this.list, t) : i.RemoveAt(this.list, t, this.removeCallback, this) }, removeBetween: function (t, e, s) { return s ? i.RemoveBetween(this.list, t, e) : i.RemoveBetween(this.list, t, e, this.removeCallback, this) }, removeAll: function (t) { for (var e = this.list.length; e--;)this.remove(this.list[e], t); return this }, bringToTop: function (t) { return i.BringToTop(this.list, t) }, sendToBack: function (t) { return i.SendToBack(this.list, t) }, moveUp: function (t) { return i.MoveUp(this.list, t), t }, moveDown: function (t) { return i.MoveDown(this.list, t), t }, reverse: function () { return this.list.reverse(), this }, shuffle: function () { return i.Shuffle(this.list), this }, replace: function (t, e) { return i.Replace(this.list, t, e) }, exists: function (t) { return this.list.indexOf(t) > -1 }, setAll: function (t, e, s, n) { return i.SetAll(this.list, t, e, s, n), this }, each: function (t, e) { for (var i = [null], s = 2; s < arguments.length; s++)i.push(arguments[s]); for (s = 0; s < this.list.length; s++)i[0] = this.list[s], t.apply(e, i) }, shutdown: function () { this.removeAll(), this.list = [] }, destroy: function () { this.removeAll(), this.parent = null, this.addCallback = null, this.removeCallback = null }, length: { get: function () { return this.list.length } }, first: { get: function () { return this.position = 0, this.list.length > 0 ? this.list[0] : null } }, last: { get: function () { return this.list.length > 0 ? (this.position = this.list.length - 1, this.list[this.position]) : null } }, next: { get: function () { return this.position < this.list.length ? (this.position++, this.list[this.position]) : null } }, previous: { get: function () { return this.position > 0 ? (this.position--, this.list[this.position]) : null } } }); t.exports = a })), n.register("3Mp2n", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { Matrix: n("6Yg0C"), Add: n("eN80y"), AddAt: n("57oIl"), BringToTop: n("eqPcv"), CountAllMatching: n("3Tziy"), Each: n("6Gqgp"), EachInRange: n("aUDwM"), FindClosestInSorted: n("3tt0c"), GetAll: n("9CZay"), GetFirst: n("at5Hg"), GetRandom: n("5H1qm"), MoveDown: n("3opXF"), MoveTo: n("lqyO8"), MoveUp: n("6Pd3W"), NumberArray: n("3L6N7"), NumberArrayStep: n("e6GZn"), QuickSelect: n("1ohUM"), Range: n("3OeE3"), Remove: n("2SW6f"), RemoveAt: n("dT2eW"), RemoveBetween: n("b32kD"), RemoveRandomElement: n("3dAOl"), Replace: n("1sHs4"), RotateLeft: n("jq6lX"), RotateRight: n("7ZIew"), SafeRange: n("9GGLm"), SendToBack: n("1KJmp"), SetAll: n("4x0c3"), Shuffle: n("Na5BX"), SpliceOne: n("eOqX8"), StableSort: n("7D0e6"), Swap: n("g1DUE") }
})), n.register("6Yg0C", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { CheckMatrix: n("60a3X"), MatrixToString: n("fLsp3"), ReverseColumns: n("6IAYj"), ReverseRows: n("790OL"), Rotate180: n("it2Do"), RotateLeft: n("d7unX"), RotateMatrix: n("it2gi"), RotateRight: n("iqk2I"), TransposeMatrix: n("aGT6U") }
})), n.register("60a3X", (function (t, e) { t.exports = function (t) { if (!Array.isArray(t) || t.length < 2 || !Array.isArray(t[0])) return !1; for (var e = t[0].length, i = 1; i < t.length; i++)if (t[i].length !== e) return !1; return !0 } })), n.register("fLsp3", (function (t, e) { var i = n("7y2Q8"), s = n("60a3X"); t.exports = function (t) { var e = ""; if (!s(t)) return e; for (var n = 0; n < t.length; n++) { for (var r = 0; r < t[n].length; r++) { var o = t[n][r].toString(); e += "undefined" !== o ? i(o, 2) : "?", r < t[n].length - 1 && (e += " |") } if (n < t.length - 1) { e += "\n"; for (var a = 0; a < t[n].length; a++)e += "---", a < t[n].length - 1 && (e += "+"); e += "\n" } } return e } })), n.register("6IAYj", (function (t, e) { t.exports = function (t) { return t.reverse() } })), n.register("790OL", (function (t, e) { t.exports = function (t) { for (var e = 0; e < t.length; e++)t[e].reverse(); return t } })), n.register("it2Do", (function (t, e) { var i = n("it2gi"); t.exports = function (t) { return i(t, 180) } })), n.register("it2gi", (function (t, e) { var i = n("60a3X"), s = n("aGT6U"); t.exports = function (t, e) { if (void 0 === e && (e = 90), !i(t)) return null; if ("string" != typeof e && (e = (e % 360 + 360) % 360), 90 === e || -270 === e || "rotateLeft" === e) (t = s(t)).reverse(); else if (-90 === e || 270 === e || "rotateRight" === e) t.reverse(), t = s(t); else if (180 === Math.abs(e) || "rotate180" === e) { for (var n = 0; n < t.length; n++)t[n].reverse(); t.reverse() } return t } })), n.register("aGT6U", (function (t, e) { t.exports = function (t) { for (var e = t.length, i = t[0].length, s = new Array(i), n = 0; n < i; n++) { s[n] = new Array(e); for (var r = e - 1; r > -1; r--)s[n][r] = t[r][n] } return s } })), n.register("d7unX", (function (t, e) { var i = n("it2gi"); t.exports = function (t) { return i(t, 90) } })), n.register("iqk2I", (function (t, e) { var i = n("it2gi"); t.exports = function (t) { return i(t, -90) } })), n.register("eN80y", (function (t, e) { t.exports = function (t, e, i, s, n) { if (void 0 === n && (n = t), i > 0) { var r = i - t.length; if (r <= 0) return null } if (!Array.isArray(e)) return -1 === t.indexOf(e) ? (t.push(e), s && s.call(n, e), e) : null; for (var o = e.length - 1; o >= 0;)-1 !== t.indexOf(e[o]) && e.splice(o, 1), o--; if (0 === (o = e.length)) return null; i > 0 && o > r && (e.splice(r), o = r); for (var a = 0; a < o; a++) { var h = e[a]; t.push(h), s && s.call(n, h) } return e } })), n.register("57oIl", (function (t, e) { t.exports = function (t, e, i, s, n, r) { if (void 0 === i && (i = 0), void 0 === r && (r = t), s > 0) { var o = s - t.length; if (o <= 0) return null } if (!Array.isArray(e)) return -1 === t.indexOf(e) ? (t.splice(i, 0, e), n && n.call(r, e), e) : null; for (var a = e.length - 1; a >= 0;)-1 !== t.indexOf(e[a]) && e.pop(), a--; if (0 === (a = e.length)) return null; s > 0 && a > o && (e.splice(o), a = o); for (var h = a - 1; h >= 0; h--) { var l = e[h]; t.splice(i, 0, l), n && n.call(r, l) } return e } })), n.register("eqPcv", (function (t, e) { t.exports = function (t, e) { var i = t.indexOf(e); return -1 !== i && i < t.length && (t.splice(i, 1), t.push(e)), e } })), n.register("3Tziy", (function (t, e) { var i = n("9GGLm"); t.exports = function (t, e, s, n, r) { void 0 === n && (n = 0), void 0 === r && (r = t.length); var o = 0; if (i(t, n, r)) for (var a = n; a < r; a++) { t[a][e] === s && o++ } return o } })), n.register("9GGLm", (function (t, e) { t.exports = function (t, e, i, s) { var n = t.length; if (e < 0 || e > n || e >= i || i > n || e + i > n) { if (s) throw new Error("Range Error: Values outside acceptable range"); return !1 } return !0 } })), n.register("6Gqgp", (function (t, e) { t.exports = function (t, e, i) { var s, n = [null]; for (s = 3; s < arguments.length; s++)n.push(arguments[s]); for (s = 0; s < t.length; s++)n[0] = t[s], e.apply(i, n); return t } })), n.register("aUDwM", (function (t, e) { var i = n("9GGLm"); t.exports = function (t, e, s, n, r) { if (void 0 === n && (n = 0), void 0 === r && (r = t.length), i(t, n, r)) { var o, a = [null]; for (o = 5; o < arguments.length; o++)a.push(arguments[o]); for (o = n; o < r; o++)a[0] = t[o], e.apply(s, a) } return t } })), n.register("9CZay", (function (t, e) { var i = n("9GGLm"); t.exports = function (t, e, s, n, r) { void 0 === n && (n = 0), void 0 === r && (r = t.length); var o = []; if (i(t, n, r)) for (var a = n; a < r; a++) { var h = t[a]; (!e || e && void 0 === s && h.hasOwnProperty(e) || e && void 0 !== s && h[e] === s) && o.push(h) } return o } })), n.register("at5Hg", (function (t, e) { var i = n("9GGLm"); t.exports = function (t, e, s, n, r) { if (void 0 === n && (n = 0), void 0 === r && (r = t.length), i(t, n, r)) for (var o = n; o < r; o++) { var a = t[o]; if (!e || e && void 0 === s && a.hasOwnProperty(e) || e && void 0 !== s && a[e] === s) return a } return null } })), n.register("5H1qm", (function (t, e) { t.exports = function (t, e, i) { void 0 === e && (e = 0), void 0 === i && (i = t.length); var s = e + Math.floor(Math.random() * i); return void 0 === t[s] ? null : t[s] } })), n.register("3opXF", (function (t, e) { t.exports = function (t, e) { var i = t.indexOf(e); if (i > 0) { var s = t[i - 1], n = t.indexOf(s); t[i] = s, t[n] = e } return t } })), n.register("lqyO8", (function (t, e) { t.exports = function (t, e, i) { var s = t.indexOf(e); if (-1 === s || i < 0 || i >= t.length) throw new Error("Supplied index out of bounds"); return s !== i && (t.splice(s, 1), t.splice(i, 0, e)), e } })), n.register("6Pd3W", (function (t, e) { t.exports = function (t, e) { var i = t.indexOf(e); if (-1 !== i && i < t.length - 1) { var s = t[i + 1], n = t.indexOf(s); t[i] = s, t[n] = e } return t } })), n.register("3L6N7", (function (t, e) { t.exports = function (t, e, i, s) { for (var n = [], r = t; r <= e; r++)if (i || s) { var o = i ? i + r.toString() : r.toString(); s && (o = o.concat(s)), n.push(o) } else n.push(r); return n } })), n.register("e6GZn", (function (t, e) { var i = n("dzVSZ"); t.exports = function (t, e, s) { void 0 === t && (t = 0), void 0 === e && (e = null), void 0 === s && (s = 1), null === e && (e = t, t = 0); for (var n = [], r = Math.max(i((e - t) / (s || 1)), 0), o = 0; o < r; o++)n.push(t), t += s; return n } })), n.register("1ohUM", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    function i(t, e, i) { var s = t[e]; t[e] = t[i], t[i] = s } function s(t, e) { return t < e ? -1 : t > e ? 1 : 0 } var n = function (t, e, r, o, a) { for (void 0 === r && (r = 0), void 0 === o && (o = t.length - 1), void 0 === a && (a = s); o > r;) { if (o - r > 600) { var h = o - r + 1, l = e - r + 1, u = Math.log(h), c = .5 * Math.exp(2 * u / 3), d = .5 * Math.sqrt(u * c * (h - c) / h) * (l - h / 2 < 0 ? -1 : 1), f = Math.max(r, Math.floor(e - l * c / h + d)), p = Math.min(o, Math.floor(e + (h - l) * c / h + d)); n(t, e, f, p, a) } var g = t[e], v = r, m = o; for (i(t, r, e), a(t[o], g) > 0 && i(t, r, o); v < m;) { for (i(t, v, m), v++, m--; a(t[v], g) < 0;)v++; for (; a(t[m], g) > 0;)m-- } 0 === a(t[r], g) ? i(t, r, m) : i(t, ++m, o), m <= e && (r = m + 1), e <= m && (o = m - 1) } }; t.exports = n
})), n.register("3OeE3", (function (t, e) { var i = n("5pMDk"), s = n("Na5BX"), r = function (t, e, i) { for (var s = [], n = 0; n < t.length; n++)for (var r = 0; r < e.length; r++)for (var o = 0; o < i; o++)s.push({ a: t[n], b: e[r] }); return s }; t.exports = function (t, e, n) { var o = i(n, "max", 0), a = i(n, "qty", 1), h = i(n, "random", !1), l = i(n, "randomB", !1), u = i(n, "repeat", 0), c = i(n, "yoyo", !1), d = []; if (l && s(e), -1 === u) if (0 === o) u = 0; else { var f = t.length * e.length * a; c && (f *= 2), u = Math.ceil(o / f) } for (var p = 0; p <= u; p++) { var g = r(t, e, a); h && s(g), d = d.concat(g), c && (g.reverse(), d = d.concat(g)) } return o && d.splice(o), d } })), n.register("dT2eW", (function (t, e) { var i = n("eOqX8"); t.exports = function (t, e, s, n) { if (void 0 === n && (n = t), e < 0 || e > t.length - 1) throw new Error("Index out of bounds"); var r = i(t, e); return s && s.call(n, r), r } })), n.register("b32kD", (function (t, e) { var i = n("9GGLm"); t.exports = function (t, e, s, n, r) { if (void 0 === e && (e = 0), void 0 === s && (s = t.length), void 0 === r && (r = t), i(t, e, s)) { var o = s - e, a = t.splice(e, o); if (n) for (var h = 0; h < a.length; h++) { var l = a[h]; n.call(r, l) } return a } return [] } })), n.register("3dAOl", (function (t, e) { var i = n("eOqX8"); t.exports = function (t, e, s) { void 0 === e && (e = 0), void 0 === s && (s = t.length); var n = e + Math.floor(Math.random() * s); return i(t, n) } })), n.register("1sHs4", (function (t, e) { t.exports = function (t, e, i) { var s = t.indexOf(e), n = t.indexOf(i); return -1 !== s && -1 === n && (t[s] = i, !0) } })), n.register("1KJmp", (function (t, e) { t.exports = function (t, e) { var i = t.indexOf(e); return -1 !== i && i > 0 && (t.splice(i, 1), t.unshift(e)), e } })), n.register("4x0c3", (function (t, e) { var i = n("9GGLm"); t.exports = function (t, e, s, n, r) { if (void 0 === n && (n = 0), void 0 === r && (r = t.length), i(t, n, r)) for (var o = n; o < r; o++) { var a = t[o]; a.hasOwnProperty(e) && (a[e] = s) } return t } })), n.register("7D0e6", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    //! stable.js 0.1.6, https://github.com/Two-Screen/stable
    //! © 2017 Angry Bytes and contributors. MIT licensed.
    !function () { var e = function (t, e) { return i(t.slice(), e) }; function i(t, e) { "function" != typeof e && (e = function (t, e) { return String(t).localeCompare(e) }); var i = t.length; if (i <= 1) return t; for (var n = new Array(i), r = 1; r < i; r *= 2) { s(t, e, r, n); var o = t; t = n, n = o } return t } e.inplace = function (t, e) { var n = i(t, e); return n !== t && s(n, null, t.length, t), t }; var s = function (t, e, i, s) { var n, r, o, a, h, l = t.length, u = 0, c = 2 * i; for (n = 0; n < l; n += c)for (o = (r = n + i) + i, r > l && (r = l), o > l && (o = l), a = n, h = r; ;)if (a < r && h < o) e(t[a], t[h]) <= 0 ? s[u++] = t[a++] : s[u++] = t[h++]; else if (a < r) s[u++] = t[a++]; else { if (!(h < o)) break; s[u++] = t[h++] } }; void 0 !== t ? t.exports = e : window.stable = e }()
})), n.register("g1DUE", (function (t, e) { t.exports = function (t, e, i) { if (e !== i) { var s = t.indexOf(e), n = t.indexOf(i); if (s < 0 || n < 0) throw new Error("Supplied items must be elements of the same array"); return t[s] = i, t[n] = e, t } } })), n.register("2WeDD", (function (t, e) { var i = n("jwj1g"), s = n("gz3ML"), r = n("7AzQW"), o = n("4rtgc"), a = new i({ Extends: s, initialize: function (t) { s.call(this), this.scene = t, this.systems = t.sys, t.sys.events.once(o.BOOT, this.boot, this), t.sys.events.on(o.START, this.start, this) }, boot: function () { this.systems.events.once(o.DESTROY, this.destroy, this) }, start: function () { var t = this.systems.events; t.on(o.PRE_UPDATE, this.update, this), t.on(o.UPDATE, this.sceneUpdate, this), t.once(o.SHUTDOWN, this.shutdown, this) }, sceneUpdate: function (t, e) { for (var i = this._active, s = i.length, n = 0; n < s; n++) { var r = i[n]; r.active && r.preUpdate.call(r, t, e) } }, shutdown: function () { for (var t = this._active.length; t--;)this._active[t].destroy(!0); for (t = this._pending.length; t--;)this._pending[t].destroy(!0); for (t = this._destroy.length; t--;)this._destroy[t].destroy(!0); this._toProcess = 0, this._pending = [], this._active = [], this._destroy = [], this.removeAllListeners(); var e = this.systems.events; e.off(o.PRE_UPDATE, this.preUpdate, this), e.off(o.UPDATE, this.sceneUpdate, this), e.off(o.SHUTDOWN, this.shutdown, this) }, destroy: function () { this.shutdown(), this.systems.events.off(o.START, this.start, this), this.scene = null, this.systems = null } }); r.register("UpdateList", a, "updateList"), t.exports = a })), n.register("gz3ML", (function (t, e) { var i = n("jwj1g"), s = n("3vRz3"), r = n("ffLtS"), o = new i({ Extends: s, initialize: function () { s.call(this), this._pending = [], this._active = [], this._destroy = [], this._toProcess = 0 }, add: function (t) { return this._pending.push(t), this._toProcess++, t }, remove: function (t) { return this._destroy.push(t), this._toProcess++, t }, removeAll: function () { for (var t = this._active, e = this._destroy, i = t.length; i--;)e.push(t[i]), this._toProcess++; return this }, update: function () { if (0 === this._toProcess) return this._active; var t, e, i = this._destroy, s = this._active; for (t = 0; t < i.length; t++) { e = i[t]; var n = s.indexOf(e); -1 !== n && (s.splice(n, 1), this.emit(r.REMOVE, e)) } for (i.length = 0, i = this._pending, t = 0; t < i.length; t++)e = i[t], this._active.push(e), this.emit(r.ADD, e); return i.length = 0, this._toProcess = 0, this._active }, getActive: function () { return this._active }, length: { get: function () { return this._active.length } }, destroy: function () { this._toProcess = 0, this._pending = [], this._active = [], this._destroy = [] } }); t.exports = o })), n.register("ffLtS", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { PROCESS_QUEUE_ADD: n("lGpvP"), PROCESS_QUEUE_REMOVE: n("2LjZD") }
})), n.register("lGpvP", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "add"
})), n.register("2LjZD", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "remove"
})), n.register("i9cSP", (function (t, e) { var i = n("3qUcC"), s = n("cSaNN"); t.exports = function (t, e, n) { e.x = s(n, "x", 0), e.y = s(n, "y", 0), e.depth = s(n, "depth", 0), e.flipX = s(n, "flipX", !1), e.flipY = s(n, "flipY", !1); var r = s(n, "scale", null); "number" == typeof r ? e.setScale(r) : null !== r && (e.scaleX = s(r, "x", 1), e.scaleY = s(r, "y", 1)); var o = s(n, "scrollFactor", null); "number" == typeof o ? e.setScrollFactor(o) : null !== o && (e.scrollFactorX = s(o, "x", 1), e.scrollFactorY = s(o, "y", 1)), e.rotation = s(n, "rotation", 0); var a = s(n, "angle", null); null !== a && (e.angle = a), e.alpha = s(n, "alpha", 1); var h = s(n, "origin", null); if ("number" == typeof h) e.setOrigin(h); else if (null !== h) { var l = s(h, "x", .5), u = s(h, "y", .5); e.setOrigin(l, u) } return e.blendMode = s(n, "blendMode", i.NORMAL), e.visible = s(n, "visible", !0), s(n, "add", !0) && t.sys.displayList.add(e), e.preUpdate && t.sys.updateList.add(e), e } })), n.register("cSaNN", (function (t, e) { var i = n("5OyGi"), s = n("5pMDk"); t.exports = function (t, e, n) { var r = s(t, e, null); if (null === r) return n; if (Array.isArray(r)) return i.RND.pick(r); if ("object" == typeof r) { if (r.hasOwnProperty("randInt")) return i.RND.integerInRange(r.randInt[0], r.randInt[1]); if (r.hasOwnProperty("randFloat")) return i.RND.realInRange(r.randFloat[0], r.randFloat[1]) } else if ("function" == typeof r) return r(e); return r } })), n.register("cDuAM", (function (t, e) { var i = n("cSaNN"); t.exports = function (t, e) { var s = i(e, "anims", null); if (null === s) return t; if ("string" == typeof s) t.anims.play(s); else if ("object" == typeof s) { var n = t.anims, r = i(s, "key", void 0), o = i(s, "startFrame", void 0), a = i(s, "delay", 0), h = i(s, "repeat", 0), l = i(s, "repeatDelay", 0), u = i(s, "yoyo", !1), c = i(s, "play", !1), d = i(s, "delayedPlay", 0); n.setDelay(a), n.setRepeat(h), n.setRepeatDelay(l), n.setYoyo(u), c ? n.play(r, o) : d > 0 ? n.delayedPlay(d, r, o) : n.load(r) } return t } })), n.register("gvPR8", (function (t, e) { var i = n("jwj1g"), s = n("4FF1v"), r = n("1zqlR"), o = n("bzJWV"), a = n("dz3Xz"), h = n("5t9GW"), l = n("8fXrz"), u = new i({ Extends: r, Mixins: [s.Alpha, s.BlendMode, s.Depth, s.Mask, s.Origin, s.Pipeline, s.ScrollFactor, s.Texture, s.Tint, s.Transform, s.Visible, l], initialize: function (t, e, i, s, n, a, h) { void 0 === n && (n = ""), void 0 === h && (h = 0), r.call(this, t, "BitmapText"), this.font = s; var l = this.scene.sys.cache.bitmapFont.get(s); this.fontData = l.data, this._text = "", this._fontSize = a || this.fontData.size, this._letterSpacing = 0, this._align = h, this._bounds = o(), this._dirty = !0, this._maxWidth = 0, this.wordWrapCharCode = 32, this.setTexture(l.texture, l.frame), this.setPosition(e, i), this.setOrigin(0, 0), this.initPipeline(), this.setText(n) }, setLeftAlign: function () { return this._align = u.ALIGN_LEFT, this._dirty = !0, this }, setCenterAlign: function () { return this._align = u.ALIGN_CENTER, this._dirty = !0, this }, setRightAlign: function () { return this._align = u.ALIGN_RIGHT, this._dirty = !0, this }, setFontSize: function (t) { return this._fontSize = t, this._dirty = !0, this }, setLetterSpacing: function (t) { return void 0 === t && (t = 0), this._letterSpacing = t, this._dirty = !0, this }, setText: function (t) { return t || 0 === t || (t = ""), Array.isArray(t) && (t = t.join("\n")), t !== this.text && (this._text = t.toString(), this._dirty = !0, this.updateDisplayOrigin()), this }, getTextBounds: function (t) { var e = this._bounds; return (this._dirty || this.scaleX !== e.scaleX || this.scaleY !== e.scaleY) && (o(this, t, e), this._dirty = !1, this.updateDisplayOrigin()), e }, setFont: function (t, e, i) { if (void 0 === e && (e = this._fontSize), void 0 === i && (i = this._align), t !== this.font) { var s = this.scene.sys.cache.bitmapFont.get(t); s && (this.font = t, this.fontData = s.data, this._fontSize = e, this._align = i, this.setTexture(s.texture, s.frame), o(this, !1, this._bounds)) } return this }, setMaxWidth: function (t, e) { return this._maxWidth = t, this._dirty = !0, void 0 !== e && (this.wordWrapCharCode = e), this }, align: { set: function (t) { this._align = t, this._dirty = !0 }, get: function () { return this._align } }, text: { set: function (t) { this.setText(t) }, get: function () { return this._text } }, fontSize: { set: function (t) { this._fontSize = t, this._dirty = !0 }, get: function () { return this._fontSize } }, letterSpacing: { set: function (t) { this._letterSpacing = t, this._dirty = !0 }, get: function () { return this._letterSpacing } }, maxWidth: { set: function (t) { this._maxWidth = t, this._dirty = !0 }, get: function () { return this._maxWidth } }, width: { get: function () { return this.getTextBounds(!1), this._bounds.global.width } }, height: { get: function () { return this.getTextBounds(!1), this._bounds.global.height } }, toJSON: function () { var t = s.ToJSON(this), e = { font: this.font, text: this.text, fontSize: this.fontSize, letterSpacing: this.letterSpacing, align: this.align }; return t.data = e, t } }); u.ALIGN_LEFT = 0, u.ALIGN_CENTER = 1, u.ALIGN_RIGHT = 2, u.ParseFromAtlas = a, u.ParseXMLBitmapFont = h, t.exports = u })), n.register("bzJWV", (function (t, e) { t.exports = function (t, e, i) { if (void 0 === i) return i = { local: { x: 0, y: 0, width: 0, height: 0 }, global: { x: 0, y: 0, width: 0, height: 0 }, lines: { shortest: 0, longest: 0, lengths: null, height: 0 }, wrappedText: "", words: [], scaleX: 0, scaleY: 0 }; var s, n, r, o, a = t.text, h = a.length, l = t.maxWidth, u = t.wordWrapCharCode, c = Number.MAX_VALUE, d = Number.MAX_VALUE, f = 0, p = 0, g = t.fontData.chars, v = t.fontData.lineHeight, m = t.letterSpacing, y = 0, x = 0, w = 0, T = null, b = 0, S = 0, A = t.fontSize / t.fontData.size, E = A * t.scaleX, C = A * t.scaleY, _ = null, M = 0, P = [], O = Number.MAX_VALUE, R = 0, L = 0, k = 0, D = [], F = null; if (l > 0) { for (s = 0; s < h; s++)if (10 !== (w = a.charCodeAt(s))) { if (T = g[w]) { if (null !== _) var I = T.kerning[M]; w === u ? null !== F && (D.push({ word: F.word, i: F.i, x: F.x * E, y: F.y * C, w: F.w * E, h: F.h * C, cr: !1 }), F = null) : (null === F && (F = { word: "", i: s, x: y, y: x, w: 0, h: v, cr: !1 }), F.word = F.word.concat(a[s]), F.w += T.xOffset + T.xAdvance + (void 0 !== I ? I : 0)), y += T.xAdvance + m, _ = T, M = w } } else null !== F && (D.push({ word: F.word, i: F.i, x: F.x * E, y: F.y * C, w: F.w * E, h: F.h * C, cr: !0 }), F = null), y = 0, x += v, _ = null; var B; null !== F && D.push({ word: F.word, i: F.i, x: F.x * E, y: F.y * C, w: F.w * E, h: F.h * C, cr: !1 }), y = 0, x = 0, _ = null, M = 0; var N = 0, Y = []; for (s = 0; s < D.length; s++) { var z = D[s], j = z.x, X = z.x + z.w; if (B) N = j - (j - (B.x + B.w) + B.w), B = null; j - N > l || X - N > l ? (Y.push(z.i - 1), z.cr ? (Y.push(z.i + z.word.length), N = 0, B = null) : B = z) : z.cr && (Y.push(z.i + z.word.length), N = 0, B = null) } for (s = Y.length - 1; s >= 0; s--)n = a, r = Y[s], o = "\n", a = n.substr(0, r) + o + n.substr(r + 1); i.wrappedText = a, h = a.length, D = [], F = null } for (s = 0; s < h; s++)if (10 !== (w = a.charCodeAt(s))) { if (T = g[w]) { if (b = y, S = x, null !== _) { var U = T.kerning[M]; b += void 0 !== U ? U : 0 } c > b && (c = b), d > S && (d = S); var G = b + T.xAdvance, W = S + v; f < G && (f = G), p < W && (p = W), w === u ? null !== F && (D.push({ word: F.word, i: F.i, x: F.x * E, y: F.y * C, w: F.w * E, h: F.h * C }), F = null) : (null === F && (F = { word: "", i: s, x: y, y: x, w: 0, h: v }), F.word = F.word.concat(a[s]), F.w += T.xOffset + T.xAdvance + (void 0 !== U ? U : 0)), y += T.xAdvance + m, _ = T, M = w, k = G * A } } else null !== F && (D.push({ word: F.word, i: F.i, x: F.x * E, y: F.y * C, w: F.w * E, h: F.h * C }), F = null), y = 0, x += v, _ = null, P[L] = k, k > R && (R = k), k < O && (O = k), L++, k = 0; null !== F && D.push({ word: F.word, i: F.i, x: F.x * E, y: F.y * C, w: F.w * E, h: F.h * C }), P[L] = k, k > R && (R = k), k < O && (O = k); var V = i.local, H = i.global, q = i.lines; return V.x = c * A, V.y = d * A, V.width = f * A, V.height = p * A, H.x = t.x - t.displayOriginX + c * E, H.y = t.y - t.displayOriginY + d * C, H.width = f * E, H.height = p * C, q.shortest = O, q.longest = R, q.lengths = P, e && (V.x = Math.round(V.x), V.y = Math.round(V.y), V.width = Math.round(V.width), V.height = Math.round(V.height), H.x = Math.round(H.x), H.y = Math.round(H.y), H.width = Math.round(H.width), H.height = Math.round(H.height), q.shortest = Math.round(O), q.longest = Math.round(R)), i.words = D, i.lines.height = v, i.scaleX = t.scaleX, i.scaleY = t.scaleY, i } })), n.register("dz3Xz", (function (t, e) { var i = n("5t9GW"); t.exports = function (t, e, s, n, r, o, a) { var h = t.sys.textures.getFrame(s, n), l = t.sys.cache.xml.get(r); if (h && l) { var u = i(l, o, a, h); return t.sys.cache.bitmapFont.add(e, { data: u, texture: s, frame: n }), !0 } return !1 } })), n.register("5t9GW", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    function i(t, e) { return parseInt(t.getAttribute(e), 10) } t.exports = function (t, e, s, n) { void 0 === e && (e = 0), void 0 === s && (s = 0); var r = {}, o = t.getElementsByTagName("info")[0], a = t.getElementsByTagName("common")[0]; r.font = o.getAttribute("face"), r.size = i(o, "size"), r.lineHeight = i(a, "lineHeight") + s, r.chars = {}; var h = t.getElementsByTagName("char"), l = void 0 !== n && n.trimmed; if (l) var u = n.height, c = n.width; for (var d = 0; d < h.length; d++) { var f = h[d], p = i(f, "id"), g = i(f, "x"), v = i(f, "y"), m = i(f, "width"), y = i(f, "height"); l && (g < c && (c = g), v < u && (u = v)), r.chars[p] = { x: g, y: v, width: m, height: y, centerX: Math.floor(m / 2), centerY: Math.floor(y / 2), xOffset: i(f, "xoffset"), yOffset: i(f, "yoffset"), xAdvance: i(f, "xadvance") + e, data: {}, kerning: {} } } if (l && 0 !== u && 0 !== c) for (var x in r.chars) { var w = r.chars[x]; w.x -= n.x, w.y -= n.y } var T = t.getElementsByTagName("kerning"); for (d = 0; d < T.length; d++) { var b = T[d], S = i(b, "first"), A = i(b, "second"), E = i(b, "amount"); r.chars[A].kerning[S] = E } return r }
})), n.register("8fXrz", (function (t, e) { var i = n("13GYA"), s = n("13GYA"); i = n("d8Hj8"), s = n("9nXSE"), t.exports = { renderWebGL: i, renderCanvas: s } })), n.register("d8Hj8", (function (t, e) { var i = n("gaO4e"); t.exports = function (t, e, s, n, r) { var o = e._text, a = o.length; if (0 !== a) { var h = this.pipeline; t.setPipeline(h, e); var l = h._tempMatrix1, u = h._tempMatrix2, c = h._tempMatrix3; u.applyITRS(e.x, e.y, e.rotation, e.scaleX, e.scaleY), l.copyFrom(n.matrix), r ? (l.multiplyWithOffset(r, -n.scrollX * e.scrollFactorX, -n.scrollY * e.scrollFactorY), u.e = e.x, u.f = e.y, l.multiply(u, c)) : (u.e -= n.scrollX * e.scrollFactorX, u.f -= n.scrollY * e.scrollFactorY, l.multiply(u, c)); var d = e.frame, f = d.glTexture, p = d.cutX, g = d.cutY, v = f.width, m = f.height, y = e._isTinted && e.tintFill, x = i.getTintAppendFloatAlpha(e._tintTL, n.alpha * e._alphaTL), w = i.getTintAppendFloatAlpha(e._tintTR, n.alpha * e._alphaTR), T = i.getTintAppendFloatAlpha(e._tintBL, n.alpha * e._alphaBL), b = i.getTintAppendFloatAlpha(e._tintBR, n.alpha * e._alphaBR); h.setTexture2D(f, 0); var S, A, E = 0, C = 0, _ = 0, M = 0, P = e._letterSpacing, O = 0, R = 0, L = 0, k = 0, D = e.fontData, F = D.chars, I = D.lineHeight, B = e._fontSize / D.size, N = e._align, Y = 0, z = 0, j = e.getTextBounds(!1); e.maxWidth > 0 && (a = (o = j.wrappedText).length); var X = e._bounds.lines; 1 === N ? z = (X.longest - X.lengths[0]) / 2 : 2 === N && (z = X.longest - X.lengths[0]); for (var U = n.roundPixels, G = 0; G < a; G++)if (10 !== (_ = o.charCodeAt(G))) { if (S = F[_]) { O = p + S.x, R = g + S.y, L = S.width, k = S.height; var W = S.xOffset + E, V = S.yOffset + C; if (null !== A) { var H = S.kerning[M]; W += void 0 !== H ? H : 0 } if (E += S.xAdvance + P, A = S, M = _, 0 !== L && 0 !== k && 32 !== _) { W *= B, V *= B, W -= e.displayOriginX; var q = O / v, K = R / m, Z = (O + L) / v, Q = (R + k) / m, J = (W += z) + L * B, $ = (V -= e.displayOriginY) + k * B, tt = c.getX(W, V), et = c.getY(W, V), it = c.getX(W, $), st = c.getY(W, $), nt = c.getX(J, $), rt = c.getY(J, $), ot = c.getX(J, V), at = c.getY(J, V); U && (tt = Math.round(tt), et = Math.round(et), it = Math.round(it), st = Math.round(st), nt = Math.round(nt), rt = Math.round(rt), ot = Math.round(ot), at = Math.round(at)), h.batchQuad(tt, et, it, st, nt, rt, ot, at, q, K, Z, Q, x, w, T, b, y, f, 0) } } } else Y++, 1 === N ? z = (X.longest - X.lengths[Y]) / 2 : 2 === N && (z = X.longest - X.lengths[Y]), E = 0, C += I, A = null } } })), n.register("9nXSE", (function (t, e) { var i = n("csLaZ"); t.exports = function (t, e, s, n, r) { var o = e._text, a = o.length, h = t.currentContext; if (0 !== a && i(t, h, e, n, r)) { var l = e.frame, u = e.fontData.chars, c = e.fontData.lineHeight, d = e._letterSpacing, f = 0, p = 0, g = 0, v = null, m = 0, y = 0, x = 0, w = 0, T = 0, b = 0, S = null, A = 0, E = e.frame.source.image, C = l.cutX, _ = l.cutY, M = e._fontSize / e.fontData.size, P = e._align, O = 0, R = 0, L = e.getTextBounds(!1); e.maxWidth > 0 && (a = (o = L.wrappedText).length); var k = e._bounds.lines; 1 === P ? R = (k.longest - k.lengths[0]) / 2 : 2 === P && (R = k.longest - k.lengths[0]), h.translate(-e.displayOriginX, -e.displayOriginY); for (var D = n.roundPixels, F = 0; F < a; F++)if (10 !== (g = o.charCodeAt(F))) { if (v = u[g]) { if (m = C + v.x, y = _ + v.y, x = v.width, w = v.height, T = v.xOffset + f, b = v.yOffset + p, null !== S) { var I = v.kerning[A]; T += void 0 !== I ? I : 0 } T *= M, b *= M, T += R, f += v.xAdvance + d, S = v, A = g, 0 !== x && 0 !== w && 32 !== g && (D && (T = Math.round(T), b = Math.round(b)), h.save(), h.translate(T, b), h.scale(M, M), h.drawImage(E, m, y, x, w, 0, 0, x, w), h.restore()) } } else O++, 1 === P ? R = (k.longest - k.lengths[O]) / 2 : 2 === P && (R = k.longest - k.lengths[O]), f = 0, p += c, S = null; h.restore() } } })), n.register("csLaZ", (function (t, e) { t.exports = function (t, e, i, s, n) { var r = s.alpha * i.alpha; if (r <= 0) return !1; var o = t._tempMatrix1.copyFromArray(s.matrix.matrix), a = t._tempMatrix2.applyITRS(i.x, i.y, i.rotation, i.scaleX, i.scaleY), h = t._tempMatrix3; return n ? (o.multiplyWithOffset(n, -s.scrollX * i.scrollFactorX, -s.scrollY * i.scrollFactorY), a.e = i.x, a.f = i.y, o.multiply(a, h)) : (a.e -= s.scrollX * i.scrollFactorX, a.f -= s.scrollY * i.scrollFactorY, o.multiply(a, h)), e.globalCompositeOperation = t.blendModes[i.blendMode], e.globalAlpha = r, e.save(), h.setToContext(e), e.imageSmoothingEnabled = !(!t.antialias || i.frame && i.frame.source.scaleMode), !0 } })), n.register("2cD2D", (function (t, e) { var i = n("4vYTx"), s = n("kjfuT"), r = n("jwj1g"), o = n("4FF1v"), a = n("7O4PF"), h = n("1zqlR"), l = n("aqhsx"), u = new r({ Extends: h, Mixins: [o.Alpha, o.BlendMode, o.Depth, o.Mask, o.Pipeline, o.ScrollFactor, o.Size, o.Texture, o.Transform, o.Visible, i], initialize: function (t, e, i, s, n) { h.call(this, t, "Blitter"), this.setTexture(s, n), this.setPosition(e, i), this.initPipeline(), this.children = new l, this.renderList = [], this.dirty = !1 }, create: function (t, e, i, n, r) { void 0 === n && (n = !0), void 0 === r && (r = this.children.length), void 0 === i ? i = this.frame : i instanceof a || (i = this.texture.get(i)); var o = new s(this, t, e, i, n); return this.children.addAt(o, r, !1), this.dirty = !0, o }, createFromCallback: function (t, e, i, s) { for (var n = this.createMultiple(e, i, s), r = 0; r < n.length; r++) { var o = n[r]; t.call(this, o, r) } return n }, createMultiple: function (t, e, i) { void 0 === e && (e = this.frame.name), void 0 === i && (i = !0), Array.isArray(e) || (e = [e]); var s = [], n = this; return e.forEach((function (e) { for (var r = 0; r < t; r++)s.push(n.create(0, 0, e, i)) })), s }, childCanRender: function (t) { return t.visible && t.alpha > 0 }, getRenderList: function () { return this.dirty && (this.renderList = this.children.list.filter(this.childCanRender, this), this.dirty = !1), this.renderList }, clear: function () { this.children.removeAll(), this.dirty = !0 }, preDestroy: function () { this.children.destroy(), this.renderList = [] } }); t.exports = u })), n.register("4vYTx", (function (t, e) { var i = n("13GYA"), s = n("13GYA"); i = n("bmag1"), s = n("91wlN"), t.exports = { renderWebGL: i, renderCanvas: s } })), n.register("bmag1", (function (t, e) { var i = n("gaO4e"); t.exports = function (t, e, s, n, r) { var o = e.getRenderList(); if (0 !== o.length) { var a = this.pipeline; t.setPipeline(a, e); var h = n.scrollX * e.scrollFactorX, l = n.scrollY * e.scrollFactorY, u = a._tempMatrix1; u.copyFrom(n.matrix), r && (u.multiplyWithOffset(r, -h, -l), h = 0, l = 0); for (var c = e.x - h, d = e.y - l, f = -1, p = n.alpha * e.alpha, g = n.roundPixels, v = 0; v < o.length; v++) { var m = o[v], y = m.frame, x = m.alpha * p; if (0 !== x) { var w = y.width, T = y.height, b = c + m.x + y.x, S = d + m.y + y.y; m.flipX && (w *= -1, b += y.width), m.flipY && (T *= -1, S += y.height); var A = b + w, E = S + T, C = u.getX(b, S), _ = u.getY(b, S), M = u.getX(A, E), P = u.getY(A, E), O = i.getTintAppendFloatAlpha(m.tint, x); y.sourceIndex !== f && (a.setTexture2D(y.glTexture, 0), f = y.sourceIndex), g && (C = Math.round(C), _ = Math.round(_), M = Math.round(M), P = Math.round(P)), a.batchQuad(C, _, C, P, M, P, M, _, y.u0, y.v0, y.u1, y.v1, O, O, O, O, false, y.glTexture, 0) && (f = -1) } } } } })), n.register("91wlN", (function (t, e) { t.exports = function (t, e, i, s, n) { var r = e.getRenderList(); if (0 !== r.length) { var o = t.currentContext, a = s.alpha * e.alpha; if (0 !== a) { o.globalCompositeOperation = t.blendModes[e.blendMode], o.imageSmoothingEnabled = !(!t.antialias || e.frame.source.scaleMode); var h = e.x - s.scrollX * e.scrollFactorX, l = e.y - s.scrollY * e.scrollFactorY; o.save(), n && n.copyToContext(o); for (var u = s.roundPixels, c = 0; c < r.length; c++) { var d = r[c], f = d.flipX || d.flipY, p = d.frame, g = p.canvasData, v = p.x, m = p.y, y = 1, x = 1, w = d.alpha * a; 0 !== w && (o.globalAlpha = w, f ? (d.flipX && (y = -1, v -= g.width), d.flipY && (x = -1, m -= g.height), o.save(), o.translate(d.x + h, d.y + l), o.scale(y, x), o.drawImage(p.source.image, g.x, g.y, g.width, g.height, v, m, g.width, g.height), o.restore()) : (u && (v = Math.round(v), m = Math.round(m)), o.drawImage(p.source.image, g.x, g.y, g.width, g.height, v + d.x + h, m + d.y + l, g.width, g.height))) } o.restore() } } } })), n.register("kjfuT", (function (t, e) { var i = n("jwj1g"), s = n("7O4PF"), r = new i({ initialize: function (t, e, i, s, n) { this.parent = t, this.x = e, this.y = i, this.frame = s, this.data = {}, this.tint = 16777215, this._visible = n, this._alpha = 1, this.flipX = !1, this.flipY = !1 }, setFrame: function (t) { return void 0 === t ? this.frame = this.parent.frame : t instanceof s && t.texture === this.parent.texture ? this.frame = t : this.frame = this.parent.texture.get(t), this }, resetFlip: function () { return this.flipX = !1, this.flipY = !1, this }, reset: function (t, e, i) { return this.x = t, this.y = e, this.flipX = !1, this.flipY = !1, this._alpha = 1, this._visible = !0, this.parent.dirty = !0, i && this.setFrame(i), this }, setPosition: function (t, e) { return this.x = t, this.y = e, this }, setFlipX: function (t) { return this.flipX = t, this }, setFlipY: function (t) { return this.flipY = t, this }, setFlip: function (t, e) { return this.flipX = t, this.flipY = e, this }, setVisible: function (t) { return this.visible = t, this }, setAlpha: function (t) { return this.alpha = t, this }, setTint: function (t) { return this.tint = t, this }, destroy: function () { this.parent.dirty = !0, this.parent.children.remove(this), this.parent = void 0, this.frame = void 0, this.data = void 0 }, visible: { get: function () { return this._visible }, set: function (t) { this.parent.dirty |= this._visible !== t, this._visible = t } }, alpha: { get: function () { return this._alpha }, set: function (t) { this.parent.dirty |= this._alpha > 0 != t > 0, this._alpha = t } } }); t.exports = r })), n.register("ixgBh", (function (t, e) { var i = n("3Mp2n"), s = n("3qUcC"), r = n("jwj1g"), o = n("4FF1v"), a = n("jIv3O"), h = n("1zqlR"), l = n("cwr8X"), u = n("5toVX"), c = n("dDbeb"), d = n("7SBSk"), f = new r({ Extends: h, Mixins: [o.AlphaSingle, o.BlendMode, o.ComputedSize, o.Depth, o.Mask, o.Transform, o.Visible, u], initialize: function (t, e, i, n) { h.call(this, t, "Container"), this.list = [], this.exclusive = !0, this.maxSize = -1, this.position = 0, this.localTransform = new o.TransformMatrix, this.tempTransformMatrix = new o.TransformMatrix, this._displayList = t.sys.displayList, this._sortKey = "", this._sysEvents = t.sys.events, this.scrollFactorX = 1, this.scrollFactorY = 1, this.setPosition(e, i), this.clearAlpha(), this.setBlendMode(s.SKIP_CHECK), n && this.add(n) }, originX: { get: function () { return .5 } }, originY: { get: function () { return .5 } }, displayOriginX: { get: function () { return .5 * this.width } }, displayOriginY: { get: function () { return .5 * this.height } }, setExclusive: function (t) { return void 0 === t && (t = !0), this.exclusive = t, this }, getBounds: function (t) { if (void 0 === t && (t = new l), t.setTo(this.x, this.y, 0, 0), this.list.length > 0) for (var e = this.list, i = new l, s = 0; s < e.length; s++) { var n = e[s]; n.getBounds && (n.getBounds(i), c(i, t, t)) } return t }, addHandler: function (t) { t.once(a.DESTROY, this.remove, this), this.exclusive && (this._displayList.remove(t), t.parentContainer && t.parentContainer.remove(t), t.parentContainer = this) }, removeHandler: function (t) { t.off(a.DESTROY, this.remove), this.exclusive && (t.parentContainer = null) }, pointToContainer: function (t, e) { if (void 0 === e && (e = new d), this.parentContainer) return this.parentContainer.pointToContainer(t, e); var i = this.tempTransformMatrix; return i.applyITRS(this.x, this.y, this.rotation, this.scaleX, this.scaleY), i.invert(), i.transformPoint(t.x, t.y, e), e }, getBoundsTransformMatrix: function () { return this.getWorldTransformMatrix(this.tempTransformMatrix, this.localTransform) }, add: function (t) { return i.Add(this.list, t, this.maxSize, this.addHandler, this), this }, addAt: function (t, e) { return i.AddAt(this.list, t, e, this.maxSize, this.addHandler, this), this }, getAt: function (t) { return this.list[t] }, getIndex: function (t) { return this.list.indexOf(t) }, sort: function (t, e) { return t ? (void 0 === e && (e = function (e, i) { return e[t] - i[t] }), i.StableSort.inplace(this.list, e), this) : this }, getByName: function (t) { return i.GetFirst(this.list, "name", t) }, getRandom: function (t, e) { return i.GetRandom(this.list, t, e) }, getFirst: function (t, e, s, n) { return i.GetFirst(this.list, t, e, s, n) }, getAll: function (t, e, s, n) { return i.GetAll(this.list, t, e, s, n) }, count: function (t, e, s, n) { return i.CountAllMatching(this.list, t, e, s, n) }, swap: function (t, e) { return i.Swap(this.list, t, e), this }, moveTo: function (t, e) { return i.MoveTo(this.list, t, e), this }, remove: function (t, e) { var s = i.Remove(this.list, t, this.removeHandler, this); if (e && s) { Array.isArray(s) || (s = [s]); for (var n = 0; n < s.length; n++)s[n].destroy() } return this }, removeAt: function (t, e) { var s = i.RemoveAt(this.list, t, this.removeHandler, this); return e && s && s.destroy(), this }, removeBetween: function (t, e, s) { var n = i.RemoveBetween(this.list, t, e, this.removeHandler, this); if (s) for (var r = 0; r < n.length; r++)n[r].destroy(); return this }, removeAll: function (t) { var e = i.RemoveBetween(this.list, 0, this.list.length, this.removeHandler, this); if (t) for (var s = 0; s < e.length; s++)e[s].destroy(); return this }, bringToTop: function (t) { return i.BringToTop(this.list, t), this }, sendToBack: function (t) { return i.SendToBack(this.list, t), this }, moveUp: function (t) { return i.MoveUp(this.list, t), this }, moveDown: function (t) { return i.MoveDown(this.list, t), this }, reverse: function () { return this.list.reverse(), this }, shuffle: function () { return i.Shuffle(this.list), this }, replace: function (t, e, s) { return i.Replace(this.list, t, e) && (this.addHandler(e), this.removeHandler(t), s && t.destroy()), this }, exists: function (t) { return this.list.indexOf(t) > -1 }, setAll: function (t, e, s, n) { return i.SetAll(this.list, t, e, s, n), this }, each: function (t, e) { var i, s = [null], n = this.list.slice(), r = n.length; for (i = 2; i < arguments.length; i++)s.push(arguments[i]); for (i = 0; i < r; i++)s[0] = n[i], t.apply(e, s); return this }, iterate: function (t, e) { var i, s = [null]; for (i = 2; i < arguments.length; i++)s.push(arguments[i]); for (i = 0; i < this.list.length; i++)s[0] = this.list[i], t.apply(e, s); return this }, setScrollFactor: function (t, e, s) { return void 0 === e && (e = t), void 0 === s && (s = !1), this.scrollFactorX = t, this.scrollFactorY = e, s && (i.SetAll(this.list, "scrollFactorX", t), i.SetAll(this.list, "scrollFactorY", e)), this }, length: { get: function () { return this.list.length } }, first: { get: function () { return this.position = 0, this.list.length > 0 ? this.list[0] : null } }, last: { get: function () { return this.list.length > 0 ? (this.position = this.list.length - 1, this.list[this.position]) : null } }, next: { get: function () { return this.position < this.list.length ? (this.position++, this.list[this.position]) : null } }, previous: { get: function () { return this.position > 0 ? (this.position--, this.list[this.position]) : null } }, preDestroy: function () { this.removeAll(!!this.exclusive), this.localTransform.destroy(), this.tempTransformMatrix.destroy(), this.list = [], this._displayList = null } }); t.exports = f })), n.register("5toVX", (function (t, e) { var i = n("13GYA"), s = n("13GYA"); i = n("ihMdm"), s = n("b7Qte"), t.exports = { renderWebGL: i, renderCanvas: s } })), n.register("ihMdm", (function (t, e) { t.exports = function (t, e, i, s, n) { var r = e.list; if (0 !== r.length) { var o = e.localTransform; n ? (o.loadIdentity(), o.multiply(n), o.translate(e.x, e.y), o.rotate(e.rotation), o.scale(e.scaleX, e.scaleY)) : o.applyITRS(e.x, e.y, e.rotation, e.scaleX, e.scaleY); var a = -1 !== e.blendMode; a || t.setBlendMode(0); for (var h = e.alpha, l = e.scrollFactorX, u = e.scrollFactorY, c = r, d = r.length, f = 0; f < d; f++) { var p = r[f]; if (p.willRender(s)) { var g, v, m, y; if (void 0 !== p.alphaTopLeft) g = p.alphaTopLeft, v = p.alphaTopRight, m = p.alphaBottomLeft, y = p.alphaBottomRight; else { var x = p.alpha; g = x, v = x, m = x, y = x } var w = p.scrollFactorX, T = p.scrollFactorY; a || p.blendMode === t.currentBlendMode || t.setBlendMode(p.blendMode); var b = p.mask; b && b.preRenderWebGL(t, p, s); var S = p.type; S !== t.currentType && (t.newType = !0, t.currentType = S), t.nextTypeMatch = f < d - 1 && c[f + 1].type === t.currentType, p.setScrollFactor(w * l, T * u), p.setAlpha(g * h, v * h, m * h, y * h), p.renderWebGL(t, p, i, s, o), p.setAlpha(g, v, m, y), p.setScrollFactor(w, T), b && b.postRenderWebGL(t, s), t.newType = !1 } } } } })), n.register("b7Qte", (function (t, e) { t.exports = function (t, e, i, s, n) { var r = e.list; if (0 !== r.length) { var o = e.localTransform; n ? (o.loadIdentity(), o.multiply(n), o.translate(e.x, e.y), o.rotate(e.rotation), o.scale(e.scaleX, e.scaleY)) : o.applyITRS(e.x, e.y, e.rotation, e.scaleX, e.scaleY); var a = -1 !== e.blendMode; a || t.setBlendMode(0); for (var h = e._alpha, l = e.scrollFactorX, u = e.scrollFactorY, c = 0; c < r.length; c++) { var d = r[c]; if (d.willRender(s)) { var f = d.alpha, p = d.scrollFactorX, g = d.scrollFactorY; a || d.blendMode === t.currentBlendMode || t.setBlendMode(d.blendMode), d.setScrollFactor(p * l, g * u), d.setAlpha(f * h), d.renderCanvas(t, d, i, s, o), d.setAlpha(f), d.setScrollFactor(p, g) } } } } })), n.register("dDbeb", (function (t, e) { var i = n("cwr8X"); t.exports = function (t, e, s) { void 0 === s && (s = new i); var n = Math.min(t.x, e.x), r = Math.min(t.y, e.y), o = Math.max(t.right, e.right) - n, a = Math.max(t.bottom, e.bottom) - r; return s.setTo(n, r, o, a) } })), n.register("gZAGH", (function (t, e) { var i = n("jwj1g"), s = n("4FF1v"), r = n("fDeAE"), o = n("1zqlR"), a = n("jC9MQ"), h = n("kJrIV"), l = n("4rtgc"), u = n("27QVG"), c = new i({ Extends: o, Mixins: [s.AlphaSingle, s.BlendMode, s.Depth, s.Origin, s.ScrollFactor, s.Transform, s.Visible, r], initialize: function (t, e, i, s, n, r) { o.call(this, t, "DOMElement"), this.parent = t.sys.game.domContainer, this.cache = t.sys.cache.html, this.node, this.transformOnly = !1, this.skewX = 0, this.skewY = 0, this.rotate3d = new u, this.rotate3dAngle = "deg", this.width = 0, this.height = 0, this.displayWidth = 0, this.displayHeight = 0, this.handler = this.dispatchNativeEvent.bind(this), this.setPosition(e, i), "string" == typeof s ? "#" === s[0] ? this.setElement(s.substr(1), n, r) : this.createElement(s, n, r) : s && this.setElement(s, n, r), t.sys.events.on(l.SLEEP, this.handleSceneEvent, this), t.sys.events.on(l.WAKE, this.handleSceneEvent, this) }, handleSceneEvent: function (t) { var e = this.node, i = e.style; e && (i.display = t.settings.visible ? "block" : "none") }, setSkew: function (t, e) { return void 0 === t && (t = 0), void 0 === e && (e = t), this.skewX = t, this.skewY = e, this }, setPerspective: function (t) { return this.parent.style.perspective = t + "px", this }, perspective: { get: function () { return parseFloat(this.parent.style.perspective) }, set: function (t) { this.parent.style.perspective = t + "px" } }, addListener: function (t) { if (this.node) { t = t.split(" "); for (var e = 0; e < t.length; e++)this.node.addEventListener(t[e], this.handler, !1) } return this }, removeListener: function (t) { if (this.node) { t = t.split(" "); for (var e = 0; e < t.length; e++)this.node.removeEventListener(t[e], this.handler) } return this }, dispatchNativeEvent: function (t) { this.emit(t.type, t) }, createElement: function (t, e, i) { return this.setElement(document.createElement(t), e, i) }, setElement: function (t, e, i) { var s; if (this.removeElement(), "string" == typeof t ? ("#" === t[0] && (t = t.substr(1)), s = document.getElementById(t)) : "object" == typeof t && 1 === t.nodeType && (s = t), !s) return this; if (this.node = s, e && a(e)) for (var n in e) s.style[n] = e[n]; else "string" == typeof e && (s.style = e); return s.style.zIndex = "0", s.style.display = "inline", s.style.position = "absolute", s.phaser = this, this.parent && this.parent.appendChild(s), i && (s.innerText = i), this.updateSize() }, createFromCache: function (t, e) { var i = this.cache.get(t); return i && this.createFromHTML(i, e), this }, createFromHTML: function (t, e) { void 0 === e && (e = "div"), this.removeElement(); var i = document.createElement(e); return this.node = i, i.style.zIndex = "0", i.style.display = "inline", i.style.position = "absolute", i.phaser = this, this.parent && this.parent.appendChild(i), i.innerHTML = t, this.updateSize() }, removeElement: function () { return this.node && (h(this.node), this.node = null), this }, updateSize: function () { var t = this.node, e = t.getBoundingClientRect(); return this.width = t.clientWidth, this.height = t.clientHeight, this.displayWidth = e.width || 0, this.displayHeight = e.height || 0, this }, getChildByProperty: function (t, e) { if (this.node) for (var i = this.node.querySelectorAll("*"), s = 0; s < i.length; s++)if (i[s][t] === e) return i[s]; return null }, getChildByID: function (t) { return this.getChildByProperty("id", t) }, getChildByName: function (t) { return this.getChildByProperty("name", t) }, setClassName: function (t) { return this.node && (this.node.className = t, this.updateSize()), this }, setText: function (t) { return this.node && (this.node.innerText = t, this.updateSize()), this }, setHTML: function (t) { return this.node && (this.node.innerHTML = t, this.updateSize()), this }, preUpdate: function () { var t = this.parentContainer, e = this.node; e && t && !t.willRender() && (e.style.display = "none") }, willRender: function () { return !0 }, preDestroy: function () { this.removeElement(), this.scene.sys.events.off(l.SLEEP, this.handleSceneEvent, this), this.scene.sys.events.off(l.WAKE, this.handleSceneEvent, this) } }); t.exports = c })), n.register("fDeAE", (function (t, e) { var i = n("13GYA"), s = n("13GYA"); i = n("eSiH4"), s = n("eSiH4"), t.exports = { renderWebGL: i, renderCanvas: s } })), n.register("eSiH4", (function (t, e) { var i = n("jDJM3"), s = n("1zqlR"); t.exports = function (t, e, n, r, o) { var a = e.node, h = a.style, l = e.scene.sys.settings; if (!(a && h && l.visible && s.RENDER_MASK === e.renderFlags) || 0 !== e.cameraFilter && e.cameraFilter & r.id || e.parentContainer && !e.parentContainer.willRender()) a && (h.display = "none"); else { var u = e.parentContainer, c = r.alpha * e.alpha; u && (c *= u.alpha); var d = t._tempMatrix1, f = t._tempMatrix2, p = t._tempMatrix3, g = 0, v = 0, m = "0%", y = "0%"; o ? (g = e.width * e.scaleX * e.originX, v = e.height * e.scaleY * e.originY, f.applyITRS(e.x - g, e.y - v, e.rotation, e.scaleX, e.scaleY), d.copyFrom(r.matrix), d.multiplyWithOffset(o, -r.scrollX * e.scrollFactorX, -r.scrollY * e.scrollFactorY), f.e = e.x - g, f.f = e.y - v, d.multiply(f, p)) : (g = e.width * e.originX, v = e.height * e.originY, f.applyITRS(e.x - g, e.y - v, e.rotation, e.scaleX, e.scaleY), d.copyFrom(r.matrix), m = 100 * e.originX + "%", y = 100 * e.originY + "%", f.e -= r.scrollX * e.scrollFactorX, f.f -= r.scrollY * e.scrollFactorY, d.multiply(f, p)), e.transformOnly || (h.display = "block", h.opacity = c, h.zIndex = e._depth, h.pointerEvents = "auto", h.mixBlendMode = i[e._blendMode]), h.transform = p.getCSSMatrix() + " skew(" + e.skewX + "rad, " + e.skewY + "rad) rotate3d(" + e.rotate3d.x + "," + e.rotate3d.y + "," + e.rotate3d.z + "," + e.rotate3d.w + e.rotate3dAngle + ")", h.transformOrigin = m + " " + y } } })), n.register("jDJM3", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = ["normal", "multiply", "multiply", "screen", "overlay", "darken", "lighten", "color-dodge", "color-burn", "hard-light", "soft-light", "difference", "exclusion", "hue", "saturation", "color", "luminosity"]
})), n.register("5soSO", (function (t, e) { var i = n("gvPR8"), s = n("jwj1g"), r = n("hGpk3"), o = new s({ Extends: i, Mixins: [r], initialize: function (t, e, s, n, r, o, a) { i.call(this, t, e, s, n, r, o, a), this.type = "DynamicBitmapText", this.scrollX = 0, this.scrollY = 0, this.cropWidth = 0, this.cropHeight = 0, this.displayCallback, this.callbackData = { parent: this, color: 0, tint: { topLeft: 0, topRight: 0, bottomLeft: 0, bottomRight: 0 }, index: 0, charCode: 0, x: 0, y: 0, scale: 0, rotation: 0, data: 0 } }, setSize: function (t, e) { return this.cropWidth = t, this.cropHeight = e, this }, setDisplayCallback: function (t) { return this.displayCallback = t, this }, setScrollX: function (t) { return this.scrollX = t, this }, setScrollY: function (t) { return this.scrollY = t, this } }); t.exports = o })), n.register("hGpk3", (function (t, e) { var i = n("13GYA"), s = n("13GYA"); i = n("1lJvn"), s = n("bkoGq"), t.exports = { renderWebGL: i, renderCanvas: s } })), n.register("1lJvn", (function (t, e) { var i = n("gaO4e"); t.exports = function (t, e, s, n, r) { var o = e.text, a = o.length; if (0 !== a) { var h = this.pipeline; t.setPipeline(h, e); var l = e.cropWidth > 0 || e.cropHeight > 0; l && (h.flush(), t.pushScissor(e.x, e.y, e.cropWidth * e.scaleX, e.cropHeight * e.scaleY)); var u = h._tempMatrix1, c = h._tempMatrix2, d = h._tempMatrix3, f = h._tempMatrix4; c.applyITRS(e.x, e.y, e.rotation, e.scaleX, e.scaleY), u.copyFrom(n.matrix), r ? (u.multiplyWithOffset(r, -n.scrollX * e.scrollFactorX, -n.scrollY * e.scrollFactorY), c.e = e.x, c.f = e.y, u.multiply(c, d)) : (c.e -= n.scrollX * e.scrollFactorX, c.f -= n.scrollY * e.scrollFactorY, u.multiply(c, d)); var p = e.frame, g = p.glTexture, v = p.cutX, m = p.cutY, y = g.width, x = g.height, w = e._isTinted && e.tintFill, T = i.getTintAppendFloatAlpha(e._tintTL, n.alpha * e._alphaTL), b = i.getTintAppendFloatAlpha(e._tintTR, n.alpha * e._alphaTR), S = i.getTintAppendFloatAlpha(e._tintBL, n.alpha * e._alphaBL), A = i.getTintAppendFloatAlpha(e._tintBR, n.alpha * e._alphaBR); h.setTexture2D(g, 0); var E, C, _ = 0, M = 0, P = 0, O = 0, R = e.letterSpacing, L = 0, k = 0, D = 0, F = 0, I = e.scrollX, B = e.scrollY, N = e.fontData, Y = N.chars, z = N.lineHeight, j = e.fontSize / N.size, X = 0, U = e._align, G = 0, W = 0; e.getTextBounds(!1); var V = e._bounds.lines; 1 === U ? W = (V.longest - V.lengths[0]) / 2 : 2 === U && (W = V.longest - V.lengths[0]); for (var H = n.roundPixels, q = e.displayCallback, K = e.callbackData, Z = 0; Z < a; Z++)if (10 !== (P = o.charCodeAt(Z))) { if (E = Y[P]) { L = v + E.x, k = m + E.y, D = E.width, F = E.height; var Q = E.xOffset + _ - I, J = E.yOffset + M - B; if (null !== C) { var $ = E.kerning[O]; Q += void 0 !== $ ? $ : 0 } if (_ += E.xAdvance + R, C = E, O = P, 0 !== D && 0 !== F && 32 !== P) { if (j = e.fontSize / e.fontData.size, X = 0, q) { K.color = 0, K.tint.topLeft = T, K.tint.topRight = b, K.tint.bottomLeft = S, K.tint.bottomRight = A, K.index = Z, K.charCode = P, K.x = Q, K.y = J, K.scale = j, K.rotation = X, K.data = E.data; var tt = q(K); Q = tt.x, J = tt.y, j = tt.scale, X = tt.rotation, tt.color ? (T = tt.color, b = tt.color, S = tt.color, A = tt.color) : (T = tt.tint.topLeft, b = tt.tint.topRight, S = tt.tint.bottomLeft, A = tt.tint.bottomRight), T = i.getTintAppendFloatAlpha(T, n.alpha * e._alphaTL), b = i.getTintAppendFloatAlpha(b, n.alpha * e._alphaTR), S = i.getTintAppendFloatAlpha(S, n.alpha * e._alphaBL), A = i.getTintAppendFloatAlpha(A, n.alpha * e._alphaBR) } Q *= j, J *= j, Q -= e.displayOriginX, J -= e.displayOriginY, Q += W, f.applyITRS(Q, J, X, j, j), d.multiply(f, c); var et = L / y, it = k / x, st = (L + D) / y, nt = (k + F) / x, rt = D, ot = F, at = c.e, ht = c.f, lt = ot * c.c + c.e, ut = ot * c.d + c.f, ct = rt * c.a + ot * c.c + c.e, dt = rt * c.b + ot * c.d + c.f, ft = rt * c.a + c.e, pt = rt * c.b + c.f; H && (at = Math.round(at), ht = Math.round(ht), lt = Math.round(lt), ut = Math.round(ut), ct = Math.round(ct), dt = Math.round(dt), ft = Math.round(ft), pt = Math.round(pt)), h.batchQuad(at, ht, lt, ut, ct, dt, ft, pt, et, it, st, nt, T, b, S, A, w, g, 0) } } } else G++, 1 === U ? W = (V.longest - V.lengths[G]) / 2 : 2 === U && (W = V.longest - V.lengths[G]), _ = 0, M += z, C = null; l && (h.flush(), t.popScissor()) } } })), n.register("bkoGq", (function (t, e) { var i = n("csLaZ"); t.exports = function (t, e, s, n, r) { var o = e._text, a = o.length, h = t.currentContext; if (0 !== a && i(t, h, e, n, r)) { var l = e.frame, u = e.displayCallback, c = e.callbackData, d = e.fontData.chars, f = e.fontData.lineHeight, p = e._letterSpacing, g = 0, v = 0, m = 0, y = null, x = 0, w = 0, T = 0, b = 0, S = 0, A = 0, E = null, C = 0, _ = e.frame.source.image, M = l.cutX, P = l.cutY, O = 0, R = 0, L = e._fontSize / e.fontData.size, k = e._align, D = 0, F = 0; e.getTextBounds(!1); var I = e._bounds.lines; 1 === k ? F = (I.longest - I.lengths[0]) / 2 : 2 === k && (F = I.longest - I.lengths[0]), h.translate(-e.displayOriginX, -e.displayOriginY); var B = n.roundPixels; e.cropWidth > 0 && e.cropHeight > 0 && (h.beginPath(), h.rect(0, 0, e.cropWidth, e.cropHeight), h.clip()); for (var N = 0; N < a; N++)if (R = L, O = 0, 10 !== (m = o.charCodeAt(N))) { if (y = d[m]) { if (x = M + y.x, w = P + y.y, T = y.width, b = y.height, S = y.xOffset + g - e.scrollX, A = y.yOffset + v - e.scrollY, null !== E) { var Y = y.kerning[C]; S += void 0 !== Y ? Y : 0 } if (u) { c.index = N, c.charCode = m, c.x = S, c.y = A, c.scale = R, c.rotation = O, c.data = y.data; var z = u(c); S = z.x, A = z.y, R = z.scale, O = z.rotation } S *= R, A *= R, S += F, g += y.xAdvance + p, E = y, C = m, 0 !== T && 0 !== b && 32 !== m && (B && (S = Math.round(S), A = Math.round(A)), h.save(), h.translate(S, A), h.rotate(O), h.scale(R, R), h.drawImage(_, x, w, T, b, 0, 0, T, b), h.restore()) } } else D++, 1 === k ? F = (I.longest - I.lengths[D]) / 2 : 2 === k && (F = I.longest - I.lengths[D]), g = 0, v += f, E = null; h.restore() } } })), n.register("9I9TZ", (function (t, e) { var i = n("jwj1g"), s = n("4FF1v"), r = n("1zqlR"), o = n("iTi06"), a = new i({ Extends: r, Mixins: [s.Alpha, s.BlendMode, s.Depth, s.Flip, s.Origin, s.ScrollFactor, s.Size, s.Texture, s.Tint, s.Transform, s.Visible, o], initialize: function (t) { r.call(this, t, "Extern") }, preUpdate: function () { }, render: function () { } }); t.exports = a })), n.register("iTi06", (function (t, e) { var i = n("13GYA"), s = n("13GYA"); i = n("jW8sW"), s = n("bf19D"), t.exports = { renderWebGL: i, renderCanvas: s } })), n.register("jW8sW", (function (t, e) { t.exports = function (t, e, i, s, n) { var r = t.currentPipeline; t.clearPipeline(); var o = t._tempMatrix1, a = t._tempMatrix2, h = t._tempMatrix3; a.applyITRS(e.x, e.y, e.rotation, e.scaleX, e.scaleY), o.copyFrom(s.matrix), n ? (o.multiplyWithOffset(n, -s.scrollX * e.scrollFactorX, -s.scrollY * e.scrollFactorY), a.e = e.x, a.f = e.y, o.multiply(a, h)) : (a.e -= s.scrollX * e.scrollFactorX, a.f -= s.scrollY * e.scrollFactorY, o.multiply(a, h)), e.render.call(e, t, s, h), t.rebindPipeline(r) } })), n.register("bf19D", (function (t, e) { })), n.register("2Irqj", (function (t, e) { var i = n("2LSzx"), s = n("jwj1g"), r = n("dRykN"), o = n("gRRWm"), a = n("2UeGA"), h = n("1CJAb"), l = n("42G5m"), u = n("DznIZ"), c = n("i5mxL"), d = n("fVg1f"), f = n("hKiq1"), p = n("azs1m"), g = n("eaZcG"), v = n("1zqlR"), m = n("7BSWl"), y = n("5pMDk"), x = n("bNtDi"), w = n("fdwDj"), T = new s({ Extends: v, Mixins: [o, a, h, l, u, c, d, f, w], initialize: function (t, e) { var i = y(e, "x", 0), s = y(e, "y", 0); v.call(this, t, "Graphics"), this.setPosition(i, s), this.initPipeline(), this.displayOriginX = 0, this.displayOriginY = 0, this.commandBuffer = [], this.defaultFillColor = -1, this.defaultFillAlpha = 1, this.defaultStrokeWidth = 1, this.defaultStrokeColor = -1, this.defaultStrokeAlpha = 1, this._lineWidth = 1, this._tempMatrix1 = new p, this._tempMatrix2 = new p, this._tempMatrix3 = new p, this.setDefaultStyles(e) }, setDefaultStyles: function (t) { return y(t, "lineStyle", null) && (this.defaultStrokeWidth = y(t, "lineStyle.width", 1), this.defaultStrokeColor = y(t, "lineStyle.color", 16777215), this.defaultStrokeAlpha = y(t, "lineStyle.alpha", 1), this.lineStyle(this.defaultStrokeWidth, this.defaultStrokeColor, this.defaultStrokeAlpha)), y(t, "fillStyle", null) && (this.defaultFillColor = y(t, "fillStyle.color", 16777215), this.defaultFillAlpha = y(t, "fillStyle.alpha", 1), this.fillStyle(this.defaultFillColor, this.defaultFillAlpha)), this }, lineStyle: function (t, e, i) { return void 0 === i && (i = 1), this.commandBuffer.push(r.LINE_STYLE, t, e, i), this._lineWidth = t, this }, fillStyle: function (t, e) { return void 0 === e && (e = 1), this.commandBuffer.push(r.FILL_STYLE, t, e), this }, fillGradientStyle: function (t, e, i, s, n) { return void 0 === n && (n = 1), this.commandBuffer.push(r.GRADIENT_FILL_STYLE, n, t, e, i, s), this }, lineGradientStyle: function (t, e, i, s, n, o) { return void 0 === o && (o = 1), this.commandBuffer.push(r.GRADIENT_LINE_STYLE, t, o, e, i, s, n), this }, setTexture: function (t, e, i) { if (void 0 === i && (i = 0), void 0 === t) this.commandBuffer.push(r.CLEAR_TEXTURE); else { var s = this.scene.sys.textures.getFrame(t, e); s && (2 === i && (i = 3), this.commandBuffer.push(r.SET_TEXTURE, s, i)) } return this }, beginPath: function () { return this.commandBuffer.push(r.BEGIN_PATH), this }, closePath: function () { return this.commandBuffer.push(r.CLOSE_PATH), this }, fillPath: function () { return this.commandBuffer.push(r.FILL_PATH), this }, fill: function () { return this.commandBuffer.push(r.FILL_PATH), this }, strokePath: function () { return this.commandBuffer.push(r.STROKE_PATH), this }, stroke: function () { return this.commandBuffer.push(r.STROKE_PATH), this }, fillCircleShape: function (t) { return this.fillCircle(t.x, t.y, t.radius) }, strokeCircleShape: function (t) { return this.strokeCircle(t.x, t.y, t.radius) }, fillCircle: function (t, e, i) { return this.beginPath(), this.arc(t, e, i, 0, x.PI2), this.fillPath(), this }, strokeCircle: function (t, e, i) { return this.beginPath(), this.arc(t, e, i, 0, x.PI2), this.strokePath(), this }, fillRectShape: function (t) { return this.fillRect(t.x, t.y, t.width, t.height) }, strokeRectShape: function (t) { return this.strokeRect(t.x, t.y, t.width, t.height) }, fillRect: function (t, e, i, s) { return this.commandBuffer.push(r.FILL_RECT, t, e, i, s), this }, strokeRect: function (t, e, i, s) { var n = this._lineWidth / 2, r = t - n, o = t + n; return this.beginPath(), this.moveTo(t, e), this.lineTo(t, e + s), this.strokePath(), this.beginPath(), this.moveTo(t + i, e), this.lineTo(t + i, e + s), this.strokePath(), this.beginPath(), this.moveTo(r, e), this.lineTo(o + i, e), this.strokePath(), this.beginPath(), this.moveTo(r, e + s), this.lineTo(o + i, e + s), this.strokePath(), this }, fillRoundedRect: function (t, e, i, s, n) { void 0 === n && (n = 20); var r = n, o = n, a = n, h = n; return "number" != typeof n && (r = m(n, "tl", 20), o = m(n, "tr", 20), a = m(n, "bl", 20), h = m(n, "br", 20)), this.beginPath(), this.moveTo(t + r, e), this.lineTo(t + i - o, e), this.arc(t + i - o, e + o, o, -x.TAU, 0), this.lineTo(t + i, e + s - h), this.arc(t + i - h, e + s - h, h, 0, x.TAU), this.lineTo(t + a, e + s), this.arc(t + a, e + s - a, a, x.TAU, Math.PI), this.lineTo(t, e + r), this.arc(t + r, e + r, r, -Math.PI, -x.TAU), this.fillPath(), this }, strokeRoundedRect: function (t, e, i, s, n) { void 0 === n && (n = 20); var r = n, o = n, a = n, h = n; return "number" != typeof n && (r = m(n, "tl", 20), o = m(n, "tr", 20), a = m(n, "bl", 20), h = m(n, "br", 20)), this.beginPath(), this.moveTo(t + r, e), this.lineTo(t + i - o, e), this.arc(t + i - o, e + o, o, -x.TAU, 0), this.lineTo(t + i, e + s - h), this.arc(t + i - h, e + s - h, h, 0, x.TAU), this.lineTo(t + a, e + s), this.arc(t + a, e + s - a, a, x.TAU, Math.PI), this.lineTo(t, e + r), this.arc(t + r, e + r, r, -Math.PI, -x.TAU), this.strokePath(), this }, fillPointShape: function (t, e) { return this.fillPoint(t.x, t.y, e) }, fillPoint: function (t, e, i) { return !i || i < 1 ? i = 1 : (t -= i / 2, e -= i / 2), this.commandBuffer.push(r.FILL_RECT, t, e, i, i), this }, fillTriangleShape: function (t) { return this.fillTriangle(t.x1, t.y1, t.x2, t.y2, t.x3, t.y3) }, strokeTriangleShape: function (t) { return this.strokeTriangle(t.x1, t.y1, t.x2, t.y2, t.x3, t.y3) }, fillTriangle: function (t, e, i, s, n, o) { return this.commandBuffer.push(r.FILL_TRIANGLE, t, e, i, s, n, o), this }, strokeTriangle: function (t, e, i, s, n, o) { return this.commandBuffer.push(r.STROKE_TRIANGLE, t, e, i, s, n, o), this }, strokeLineShape: function (t) { return this.lineBetween(t.x1, t.y1, t.x2, t.y2) }, lineBetween: function (t, e, i, s) { return this.beginPath(), this.moveTo(t, e), this.lineTo(i, s), this.strokePath(), this }, lineTo: function (t, e) { return this.commandBuffer.push(r.LINE_TO, t, e), this }, moveTo: function (t, e) { return this.commandBuffer.push(r.MOVE_TO, t, e), this }, strokePoints: function (t, e, i, s) { void 0 === e && (e = !1), void 0 === i && (i = !1), void 0 === s && (s = t.length), this.beginPath(), this.moveTo(t[0].x, t[0].y); for (var n = 1; n < s; n++)this.lineTo(t[n].x, t[n].y); return e && this.lineTo(t[0].x, t[0].y), i && this.closePath(), this.strokePath(), this }, fillPoints: function (t, e, i, s) { void 0 === e && (e = !1), void 0 === i && (i = !1), void 0 === s && (s = t.length), this.beginPath(), this.moveTo(t[0].x, t[0].y); for (var n = 1; n < s; n++)this.lineTo(t[n].x, t[n].y); return e && this.lineTo(t[0].x, t[0].y), i && this.closePath(), this.fillPath(), this }, strokeEllipseShape: function (t, e) { void 0 === e && (e = 32); var i = t.getPoints(e); return this.strokePoints(i, !0) }, strokeEllipse: function (t, e, i, s, n) { void 0 === n && (n = 32); var r = new g(t, e, i, s).getPoints(n); return this.strokePoints(r, !0) }, fillEllipseShape: function (t, e) { void 0 === e && (e = 32); var i = t.getPoints(e); return this.fillPoints(i, !0) }, fillEllipse: function (t, e, i, s, n) { void 0 === n && (n = 32); var r = new g(t, e, i, s).getPoints(n); return this.fillPoints(r, !0) }, arc: function (t, e, i, s, n, o, a) { return void 0 === o && (o = !1), void 0 === a && (a = 0), this.commandBuffer.push(r.ARC, t, e, i, s, n, o, a), this }, slice: function (t, e, i, s, n, o, a) { return void 0 === o && (o = !1), void 0 === a && (a = 0), this.commandBuffer.push(r.BEGIN_PATH), this.commandBuffer.push(r.MOVE_TO, t, e), this.commandBuffer.push(r.ARC, t, e, i, s, n, o, a), this.commandBuffer.push(r.CLOSE_PATH), this }, save: function () { return this.commandBuffer.push(r.SAVE), this }, restore: function () { return this.commandBuffer.push(r.RESTORE), this }, translateCanvas: function (t, e) { return this.commandBuffer.push(r.TRANSLATE, t, e), this }, scaleCanvas: function (t, e) { return this.commandBuffer.push(r.SCALE, t, e), this }, rotateCanvas: function (t) { return this.commandBuffer.push(r.ROTATE, t), this }, clear: function () { return this.commandBuffer.length = 0, this.defaultFillColor > -1 && this.fillStyle(this.defaultFillColor, this.defaultFillAlpha), this.defaultStrokeColor > -1 && this.lineStyle(this.defaultStrokeWidth, this.defaultStrokeColor, this.defaultStrokeAlpha), this }, generateTexture: function (t, e, i) { var s, n, r = this.scene.sys, o = r.game.renderer; if (void 0 === e && (e = r.scale.width), void 0 === i && (i = r.scale.height), T.TargetCamera.setScene(this.scene), T.TargetCamera.setViewport(0, 0, e, i), T.TargetCamera.scrollX = this.x, T.TargetCamera.scrollY = this.y, "string" == typeof t) if (r.textures.exists(t)) { var a = (s = r.textures.get(t)).getSourceImage(); a instanceof HTMLCanvasElement && (n = a.getContext("2d")) } else n = (s = r.textures.createCanvas(t, e, i)).getSourceImage().getContext("2d"); else t instanceof HTMLCanvasElement && (n = t.getContext("2d")); return n && (this.renderCanvas(o, this, 0, T.TargetCamera, null, n, !1), s && s.refresh()), this }, preDestroy: function () { this.commandBuffer = [] } }); T.TargetCamera = new i, t.exports = T })), n.register("dRykN", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { ARC: 0, BEGIN_PATH: 1, CLOSE_PATH: 2, FILL_RECT: 3, LINE_TO: 4, MOVE_TO: 5, LINE_STYLE: 6, FILL_STYLE: 7, FILL_PATH: 8, STROKE_PATH: 9, FILL_TRIANGLE: 10, STROKE_TRIANGLE: 11, SAVE: 14, RESTORE: 15, TRANSLATE: 16, SCALE: 17, ROTATE: 18, SET_TEXTURE: 19, CLEAR_TEXTURE: 20, GRADIENT_FILL_STYLE: 21, GRADIENT_LINE_STYLE: 22 }
})), n.register("eaZcG", (function (t, e) { var i = n("jwj1g"), s = n("dsAkp"), r = n("1vBT7"), o = n("61Yre"), a = n("gZ2BZ"), h = n("fH1i1"), l = new i({ initialize: function (t, e, i, s) { void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === s && (s = 0), this.type = a.ELLIPSE, this.x = t, this.y = e, this.width = i, this.height = s }, contains: function (t, e) { return s(this, t, e) }, getPoint: function (t, e) { return r(this, t, e) }, getPoints: function (t, e, i) { return o(this, t, e, i) }, getRandomPoint: function (t) { return h(this, t) }, setTo: function (t, e, i, s) { return this.x = t, this.y = e, this.width = i, this.height = s, this }, setEmpty: function () { return this.width = 0, this.height = 0, this }, setPosition: function (t, e) { return void 0 === e && (e = t), this.x = t, this.y = e, this }, setSize: function (t, e) { return void 0 === e && (e = t), this.width = t, this.height = e, this }, isEmpty: function () { return this.width <= 0 || this.height <= 0 }, getMinorRadius: function () { return Math.min(this.width, this.height) / 2 }, getMajorRadius: function () { return Math.max(this.width, this.height) / 2 }, left: { get: function () { return this.x - this.width / 2 }, set: function (t) { this.x = t + this.width / 2 } }, right: { get: function () { return this.x + this.width / 2 }, set: function (t) { this.x = t - this.width / 2 } }, top: { get: function () { return this.y - this.height / 2 }, set: function (t) { this.y = t + this.height / 2 } }, bottom: { get: function () { return this.y + this.height / 2 }, set: function (t) { this.y = t - this.height / 2 } } }); t.exports = l })), n.register("dsAkp", (function (t, e) { t.exports = function (t, e, i) { if (t.width <= 0 || t.height <= 0) return !1; var s = (e - t.x) / t.width, n = (i - t.y) / t.height; return (s *= s) + (n *= n) < .25 } })), n.register("1vBT7", (function (t, e) { var i = n("jKWrM"), s = n("hqfaz"), r = n("bNtDi"), o = n("cSEB9"); t.exports = function (t, e, n) { void 0 === n && (n = new o); var a = s(e, 0, r.PI2); return i(t, a, n) } })), n.register("jKWrM", (function (t, e) { var i = n("cSEB9"); t.exports = function (t, e, s) { void 0 === s && (s = new i); var n = t.width / 2, r = t.height / 2; return s.x = t.x + n * Math.cos(e), s.y = t.y + r * Math.sin(e), s } })), n.register("61Yre", (function (t, e) { var i = n("dmO0a"), s = n("jKWrM"), r = n("hqfaz"), o = n("bNtDi"); t.exports = function (t, e, n, a) { void 0 === a && (a = []), e || (e = i(t) / n); for (var h = 0; h < e; h++) { var l = r(h / e, 0, o.PI2); a.push(s(t, l)) } return a } })), n.register("dmO0a", (function (t, e) { t.exports = function (t) { var e = t.width / 2, i = t.height / 2, s = Math.pow(e - i, 2) / Math.pow(e + i, 2); return Math.PI * (e + i) * (1 + 3 * s / (10 + Math.sqrt(4 - 3 * s))) } })), n.register("fdwDj", (function (t, e) { var i = n("13GYA"), s = n("13GYA"); i = n("3KdB7"), s = n("cYp0N"), s = n("cYp0N"), t.exports = { renderWebGL: i, renderCanvas: s } })), n.register("3KdB7", (function (t, e) { var i = n("dRykN"), s = n("gaO4e"), r = function (t, e, i) { this.x = t, this.y = e, this.width = i }, o = function (t, e, i) { this.points = [], this.pointsLength = 1, this.points[0] = new r(t, e, i) }, a = []; t.exports = function (t, e, n, h, l) { if (0 !== e.commandBuffer.length) { var u = this.pipeline; t.setPipeline(u, e); var c = e._tempMatrix1, d = e._tempMatrix2, f = e._tempMatrix3; f.loadIdentity(), d.applyITRS(e.x, e.y, e.rotation, e.scaleX, e.scaleY), c.copyFrom(h.matrix), l ? (c.multiplyWithOffset(l, -h.scrollX * e.scrollFactorX, -h.scrollY * e.scrollFactorY), d.e = e.x, d.f = e.y, c.multiply(d)) : (d.e -= h.scrollX * e.scrollFactorX, d.f -= h.scrollY * e.scrollFactorY, c.multiply(d)); for (var p = e.commandBuffer, g = h.alpha * e.alpha, v = 1, m = u.fillTint, y = u.strokeTint, x = 0, w = 0, T = 0, b = 2 * Math.PI, S = [], A = 0, E = !1, C = null, _ = s.getTintAppendFloatAlphaAndSwap, M = t.blankTexture.glTexture, P = 0; P < p.length; P++)switch (p[P]) { case i.BEGIN_PATH: S.length = 0, C = null, E = !0; break; case i.CLOSE_PATH: E = !1, C && C.points.length && C.points.push(C.points[0]); break; case i.FILL_PATH: for (A = 0; A < S.length; A++)u.setTexture2D(M), u.batchFillPath(S[A].points, f, c); break; case i.STROKE_PATH: for (A = 0; A < S.length; A++)u.setTexture2D(M), u.batchStrokePath(S[A].points, v, E, f, c); break; case i.LINE_STYLE: v = p[++P]; var O = _(p[++P], p[++P] * g); y.TL = O, y.TR = O, y.BL = O, y.BR = O; break; case i.FILL_STYLE: var R = _(p[++P], p[++P] * g); m.TL = R, m.TR = R, m.BL = R, m.BR = R; break; case i.GRADIENT_FILL_STYLE: var L = p[++P] * g; m.TL = _(p[++P], L), m.TR = _(p[++P], L), m.BL = _(p[++P], L), m.BR = _(p[++P], L); break; case i.GRADIENT_LINE_STYLE: v = p[++P]; var k = p[++P] * g; y.TL = _(p[++P], k), y.TR = _(p[++P], k), y.BL = _(p[++P], k), y.BR = _(p[++P], k); break; case i.ARC: var D = 0, F = p[++P], I = p[++P], B = p[++P], N = p[++P], Y = p[++P], z = p[++P], j = p[++P]; for (Y -= N, z ? Y < -b ? Y = -b : Y > 0 && (Y = Y % b - b) : Y > b ? Y = b : Y < 0 && (Y = b + Y % b), null === C && (C = new o(F + Math.cos(N) * B, I + Math.sin(N) * B, v), S.push(C), D += .01); D < 1 + j;)T = Y * D + N, x = F + Math.cos(T) * B, w = I + Math.sin(T) * B, C.points.push(new r(x, w, v)), D += .01; T = Y + N, x = F + Math.cos(T) * B, w = I + Math.sin(T) * B, C.points.push(new r(x, w, v)); break; case i.FILL_RECT: u.setTexture2D(M), u.batchFillRect(p[++P], p[++P], p[++P], p[++P], f, c); break; case i.FILL_TRIANGLE: u.setTexture2D(M), u.batchFillTriangle(p[++P], p[++P], p[++P], p[++P], p[++P], p[++P], f, c); break; case i.STROKE_TRIANGLE: u.setTexture2D(M), u.batchStrokeTriangle(p[++P], p[++P], p[++P], p[++P], p[++P], p[++P], v, f, c); break; case i.LINE_TO: null !== C ? C.points.push(new r(p[++P], p[++P], v)) : (C = new o(p[++P], p[++P], v), S.push(C)); break; case i.MOVE_TO: C = new o(p[++P], p[++P], v), S.push(C); break; case i.SAVE: a.push(f.copyToArray()); break; case i.RESTORE: f.copyFromArray(a.pop()); break; case i.TRANSLATE: F = p[++P], I = p[++P], f.translate(F, I); break; case i.SCALE: F = p[++P], I = p[++P], f.scale(F, I); break; case i.ROTATE: f.rotate(p[++P]); break; case i.SET_TEXTURE: var X = p[++P], U = p[++P]; u.currentFrame = X, u.setTexture2D(X.glTexture, 0), u.tintEffect = U, M = X.glTexture; break; case i.CLEAR_TEXTURE: u.currentFrame = t.blankTexture, u.tintEffect = 2, M = t.blankTexture.glTexture } } } })), n.register("cYp0N", (function (t, e) { var i = n("dRykN"), s = n("csLaZ"); t.exports = function (t, e, n, r, o, a, h) { var l = e.commandBuffer, u = l.length, c = a || t.currentContext; if (0 !== u && s(t, c, e, r, o)) { var d = 1, f = 1, p = 0, g = 0, v = 1, m = 0, y = 0, x = 0; c.beginPath(); for (var w = 0; w < u; ++w) { switch (l[w]) { case i.ARC: c.arc(l[w + 1], l[w + 2], l[w + 3], l[w + 4], l[w + 5], l[w + 6]), w += 7; break; case i.LINE_STYLE: v = l[w + 1], p = l[w + 2], d = l[w + 3], m = (16711680 & p) >>> 16, y = (65280 & p) >>> 8, x = 255 & p, c.strokeStyle = "rgba(" + m + "," + y + "," + x + "," + d + ")", c.lineWidth = v, w += 3; break; case i.FILL_STYLE: g = l[w + 1], f = l[w + 2], m = (16711680 & g) >>> 16, y = (65280 & g) >>> 8, x = 255 & g, c.fillStyle = "rgba(" + m + "," + y + "," + x + "," + f + ")", w += 2; break; case i.BEGIN_PATH: c.beginPath(); break; case i.CLOSE_PATH: c.closePath(); break; case i.FILL_PATH: h || c.fill(); break; case i.STROKE_PATH: h || c.stroke(); break; case i.FILL_RECT: h ? c.rect(l[w + 1], l[w + 2], l[w + 3], l[w + 4]) : c.fillRect(l[w + 1], l[w + 2], l[w + 3], l[w + 4]), w += 4; break; case i.FILL_TRIANGLE: c.beginPath(), c.moveTo(l[w + 1], l[w + 2]), c.lineTo(l[w + 3], l[w + 4]), c.lineTo(l[w + 5], l[w + 6]), c.closePath(), h || c.fill(), w += 6; break; case i.STROKE_TRIANGLE: c.beginPath(), c.moveTo(l[w + 1], l[w + 2]), c.lineTo(l[w + 3], l[w + 4]), c.lineTo(l[w + 5], l[w + 6]), c.closePath(), h || c.stroke(), w += 6; break; case i.LINE_TO: c.lineTo(l[w + 1], l[w + 2]), w += 2; break; case i.MOVE_TO: c.moveTo(l[w + 1], l[w + 2]), w += 2; break; case i.LINE_FX_TO: c.lineTo(l[w + 1], l[w + 2]), w += 5; break; case i.MOVE_FX_TO: c.moveTo(l[w + 1], l[w + 2]), w += 5; break; case i.SAVE: c.save(); break; case i.RESTORE: c.restore(); break; case i.TRANSLATE: c.translate(l[w + 1], l[w + 2]), w += 2; break; case i.SCALE: c.scale(l[w + 1], l[w + 2]), w += 2; break; case i.ROTATE: c.rotate(l[w + 1]), w += 1; break; case i.GRADIENT_FILL_STYLE: w += 5; break; case i.GRADIENT_LINE_STYLE: w += 6; break; case i.SET_TEXTURE: w += 2 } } c.restore() } } })), n.register("hDBsd", (function (t, e) { var i = n("fs3fn"), s = n("jwj1g"), r = n("jIv3O"), o = n("7BSWl"), a = n("5pMDk"), h = n("jC9MQ"), l = n("3OeE3"), u = n("lxxnL"), c = n("gXuc8"), d = new s({ initialize: function (t, e, i) { i ? e && !Array.isArray(e) && (e = [e]) : Array.isArray(e) ? h(e[0]) && (i = e, e = null) : h(e) && (i = e, e = null), this.scene = t, this.children = new u(e), this.isParent = !0, this.type = "Group", this.classType = o(i, "classType", c), this.name = o(i, "name", ""), this.active = o(i, "active", !0), this.maxSize = o(i, "maxSize", -1), this.defaultKey = o(i, "defaultKey", null), this.defaultFrame = o(i, "defaultFrame", null), this.runChildUpdate = o(i, "runChildUpdate", !1), this.createCallback = o(i, "createCallback", null), this.removeCallback = o(i, "removeCallback", null), this.createMultipleCallback = o(i, "createMultipleCallback", null), this.internalCreateCallback = o(i, "internalCreateCallback", null), this.internalRemoveCallback = o(i, "internalRemoveCallback", null), i && this.createMultiple(i) }, create: function (t, e, i, s, n, r) { if (void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = this.defaultKey), void 0 === s && (s = this.defaultFrame), void 0 === n && (n = !0), void 0 === r && (r = !0), this.isFull()) return null; var o = new this.classType(this.scene, t, e, i, s); return this.scene.sys.displayList.add(o), o.preUpdate && this.scene.sys.updateList.add(o), o.visible = n, o.setActive(r), this.add(o), o }, createMultiple: function (t) { if (this.isFull()) return []; Array.isArray(t) || (t = [t]); var e = []; if (t[0].key) for (var i = 0; i < t.length; i++) { var s = this.createFromConfig(t[i]); e = e.concat(s) } return e }, createFromConfig: function (t) { if (this.isFull()) return []; this.classType = o(t, "classType", this.classType); var e = o(t, "key", void 0), s = o(t, "frame", null), n = o(t, "visible", !0), r = o(t, "active", !0), h = []; if (void 0 === e) return h; Array.isArray(e) || (e = [e]), Array.isArray(s) || (s = [s]); var u = o(t, "repeat", 0), c = o(t, "randomKey", !1), d = o(t, "randomFrame", !1), f = o(t, "yoyo", !1), p = o(t, "quantity", !1), g = o(t, "frameQuantity", 1), v = o(t, "max", 0), m = l(e, s, { max: v, qty: p || g, random: c, randomB: d, repeat: u, yoyo: f }); t.createCallback && (this.createCallback = t.createCallback), t.removeCallback && (this.removeCallback = t.removeCallback); for (var y = 0; y < m.length; y++) { var x = this.create(0, 0, m[y].a, m[y].b, n, r); if (!x) break; h.push(x) } var w = a(t, "setXY.x", 0), T = a(t, "setXY.y", 0), b = a(t, "setXY.stepX", 0), S = a(t, "setXY.stepY", 0); i.SetXY(h, w, T, b, S); var A = a(t, "setRotation.value", 0), E = a(t, "setRotation.step", 0); i.SetRotation(h, A, E); var C = a(t, "setScale.x", 1), _ = a(t, "setScale.y", C), M = a(t, "setScale.stepX", 0), P = a(t, "setScale.stepY", 0); i.SetScale(h, C, _, M, P); var O = a(t, "setAlpha.value", 1), R = a(t, "setAlpha.step", 0); i.SetAlpha(h, O, R); var L = a(t, "setDepth.value", 0), k = a(t, "setDepth.step", 0); i.SetDepth(h, L, k); var D = a(t, "setScrollFactor.x", 1), F = a(t, "setScrollFactor.y", D), I = a(t, "setScrollFactor.stepX", 0), B = a(t, "setScrollFactor.stepY", 0); i.SetScrollFactor(h, D, F, I, B); var N = o(t, "hitArea", null), Y = o(t, "hitAreaCallback", null); N && i.SetHitArea(h, N, Y); var z = o(t, "gridAlign", !1); return z && i.GridAlign(h, z), this.createMultipleCallback && this.createMultipleCallback.call(this, h), h }, preUpdate: function (t, e) { if (this.runChildUpdate && 0 !== this.children.size) for (var i = this.children.entries.slice(), s = 0; s < i.length; s++) { var n = i[s]; n.active && n.update(t, e) } }, add: function (t, e) { return void 0 === e && (e = !1), this.isFull() || (this.children.set(t), this.internalCreateCallback && this.internalCreateCallback.call(this, t), this.createCallback && this.createCallback.call(this, t), e && (this.scene.sys.displayList.add(t), t.preUpdate && this.scene.sys.updateList.add(t)), t.on(r.DESTROY, this.remove, this)), this }, addMultiple: function (t, e) { if (void 0 === e && (e = !1), Array.isArray(t)) for (var i = 0; i < t.length; i++)this.add(t[i], e); return this }, remove: function (t, e, i) { return void 0 === e && (e = !1), void 0 === i && (i = !1), this.children.contains(t) ? (this.children.delete(t), this.internalRemoveCallback && this.internalRemoveCallback.call(this, t), this.removeCallback && this.removeCallback.call(this, t), t.off(r.DESTROY, this.remove, this), i ? t.destroy() : e && (t.scene.sys.displayList.remove(t), t.preUpdate && t.scene.sys.updateList.remove(t)), this) : this }, clear: function (t, e) { void 0 === t && (t = !1), void 0 === e && (e = !1); for (var i = this.children, s = 0; s < i.size; s++) { var n = i.entries[s]; n.off(r.DESTROY, this.remove, this), e ? n.destroy() : t && (n.scene.sys.displayList.remove(n), n.preUpdate && n.scene.sys.updateList.remove(n)) } return this.children.clear(), this }, contains: function (t) { return this.children.contains(t) }, getChildren: function () { return this.children.entries }, getLength: function () { return this.children.size }, getFirst: function (t, e, i, s, n, r, o) { return this.getHandler(!0, 1, t, e, i, s, n, r, o) }, getFirstNth: function (t, e, i, s, n, r, o, a) { return this.getHandler(!0, t, e, i, s, n, r, o, a) }, getLast: function (t, e, i, s, n, r, o) { return this.getHandler(!1, 1, t, e, i, s, n, r, o) }, getLastNth: function (t, e, i, s, n, r, o, a) { return this.getHandler(!1, t, e, i, s, n, r, o, a) }, getHandler: function (t, e, i, s, n, r, o, a, h) { var l, u; void 0 === i && (i = !1), void 0 === s && (s = !1); var c = 0, d = this.children.entries; if (t) for (u = 0; u < d.length; u++)if ((l = d[u]).active === i) { if (++c === e) break } else l = null; else for (u = d.length - 1; u >= 0; u--)if ((l = d[u]).active === i) { if (++c === e) break } else l = null; return l ? ("number" == typeof n && (l.x = n), "number" == typeof r && (l.y = r), l) : s ? this.create(n, r, o, a, h) : null }, get: function (t, e, i, s, n) { return this.getFirst(!1, !0, t, e, i, s, n) }, getFirstAlive: function (t, e, i, s, n, r) { return this.getFirst(!0, t, e, i, s, n, r) }, getFirstDead: function (t, e, i, s, n, r) { return this.getFirst(!1, t, e, i, s, n, r) }, playAnimation: function (t, e) { return i.PlayAnimation(this.children.entries, t, e), this }, isFull: function () { return -1 !== this.maxSize && this.children.size >= this.maxSize }, countActive: function (t) { void 0 === t && (t = !0); for (var e = 0, i = 0; i < this.children.size; i++)this.children.entries[i].active === t && e++; return e }, getTotalUsed: function () { return this.countActive() }, getTotalFree: function () { var t = this.getTotalUsed(); return (-1 === this.maxSize ? 999999999999 : this.maxSize) - t }, propertyValueSet: function (t, e, s, n, r) { return i.PropertyValueSet(this.children.entries, t, e, s, n, r), this }, propertyValueInc: function (t, e, s, n, r) { return i.PropertyValueInc(this.children.entries, t, e, s, n, r), this }, setX: function (t, e) { return i.SetX(this.children.entries, t, e), this }, setY: function (t, e) { return i.SetY(this.children.entries, t, e), this }, setXY: function (t, e, s, n) { return i.SetXY(this.children.entries, t, e, s, n), this }, incX: function (t, e) { return i.IncX(this.children.entries, t, e), this }, incY: function (t, e) { return i.IncY(this.children.entries, t, e), this }, incXY: function (t, e, s, n) { return i.IncXY(this.children.entries, t, e, s, n), this }, shiftPosition: function (t, e, s) { return i.ShiftPosition(this.children.entries, t, e, s), this }, angle: function (t, e) { return i.Angle(this.children.entries, t, e), this }, rotate: function (t, e) { return i.Rotate(this.children.entries, t, e), this }, rotateAround: function (t, e) { return i.RotateAround(this.children.entries, t, e), this }, rotateAroundDistance: function (t, e, s) { return i.RotateAroundDistance(this.children.entries, t, e, s), this }, setAlpha: function (t, e) { return i.SetAlpha(this.children.entries, t, e), this }, setTint: function (t, e, s, n) { return i.SetTint(this.children.entries, t, e, s, n), this }, setOrigin: function (t, e, s, n) { return i.SetOrigin(this.children.entries, t, e, s, n), this }, scaleX: function (t, e) { return i.ScaleX(this.children.entries, t, e), this }, scaleY: function (t, e) { return i.ScaleY(this.children.entries, t, e), this }, scaleXY: function (t, e, s, n) { return i.ScaleXY(this.children.entries, t, e, s, n), this }, setDepth: function (t, e) { return i.SetDepth(this.children.entries, t, e), this }, setBlendMode: function (t) { return i.SetBlendMode(this.children.entries, t), this }, setHitArea: function (t, e) { return i.SetHitArea(this.children.entries, t, e), this }, shuffle: function () { return i.Shuffle(this.children.entries), this }, kill: function (t) { this.children.contains(t) && t.setActive(!1) }, killAndHide: function (t) { this.children.contains(t) && (t.setActive(!1), t.setVisible(!1)) }, setVisible: function (t, e, s) { return i.SetVisible(this.children.entries, t, e, s), this }, toggleVisible: function () { return i.ToggleVisible(this.children.entries), this }, destroy: function (t) { void 0 === t && (t = !1), this.scene && !this.ignoreDestroy && (this.clear(!1, t), this.scene = void 0, this.children = void 0) } }); t.exports = d })), n.register("lxxnL", (function (t, e) { var i = new (n("jwj1g"))({ initialize: function (t) { if (this.entries = [], Array.isArray(t)) for (var e = 0; e < t.length; e++)this.set(t[e]) }, set: function (t) { return -1 === this.entries.indexOf(t) && this.entries.push(t), this }, get: function (t, e) { for (var i = 0; i < this.entries.length; i++) { var s = this.entries[i]; if (s[t] === e) return s } }, getArray: function () { return this.entries.slice(0) }, delete: function (t) { var e = this.entries.indexOf(t); return e > -1 && this.entries.splice(e, 1), this }, dump: function () { console.group("Set"); for (var t = 0; t < this.entries.length; t++) { var e = this.entries[t]; console.log(e) } console.groupEnd() }, each: function (t, e) { var i, s = this.entries.slice(), n = s.length; if (e) for (i = 0; i < n && !1 !== t.call(e, s[i], i); i++); else for (i = 0; i < n && !1 !== t(s[i], i); i++); return this }, iterate: function (t, e) { var i, s = this.entries.length; if (e) for (i = 0; i < s && !1 !== t.call(e, this.entries[i], i); i++); else for (i = 0; i < s && !1 !== t(this.entries[i], i); i++); return this }, iterateLocal: function (t) { var e, i = []; for (e = 1; e < arguments.length; e++)i.push(arguments[e]); var s = this.entries.length; for (e = 0; e < s; e++) { var n = this.entries[e]; n[t].apply(n, i) } return this }, clear: function () { return this.entries.length = 0, this }, contains: function (t) { return this.entries.indexOf(t) > -1 }, union: function (t) { var e = new i; return t.entries.forEach((function (t) { e.set(t) })), this.entries.forEach((function (t) { e.set(t) })), e }, intersect: function (t) { var e = new i; return this.entries.forEach((function (i) { t.contains(i) && e.set(i) })), e }, difference: function (t) { var e = new i; return this.entries.forEach((function (i) { t.contains(i) || e.set(i) })), e }, size: { get: function () { return this.entries.length }, set: function (t) { return t < this.entries.length ? this.entries.length = t : this.entries.length } } }); t.exports = i })), n.register("gXuc8", (function (t, e) { var i = n("jwj1g"), s = n("4FF1v"), r = n("1zqlR"), o = n("7xBzH"), a = new i({ Extends: r, Mixins: [s.Alpha, s.BlendMode, s.Depth, s.Flip, s.GetBounds, s.Mask, s.Origin, s.Pipeline, s.ScrollFactor, s.Size, s.TextureCrop, s.Tint, s.Transform, s.Visible, o], initialize: function (t, e, i, n, o) { r.call(this, t, "Sprite"), this._crop = this.resetCropObject(), this.anims = new s.Animation(this), this.setTexture(n, o), this.setPosition(e, i), this.setSizeToFrame(), this.setOriginFromFrame(), this.initPipeline() }, preUpdate: function (t, e) { this.anims.update(t, e) }, play: function (t, e, i) { return this.anims.play(t, e, i), this }, toJSON: function () { return s.ToJSON(this) }, preDestroy: function () { this.anims.destroy(), this.anims = void 0 } }); t.exports = a })), n.register("7xBzH", (function (t, e) { var i = n("13GYA"), s = n("13GYA"); i = n("asWCp"), s = n("fX7xt"), t.exports = { renderWebGL: i, renderCanvas: s } })), n.register("asWCp", (function (t, e) { t.exports = function (t, e, i, s, n) { this.pipeline.batchSprite(e, s, n) } })), n.register("fX7xt", (function (t, e) { t.exports = function (t, e, i, s, n) { t.batchSprite(e, e.frame, s, n) } })), n.register("8qGvv", (function (t, e) { var i = n("jwj1g"), s = n("4FF1v"), r = n("1zqlR"), o = n("lov8M"), a = new i({ Extends: r, Mixins: [s.Alpha, s.BlendMode, s.Depth, s.Flip, s.GetBounds, s.Mask, s.Origin, s.Pipeline, s.ScrollFactor, s.Size, s.TextureCrop, s.Tint, s.Transform, s.Visible, o], initialize: function (t, e, i, s, n) { r.call(this, t, "Image"), this._crop = this.resetCropObject(), this.setTexture(s, n), this.setPosition(e, i), this.setSizeToFrame(), this.setOriginFromFrame(), this.initPipeline() } }); t.exports = a })), n.register("lov8M", (function (t, e) { var i = n("13GYA"), s = n("13GYA"); i = n("lvyFt"), s = n("37n2d"), t.exports = { renderWebGL: i, renderCanvas: s } })), n.register("lvyFt", (function (t, e) { t.exports = function (t, e, i, s, n) { this.pipeline.batchSprite(e, s, n) } })), n.register("37n2d", (function (t, e) { t.exports = function (t, e, i, s, n) { t.batchSprite(e, e.frame, s, n) } })), n.register("jyMeR", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { GravityWell: n("WUmMp"), Particle: n("b1bWN"), ParticleEmitter: n("hlq7f"), ParticleEmitterManager: n("fnOwf"), Zones: n("3zceK") }
})), n.register("WUmMp", (function (t, e) { var i = n("jwj1g"), s = n("7BSWl"), r = new i({ initialize: function (t, e, i, n, r) { if ("object" == typeof t) { var o = t; t = s(o, "x", 0), e = s(o, "y", 0), i = s(o, "power", 0), n = s(o, "epsilon", 100), r = s(o, "gravity", 50) } else void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 100), void 0 === r && (r = 50); this.x = t, this.y = e, this.active = !0, this._gravity = r, this._power = 0, this._epsilon = 0, this.power = i, this.epsilon = n }, update: function (t, e) { var i = this.x - t.x, s = this.y - t.y, n = i * i + s * s; if (0 !== n) { var r = Math.sqrt(n); n < this._epsilon && (n = this._epsilon); var o = this._power * e / (n * r) * 100; t.velocityX += i * o, t.velocityY += s * o } }, epsilon: { get: function () { return Math.sqrt(this._epsilon) }, set: function (t) { this._epsilon = t * t } }, power: { get: function () { return this._power / this._gravity }, set: function (t) { this._power = t * this._gravity } }, gravity: { get: function () { return this._gravity }, set: function (t) { var e = this.power; this._gravity = t, this.power = e } } }); t.exports = r })), n.register("b1bWN", (function (t, e) { var i = n("jwj1g"), s = n("2zqSA"), r = n("bwLQh"), o = new i({ initialize: function (t) { this.emitter = t, this.frame = null, this.x = 0, this.y = 0, this.velocityX = 0, this.velocityY = 0, this.accelerationX = 0, this.accelerationY = 0, this.maxVelocityX = 1e4, this.maxVelocityY = 1e4, this.bounce = 0, this.scaleX = 1, this.scaleY = 1, this.alpha = 1, this.angle = 0, this.rotation = 0, this.tint = 16777215, this.life = 1e3, this.lifeCurrent = 1e3, this.delayCurrent = 0, this.lifeT = 0, this.data = { tint: { min: 16777215, max: 16777215, current: 16777215 }, alpha: { min: 1, max: 1 }, rotate: { min: 0, max: 0 }, scaleX: { min: 1, max: 1 }, scaleY: { min: 1, max: 1 } } }, isAlive: function () { return this.lifeCurrent > 0 }, resetPosition: function () { this.x = 0, this.y = 0 }, fire: function (t, e) { var i = this.emitter; this.frame = i.getFrame(), i.emitZone && i.emitZone.getPoint(this), void 0 === t ? (i.follow && (this.x += i.follow.x + i.followOffset.x), this.x += i.x.onEmit(this, "x")) : this.x += t, void 0 === e ? (i.follow && (this.y += i.follow.y + i.followOffset.y), this.y += i.y.onEmit(this, "y")) : this.y += e, this.life = i.lifespan.onEmit(this, "lifespan"), this.lifeCurrent = this.life, this.lifeT = 0; var n = i.speedX.onEmit(this, "speedX"), o = i.speedY ? i.speedY.onEmit(this, "speedY") : n; if (i.radial) { var a = s(i.angle.onEmit(this, "angle")); this.velocityX = Math.cos(a) * Math.abs(n), this.velocityY = Math.sin(a) * Math.abs(o) } else if (i.moveTo) { var h = i.moveToX.onEmit(this, "moveToX"), l = i.moveToY ? i.moveToY.onEmit(this, "moveToY") : h, u = Math.atan2(l - this.y, h - this.x), c = r(this.x, this.y, h, l) / (this.life / 1e3); this.velocityX = Math.cos(u) * c, this.velocityY = Math.sin(u) * c } else this.velocityX = n, this.velocityY = o; i.acceleration && (this.accelerationX = i.accelerationX.onEmit(this, "accelerationX"), this.accelerationY = i.accelerationY.onEmit(this, "accelerationY")), this.maxVelocityX = i.maxVelocityX.onEmit(this, "maxVelocityX"), this.maxVelocityY = i.maxVelocityY.onEmit(this, "maxVelocityY"), this.delayCurrent = i.delay.onEmit(this, "delay"), this.scaleX = i.scaleX.onEmit(this, "scaleX"), this.scaleY = i.scaleY ? i.scaleY.onEmit(this, "scaleY") : this.scaleX, this.angle = i.rotate.onEmit(this, "rotate"), this.rotation = s(this.angle), this.bounce = i.bounce.onEmit(this, "bounce"), this.alpha = i.alpha.onEmit(this, "alpha"), this.tint = i.tint.onEmit(this, "tint") }, computeVelocity: function (t, e, i, s) { var n = this.velocityX, r = this.velocityY, o = this.accelerationX, a = this.accelerationY, h = this.maxVelocityX, l = this.maxVelocityY; n += t.gravityX * i, r += t.gravityY * i, o && (n += o * i), a && (r += a * i), n > h ? n = h : n < -h && (n = -h), r > l ? r = l : r < -l && (r = -l), this.velocityX = n, this.velocityY = r; for (var u = 0; u < s.length; u++)s[u].update(this, e, i) }, checkBounds: function (t) { var e = t.bounds, i = -this.bounce; this.x < e.x && t.collideLeft ? (this.x = e.x, this.velocityX *= i) : this.x > e.right && t.collideRight && (this.x = e.right, this.velocityX *= i), this.y < e.y && t.collideTop ? (this.y = e.y, this.velocityY *= i) : this.y > e.bottom && t.collideBottom && (this.y = e.bottom, this.velocityY *= i) }, update: function (t, e, i) { if (this.delayCurrent > 0) return this.delayCurrent -= t, !1; var n = this.emitter, r = 1 - this.lifeCurrent / this.life; return this.lifeT = r, this.computeVelocity(n, t, e, i), this.x += this.velocityX * e, this.y += this.velocityY * e, n.bounds && this.checkBounds(n), n.deathZone && n.deathZone.willKill(this) ? (this.lifeCurrent = 0, !0) : (this.scaleX = n.scaleX.onUpdate(this, "scaleX", r, this.scaleX), n.scaleY ? this.scaleY = n.scaleY.onUpdate(this, "scaleY", r, this.scaleY) : this.scaleY = this.scaleX, this.angle = n.rotate.onUpdate(this, "rotate", r, this.angle), this.rotation = s(this.angle), this.alpha = n.alpha.onUpdate(this, "alpha", r, this.alpha), this.tint = n.tint.onUpdate(this, "tint", r, this.tint), this.lifeCurrent -= t, this.lifeCurrent <= 0) } }); t.exports = o })), n.register("hlq7f", (function (t, e) { var i = n("3qUcC"), s = n("jwj1g"), r = n("4FF1v"), o = n("bSAIj"), a = n("g6KAN"), h = n("5j1iP"), l = n("7BSWl"), u = n("5H1qm"), c = n("88Y8i"), d = n("evjs6"), f = n("b1bWN"), p = n("8lICh"), g = n("cwr8X"), v = n("7D0e6"), m = n("7SBSk"), y = n("8qWuA"), x = new s({ Mixins: [r.BlendMode, r.Mask, r.ScrollFactor, r.Visible], initialize: function (t, e) { this.manager = t, this.texture = t.texture, this.frames = [t.defaultFrame], this.defaultFrame = t.defaultFrame, this.configFastMap = ["active", "blendMode", "collideBottom", "collideLeft", "collideRight", "collideTop", "deathCallback", "deathCallbackScope", "emitCallback", "emitCallbackScope", "follow", "frequency", "gravityX", "gravityY", "maxParticles", "name", "on", "particleBringToTop", "particleClass", "radial", "timeScale", "trackVisible", "visible"], this.configOpMap = ["accelerationX", "accelerationY", "angle", "alpha", "bounce", "delay", "lifespan", "maxVelocityX", "maxVelocityY", "moveToX", "moveToY", "quantity", "rotate", "scaleX", "scaleY", "speedX", "speedY", "tint", "x", "y"], this.name = "", this.particleClass = f, this.x = new h(e, "x", 0, !0), this.y = new h(e, "y", 0, !0), this.radial = !0, this.gravityX = 0, this.gravityY = 0, this.acceleration = !1, this.accelerationX = new h(e, "accelerationX", 0, !0), this.accelerationY = new h(e, "accelerationY", 0, !0), this.maxVelocityX = new h(e, "maxVelocityX", 1e4, !0), this.maxVelocityY = new h(e, "maxVelocityY", 1e4, !0), this.speedX = new h(e, "speedX", 0, !0), this.speedY = new h(e, "speedY", 0, !0), this.moveTo = !1, this.moveToX = new h(e, "moveToX", 0, !0), this.moveToY = new h(e, "moveToY", 0, !0), this.bounce = new h(e, "bounce", 0, !0), this.scaleX = new h(e, "scaleX", 1), this.scaleY = new h(e, "scaleY", 1), this.tint = new h(e, "tint", 4294967295), this.alpha = new h(e, "alpha", 1), this.lifespan = new h(e, "lifespan", 1e3, !0), this.angle = new h(e, "angle", { min: 0, max: 360 }, !0), this.rotate = new h(e, "rotate", 0), this.emitCallback = null, this.emitCallbackScope = null, this.deathCallback = null, this.deathCallbackScope = null, this.maxParticles = 0, this.quantity = new h(e, "quantity", 1, !0), this.delay = new h(e, "delay", 0, !0), this.frequency = 0, this.on = !0, this.particleBringToTop = !0, this.timeScale = 1, this.emitZone = null, this.deathZone = null, this.bounds = null, this.collideLeft = !0, this.collideRight = !0, this.collideTop = !0, this.collideBottom = !0, this.active = !0, this.visible = !0, this.blendMode = i.NORMAL, this.follow = null, this.followOffset = new m, this.trackVisible = !1, this.currentFrame = 0, this.randomFrame = !0, this.frameQuantity = 1, this.dead = [], this.alive = [], this._counter = 0, this._frameCounter = 0, e && this.fromJSON(e) }, fromJSON: function (t) { if (!t) return this; var e = 0, i = ""; for (e = 0; e < this.configFastMap.length; e++)i = this.configFastMap[e], d(t, i) && (this[i] = l(t, i)); for (e = 0; e < this.configOpMap.length; e++)i = this.configOpMap[e], d(t, i) && this[i].loadConfig(t); if (this.acceleration = 0 !== this.accelerationX.propertyValue || 0 !== this.accelerationY.propertyValue, this.moveTo = 0 !== this.moveToX.propertyValue || 0 !== this.moveToY.propertyValue, d(t, "speed") && (this.speedX.loadConfig(t, "speed"), this.speedY = null), (c(t, ["speedX", "speedY"]) || this.moveTo) && (this.radial = !1), d(t, "scale") && (this.scaleX.loadConfig(t, "scale"), this.scaleY = null), d(t, "callbackScope")) { var s = l(t, "callbackScope", null); this.emitCallbackScope = s, this.deathCallbackScope = s } return d(t, "emitZone") && this.setEmitZone(t.emitZone), d(t, "deathZone") && this.setDeathZone(t.deathZone), d(t, "bounds") && this.setBounds(t.bounds), d(t, "followOffset") && this.followOffset.setFromObject(l(t, "followOffset", 0)), d(t, "frame") && this.setFrame(t.frame), this }, toJSON: function (t) { void 0 === t && (t = {}); var e = 0, i = ""; for (e = 0; e < this.configFastMap.length; e++)t[i = this.configFastMap[e]] = this[i]; for (e = 0; e < this.configOpMap.length; e++)this[i = this.configOpMap[e]] && (t[i] = this[i].toJSON()); return this.speedY || (delete t.speedX, t.speed = this.speedX.toJSON()), this.scaleY || (delete t.scaleX, t.scale = this.scaleX.toJSON()), t }, startFollow: function (t, e, i, s) { return void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === s && (s = !1), this.follow = t, this.followOffset.set(e, i), this.trackVisible = s, this }, stopFollow: function () { return this.follow = null, this.followOffset.set(0, 0), this.trackVisible = !1, this }, getFrame: function () { if (1 === this.frames.length) return this.defaultFrame; if (this.randomFrame) return u(this.frames); var t = this.frames[this.currentFrame]; return this._frameCounter++, this._frameCounter === this.frameQuantity && (this._frameCounter = 0, this.currentFrame = y(this.currentFrame + 1, 0, this._frameLength)), t }, setFrame: function (t, e, i) { void 0 === e && (e = !0), void 0 === i && (i = 1), this.randomFrame = e, this.frameQuantity = i, this.currentFrame = 0, this._frameCounter = 0; var s = typeof t; if (Array.isArray(t) || "string" === s || "number" === s) this.manager.setEmitterFrames(t, this); else if ("object" === s) { var n = t; (t = l(n, "frames", null)) && this.manager.setEmitterFrames(t, this); var r = l(n, "cycle", !1); this.randomFrame = !r, this.frameQuantity = l(n, "quantity", i) } return this._frameLength = this.frames.length, 1 === this._frameLength && (this.frameQuantity = 1, this.randomFrame = !1), this }, setRadial: function (t) { return void 0 === t && (t = !0), this.radial = t, this }, setPosition: function (t, e) { return this.x.onChange(t), this.y.onChange(e), this }, setBounds: function (t, e, i, s) { if ("object" == typeof t) { var n = t; t = n.x, e = n.y, i = d(n, "w") ? n.w : n.width, s = d(n, "h") ? n.h : n.height } return this.bounds ? this.bounds.setTo(t, e, i, s) : this.bounds = new g(t, e, i, s), this }, setSpeedX: function (t) { return this.speedX.onChange(t), this.radial = !1, this }, setSpeedY: function (t) { return this.speedY && (this.speedY.onChange(t), this.radial = !1), this }, setSpeed: function (t) { return this.speedX.onChange(t), this.speedY = null, this.radial = !0, this }, setScaleX: function (t) { return this.scaleX.onChange(t), this }, setScaleY: function (t) { return this.scaleY.onChange(t), this }, setScale: function (t) { return this.scaleX.onChange(t), this.scaleY = null, this }, setGravityX: function (t) { return this.gravityX = t, this }, setGravityY: function (t) { return this.gravityY = t, this }, setGravity: function (t, e) { return this.gravityX = t, this.gravityY = e, this }, setAlpha: function (t) { return this.alpha.onChange(t), this }, setTint: function (t) { return this.tint.onChange(t), this }, setEmitterAngle: function (t) { return this.angle.onChange(t), this }, setAngle: function (t) { return this.angle.onChange(t), this }, setLifespan: function (t) { return this.lifespan.onChange(t), this }, setQuantity: function (t) { return this.quantity.onChange(t), this }, setFrequency: function (t, e) { return this.frequency = t, this._counter = 0, e && this.quantity.onChange(e), this }, setEmitZone: function (t) { if (void 0 === t) this.emitZone = null; else { var e = l(t, "type", "random"), i = l(t, "source", null); switch (e) { case "random": this.emitZone = new p(i); break; case "edge": var s = l(t, "quantity", 1), n = l(t, "stepRate", 0), r = l(t, "yoyo", !1), o = l(t, "seamless", !0); this.emitZone = new a(i, s, n, r, o) } } return this }, setDeathZone: function (t) { if (void 0 === t) this.deathZone = null; else { var e = l(t, "type", "onEnter"), i = l(t, "source", null); if (i && "function" == typeof i.contains) { var s = "onEnter" === e; this.deathZone = new o(i, s) } } return this }, reserve: function (t) { for (var e = this.dead, i = 0; i < t; i++)e.push(new this.particleClass(this)); return this }, getAliveParticleCount: function () { return this.alive.length }, getDeadParticleCount: function () { return this.dead.length }, getParticleCount: function () { return this.getAliveParticleCount() + this.getDeadParticleCount() }, atLimit: function () { return this.maxParticles > 0 && this.getParticleCount() === this.maxParticles }, onParticleEmit: function (t, e) { return void 0 === t ? (this.emitCallback = null, this.emitCallbackScope = null) : "function" == typeof t && (this.emitCallback = t, e && (this.emitCallbackScope = e)), this }, onParticleDeath: function (t, e) { return void 0 === t ? (this.deathCallback = null, this.deathCallbackScope = null) : "function" == typeof t && (this.deathCallback = t, e && (this.deathCallbackScope = e)), this }, killAll: function () { for (var t = this.dead, e = this.alive; e.length > 0;)t.push(e.pop()); return this }, forEachAlive: function (t, e) { for (var i = this.alive, s = i.length, n = 0; n < s; ++n)t.call(e, i[n], this); return this }, forEachDead: function (t, e) { for (var i = this.dead, s = i.length, n = 0; n < s; ++n)t.call(e, i[n], this); return this }, start: function () { return this.on = !0, this._counter = 0, this }, stop: function () { return this.on = !1, this }, pause: function () { return this.active = !1, this }, resume: function () { return this.active = !0, this }, remove: function () { return this.manager.removeEmitter(this), this }, depthSort: function () { return v.inplace(this.alive, this.depthSortCallback), this }, flow: function (t, e) { return void 0 === e && (e = 1), this.frequency = t, this.quantity.onChange(e), this.start() }, explode: function (t, e, i) { return this.frequency = -1, this.emitParticle(t, e, i) }, emitParticleAt: function (t, e, i) { return this.emitParticle(i, t, e) }, emitParticle: function (t, e, i) { if (!this.atLimit()) { void 0 === t && (t = this.quantity.onEmit()); for (var s = this.dead, n = 0; n < t; n++) { var r = s.pop(); if (r || (r = new this.particleClass(this)), r.fire(e, i), this.particleBringToTop ? this.alive.push(r) : this.alive.unshift(r), this.emitCallback && this.emitCallback.call(this.emitCallbackScope, r, this), this.atLimit()) break } return r } }, preUpdate: function (t, e) { var i = (e *= this.timeScale) / 1e3; this.trackVisible && (this.visible = this.follow.visible); var s = this.manager.getProcessors(), n = this.alive, r = this.dead, o = 0, a = [], h = n.length; for (o = 0; o < h; o++) { var l = n[o]; l.update(e, i, s) && a.push({ index: o, particle: l }) } if ((h = a.length) > 0) { var u = this.deathCallback, c = this.deathCallbackScope; for (o = h - 1; o >= 0; o--) { var d = a[o]; n.splice(d.index, 1), r.push(d.particle), u && u.call(c, d.particle), d.particle.resetPosition() } } this.on && (0 === this.frequency ? this.emitParticle() : this.frequency > 0 && (this._counter -= e, this._counter <= 0 && (this.emitParticle(), this._counter = this.frequency - Math.abs(this._counter)))) }, depthSortCallback: function (t, e) { return t.y - e.y } }); t.exports = x })), n.register("bSAIj", (function (t, e) { var i = new (n("jwj1g"))({ initialize: function (t, e) { this.source = t, this.killOnEnter = e }, willKill: function (t) { var e = this.source.contains(t.x, t.y); return e && this.killOnEnter || !e && !this.killOnEnter } }); t.exports = i })), n.register("g6KAN", (function (t, e) { var i = new (n("jwj1g"))({ initialize: function (t, e, i, s, n) { void 0 === s && (s = !1), void 0 === n && (n = !0), this.source = t, this.points = [], this.quantity = e, this.stepRate = i, this.yoyo = s, this.counter = -1, this.seamless = n, this._length = 0, this._direction = 0, this.updateSource() }, updateSource: function () { if (this.points = this.source.getPoints(this.quantity, this.stepRate), this.seamless) { var t = this.points[0], e = this.points[this.points.length - 1]; t.x === e.x && t.y === e.y && this.points.pop() } var i = this._length; return this._length = this.points.length, this._length < i && this.counter > this._length && (this.counter = this._length - 1), this }, changeSource: function (t) { return this.source = t, this.updateSource() }, getPoint: function (t) { 0 === this._direction ? (this.counter++, this.counter >= this._length && (this.yoyo ? (this._direction = 1, this.counter = this._length - 1) : this.counter = 0)) : (this.counter--, -1 === this.counter && (this.yoyo ? (this._direction = 0, this.counter = 0) : this.counter = this._length - 1)); var e = this.points[this.counter]; e && (t.x = e.x, t.y = e.y) } }); t.exports = i })), n.register("5j1iP", (function (t, e) { var i = n("jwj1g"), s = n("ilYgh"), r = n("aANNX"), o = n("7BSWl"), a = n("8qWuA"), h = new i({ initialize: function (t, e, i, s) { void 0 === s && (s = !1), this.propertyKey = e, this.propertyValue = i, this.defaultValue = i, this.steps = 0, this.counter = 0, this.start = 0, this.end = 0, this.ease, this.emitOnly = s, this.onEmit = this.defaultEmit, this.onUpdate = this.defaultUpdate, this.loadConfig(t) }, loadConfig: function (t, e) { void 0 === t && (t = {}), e && (this.propertyKey = e), this.propertyValue = o(t, this.propertyKey, this.defaultValue), this.setMethods(), this.emitOnly && (this.onUpdate = this.defaultUpdate) }, toJSON: function () { return this.propertyValue }, onChange: function (t) { return this.propertyValue = t, this.setMethods() }, setMethods: function () { var t = this.propertyValue, e = typeof t; if ("number" === e) this.onEmit = this.staticValueEmit, this.onUpdate = this.staticValueUpdate; else if (Array.isArray(t)) this.onEmit = this.randomStaticValueEmit; else if ("function" === e) this.emitOnly ? this.onEmit = t : this.onUpdate = t; else if ("object" === e && (this.has(t, "random") || this.hasBoth(t, "start", "end") || this.hasBoth(t, "min", "max"))) { this.start = this.has(t, "start") ? t.start : t.min, this.end = this.has(t, "end") ? t.end : t.max; var i = this.hasBoth(t, "min", "max") || !!t.random; if (i) { var s = t.random; Array.isArray(s) && (this.start = s[0], this.end = s[1]), this.onEmit = this.randomRangedValueEmit } if (this.has(t, "steps")) this.steps = t.steps, this.counter = this.start, this.onEmit = this.steppedEmit; else { var n = this.has(t, "ease") ? t.ease : "Linear"; this.ease = r(n), i || (this.onEmit = this.easedValueEmit), this.onUpdate = this.easeValueUpdate } } else "object" === e && this.hasEither(t, "onEmit", "onUpdate") && (this.has(t, "onEmit") && (this.onEmit = t.onEmit), this.has(t, "onUpdate") && (this.onUpdate = t.onUpdate)); return this }, has: function (t, e) { return t.hasOwnProperty(e) }, hasBoth: function (t, e, i) { return t.hasOwnProperty(e) && t.hasOwnProperty(i) }, hasEither: function (t, e, i) { return t.hasOwnProperty(e) || t.hasOwnProperty(i) }, defaultEmit: function (t, e, i) { return i }, defaultUpdate: function (t, e, i, s) { return s }, staticValueEmit: function () { return this.propertyValue }, staticValueUpdate: function () { return this.propertyValue }, randomStaticValueEmit: function () { var t = Math.floor(Math.random() * this.propertyValue.length); return this.propertyValue[t] }, randomRangedValueEmit: function (t, e) { var i = s(this.start, this.end); return t && t.data[e] && (t.data[e].min = i), i }, steppedEmit: function () { var t = this.counter, e = this.counter + (this.end - this.start) / this.steps; return this.counter = a(e, this.start, this.end), t }, easedValueEmit: function (t, e) { if (t && t.data[e]) { var i = t.data[e]; i.min = this.start, i.max = this.end } return this.start }, easeValueUpdate: function (t, e, i) { var s = t.data[e]; return (s.max - s.min) * this.ease(i) + s.min } }); t.exports = h })), n.register("aANNX", (function (t, e) { var i = n("cV9mL"), s = n("aEzMt"); t.exports = function (t, e) { var n = i.Power0; if ("string" == typeof t) if (i.hasOwnProperty(t)) n = i[t]; else { var r = ""; t.indexOf(".") && ("in" === (r = t.substr(t.indexOf(".") + 1)).toLowerCase() ? r = "easeIn" : "out" === r.toLowerCase() ? r = "easeOut" : "inout" === r.toLowerCase() && (r = "easeInOut")), t = s(t.substr(0, t.indexOf(".") + 1) + r), i.hasOwnProperty(t) && (n = i[t]) } else "function" == typeof t ? n = t : Array.isArray(t) && t.length; if (!e) return n; var o = e.slice(0); return o.unshift(0), function (t) { return o[0] = t, n.apply(this, o) } } })), n.register("88Y8i", (function (t, e) { t.exports = function (t, e) { for (var i = 0; i < e.length; i++)if (t.hasOwnProperty(e[i])) return !0; return !1 } })), n.register("evjs6", (function (t, e) { t.exports = function (t, e) { return t.hasOwnProperty(e) } })), n.register("8lICh", (function (t, e) { var i = n("jwj1g"), s = n("7SBSk"), r = new i({ initialize: function (t) { this.source = t, this._tempVec = new s }, getPoint: function (t) { var e = this._tempVec; this.source.getRandomPoint(e), t.x = e.x, t.y = e.y } }); t.exports = r })), n.register("fnOwf", (function (t, e) { var i = n("jwj1g"), s = n("4FF1v"), r = n("1zqlR"), o = n("WUmMp"), a = n("aqhsx"), h = n("hlq7f"), l = n("6Isfk"), u = new i({ Extends: r, Mixins: [s.Depth, s.Mask, s.Pipeline, s.Transform, s.Visible, l], initialize: function (t, e, i, s) { if (r.call(this, t, "ParticleEmitterManager"), this.blendMode = -1, this.timeScale = 1, this.texture = null, this.frame = null, this.frameNames = [], null === i || "object" != typeof i && !Array.isArray(i) || (s = i, i = null), this.setTexture(e, i), this.initPipeline(), this.emitters = new a(this), this.wells = new a(this), s) { Array.isArray(s) || (s = [s]); for (var n = 0; n < s.length; n++)this.createEmitter(s[n]) } }, setTexture: function (t, e) { return this.texture = this.scene.sys.textures.get(t), this.setFrame(e) }, setFrame: function (t) { this.frame = this.texture.get(t); var e = this.texture.getFramesFromTextureSource(this.frame.sourceIndex), i = []; return e.forEach((function (t) { i.push(t.name) })), this.frameNames = i, this.defaultFrame = this.frame, this }, setEmitterFrames: function (t, e) { Array.isArray(t) || (t = [t]); var i = e.frames; i.length = 0; for (var s = 0; s < t.length; s++) { var n = t[s]; -1 !== this.frameNames.indexOf(n) && i.push(this.texture.get(n)) } return i.length > 0 ? e.defaultFrame = i[0] : e.defaultFrame = this.defaultFrame, this }, addEmitter: function (t) { return this.emitters.add(t) }, createEmitter: function (t) { return this.addEmitter(new h(this, t)) }, removeEmitter: function (t) { return this.emitters.remove(t, !0) }, addGravityWell: function (t) { return this.wells.add(t) }, createGravityWell: function (t) { return this.addGravityWell(new o(t)) }, emitParticle: function (t, e, i) { for (var s = this.emitters.list, n = 0; n < s.length; n++) { var r = s[n]; r.active && r.emitParticle(t, e, i) } return this }, emitParticleAt: function (t, e, i) { return this.emitParticle(i, t, e) }, pause: function () { return this.active = !1, this }, resume: function () { return this.active = !0, this }, getProcessors: function () { return this.wells.getAll("active", !0) }, preUpdate: function (t, e) { e *= this.timeScale; for (var i = this.emitters.list, s = 0; s < i.length; s++) { var n = i[s]; n.active && n.preUpdate(t, e) } }, setAlpha: function () { }, setScrollFactor: function () { }, setBlendMode: function () { } }); t.exports = u })), n.register("6Isfk", (function (t, e) { var i = n("13GYA"), s = n("13GYA"); i = n("4vAtu"), s = n("2flRj"), t.exports = { renderWebGL: i, renderCanvas: s } })), n.register("4vAtu", (function (t, e) { var i = n("gaO4e"); t.exports = function (t, e, s, n, r) { var o = e.emitters.list, a = o.length; if (0 !== a) { var h = this.pipeline, l = h._tempMatrix1.copyFrom(n.matrix), u = h._tempMatrix2, c = h._tempMatrix3, d = h._tempMatrix4.applyITRS(e.x, e.y, e.rotation, e.scaleX, e.scaleY); l.multiply(d), t.setPipeline(h); var f = n.roundPixels, p = e.defaultFrame.glTexture, g = i.getTintAppendFloatAlphaAndSwap; h.setTexture2D(p, 0); for (var v = 0; v < a; v++) { var m = o[v], y = m.alive, x = y.length; if (m.visible && 0 !== x) { var w = n.scrollX * m.scrollFactorX, T = n.scrollY * m.scrollFactorY; r && (l.multiplyWithOffset(r, -w, -T), w = 0, T = 0), t.setBlendMode(m.blendMode) && h.setTexture2D(p, 0), m.mask && (m.mask.preRenderWebGL(t, m, n), h.setTexture2D(p, 0)); for (var b = 0; b < x; b++) { var S = y[b], A = S.alpha * n.alpha; if (!(A <= 0)) { var E = S.frame, C = -E.halfWidth, _ = -E.halfHeight, M = C + E.width, P = _ + E.height; c.applyITRS(0, 0, S.rotation, S.scaleX, S.scaleY), c.e = S.x - w, c.f = S.y - T, l.multiply(c, u); var O = u.getX(C, _), R = u.getY(C, _), L = u.getX(C, P), k = u.getY(C, P), D = u.getX(M, P), F = u.getY(M, P), I = u.getX(M, _), B = u.getY(M, _); f && (O = Math.round(O), R = Math.round(R), L = Math.round(L), k = Math.round(k), D = Math.round(D), F = Math.round(F), I = Math.round(I), B = Math.round(B)); var N = g(S.tint, A); h.batchQuad(O, R, L, k, D, F, I, B, E.u0, E.v0, E.u1, E.v1, N, N, N, N, 0, p, 0) } } m.mask && (m.mask.postRenderWebGL(t, n), h.setTexture2D(p, 0)) } } } } })), n.register("2flRj", (function (t, e) { t.exports = function (t, e, i, s, n) { var r = e.emitters.list, o = r.length; if (0 !== o) { var a = t._tempMatrix1.copyFrom(s.matrix), h = t._tempMatrix2, l = t._tempMatrix3, u = t._tempMatrix4.applyITRS(e.x, e.y, e.rotation, e.scaleX, e.scaleY); a.multiply(u); var c = s.roundPixels, d = t.currentContext; d.save(); for (var f = 0; f < o; f++) { var p = r[f], g = p.alive, v = g.length; if (p.visible && 0 !== v) { var m = s.scrollX * p.scrollFactorX, y = s.scrollY * p.scrollFactorY; n && (a.multiplyWithOffset(n, -m, -y), m = 0, y = 0), d.globalCompositeOperation = t.blendModes[p.blendMode]; for (var x = 0; x < v; x++) { var w = g[x], T = w.alpha * s.alpha; if (!(T <= 0)) { var b = w.frame, S = b.canvasData, A = -b.halfWidth, E = -b.halfHeight; l.applyITRS(0, 0, w.rotation, w.scaleX, w.scaleY), l.e = w.x - m, l.f = w.y - y, a.multiply(l, h), d.globalAlpha = T, d.save(), h.copyToContext(d), c && (A = Math.round(A), E = Math.round(E)), d.imageSmoothingEnabled = !(!t.antialias || b.source.scaleMode), d.drawImage(b.source.image, S.x, S.y, S.width, S.height, A, E, S.width, S.height), d.restore() } } } } d.restore() } } })), n.register("3zceK", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { DeathZone: n("bSAIj"), EdgeZone: n("g6KAN"), RandomZone: n("8lICh") }
})), n.register("75mFg", (function (t, e) { var i = n("jwj1g"), s = n("4FF1v"), r = n("gXuc8"), o = new i({ Extends: r, Mixins: [s.PathFollower], initialize: function (t, e, i, s, n, o) { r.call(this, t, i, s, n, o), this.path = e }, preUpdate: function (t, e) { this.anims.update(t, e), this.pathUpdate(t) } }); t.exports = o })), n.register("iCX4n", (function (t, e) { var i = n("3qUcC"), s = n("2LSzx"), r = n("kKoer"), o = n("jwj1g"), a = n("4FF1v"), h = n("bRAqZ"), l = n("7O4PF"), u = n("1zqlR"), c = n("jLdVd"), d = n("gaO4e"), f = n("gS40I"), p = new o({ Extends: u, Mixins: [a.Alpha, a.BlendMode, a.ComputedSize, a.Crop, a.Depth, a.Flip, a.GetBounds, a.Mask, a.Origin, a.Pipeline, a.ScrollFactor, a.Tint, a.Transform, a.Visible, c], initialize: function (t, e, i, n, o, a, l) { void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 32), void 0 === o && (o = 32), u.call(this, t, "RenderTexture"), this.renderer = t.sys.game.renderer, this.textureManager = t.sys.textures, this.globalTint = 16777215, this.globalAlpha = 1, this.canvas = null, this.framebuffer = null, this.dirty = !1, this._crop = this.resetCropObject(), this.texture = null, this.frame = null, this._saved = !1, void 0 === a ? (this.canvas = r.create2D(this, n, o), this.texture = t.sys.textures.addCanvas(f(), this.canvas), this.frame = this.texture.get()) : (this.texture = t.sys.textures.get(a), this.frame = this.texture.get(l), this.canvas = this.frame.source.image, this._saved = !0, this.dirty = !0, this.width = this.frame.cutWidth, this.height = this.frame.cutHeight), this.context = this.canvas.getContext("2d"), this._eraseMode = !1, this.camera = new s(0, 0, n, o), this.gl = null, this.glTexture = null; var c = this.renderer; if (c.type === h.WEBGL) { var d = c.gl; this.gl = d, this.glTexture = this.frame.source.glTexture, this.drawGameObject = this.batchGameObjectWebGL, this.framebuffer = c.createFramebuffer(n, o, this.glTexture, !1) } else c.type === h.CANVAS && (this.drawGameObject = this.batchGameObjectCanvas); this.camera.setScene(t), this.setPosition(e, i), void 0 === a && this.setSize(n, o), this.setOrigin(0, 0), this.initPipeline() }, setSize: function (t, e) { return this.resize(t, e) }, resize: function (t, e) { if (void 0 === e && (e = t), t !== this.width || e !== this.height) { if ("__BASE" === this.frame.name) { if (this.canvas.width = t, this.canvas.height = e, this.texture.width = t, this.texture.height = e, this.gl) { var i = this.gl; this.renderer.deleteTexture(this.frame.source.glTexture), this.renderer.deleteFramebuffer(this.framebuffer); var s = this.renderer.createTexture2D(0, i.NEAREST, i.NEAREST, i.CLAMP_TO_EDGE, i.CLAMP_TO_EDGE, i.RGBA, null, t, e, !1); this.framebuffer = this.renderer.createFramebuffer(t, e, s, !1), this.frame.source.isRenderTexture = !0, this.frame.glTexture = s, this.glTexture = s } this.frame.source.width = t, this.frame.source.height = e, this.camera.setSize(t, e), this.frame.setSize(t, e), this.width = t, this.height = e } } else { var n = this.texture.getSourceImage(); this.frame.cutX + t > n.width && (t = n.width - this.frame.cutX), this.frame.cutY + e > n.height && (e = n.height - this.frame.cutY), this.frame.setSize(t, e, this.frame.cutX, this.frame.cutY) } this.updateDisplayOrigin(); var r = this.input; return r && !r.customHitArea && (r.hitArea.width = t, r.hitArea.height = e), this }, setGlobalTint: function (t) { return this.globalTint = t, this }, setGlobalAlpha: function (t) { return this.globalAlpha = t, this }, saveTexture: function (t) { return this.textureManager.renameTexture(this.texture.key, t), this._saved = !0, this.texture }, fill: function (t, e, i, s, n, r) { void 0 === e && (e = 1), void 0 === i && (i = 0), void 0 === s && (s = 0), void 0 === n && (n = this.frame.cutWidth), void 0 === r && (r = this.frame.cutHeight); var o = 255 & (t >> 16 | 0), a = 255 & (t >> 8 | 0), h = 255 & (0 | t), l = this.gl, u = this.frame; if (this.camera.preRender(1, 1), l) { var c = this.camera._cx, f = this.camera._cy, p = this.camera._cw, g = this.camera._ch; this.renderer.setFramebuffer(this.framebuffer, !1), this.renderer.pushScissor(c, f, p, g, g); var v = this.pipeline; v.projOrtho(0, this.texture.width, 0, this.texture.height, -1e3, 1e3), v.drawFillRect(i, s, n, r, d.getTintFromFloats(o / 255, a / 255, h / 255, 1), e), this.renderer.setFramebuffer(null, !1), this.renderer.popScissor(), v.projOrtho(0, v.width, v.height, 0, -1e3, 1e3) } else this.renderer.setContext(this.context), this.context.fillStyle = "rgba(" + o + "," + a + "," + h + "," + e + ")", this.context.fillRect(i + u.cutX, s + u.cutY, n, r), this.renderer.setContext(); return this.dirty = !0, this }, clear: function () { if (this.dirty) { var t = this.gl; if (t) { var e = this.renderer; e.setFramebuffer(this.framebuffer, !0), this.frame.cutWidth === this.canvas.width && this.frame.cutHeight === this.canvas.height || t.scissor(this.frame.cutX, this.frame.cutY, this.frame.cutWidth, this.frame.cutHeight), t.clearColor(0, 0, 0, 0), t.clear(t.COLOR_BUFFER_BIT), e.setFramebuffer(null, !0) } else { var i = this.context; i.save(), i.setTransform(1, 0, 0, 1, 0, 0), i.clearRect(this.frame.cutX, this.frame.cutY, this.frame.cutWidth, this.frame.cutHeight), i.restore() } this.dirty = !1 } return this }, erase: function (t, e, s) { this._eraseMode = !0; var n = this.renderer.currentBlendMode; return this.renderer.setBlendMode(i.ERASE), this.draw(t, e, s, 1, 16777215), this.renderer.setBlendMode(n), this._eraseMode = !1, this }, draw: function (t, e, i, s, n) { void 0 === s && (s = this.globalAlpha), n = void 0 === n ? (this.globalTint >> 16) + (65280 & this.globalTint) + ((255 & this.globalTint) << 16) : (n >> 16) + (65280 & n) + ((255 & n) << 16), Array.isArray(t) || (t = [t]); var r = this.gl; if (this.camera.preRender(1, 1), r) { var o = this.camera._cx, a = this.camera._cy, h = this.camera._cw, l = this.camera._ch; this.renderer.setFramebuffer(this.framebuffer, !1), this.renderer.pushScissor(o, a, h, l, l); var u = this.pipeline; u.projOrtho(0, this.texture.width, 0, this.texture.height, -1e3, 1e3), this.batchList(t, e, i, s, n), u.flush(), this.renderer.setFramebuffer(null, !1), this.renderer.popScissor(), u.projOrtho(0, u.width, u.height, 0, -1e3, 1e3) } else this.renderer.setContext(this.context), this.batchList(t, e, i, s, n), this.renderer.setContext(); return this.dirty = !0, this }, drawFrame: function (t, e, i, s, n, r) { void 0 === i && (i = 0), void 0 === s && (s = 0), void 0 === n && (n = this.globalAlpha), r = void 0 === r ? (this.globalTint >> 16) + (65280 & this.globalTint) + ((255 & this.globalTint) << 16) : (r >> 16) + (65280 & r) + ((255 & r) << 16); var o = this.gl, a = this.textureManager.getFrame(t, e); if (a) { if (this.camera.preRender(1, 1), o) { var h = this.camera._cx, l = this.camera._cy, u = this.camera._cw, c = this.camera._ch; this.renderer.setFramebuffer(this.framebuffer, !1), this.renderer.pushScissor(h, l, u, c, c); var d = this.pipeline; d.projOrtho(0, this.texture.width, 0, this.texture.height, -1e3, 1e3), d.batchTextureFrame(a, i + this.frame.cutX, s + this.frame.cutY, r, n, this.camera.matrix, null), d.flush(), this.renderer.setFramebuffer(null, !1), this.renderer.popScissor(), d.projOrtho(0, d.width, d.height, 0, -1e3, 1e3) } else this.batchTextureFrame(a, i + this.frame.cutX, s + this.frame.cutY, n, r); this.dirty = !0 } return this }, batchList: function (t, e, i, s, n) { for (var r = 0; r < t.length; r++) { var o = t[r]; o && o !== this && (o.renderWebGL || o.renderCanvas ? this.drawGameObject(o, e, i) : o.isParent || o.list ? this.batchGroup(o.getChildren(), e, i) : "string" == typeof o ? this.batchTextureFrameKey(o, null, e, i, s, n) : o instanceof l ? this.batchTextureFrame(o, e, i, s, n) : Array.isArray(o) && this.batchList(o, e, i, s, n)) } }, batchGroup: function (t, e, i) { void 0 === e && (e = 0), void 0 === i && (i = 0), e += this.frame.cutX, i += this.frame.cutY; for (var s = 0; s < t.length; s++) { var n = t[s]; if (n.willRender()) { var r = n.x + e, o = n.y + i; this.drawGameObject(n, r, o) } } }, batchGameObjectWebGL: function (t, e, i) { void 0 === e && (e = t.x), void 0 === i && (i = t.y); var s = t.x, n = t.y; this._eraseMode || this.renderer.setBlendMode(t.blendMode), t.setPosition(e + this.frame.cutX, i + this.frame.cutY), t.renderWebGL(this.renderer, t, 0, this.camera, null), t.setPosition(s, n) }, batchGameObjectCanvas: function (t, e, s) { void 0 === e && (e = t.x), void 0 === s && (s = t.y); var n = t.x, r = t.y; if (this._eraseMode) { var o = t.blendMode; t.blendMode = i.ERASE } t.setPosition(e + this.frame.cutX, s + this.frame.cutY), t.renderCanvas(this.renderer, t, 0, this.camera, null), t.setPosition(n, r), this._eraseMode && (t.blendMode = o) }, batchTextureFrameKey: function (t, e, i, s, n, r) { var o = this.textureManager.getFrame(t, e); o && this.batchTextureFrame(o, i, s, n, r) }, batchTextureFrame: function (t, e, i, s, n) { if (void 0 === e && (e = 0), void 0 === i && (i = 0), e += this.frame.cutX, i += this.frame.cutY, this.gl) this.pipeline.batchTextureFrame(t, e, i, n, s, this.camera.matrix, null); else { var r = this.context, o = t.canvasData, a = t.source.image, h = this.camera.matrix; r.globalAlpha = this.globalAlpha, r.setTransform(h[0], h[1], h[2], h[3], h[4], h[5]), r.drawImage(a, o.x, o.y, o.width, o.height, e, i, o.width, o.height) } }, snapshotArea: function (t, e, i, s, n, r, o) { return this.gl ? this.renderer.snapshotFramebuffer(this.framebuffer, this.width, this.height, n, !1, t, e, i, s, r, o) : this.renderer.snapshotCanvas(this.canvas, n, !1, t, e, i, s, r, o), this }, snapshot: function (t, e, i) { return this.gl ? this.renderer.snapshotFramebuffer(this.framebuffer, this.width, this.height, t, !1, 0, 0, this.width, this.height, e, i) : this.renderer.snapshotCanvas(this.canvas, t, !1, 0, 0, this.width, this.height, e, i), this }, snapshotPixel: function (t, e, i) { return this.gl ? this.renderer.snapshotFramebuffer(this.framebuffer, this.width, this.height, i, !0, t, e) : this.renderer.snapshotCanvas(this.canvas, i, !0, t, e), this }, preDestroy: function () { this._saved || (r.remove(this.canvas), this.gl && this.renderer.deleteFramebuffer(this.framebuffer), this.texture.destroy(), this.camera.destroy(), this.canvas = null, this.context = null, this.framebuffer = null, this.texture = null, this.glTexture = null) } }); t.exports = p })), n.register("jLdVd", (function (t, e) { var i = n("13GYA"), s = n("13GYA"); i = n("5Y7eC"), s = n("jH2v7"), t.exports = { renderWebGL: i, renderCanvas: s } })), n.register("5Y7eC", (function (t, e) { var i = n("gaO4e"); t.exports = function (t, e, s, n, r) { var o = e.frame, a = o.width, h = o.height, l = i.getTintAppendFloatAlpha; this.pipeline.batchTexture(e, o.glTexture, a, h, e.x, e.y, a, h, e.scaleX, e.scaleY, e.rotation, e.flipX, !e.flipY, e.scrollFactorX, e.scrollFactorY, e.displayOriginX, e.displayOriginY, 0, 0, a, h, l(e._tintTL, n.alpha * e._alphaTL), l(e._tintTR, n.alpha * e._alphaTR), l(e._tintBL, n.alpha * e._alphaBL), l(e._tintBR, n.alpha * e._alphaBR), e._isTinted && e.tintFill, 0, 0, n, r), t.setBlankTexture(!0) } })), n.register("jH2v7", (function (t, e) { t.exports = function (t, e, i, s, n) { t.batchSprite(e, e.frame, s, n) } })), n.register("gS40I", (function (t, e) { t.exports = function () { return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (function (t) { var e = 16 * Math.random() | 0; return ("x" === t ? e : 3 & e | 8).toString(16) })) } })), n.register("eCKky", (function (t, e) { var i = n("htQ0a"), s = n("hVk4C"), r = { Parse: n("1p2Y9") }; r = s(!1, r, i), t.exports = r })), n.register("htQ0a", (function (t, e) { t.exports = { TEXT_SET1: " !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~", TEXT_SET2: " !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ", TEXT_SET3: "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ", TEXT_SET4: "ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789", TEXT_SET5: "ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789", TEXT_SET6: "ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\"(),-.' ", TEXT_SET7: "AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\")28FLRX-'39", TEXT_SET8: "0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ", TEXT_SET9: "ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\"?!", TEXT_SET10: "ABCDEFGHIJKLMNOPQRSTUVWXYZ", TEXT_SET11: "ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\"-+!?()':;0123456789" } })), n.register("1p2Y9", (function (t, e) { var i = n("5pMDk"); t.exports = function (t, e) { var s = e.width, n = e.height, r = Math.floor(s / 2), o = Math.floor(n / 2), a = i(e, "chars", ""); if ("" !== a) { var h = i(e, "image", ""), l = i(e, "offset.x", 0), u = i(e, "offset.y", 0), c = i(e, "spacing.x", 0), d = i(e, "spacing.y", 0), f = i(e, "lineSpacing", 0), p = i(e, "charsPerRow", null); null === p && (p = t.sys.textures.getFrame(h).width / s) > a.length && (p = a.length); for (var g = l, v = u, m = { retroFont: !0, font: h, size: s, lineHeight: n + f, chars: {} }, y = 0, x = 0; x < a.length; x++) { var w = a.charCodeAt(x); m.chars[w] = { x: g, y: v, width: s, height: n, centerX: r, centerY: o, xOffset: 0, yOffset: 0, xAdvance: s, data: {}, kerning: {} }, ++y === p ? (y = 0, g = l, v += n + d) : g += s + c } return { data: m, frame: null, texture: h } } } })), n.register("1jO0s", (function (t, e) { var i = n("6686h"), s = n("kKoer"), r = n("jwj1g"), o = n("4FF1v"), a = n("aqcI1"), h = n("1zqlR"), l = n("iSoIR"), u = n("5pMDk"), c = n("kJrIV"), d = n("7mHzJ"), f = n("5eaQo"), p = new r({ Extends: h, Mixins: [o.Alpha, o.BlendMode, o.ComputedSize, o.Crop, o.Depth, o.Flip, o.GetBounds, o.Mask, o.Origin, o.Pipeline, o.ScrollFactor, o.Tint, o.Transform, o.Visible, d], initialize: function (t, e, i, n, r) { void 0 === e && (e = 0), void 0 === i && (i = 0), h.call(this, t, "Text"), this.renderer = t.sys.game.renderer, this.setPosition(e, i), this.setOrigin(0, 0), this.initPipeline(), this.canvas = s.create(this), this.context = this.canvas.getContext("2d"), this.style = new f(this, r), this.autoRound = !0, this.splitRegExp = /(?:\r\n|\r|\n)/, this._text = void 0, this.padding = { left: 0, right: 0, top: 0, bottom: 0 }, this.width = 1, this.height = 1, this.lineSpacing = 0, this.dirty = !1, 0 === this.style.resolution && (this.style.resolution = t.sys.game.config.resolution), this._crop = this.resetCropObject(), this.texture = t.sys.textures.addCanvas(null, this.canvas, !0), this.frame = this.texture.get(), this.frame.source.resolution = this.style.resolution, this.renderer && this.renderer.gl && (this.renderer.deleteTexture(this.frame.source.glTexture), this.frame.source.glTexture = null), this.initRTL(), this.setText(n), r && r.padding && this.setPadding(r.padding), r && r.lineSpacing && this.setLineSpacing(r.lineSpacing), t.sys.game.events.on(a.CONTEXT_RESTORED, (function () { this.dirty = !0 }), this) }, initRTL: function () { this.style.rtl && (this.canvas.dir = "rtl", this.context.direction = "rtl", this.canvas.style.display = "none", i(this.canvas, this.scene.sys.canvas), this.originX = 1) }, runWordWrap: function (t) { var e = this.style; if (e.wordWrapCallback) { var i = e.wordWrapCallback.call(e.wordWrapCallbackScope, t, this); return Array.isArray(i) && (i = i.join("\n")), i } return e.wordWrapWidth ? e.wordWrapUseAdvanced ? this.advancedWordWrap(t, this.context, this.style.wordWrapWidth) : this.basicWordWrap(t, this.context, this.style.wordWrapWidth) : t }, advancedWordWrap: function (t, e, i) { for (var s = "", n = t.replace(/ +/gi, " ").split(this.splitRegExp), r = n.length, o = 0; o < r; o++) { var a = n[o], h = ""; if (a = a.replace(/^ *|\s*$/gi, ""), e.measureText(a).width < i) s += a + "\n"; else { for (var l = i, u = a.split(" "), c = 0; c < u.length; c++) { var d = u[c], f = d + " ", p = e.measureText(f).width; if (p > l) { if (0 === c) { for (var g = f; g.length && (g = g.slice(0, -1), !((p = e.measureText(g).width) <= l));); if (!g.length) throw new Error("This text's wordWrapWidth setting is less than a single character!"); var v = d.substr(g.length); u[c] = v, h += g } var m = u[c].length ? c : c + 1, y = u.slice(m).join(" ").replace(/[ \n]*$/gi, ""); n[o + 1] = y + " " + (n[o + 1] || ""), r = n.length; break } h += f, l -= p } s += h.replace(/[ \n]*$/gi, "") + "\n" } } return s = s.replace(/[\s|\n]*$/gi, "") }, basicWordWrap: function (t, e, i) { for (var s = "", n = t.split(this.splitRegExp), r = n.length - 1, o = e.measureText(" ").width, a = 0; a <= r; a++) { for (var h = i, l = n[a].split(" "), u = l.length - 1, c = 0; c <= u; c++) { var d = l[c], f = e.measureText(d).width, p = f + o; p > h && c > 0 && (s += "\n", h = i), s += d, c < u ? (s += " ", h -= p) : h -= f } a < r && (s += "\n") } return s }, getWrappedText: function (t) { return void 0 === t && (t = this._text), this.style.syncFont(this.canvas, this.context), this.runWordWrap(t).split(this.splitRegExp) }, setText: function (t) { return t || 0 === t || (t = ""), Array.isArray(t) && (t = t.join("\n")), t !== this._text && (this._text = t.toString(), this.updateText()), this }, setStyle: function (t) { return this.style.setStyle(t) }, setFont: function (t) { return this.style.setFont(t) }, setFontFamily: function (t) { return this.style.setFontFamily(t) }, setFontSize: function (t) { return this.style.setFontSize(t) }, setFontStyle: function (t) { return this.style.setFontStyle(t) }, setFixedSize: function (t, e) { return this.style.setFixedSize(t, e) }, setBackgroundColor: function (t) { return this.style.setBackgroundColor(t) }, setFill: function (t) { return this.style.setFill(t) }, setColor: function (t) { return this.style.setColor(t) }, setStroke: function (t, e) { return this.style.setStroke(t, e) }, setShadow: function (t, e, i, s, n, r) { return this.style.setShadow(t, e, i, s, n, r) }, setShadowOffset: function (t, e) { return this.style.setShadowOffset(t, e) }, setShadowColor: function (t) { return this.style.setShadowColor(t) }, setShadowBlur: function (t) { return this.style.setShadowBlur(t) }, setShadowStroke: function (t) { return this.style.setShadowStroke(t) }, setShadowFill: function (t) { return this.style.setShadowFill(t) }, setWordWrapWidth: function (t, e) { return this.style.setWordWrapWidth(t, e) }, setWordWrapCallback: function (t, e) { return this.style.setWordWrapCallback(t, e) }, setAlign: function (t) { return this.style.setAlign(t) }, setResolution: function (t) { return this.style.setResolution(t) }, setLineSpacing: function (t) { return this.lineSpacing = t, this.updateText() }, setPadding: function (t, e, i, s) { if ("object" == typeof t) { var n = t, r = u(n, "x", null); null !== r ? (t = r, i = r) : (t = u(n, "left", 0), i = u(n, "right", t)); var o = u(n, "y", null); null !== o ? (e = o, s = o) : (e = u(n, "top", 0), s = u(n, "bottom", e)) } else void 0 === t && (t = 0), void 0 === e && (e = t), void 0 === i && (i = t), void 0 === s && (s = e); return this.padding.left = t, this.padding.top = e, this.padding.right = i, this.padding.bottom = s, this.updateText() }, setMaxLines: function (t) { return this.style.setMaxLines(t) }, updateText: function () { var t = this.canvas, e = this.context, i = this.style, s = i.resolution, n = i.metrics; i.syncFont(t, e); var r = this._text; (i.wordWrapWidth || i.wordWrapCallback) && (r = this.runWordWrap(this._text)); var o, a = r.split(this.splitRegExp), h = l(this, n, a), u = this.padding; 0 === i.fixedWidth ? (this.width = h.width + u.left + u.right, o = h.width) : (this.width = i.fixedWidth, (o = this.width - u.left - u.right) < h.width && (o = h.width)), 0 === i.fixedHeight ? this.height = h.height + u.top + u.bottom : this.height = i.fixedHeight; var c, d, f = this.width, p = this.height; this.updateDisplayOrigin(), f *= s, p *= s, f = Math.max(f, 1), p = Math.max(p, 1), t.width !== f || t.height !== p ? (t.width = f, t.height = p, this.frame.setSize(f, p), i.syncFont(t, e)) : e.clearRect(0, 0, f, p), e.save(), e.scale(s, s), i.backgroundColor && (e.fillStyle = i.backgroundColor, e.fillRect(0, 0, f, p)), i.syncStyle(t, e), e.textBaseline = "alphabetic", e.translate(u.left, u.top); for (var g = 0; g < h.lines; g++) { if (c = i.strokeThickness / 2, d = i.strokeThickness / 2 + g * h.lineHeight + n.ascent, g > 0 && (d += h.lineSpacing * g), i.rtl) c = f - c; else if ("right" === i.align) c += o - h.lineWidths[g]; else if ("center" === i.align) c += (o - h.lineWidths[g]) / 2; else if ("justify" === i.align) { if (h.lineWidths[g] / h.width >= .85) { var v = h.width - h.lineWidths[g], m = e.measureText(" ").width, y = a[g].trim(), x = y.split(" "); v += (a[g].length - y.length) * m; for (var w = Math.floor(v / m), T = 0; w > 0;)x[T] += " ", T = (T + 1) % (x.length - 1 || 1), --w; a[g] = x.join(" ") } } this.autoRound && (c = Math.round(c), d = Math.round(d)), i.strokeThickness && (this.style.syncShadow(e, i.shadowStroke), e.strokeText(a[g], c, d)), i.color && (this.style.syncShadow(e, i.shadowFill), e.fillText(a[g], c, d)) } e.restore(), this.renderer.gl && (this.frame.source.glTexture = this.renderer.canvasToTexture(t, this.frame.source.glTexture, !0), this.frame.glTexture = this.frame.source.glTexture), this.dirty = !0; var b = this.input; return b && !b.customHitArea && (b.hitArea.width = this.width, b.hitArea.height = this.height), this }, getTextMetrics: function () { return this.style.getTextMetrics() }, text: { get: function () { return this._text }, set: function (t) { this.setText(t) } }, toJSON: function () { var t = o.ToJSON(this), e = { autoRound: this.autoRound, text: this._text, style: this.style.toJSON(), padding: { left: this.padding.left, right: this.padding.right, top: this.padding.top, bottom: this.padding.bottom } }; return t.data = e, t }, preDestroy: function () { this.style.rtl && c(this.canvas), s.remove(this.canvas), this.texture.destroy() } }); t.exports = p })), n.register("iSoIR", (function (t, e) { t.exports = function (t, e, i) { var s = t.canvas, n = t.context, r = t.style, o = [], a = 0, h = i.length; r.maxLines > 0 && r.maxLines < i.length && (h = r.maxLines), r.syncFont(s, n); for (var l = 0; l < h; l++) { var u = r.strokeThickness; u += n.measureText(i[l]).width, r.wordWrap && (u -= n.measureText(" ").width), o[l] = Math.ceil(u), a = Math.max(a, o[l]) } var c = e.fontSize + r.strokeThickness, d = c * h, f = t.lineSpacing; return h > 1 && (d += f * (h - 1)), { width: a, height: d, lines: h, lineWidths: o, lineSpacing: f, lineHeight: c } } })), n.register("7mHzJ", (function (t, e) { var i = n("13GYA"), s = n("13GYA"); i = n("1bMaY"), s = n("6MEbf"), t.exports = { renderWebGL: i, renderCanvas: s } })), n.register("1bMaY", (function (t, e) { var i = n("gaO4e"); t.exports = function (t, e, s, n, r) { if (0 !== e.width && 0 !== e.height) { var o = e.frame, a = o.width, h = o.height, l = i.getTintAppendFloatAlpha; this.pipeline.batchTexture(e, o.glTexture, a, h, e.x, e.y, a / e.style.resolution, h / e.style.resolution, e.scaleX, e.scaleY, e.rotation, e.flipX, e.flipY, e.scrollFactorX, e.scrollFactorY, e.displayOriginX, e.displayOriginY, 0, 0, a, h, l(e._tintTL, n.alpha * e._alphaTL), l(e._tintTR, n.alpha * e._alphaTR), l(e._tintBL, n.alpha * e._alphaBL), l(e._tintBR, n.alpha * e._alphaBR), e._isTinted && e.tintFill, 0, 0, n, r) } } })), n.register("6MEbf", (function (t, e) { t.exports = function (t, e, i, s, n) { 0 !== e.width && 0 !== e.height && t.batchSprite(e, e.frame, s, n) } })), n.register("5eaQo", (function (t, e) { var i = n("jwj1g"), s = n("cSaNN"), r = n("5pMDk"), o = n("5ZcOH"), a = { fontFamily: ["fontFamily", "Courier"], fontSize: ["fontSize", "16px"], fontStyle: ["fontStyle", ""], backgroundColor: ["backgroundColor", null], color: ["color", "#fff"], stroke: ["stroke", "#fff"], strokeThickness: ["strokeThickness", 0], shadowOffsetX: ["shadow.offsetX", 0], shadowOffsetY: ["shadow.offsetY", 0], shadowColor: ["shadow.color", "#000"], shadowBlur: ["shadow.blur", 0], shadowStroke: ["shadow.stroke", !1], shadowFill: ["shadow.fill", !1], align: ["align", "left"], maxLines: ["maxLines", 0], fixedWidth: ["fixedWidth", 0], fixedHeight: ["fixedHeight", 0], resolution: ["resolution", 0], rtl: ["rtl", !1], testString: ["testString", "|MÃ‰qgy"], baselineX: ["baselineX", 1.2], baselineY: ["baselineY", 1.4], wordWrapWidth: ["wordWrap.width", null], wordWrapCallback: ["wordWrap.callback", null], wordWrapCallbackScope: ["wordWrap.callbackScope", null], wordWrapUseAdvanced: ["wordWrap.useAdvancedWrap", !1] }, h = new i({ initialize: function (t, e) { this.parent = t, this.fontFamily, this.fontSize, this.fontStyle, this.backgroundColor, this.color, this.stroke, this.strokeThickness, this.shadowOffsetX, this.shadowOffsetY, this.shadowColor, this.shadowBlur, this.shadowStroke, this.shadowFill, this.align, this.maxLines, this.fixedWidth, this.fixedHeight, this.resolution, this.rtl, this.testString, this.baselineX, this.baselineY, this._font, this.setStyle(e, !1, !0); var i = r(e, "metrics", !1); this.metrics = i ? { ascent: r(i, "ascent", 0), descent: r(i, "descent", 0), fontSize: r(i, "fontSize", 0) } : o(this) }, setStyle: function (t, e, i) { for (var n in void 0 === e && (e = !0), void 0 === i && (i = !1), t && t.hasOwnProperty("fontSize") && "number" == typeof t.fontSize && (t.fontSize = t.fontSize.toString() + "px"), a) { var o = i ? a[n][1] : this[n]; this[n] = "wordWrapCallback" === n || "wordWrapCallbackScope" === n ? r(t, a[n][0], o) : s(t, a[n][0], o) } var h = r(t, "font", null); null !== h && this.setFont(h, !1), this._font = [this.fontStyle, this.fontSize, this.fontFamily].join(" ").trim(); var l = r(t, "fill", null); return null !== l && (this.color = l), e ? this.update(!0) : this.parent }, syncFont: function (t, e) { e.font = this._font }, syncStyle: function (t, e) { e.textBaseline = "alphabetic", e.fillStyle = this.color, e.strokeStyle = this.stroke, e.lineWidth = this.strokeThickness, e.lineCap = "round", e.lineJoin = "round" }, syncShadow: function (t, e) { e ? (t.shadowOffsetX = this.shadowOffsetX, t.shadowOffsetY = this.shadowOffsetY, t.shadowColor = this.shadowColor, t.shadowBlur = this.shadowBlur) : (t.shadowOffsetX = 0, t.shadowOffsetY = 0, t.shadowColor = 0, t.shadowBlur = 0) }, update: function (t) { return t && (this._font = [this.fontStyle, this.fontSize, this.fontFamily].join(" ").trim(), this.metrics = o(this)), this.parent.updateText() }, setFont: function (t, e) { void 0 === e && (e = !0); var i = t, s = "", n = ""; if ("string" != typeof t) i = r(t, "fontFamily", "Courier"), s = r(t, "fontSize", "16px"), n = r(t, "fontStyle", ""); else { var o = t.split(" "), a = 0; n = o.length > 2 ? o[a++] : "", s = o[a++] || "16px", i = o[a++] || "Courier" } return i === this.fontFamily && s === this.fontSize && n === this.fontStyle || (this.fontFamily = i, this.fontSize = s, this.fontStyle = n, e && this.update(!0)), this.parent }, setFontFamily: function (t) { return this.fontFamily !== t && (this.fontFamily = t, this.update(!0)), this.parent }, setFontStyle: function (t) { return this.fontStyle !== t && (this.fontStyle = t, this.update(!0)), this.parent }, setFontSize: function (t) { return "number" == typeof t && (t = t.toString() + "px"), this.fontSize !== t && (this.fontSize = t, this.update(!0)), this.parent }, setTestString: function (t) { return this.testString = t, this.update(!0) }, setFixedSize: function (t, e) { return this.fixedWidth = t, this.fixedHeight = e, t && (this.parent.width = t), e && (this.parent.height = e), this.update(!1) }, setBackgroundColor: function (t) { return this.backgroundColor = t, this.update(!1) }, setFill: function (t) { return this.color = t, this.update(!1) }, setColor: function (t) { return this.color = t, this.update(!1) }, setResolution: function (t) { return this.resolution = t, this.update(!1) }, setStroke: function (t, e) { return void 0 === e && (e = this.strokeThickness), void 0 === t && 0 !== this.strokeThickness ? (this.strokeThickness = 0, this.update(!0)) : this.stroke === t && this.strokeThickness === e || (this.stroke = t, this.strokeThickness = e, this.update(!0)), this.parent }, setShadow: function (t, e, i, s, n, r) { return void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = "#000"), void 0 === s && (s = 0), void 0 === n && (n = !1), void 0 === r && (r = !0), this.shadowOffsetX = t, this.shadowOffsetY = e, this.shadowColor = i, this.shadowBlur = s, this.shadowStroke = n, this.shadowFill = r, this.update(!1) }, setShadowOffset: function (t, e) { return void 0 === t && (t = 0), void 0 === e && (e = t), this.shadowOffsetX = t, this.shadowOffsetY = e, this.update(!1) }, setShadowColor: function (t) { return void 0 === t && (t = "#000"), this.shadowColor = t, this.update(!1) }, setShadowBlur: function (t) { return void 0 === t && (t = 0), this.shadowBlur = t, this.update(!1) }, setShadowStroke: function (t) { return this.shadowStroke = t, this.update(!1) }, setShadowFill: function (t) { return this.shadowFill = t, this.update(!1) }, setWordWrapWidth: function (t, e) { return void 0 === e && (e = !1), this.wordWrapWidth = t, this.wordWrapUseAdvanced = e, this.update(!1) }, setWordWrapCallback: function (t, e) { return void 0 === e && (e = null), this.wordWrapCallback = t, this.wordWrapCallbackScope = e, this.update(!1) }, setAlign: function (t) { return void 0 === t && (t = "left"), this.align = t, this.update(!1) }, setMaxLines: function (t) { return void 0 === t && (t = 0), this.maxLines = t, this.update(!1) }, getTextMetrics: function () { var t = this.metrics; return { ascent: t.ascent, descent: t.descent, fontSize: t.fontSize } }, toJSON: function () { var t = {}; for (var e in a) t[e] = this[e]; return t.metrics = this.getTextMetrics(), t }, destroy: function () { this.parent = void 0 } }); t.exports = h })), n.register("5ZcOH", (function (t, e) { var i = n("kKoer"); t.exports = function (t) { var e = i.create(this), s = e.getContext("2d"); t.syncFont(e, s); var n = Math.ceil(s.measureText(t.testString).width * t.baselineX), r = n, o = 2 * r; r = r * t.baselineY | 0, e.width = n, e.height = o, s.fillStyle = "#f00", s.fillRect(0, 0, n, o), s.font = t._font, s.textBaseline = "alphabetic", s.fillStyle = "#000", s.fillText(t.testString, 0, r); var a = { ascent: 0, descent: 0, fontSize: 0 }; if (!s.getImageData(0, 0, n, o)) return a.ascent = r, a.descent = r + 6, a.fontSize = a.ascent + a.descent, i.remove(e), a; var h, l, u = s.getImageData(0, 0, n, o).data, c = u.length, d = 4 * n, f = 0, p = !1; for (h = 0; h < r; h++) { for (l = 0; l < d; l += 4)if (255 !== u[f + l]) { p = !0; break } if (p) break; f += d } for (a.ascent = r - h, f = c - d, p = !1, h = o; h > r; h--) { for (l = 0; l < d; l += 4)if (255 !== u[f + l]) { p = !0; break } if (p) break; f -= d } return a.descent = h - r, a.fontSize = a.ascent + a.descent, i.remove(e), a } })), n.register("kwyUq", (function (t, e) { var i = n("kKoer"), s = n("jwj1g"), r = n("4FF1v"), o = n("aqcI1"), a = n("1zqlR"), h = n("6QpKi"), l = n("g0MK9"), u = n("5kpeZ"), c = n("7SBSk"), d = new s({ Extends: a, Mixins: [r.Alpha, r.BlendMode, r.ComputedSize, r.Crop, r.Depth, r.Flip, r.GetBounds, r.Mask, r.Origin, r.Pipeline, r.ScrollFactor, r.Tint, r.Transform, r.Visible, u], initialize: function (t, e, s, n, r, l, u) { var d = t.sys.game.renderer; a.call(this, t, "TileSprite"); var f = t.sys.textures.get(l), p = f.get(u); n && r ? (n = Math.floor(n), r = Math.floor(r)) : (n = p.width, r = p.height), this._tilePosition = new c, this._tileScale = new c(1, 1), this.dirty = !1, this.renderer = d, this.canvas = i.create(this, n, r), this.context = this.canvas.getContext("2d"), this.displayTexture = f, this.displayFrame = p, this._crop = this.resetCropObject(), this.texture = t.sys.textures.addCanvas(null, this.canvas, !0), this.frame = this.texture.get(), this.potWidth = h(p.width), this.potHeight = h(p.height), this.fillCanvas = i.create2D(this, this.potWidth, this.potHeight), this.fillContext = this.fillCanvas.getContext("2d"), this.fillPattern = null, this.setPosition(e, s), this.setSize(n, r), this.setFrame(u), this.setOriginFromFrame(), this.initPipeline(), t.sys.game.events.on(o.CONTEXT_RESTORED, (function (t) { var e = t.gl; this.dirty = !0, this.fillPattern = null, this.fillPattern = t.createTexture2D(0, e.LINEAR, e.LINEAR, e.REPEAT, e.REPEAT, e.RGBA, this.fillCanvas, this.potWidth, this.potHeight) }), this) }, setTexture: function (t, e) { return this.displayTexture = this.scene.sys.textures.get(t), this.setFrame(e) }, setFrame: function (t) { var e = this.displayTexture.get(t); return this.potWidth = h(e.width), this.potHeight = h(e.height), this.canvas.width = 0, e.cutWidth && e.cutHeight ? this.renderFlags |= 8 : this.renderFlags &= -9, this.displayFrame = e, this.dirty = !0, this.updateTileTexture(), this }, setTilePosition: function (t, e) { return void 0 !== t && (this.tilePositionX = t), void 0 !== e && (this.tilePositionY = e), this }, setTileScale: function (t, e) { return void 0 === t && (t = this.tileScaleX), void 0 === e && (e = t), this.tileScaleX = t, this.tileScaleY = e, this }, updateTileTexture: function () { if (this.dirty && this.renderer) { var t = this.displayFrame; if (t.source.isRenderTexture || t.source.isGLTexture) return console.warn("TileSprites can only use Image or Canvas based textures"), void (this.dirty = !1); var e = this.fillContext, i = this.fillCanvas, s = this.potWidth, n = this.potHeight; this.renderer.gl || (s = t.cutWidth, n = t.cutHeight), e.clearRect(0, 0, s, n), i.width = s, i.height = n, e.drawImage(t.source.image, t.cutX, t.cutY, t.cutWidth, t.cutHeight, 0, 0, s, n), this.renderer.gl ? this.fillPattern = this.renderer.canvasToTexture(i, this.fillPattern) : this.fillPattern = e.createPattern(i, "repeat"), this.updateCanvas(), this.dirty = !1 } }, updateCanvas: function () { var t = this.canvas; if (t.width === this.width && t.height === this.height || (t.width = this.width, t.height = this.height, this.frame.setSize(this.width, this.height), this.updateDisplayOrigin(), this.dirty = !0), !this.dirty || this.renderer && this.renderer.gl) this.dirty = !1; else { var e = this.context; this.scene.sys.game.config.antialias || l.disable(e); var i = this._tileScale.x, s = this._tileScale.y, n = this._tilePosition.x, r = this._tilePosition.y; e.clearRect(0, 0, this.width, this.height), e.save(), e.scale(i, s), e.translate(-n, -r), e.fillStyle = this.fillPattern, e.fillRect(n, r, this.width / i, this.height / s), e.restore(), this.dirty = !1 } }, preDestroy: function () { this.renderer && this.renderer.gl && this.renderer.deleteTexture(this.fillPattern), i.remove(this.canvas), i.remove(this.fillCanvas), this.fillPattern = null, this.fillContext = null, this.fillCanvas = null, this.displayTexture = null, this.displayFrame = null, this.texture.destroy(), this.renderer = null }, tilePositionX: { get: function () { return this._tilePosition.x }, set: function (t) { this._tilePosition.x = t, this.dirty = !0 } }, tilePositionY: { get: function () { return this._tilePosition.y }, set: function (t) { this._tilePosition.y = t, this.dirty = !0 } }, tileScaleX: { get: function () { return this._tileScale.x }, set: function (t) { this._tileScale.x = t, this.dirty = !0 } }, tileScaleY: { get: function () { return this._tileScale.y }, set: function (t) { this._tileScale.y = t, this.dirty = !0 } } }); t.exports = d })), n.register("5kpeZ", (function (t, e) { var i = n("13GYA"), s = n("13GYA"); i = n("fehBS"), s = n("9KTFl"), t.exports = { renderWebGL: i, renderCanvas: s } })); n.register("fehBS", (function (t, e) { var i = n("gaO4e"); t.exports = function (t, e, s, n, r) { e.updateCanvas(); var o = i.getTintAppendFloatAlpha; this.pipeline.batchTexture(e, e.fillPattern, e.displayFrame.width * e.tileScaleX, e.displayFrame.height * e.tileScaleY, e.x, e.y, e.width, e.height, e.scaleX, e.scaleY, e.rotation, e.flipX, e.flipY, e.scrollFactorX, e.scrollFactorY, e.originX * e.width, e.originY * e.height, 0, 0, e.width, e.height, o(e._tintTL, n.alpha * e._alphaTL), o(e._tintTR, n.alpha * e._alphaTR), o(e._tintBL, n.alpha * e._alphaBL), o(e._tintBR, n.alpha * e._alphaBR), e._isTinted && e.tintFill, e.tilePositionX % e.displayFrame.width / e.displayFrame.width, e.tilePositionY % e.displayFrame.height / e.displayFrame.height, n, r) } })), n.register("9KTFl", (function (t, e) { t.exports = function (t, e, i, s, n) { e.updateCanvas(), t.batchSprite(e, e.frame, s, n) } })), n.register("Cfqdl", (function (t, e) { var i = n("jwj1g"), s = n("iEUUO"), r = n("4FF1v"), o = n("jIv3O"), a = n("aqcI1"), h = n("1zqlR"), l = n("kcpiS"), u = n("gS40I"), c = n("dQCPJ"), d = n("bNtDi"), f = new i({ Extends: h, Mixins: [r.Alpha, r.BlendMode, r.Depth, r.Flip, r.GetBounds, r.Mask, r.Origin, r.Pipeline, r.ScrollFactor, r.Size, r.TextureCrop, r.Tint, r.Transform, r.Visible, c], initialize: function (t, e, i, s) { h.call(this, t, "Video"), this.video = null, this.videoTexture = null, this.videoTextureSource = null, this.snapshotTexture = null, this.flipY = !1, this._key = u(), this.touchLocked = !0, this.playWhenUnlocked = !1, this.retryLimit = 20, this.retry = 0, this.retryInterval = 500, this._retryID = null, this._systemMuted = !1, this._codeMuted = !1, this._systemPaused = !1, this._codePaused = !1, this._callbacks = { play: this.playHandler.bind(this), error: this.loadErrorHandler.bind(this), end: this.completeHandler.bind(this), time: this.timeUpdateHandler.bind(this), seeking: this.seekingHandler.bind(this), seeked: this.seekedHandler.bind(this) }, this._crop = this.resetCropObject(), this.markers = {}, this._markerIn = -1, this._markerOut = d.MAX_SAFE_INTEGER, this._lastUpdate = 0, this._cacheKey = "", this._isSeeking = !1, this.removeVideoElementOnDestroy = !1, this.setPosition(e, i), this.initPipeline(), s && this.changeSource(s, !1); var n = t.sys.game.events; n.on(a.PAUSE, this.globalPause, this), n.on(a.RESUME, this.globalResume, this); var r = t.sys.sound; r && r.on(l.GLOBAL_MUTE, this.globalMute, this) }, play: function (t, e, i) { if (this.touchLocked && this.playWhenUnlocked || this.isPlaying()) return this; var s = this.video; if (!s) return console.warn("Video not loaded"), this; void 0 === t && (t = s.loop); var n = this.scene.sys.sound; n && n.mute && this.setMute(!0), isNaN(e) || (this._markerIn = e), !isNaN(i) && i > e && (this._markerOut = i), s.loop = t; var r = this._callbacks, o = s.play(); return void 0 !== o ? o.then(this.playPromiseSuccessHandler.bind(this)).catch(this.playPromiseErrorHandler.bind(this)) : (s.addEventListener("playing", r.play, !0), s.readyState < 2 && (this.retry = this.retryLimit, this._retryID = window.setTimeout(this.checkVideoProgress.bind(this), this.retryInterval))), s.addEventListener("ended", r.end, !0), s.addEventListener("timeupdate", r.time, !0), s.addEventListener("seeking", r.seeking, !0), s.addEventListener("seeked", r.seeked, !0), this }, changeSource: function (t, e, i, s, n) { void 0 === e && (e = !0), this.video && this.stop(); var r = this.scene.sys.cache.video.get(t); return r ? (this.video = r, this._cacheKey = t, this._codePaused = r.paused, this._codeMuted = r.muted, this.videoTexture ? (this.scene.sys.textures.remove(this._key), this.videoTexture = this.scene.sys.textures.create(this._key, r, r.videoWidth, r.videoHeight), this.videoTextureSource = this.videoTexture.source[0], this.videoTexture.add("__BASE", 0, 0, 0, r.videoWidth, r.videoHeight), this.setTexture(this.videoTexture), this.setSizeToFrame(), this.updateDisplayOrigin(), this.emit(o.VIDEO_CREATED, this, r.videoWidth, r.videoHeight)) : this.updateTexture(), r.currentTime = 0, this._lastUpdate = 0, e && this.play(i, s, n)) : this.video = null, this }, addMarker: function (t, e, i) { return !isNaN(e) && e >= 0 && !isNaN(i) && (this.markers[t] = [e, i]), this }, playMarker: function (t, e) { var i = this.markers[t]; return i && this.play(e, i[0], i[1]), this }, removeMarker: function (t) { return delete this.markers[t], this }, snapshot: function (t, e) { return void 0 === t && (t = this.width), void 0 === e && (e = this.height), this.snapshotArea(0, 0, this.width, this.height, t, e) }, snapshotArea: function (t, e, i, s, n, r) { void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = this.width), void 0 === s && (s = this.height), void 0 === n && (n = i), void 0 === r && (r = s); var o = this.video, a = this.snapshotTexture; return a ? (a.setSize(n, r), o && a.context.drawImage(o, t, e, i, s, 0, 0, n, r)) : (a = this.scene.sys.textures.createCanvas(u(), n, r), this.snapshotTexture = a, o && a.context.drawImage(o, t, e, i, s, 0, 0, n, r)), a.update() }, saveSnapshotTexture: function (t) { return this.snapshotTexture ? this.scene.sys.textures.renameTexture(this.snapshotTexture.key, t) : this.snapshotTexture = this.scene.sys.textures.createCanvas(t, this.width, this.height), this.snapshotTexture }, loadURL: function (t, e, i) { void 0 === e && (e = "loadeddata"), void 0 === i && (i = !1), this.video && this.stop(), this.videoTexture && this.scene.sys.textures.remove(this._key); var s = document.createElement("video"); return s.controls = !1, i && (s.muted = !0, s.defaultMuted = !0, s.setAttribute("autoplay", "autoplay")), s.setAttribute("playsinline", "playsinline"), s.setAttribute("preload", "auto"), s.addEventListener("error", this._callbacks.error, !0), s.src = t, s.load(), this.video = s, this }, playPromiseSuccessHandler: function () { this.touchLocked = !1, this.emit(o.VIDEO_PLAY, this), this._markerIn > -1 && (this.video.currentTime = this._markerIn) }, playPromiseErrorHandler: function (t) { this.scene.sys.input.once("pointerdown", this.unlockHandler, this), this.touchLocked = !0, this.playWhenUnlocked = !0, this.emit(o.VIDEO_ERROR, this, t) }, playHandler: function () { this.touchLocked = !1, this.emit(o.VIDEO_PLAY, this), this.video.removeEventListener("playing", this._callbacks.play, !0) }, loadErrorHandler: function (t) { this.stop(), this.emit(o.VIDEO_ERROR, this, t) }, unlockHandler: function () { this.touchLocked = !1, this.playWhenUnlocked = !1, this.emit(o.VIDEO_UNLOCKED, this), this._markerIn > -1 && (this.video.currentTime = this._markerIn), this.video.play(), this.emit(o.VIDEO_PLAY, this) }, completeHandler: function () { this.emit(o.VIDEO_COMPLETE, this) }, timeUpdateHandler: function () { this.video && this.video.currentTime < this._lastUpdate && (this.emit(o.VIDEO_LOOP, this), this._lastUpdate = 0) }, preUpdate: function () { var t = this.video; if (t) { var e = t.currentTime; e !== this._lastUpdate && (this._lastUpdate = e, this.updateTexture(), e >= this._markerOut && (t.loop ? (t.currentTime = this._markerIn, this.updateTexture(), this._lastUpdate = e, this.emit(o.VIDEO_LOOP, this)) : (this.emit(o.VIDEO_COMPLETE, this), this.stop()))) } }, checkVideoProgress: function () { this.video.readyState >= 2 ? this.updateTexture() : (this.retry--, this.retry > 0 ? this._retryID = window.setTimeout(this.checkVideoProgress.bind(this), this.retryInterval) : this.emit(o.VIDEO_TIMEOUT, this)) }, updateTexture: function () { var t = this.video, e = t.videoWidth, i = t.videoHeight; if (this.videoTexture) { var s = this.videoTextureSource; s.source !== t && (s.source = t, s.width = e, s.height = i), s.update() } else this.videoTexture = this.scene.sys.textures.create(this._key, t, e, i), this.videoTextureSource = this.videoTexture.source[0], this.videoTexture.add("__BASE", 0, 0, 0, e, i), this.setTexture(this.videoTexture), this.setSizeToFrame(), this.updateDisplayOrigin(), this.emit(o.VIDEO_CREATED, this, e, i) }, getVideoKey: function () { return this._cacheKey }, seekTo: function (t) { var e = this.video; if (e) { var i = e.duration; if (i !== 1 / 0 && !isNaN(i)) { var s = i * t; this.setCurrentTime(s) } } return this }, getCurrentTime: function () { return this.video ? this.video.currentTime : 0 }, setCurrentTime: function (t) { var e = this.video; if (e) { if ("string" == typeof t) { var i = t[0], s = parseFloat(t.substr(1)); "+" === i ? t = e.currentTime + s : "-" === i && (t = e.currentTime - s) } e.currentTime = t, this._lastUpdate = t } return this }, isSeeking: function () { return this._isSeeking }, seekingHandler: function () { this._isSeeking = !0, this.emit(o.VIDEO_SEEKING, this) }, seekedHandler: function () { this._isSeeking = !1, this.emit(o.VIDEO_SEEKED, this), this.video && this.updateTexture() }, getProgress: function () { var t = this.video; if (t) { var e = t.currentTime, i = t.duration; if (i !== 1 / 0 && !isNaN(i)) return e / i } return 0 }, getDuration: function () { return this.video ? this.video.duration : 0 }, setMute: function (t) { void 0 === t && (t = !0), this._codeMuted = t; var e = this.video; return e && (e.muted = !!this._systemMuted || t), this }, isMuted: function () { return this._codeMuted }, globalMute: function (t, e) { this._systemMuted = e; var i = this.video; i && (i.muted = !!this._codeMuted || e) }, globalPause: function () { this._systemPaused = !0, this.video && this.video.pause() }, globalResume: function () { this._systemPaused = !1, this.video && !this._codePaused && this.video.play() }, setPaused: function (t) { void 0 === t && (t = !0); var e = this.video; return this._codePaused = t, e && (t ? e.paused || e.pause() : t || e.paused && !this._systemPaused && e.play()), this }, getVolume: function () { return this.video ? this.video.volume : 1 }, setVolume: function (t) { return void 0 === t && (t = 1), this.video && (this.video.volume = s(t, 0, 1)), this }, getPlaybackRate: function () { return this.video ? this.video.playbackRate : 1 }, setPlaybackRate: function (t) { return this.video && (this.video.playbackRate = t), this }, getLoop: function () { return !!this.video && this.video.loop }, setLoop: function (t) { return void 0 === t && (t = !0), this.video && (this.video.loop = t), this }, isPlaying: function () { return !!this.video && !(this.video.paused || this.video.ended) }, isPaused: function () { return this.video && this.video.paused || this._codePaused || this._systemPaused }, saveTexture: function (t, e) { return void 0 === e && (e = !1), this.videoTexture && this.scene.sys.textures.renameTexture(this._key, t), this._key = t, this.flipY = e, this.videoTextureSource && this.videoTextureSource.setFlipY(e), this.videoTexture }, stop: function () { var t = this.video; if (t) { var e = this._callbacks; for (var i in e) t.removeEventListener(i, e[i], !0); t.pause() } return this._retryID && window.clearTimeout(this._retryID), this.emit(o.VIDEO_STOP, this), this }, removeVideoElement: function () { var t = this.video; if (t) { for (t.parentNode && t.parentNode.removeChild(t); t.hasChildNodes();)t.removeChild(t.firstChild); t.removeAttribute("autoplay"), t.removeAttribute("src"), this.video = null } }, preDestroy: function () { this.stop(), this.removeVideoElementOnDestroy && this.removeVideoElement(); var t = this.scene.sys.game.events; t.off(a.PAUSE, this.globalPause, this), t.off(a.RESUME, this.globalResume, this); var e = this.scene.sys.sound; e && e.off(l.GLOBAL_MUTE, this.globalMute, this), this._retryID && window.clearTimeout(this._retryID) } }); t.exports = f })), n.register("dQCPJ", (function (t, e) { var i = n("13GYA"), s = n("13GYA"); i = n("42xhp"), s = n("fs2FX"), t.exports = { renderWebGL: i, renderCanvas: s } })), n.register("42xhp", (function (t, e) { t.exports = function (t, e, i, s, n) { e.videoTexture && this.pipeline.batchSprite(e, s, n) } })), n.register("fs2FX", (function (t, e) { t.exports = function (t, e, i, s, n) { e.videoTexture && t.batchSprite(e, e.frame, s, n) } })), n.register("6cKpG", (function (t, e) { var i = n("jwj1g"), s = n("4FF1v"), r = n("1zqlR"), o = n("1LRPh"), a = new i({ Extends: r, Mixins: [s.AlphaSingle, s.BlendMode, s.ComputedSize, s.Depth, s.GetBounds, s.Mask, s.Origin, s.Pipeline, s.ScrollFactor, s.Transform, s.Visible], initialize: function (t, e, i) { void 0 === e && (e = "Shape"), r.call(this, t, e), this.geom = i, this.pathData = [], this.pathIndexes = [], this.fillColor = 16777215, this.fillAlpha = 1, this.strokeColor = 16777215, this.strokeAlpha = 1, this.lineWidth = 1, this.isFilled = !1, this.isStroked = !1, this.closePath = !0, this._tempLine = new o, this.initPipeline() }, setFillStyle: function (t, e) { return void 0 === e && (e = 1), void 0 === t ? this.isFilled = !1 : (this.fillColor = t, this.fillAlpha = e, this.isFilled = !0), this }, setStrokeStyle: function (t, e, i) { return void 0 === i && (i = 1), void 0 === t ? this.isStroked = !1 : (this.lineWidth = t, this.strokeColor = e, this.strokeAlpha = i, this.isStroked = !0), this }, setClosePath: function (t) { return this.closePath = t, this }, preDestroy: function () { this.geom = null, this._tempLine = null, this.pathData = [], this.pathIndexes = [] } }); t.exports = a })), n.register("ab6uD", (function (t, e) { var i = n("aeVtI"), s = n("jwj1g"), r = n("2zqSA"), o = n("hjbjS"), a = n("eQ4tZ"), h = n("bNtDi"), l = n("6cKpG"), u = new s({ Extends: l, Mixins: [i], initialize: function (t, e, i, s, n, r, o, h, u) { void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === s && (s = 128), void 0 === n && (n = 0), void 0 === r && (r = 360), void 0 === o && (o = !1), l.call(this, t, "Arc", new a(0, 0, s)), this._startAngle = n, this._endAngle = r, this._anticlockwise = o, this._iterations = .01, this.setPosition(e, i); var c = 2 * this.geom.radius; this.setSize(c, c), void 0 !== h && this.setFillStyle(h, u), this.updateDisplayOrigin(), this.updateData() }, iterations: { get: function () { return this._iterations }, set: function (t) { this._iterations = t, this.updateData() } }, radius: { get: function () { return this.geom.radius }, set: function (t) { this.geom.radius = t; var e = 2 * t; this.setSize(e, e), this.updateDisplayOrigin(), this.updateData() } }, startAngle: { get: function () { return this._startAngle }, set: function (t) { this._startAngle = t, this.updateData() } }, endAngle: { get: function () { return this._endAngle }, set: function (t) { this._endAngle = t, this.updateData() } }, anticlockwise: { get: function () { return this._anticlockwise }, set: function (t) { this._anticlockwise = t, this.updateData() } }, setRadius: function (t) { return this.radius = t, this }, setIterations: function (t) { return void 0 === t && (t = .01), this.iterations = t, this }, setStartAngle: function (t, e) { return this._startAngle = t, void 0 !== e && (this._anticlockwise = e), this.updateData() }, setEndAngle: function (t, e) { return this._endAngle = t, void 0 !== e && (this._anticlockwise = e), this.updateData() }, updateData: function () { var t = this._iterations, e = t, i = this.geom.radius, s = r(this._startAngle), n = r(this._endAngle), a = i, l = i; n -= s, this._anticlockwise ? n < -h.PI2 ? n = -h.PI2 : n > 0 && (n = -h.PI2 + n % h.PI2) : n > h.PI2 ? n = h.PI2 : n < 0 && (n = h.PI2 + n % h.PI2); for (var u, c = [a + Math.cos(s) * i, l + Math.sin(s) * i]; e < 1;)u = n * e + s, c.push(a + Math.cos(u) * i, l + Math.sin(u) * i), e += t; return u = n + s, c.push(a + Math.cos(u) * i, l + Math.sin(u) * i), c.push(a + Math.cos(s) * i, l + Math.sin(s) * i), this.pathIndexes = o(c), this.pathData = c, this } }); t.exports = u })), n.register("aeVtI", (function (t, e) { var i = n("13GYA"), s = n("13GYA"); i = n("9Jtnt"), s = n("cZJbB"), t.exports = { renderWebGL: i, renderCanvas: s } })), n.register("9Jtnt", (function (t, e) { var i = n("73AUV"), s = n("ythtQ"); t.exports = function (t, e, n, r, o) { var a = this.pipeline, h = a._tempMatrix1, l = a._tempMatrix2, u = a._tempMatrix3; t.setPipeline(a), l.applyITRS(e.x, e.y, e.rotation, e.scaleX, e.scaleY), h.copyFrom(r.matrix), o ? (h.multiplyWithOffset(o, -r.scrollX * e.scrollFactorX, -r.scrollY * e.scrollFactorY), l.e = e.x, l.f = e.y) : (l.e -= r.scrollX * e.scrollFactorX, l.f -= r.scrollY * e.scrollFactorY), h.multiply(l, u); var c = e._displayOriginX, d = e._displayOriginY, f = r.alpha * e.alpha; e.isFilled && i(a, u, e, f, c, d), e.isStroked && s(a, e, f, c, d) } })), n.register("73AUV", (function (t, e) { var i = n("gaO4e"); t.exports = function (t, e, s, n, r, o) { for (var a = i.getTintAppendFloatAlphaAndSwap(s.fillColor, s.fillAlpha * n), h = s.pathData, l = s.pathIndexes, u = 0; u < l.length; u += 3) { var c = 2 * l[u], d = 2 * l[u + 1], f = 2 * l[u + 2], p = h[c + 0] - r, g = h[c + 1] - o, v = h[d + 0] - r, m = h[d + 1] - o, y = h[f + 0] - r, x = h[f + 1] - o, w = e.getX(p, g), T = e.getY(p, g), b = e.getX(v, m), S = e.getY(v, m), A = e.getX(y, x), E = e.getY(y, x); t.setTexture2D(), t.batchTri(w, T, b, S, A, E, 0, 0, 1, 1, a, a, a, t.tintEffect) } } })), n.register("ythtQ", (function (t, e) { var i = n("gaO4e"); t.exports = function (t, e, s, n, r) { var o = t.strokeTint, a = i.getTintAppendFloatAlphaAndSwap(e.strokeColor, e.strokeAlpha * s); o.TL = a, o.TR = a, o.BL = a, o.BR = a; var h = e.pathData, l = h.length - 1, u = e.lineWidth, c = u / 2, d = h[0] - n, f = h[1] - r; e.closePath || (l -= 2); for (var p = 2; p < l; p += 2) { var g = h[p] - n, v = h[p + 1] - r; t.setTexture2D(), t.batchLine(d, f, g, v, c, c, u, p - 2, !!e.closePath && p === l - 1), d = g, f = v } } })), n.register("cZJbB", (function (t, e) { var i = n("2zqSA"), s = n("Jk7wq"), r = n("jNDrF"), o = n("csLaZ"); t.exports = function (t, e, n, a, h) { var l = t.currentContext; if (o(t, l, e, a, h)) { var u = e.radius; l.beginPath(), l.arc(u - e.originX * (2 * u), u - e.originY * (2 * u), u, i(e._startAngle), i(e._endAngle), e.anticlockwise), e.closePath && l.closePath(), e.isFilled && (s(l, e), l.fill()), e.isStroked && (r(l, e), l.stroke()), l.restore() } } })), n.register("Jk7wq", (function (t, e) { t.exports = function (t, e, i, s) { var n = i || e.fillColor, r = s || e.fillAlpha, o = (16711680 & n) >>> 16, a = (65280 & n) >>> 8, h = 255 & n; t.fillStyle = "rgba(" + o + "," + a + "," + h + "," + r + ")" } })), n.register("jNDrF", (function (t, e) { t.exports = function (t, e, i, s) { var n = i || e.strokeColor, r = s || e.strokeAlpha, o = (16711680 & n) >>> 16, a = (65280 & n) >>> 8, h = 255 & n; t.strokeStyle = "rgba(" + o + "," + a + "," + h + "," + r + ")", t.lineWidth = e.lineWidth } })), n.register("20vs1", (function (t, e) { var i = n("jwj1g"), s = n("8LeHq"), r = n("hjbjS"), o = n("cwr8X"), a = n("6cKpG"), h = new i({ Extends: a, Mixins: [s], initialize: function (t, e, i, s, n, r) { void 0 === e && (e = 0), void 0 === i && (i = 0), a.call(this, t, "Curve", s), this._smoothness = 32, this._curveBounds = new o, this.closePath = !1, this.setPosition(e, i), void 0 !== n && this.setFillStyle(n, r), this.updateData() }, smoothness: { get: function () { return this._smoothness }, set: function (t) { this._smoothness = t, this.updateData() } }, setSmoothness: function (t) { return this._smoothness = t, this.updateData() }, updateData: function () { var t = this._curveBounds, e = this._smoothness; this.geom.getBounds(t, e), this.setSize(t.width, t.height), this.updateDisplayOrigin(); for (var i = [], s = this.geom.getPoints(e), n = 0; n < s.length; n++)i.push(s[n].x, s[n].y); return i.push(s[0].x, s[0].y), this.pathIndexes = r(i), this.pathData = i, this } }); t.exports = h })), n.register("8LeHq", (function (t, e) { var i = n("13GYA"), s = n("13GYA"); i = n("aQDOz"), s = n("qOCLi"), t.exports = { renderWebGL: i, renderCanvas: s } })), n.register("aQDOz", (function (t, e) { var i = n("73AUV"), s = n("ythtQ"); t.exports = function (t, e, n, r, o) { var a = this.pipeline, h = a._tempMatrix1, l = a._tempMatrix2, u = a._tempMatrix3; t.setPipeline(a), l.applyITRS(e.x, e.y, e.rotation, e.scaleX, e.scaleY), h.copyFrom(r.matrix), o ? (h.multiplyWithOffset(o, -r.scrollX * e.scrollFactorX, -r.scrollY * e.scrollFactorY), l.e = e.x, l.f = e.y) : (l.e -= r.scrollX * e.scrollFactorX, l.f -= r.scrollY * e.scrollFactorY), h.multiply(l, u); var c = e._displayOriginX + e._curveBounds.x, d = e._displayOriginY + e._curveBounds.y, f = r.alpha * e.alpha; e.isFilled && i(a, u, e, f, c, d), e.isStroked && s(a, e, f, c, d) } })), n.register("qOCLi", (function (t, e) { var i = n("Jk7wq"), s = n("jNDrF"), r = n("csLaZ"); t.exports = function (t, e, n, o, a) { var h = t.currentContext; if (r(t, h, e, o, a)) { var l = e._displayOriginX + e._curveBounds.x, u = e._displayOriginY + e._curveBounds.y, c = e.pathData, d = c.length - 1, f = c[0] - l, p = c[1] - u; h.beginPath(), h.moveTo(f, p), e.closePath || (d -= 2); for (var g = 2; g < d; g += 2) { var v = c[g] - l, m = c[g + 1] - u; h.lineTo(v, m) } e.closePath && h.closePath(), e.isFilled && (i(h, e), h.fill()), e.isStroked && (s(h, e), h.stroke()), h.restore() } } })), n.register("i1Pn1", (function (t, e) { var i = n("jwj1g"), s = n("hjbjS"), r = n("6gxoQ"), o = n("eaZcG"), a = n("6cKpG"), h = new i({ Extends: a, Mixins: [r], initialize: function (t, e, i, s, n, r, h) { void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === s && (s = 128), void 0 === n && (n = 128), a.call(this, t, "Ellipse", new o(s / 2, n / 2, s, n)), this._smoothness = 64, this.setPosition(e, i), this.width = s, this.height = n, void 0 !== r && this.setFillStyle(r, h), this.updateDisplayOrigin(), this.updateData() }, smoothness: { get: function () { return this._smoothness }, set: function (t) { this._smoothness = t, this.updateData() } }, setSize: function (t, e) { return this.geom.setSize(t, e), this.updateData() }, setSmoothness: function (t) { return this._smoothness = t, this.updateData() }, updateData: function () { for (var t = [], e = this.geom.getPoints(this._smoothness), i = 0; i < e.length; i++)t.push(e[i].x, e[i].y); return t.push(e[0].x, e[0].y), this.pathIndexes = s(t), this.pathData = t, this } }); t.exports = h })), n.register("6gxoQ", (function (t, e) { var i = n("13GYA"), s = n("13GYA"); i = n("8RuSi"), s = n("fGmrN"), t.exports = { renderWebGL: i, renderCanvas: s } })), n.register("8RuSi", (function (t, e) { var i = n("73AUV"), s = n("ythtQ"); t.exports = function (t, e, n, r, o) { var a = this.pipeline, h = a._tempMatrix1, l = a._tempMatrix2, u = a._tempMatrix3; t.setPipeline(a), l.applyITRS(e.x, e.y, e.rotation, e.scaleX, e.scaleY), h.copyFrom(r.matrix), o ? (h.multiplyWithOffset(o, -r.scrollX * e.scrollFactorX, -r.scrollY * e.scrollFactorY), l.e = e.x, l.f = e.y) : (l.e -= r.scrollX * e.scrollFactorX, l.f -= r.scrollY * e.scrollFactorY), h.multiply(l, u); var c = e._displayOriginX, d = e._displayOriginY, f = r.alpha * e.alpha; e.isFilled && i(a, u, e, f, c, d), e.isStroked && s(a, e, f, c, d) } })), n.register("fGmrN", (function (t, e) { var i = n("Jk7wq"), s = n("jNDrF"), r = n("csLaZ"); t.exports = function (t, e, n, o, a) { var h = t.currentContext; if (r(t, h, e, o, a)) { var l = e._displayOriginX, u = e._displayOriginY, c = e.pathData, d = c.length - 1, f = c[0] - l, p = c[1] - u; h.beginPath(), h.moveTo(f, p), e.closePath || (d -= 2); for (var g = 2; g < d; g += 2) { var v = c[g] - l, m = c[g + 1] - u; h.lineTo(v, m) } h.closePath(), e.isFilled && (i(h, e), h.fill()), e.isStroked && (s(h, e), h.stroke()), h.restore() } } })), n.register("3qA3v", (function (t, e) { var i = n("jwj1g"), s = n("6cKpG"), r = n("fCxvb"), o = new i({ Extends: s, Mixins: [r], initialize: function (t, e, i, n, r, o, a, h, l, u, c) { void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 128), void 0 === r && (r = 128), void 0 === o && (o = 32), void 0 === a && (a = 32), s.call(this, t, "Grid", null), this.cellWidth = o, this.cellHeight = a, this.showCells = !0, this.outlineFillColor = 0, this.outlineFillAlpha = 0, this.showOutline = !0, this.showAltCells = !1, this.altFillColor, this.altFillAlpha, this.setPosition(e, i), this.setSize(n, r), void 0 !== h && this.setFillStyle(h, l), void 0 !== u && this.setOutlineStyle(u, c), this.updateDisplayOrigin() }, setFillStyle: function (t, e) { return void 0 === e && (e = 1), void 0 === t ? this.showCells = !1 : (this.fillColor = t, this.fillAlpha = e, this.showCells = !0), this }, setAltFillStyle: function (t, e) { return void 0 === e && (e = 1), void 0 === t ? this.showAltCells = !1 : (this.altFillColor = t, this.altFillAlpha = e, this.showAltCells = !0), this }, setOutlineStyle: function (t, e) { return void 0 === e && (e = 1), void 0 === t ? this.showOutline = !1 : (this.outlineFillColor = t, this.outlineFillAlpha = e, this.showOutline = !0), this } }); t.exports = o })), n.register("fCxvb", (function (t, e) { var i = n("13GYA"), s = n("13GYA"); i = n("1dztA"), s = n("jLoQL"), t.exports = { renderWebGL: i, renderCanvas: s } })), n.register("1dztA", (function (t, e) { var i = n("gaO4e"); t.exports = function (t, e, s, n, r) { var o = this.pipeline, a = o._tempMatrix1, h = o._tempMatrix2, l = o._tempMatrix3; t.setPipeline(o), h.applyITRS(e.x, e.y, e.rotation, e.scaleX, e.scaleY), a.copyFrom(n.matrix), r ? (a.multiplyWithOffset(r, -n.scrollX * e.scrollFactorX, -n.scrollY * e.scrollFactorY), h.e = e.x, h.f = e.y) : (h.e -= n.scrollX * e.scrollFactorX, h.f -= n.scrollY * e.scrollFactorY), a.multiply(h, l), l.translate(-e._displayOriginX, -e._displayOriginY); var u, c, d = n.alpha * e.alpha, f = e.width, p = e.height, g = e.cellWidth, v = e.cellHeight, m = Math.ceil(f / g), y = Math.ceil(p / v), x = g, w = v, T = g - (m * g - f), b = v - (y * v - p), S = e.showCells, A = e.showAltCells, E = e.showOutline, C = 0, _ = 0, M = 0, P = 0, O = 0; if (E && (x--, w--, T === g && T--, b === v && b--), S && e.fillAlpha > 0) for (u = o.fillTint, c = i.getTintAppendFloatAlphaAndSwap(e.fillColor, e.fillAlpha * d), u.TL = c, u.TR = c, u.BL = c, u.BR = c, _ = 0; _ < y; _++)for (A && (M = _ % 2), C = 0; C < m; C++)A && M ? M = 0 : (M++, P = C < m - 1 ? x : T, O = _ < y - 1 ? w : b, o.setTexture2D(), o.batchFillRect(C * g, _ * v, P, O)); if (A && e.altFillAlpha > 0) for (u = o.fillTint, c = i.getTintAppendFloatAlphaAndSwap(e.altFillColor, e.altFillAlpha * d), u.TL = c, u.TR = c, u.BL = c, u.BR = c, _ = 0; _ < y; _++)for (A && (M = _ % 2), C = 0; C < m; C++)!A || M ? (M = 0, P = C < m - 1 ? x : T, O = _ < y - 1 ? w : b, o.setTexture2D(), o.batchFillRect(C * g, _ * v, P, O)) : M = 1; if (E && e.outlineFillAlpha > 0) { var R = o.strokeTint, L = i.getTintAppendFloatAlphaAndSwap(e.outlineFillColor, e.outlineFillAlpha * d); for (R.TL = L, R.TR = L, R.BL = L, R.BR = L, C = 1; C < m; C++) { var k = C * g; o.setTexture2D(), o.batchLine(k, 0, k, p, 1, 1, 1, 0, !1) } for (_ = 1; _ < y; _++) { var D = _ * v; o.setTexture2D(), o.batchLine(0, D, f, D, 1, 1, 1, 0, !1) } } } })), n.register("jLoQL", (function (t, e) { var i = n("Jk7wq"), s = n("jNDrF"), r = n("csLaZ"); t.exports = function (t, e, n, o, a) { var h = t.currentContext; if (r(t, h, e, o, a)) { var l = -e._displayOriginX, u = -e._displayOriginY, c = o.alpha * e.alpha, d = e.width, f = e.height, p = e.cellWidth, g = e.cellHeight, v = Math.ceil(d / p), m = Math.ceil(f / g), y = p, x = g, w = p - (v * p - d), T = g - (m * g - f), b = e.showCells, S = e.showAltCells, A = e.showOutline, E = 0, C = 0, _ = 0, M = 0, P = 0; if (A && (y--, x--, w === p && w--, T === g && T--), b && e.fillAlpha > 0) for (i(h, e), C = 0; C < m; C++)for (S && (_ = C % 2), E = 0; E < v; E++)S && _ ? _ = 0 : (_++, M = E < v - 1 ? y : w, P = C < m - 1 ? x : T, h.fillRect(l + E * p, u + C * g, M, P)); if (S && e.altFillAlpha > 0) for (i(h, e, e.altFillColor, e.altFillAlpha * c), C = 0; C < m; C++)for (S && (_ = C % 2), E = 0; E < v; E++)!S || _ ? (_ = 0, M = E < v - 1 ? y : w, P = C < m - 1 ? x : T, h.fillRect(l + E * p, u + C * g, M, P)) : _ = 1; if (A && e.outlineFillAlpha > 0) { for (s(h, e, e.outlineFillColor, e.outlineFillAlpha * c), E = 1; E < v; E++) { var O = E * p; h.beginPath(), h.moveTo(O + l, u), h.lineTo(O + l, f + u), h.stroke() } for (C = 1; C < m; C++) { var R = C * g; h.beginPath(), h.moveTo(l, R + u), h.lineTo(l + d, R + u), h.stroke() } } h.restore() } } })), n.register("ibqbn", (function (t, e) { var i = n("6Rb69"), s = n("jwj1g"), r = n("6cKpG"), o = new s({ Extends: r, Mixins: [i], initialize: function (t, e, i, s, n, o, a, h) { void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === s && (s = 48), void 0 === n && (n = 32), void 0 === o && (o = 15658734), void 0 === a && (a = 10066329), void 0 === h && (h = 13421772), r.call(this, t, "IsoBox", null), this.projection = 4, this.fillTop = o, this.fillLeft = a, this.fillRight = h, this.showTop = !0, this.showLeft = !0, this.showRight = !0, this.isFilled = !0, this.setPosition(e, i), this.setSize(s, n), this.updateDisplayOrigin() }, setProjection: function (t) { return this.projection = t, this }, setFaces: function (t, e, i) { return void 0 === t && (t = !0), void 0 === e && (e = !0), void 0 === i && (i = !0), this.showTop = t, this.showLeft = e, this.showRight = i, this }, setFillStyle: function (t, e, i) { return this.fillTop = t, this.fillLeft = e, this.fillRight = i, this.isFilled = !0, this } }); t.exports = o })), n.register("6Rb69", (function (t, e) { var i = n("13GYA"), s = n("13GYA"); i = n("56Unh"), s = n("4Im19"), t.exports = { renderWebGL: i, renderCanvas: s } })), n.register("56Unh", (function (t, e) { var i = n("gaO4e"); t.exports = function (t, e, s, n, r) { var o = this.pipeline, a = o._tempMatrix1, h = o._tempMatrix2, l = o._tempMatrix3; t.setPipeline(o), h.applyITRS(e.x, e.y, e.rotation, e.scaleX, e.scaleY), a.copyFrom(n.matrix), r ? (a.multiplyWithOffset(r, -n.scrollX * e.scrollFactorX, -n.scrollY * e.scrollFactorY), h.e = e.x, h.f = e.y) : (h.e -= n.scrollX * e.scrollFactorX, h.f -= n.scrollY * e.scrollFactorY), a.multiply(h, l); var u, c, d, f, p, g, v, m, y, x = e.width, w = e.height, T = x / 2, b = x / e.projection, S = n.alpha * e.alpha; e.isFilled && (e.showTop && (u = i.getTintAppendFloatAlphaAndSwap(e.fillTop, S), c = l.getX(-T, -w), d = l.getY(-T, -w), f = l.getX(0, -b - w), p = l.getY(0, -b - w), g = l.getX(T, -w), v = l.getY(T, -w), m = l.getX(0, b - w), y = l.getY(0, b - w), o.setTexture2D(), o.batchQuad(c, d, f, p, g, v, m, y, 0, 0, 1, 1, u, u, u, u, 2)), e.showLeft && (u = i.getTintAppendFloatAlphaAndSwap(e.fillLeft, S), c = l.getX(-T, 0), d = l.getY(-T, 0), f = l.getX(0, b), p = l.getY(0, b), g = l.getX(0, b - w), v = l.getY(0, b - w), m = l.getX(-T, -w), y = l.getY(-T, -w), o.setTexture2D(), o.batchQuad(c, d, f, p, g, v, m, y, 0, 0, 1, 1, u, u, u, u, 2)), e.showRight && (u = i.getTintAppendFloatAlphaAndSwap(e.fillRight, S), c = l.getX(T, 0), d = l.getY(T, 0), f = l.getX(0, b), p = l.getY(0, b), g = l.getX(0, b - w), v = l.getY(0, b - w), m = l.getX(T, -w), y = l.getY(T, -w), o.setTexture2D(), o.batchQuad(c, d, f, p, g, v, m, y, 0, 0, 1, 1, u, u, u, u, 2))) } })), n.register("4Im19", (function (t, e) { var i = n("Jk7wq"), s = n("csLaZ"); t.exports = function (t, e, n, r, o) { var a = t.currentContext; if (s(t, a, e, r, o) && e.isFilled) { var h = e.width, l = e.height, u = h / 2, c = h / e.projection; e.showTop && (i(a, e, e.fillTop), a.beginPath(), a.moveTo(-u, -l), a.lineTo(0, -c - l), a.lineTo(u, -l), a.lineTo(u, -1), a.lineTo(0, c - 1), a.lineTo(-u, -1), a.lineTo(-u, -l), a.fill()), e.showLeft && (i(a, e, e.fillLeft), a.beginPath(), a.moveTo(-u, 0), a.lineTo(0, c), a.lineTo(0, c - l), a.lineTo(-u, -l), a.lineTo(-u, 0), a.fill()), e.showRight && (i(a, e, e.fillRight), a.beginPath(), a.moveTo(u, 0), a.lineTo(0, c), a.lineTo(0, c - l), a.lineTo(u, -l), a.lineTo(u, 0), a.fill()), a.restore() } } })), n.register("e1XH0", (function (t, e) { var i = n("jwj1g"), s = n("ebEO8"), r = n("6cKpG"), o = new i({ Extends: r, Mixins: [s], initialize: function (t, e, i, s, n, o, a, h, l) { void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === s && (s = 48), void 0 === n && (n = 32), void 0 === o && (o = !1), void 0 === a && (a = 15658734), void 0 === h && (h = 10066329), void 0 === l && (l = 13421772), r.call(this, t, "IsoTriangle", null), this.projection = 4, this.fillTop = a, this.fillLeft = h, this.fillRight = l, this.showTop = !0, this.showLeft = !0, this.showRight = !0, this.isReversed = o, this.isFilled = !0, this.setPosition(e, i), this.setSize(s, n), this.updateDisplayOrigin() }, setProjection: function (t) { return this.projection = t, this }, setReversed: function (t) { return this.isReversed = t, this }, setFaces: function (t, e, i) { return void 0 === t && (t = !0), void 0 === e && (e = !0), void 0 === i && (i = !0), this.showTop = t, this.showLeft = e, this.showRight = i, this }, setFillStyle: function (t, e, i) { return this.fillTop = t, this.fillLeft = e, this.fillRight = i, this.isFilled = !0, this } }); t.exports = o })), n.register("ebEO8", (function (t, e) { var i = n("13GYA"), s = n("13GYA"); i = n("k96iD"), s = n("emE63"), t.exports = { renderWebGL: i, renderCanvas: s } })), n.register("k96iD", (function (t, e) { var i = n("gaO4e"); t.exports = function (t, e, s, n, r) { var o = this.pipeline, a = o._tempMatrix1, h = o._tempMatrix2, l = o._tempMatrix3; t.setPipeline(o), h.applyITRS(e.x, e.y, e.rotation, e.scaleX, e.scaleY), a.copyFrom(n.matrix), r ? (a.multiplyWithOffset(r, -n.scrollX * e.scrollFactorX, -n.scrollY * e.scrollFactorY), h.e = e.x, h.f = e.y) : (h.e -= n.scrollX * e.scrollFactorX, h.f -= n.scrollY * e.scrollFactorY), a.multiply(h, l); var u = e.width, c = e.height, d = u / 2, f = u / e.projection, p = e.isReversed, g = n.alpha * e.alpha; if (e.isFilled) { var v, m, y, x, w, T, b; if (e.showTop && p) { v = i.getTintAppendFloatAlphaAndSwap(e.fillTop, g), m = l.getX(-d, -c), y = l.getY(-d, -c), x = l.getX(0, -f - c), w = l.getY(0, -f - c), T = l.getX(d, -c), b = l.getY(d, -c); var S = l.getX(0, f - c), A = l.getY(0, f - c); o.setTexture2D(), o.batchQuad(m, y, x, w, T, b, S, A, 0, 0, 1, 1, v, v, v, v, 2) } e.showLeft && (v = i.getTintAppendFloatAlphaAndSwap(e.fillLeft, g), p ? (m = l.getX(-d, -c), y = l.getY(-d, -c), x = l.getX(0, f), w = l.getY(0, f), T = l.getX(0, f - c), b = l.getY(0, f - c)) : (m = l.getX(-d, 0), y = l.getY(-d, 0), x = l.getX(0, f), w = l.getY(0, f), T = l.getX(0, f - c), b = l.getY(0, f - c)), o.batchTri(m, y, x, w, T, b, 0, 0, 1, 1, v, v, v, 2)), e.showRight && (v = i.getTintAppendFloatAlphaAndSwap(e.fillRight, g), p ? (m = l.getX(d, -c), y = l.getY(d, -c), x = l.getX(0, f), w = l.getY(0, f), T = l.getX(0, f - c), b = l.getY(0, f - c)) : (m = l.getX(d, 0), y = l.getY(d, 0), x = l.getX(0, f), w = l.getY(0, f), T = l.getX(0, f - c), b = l.getY(0, f - c)), o.setTexture2D(), o.batchTri(m, y, x, w, T, b, 0, 0, 1, 1, v, v, v, 2)) } } })), n.register("emE63", (function (t, e) { var i = n("Jk7wq"), s = n("csLaZ"); t.exports = function (t, e, n, r, o) { var a = t.currentContext; if (s(t, a, e, r, o) && e.isFilled) { var h = e.width, l = e.height, u = h / 2, c = h / e.projection, d = e.isReversed; e.showTop && d && (i(a, e, e.fillTop), a.beginPath(), a.moveTo(-u, -l), a.lineTo(0, -c - l), a.lineTo(u, -l), a.lineTo(0, c - l), a.fill()), e.showLeft && (i(a, e, e.fillLeft), a.beginPath(), d ? (a.moveTo(-u, -l), a.lineTo(0, c), a.lineTo(0, c - l)) : (a.moveTo(-u, 0), a.lineTo(0, c), a.lineTo(0, c - l)), a.fill()), e.showRight && (i(a, e, e.fillRight), a.beginPath(), d ? (a.moveTo(u, -l), a.lineTo(0, c), a.lineTo(0, c - l)) : (a.moveTo(u, 0), a.lineTo(0, c), a.lineTo(0, c - l)), a.fill()), a.restore() } } })), n.register("cW0dL", (function (t, e) { var i = n("jwj1g"), s = n("6cKpG"), r = n("1LRPh"), o = n("47J3k"), a = new i({ Extends: s, Mixins: [o], initialize: function (t, e, i, n, o, a, h, l, u) { void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 0), void 0 === o && (o = 0), void 0 === a && (a = 128), void 0 === h && (h = 0), s.call(this, t, "Line", new r(n, o, a, h)); var c = this.geom.right - this.geom.left, d = this.geom.bottom - this.geom.top; this.lineWidth = 1, this._startWidth = 1, this._endWidth = 1, this.setPosition(e, i), this.setSize(c, d), void 0 !== l && this.setStrokeStyle(1, l, u), this.updateDisplayOrigin() }, setLineWidth: function (t, e) { return void 0 === e && (e = t), this._startWidth = t, this._endWidth = e, this.lineWidth = t, this }, setTo: function (t, e, i, s) { return this.geom.setTo(t, e, i, s), this } }); t.exports = a })), n.register("47J3k", (function (t, e) { var i = n("13GYA"), s = n("13GYA"); i = n("ksL2x"), s = n("jli4L"), t.exports = { renderWebGL: i, renderCanvas: s } })), n.register("ksL2x", (function (t, e) { var i = n("gaO4e"); t.exports = function (t, e, s, n, r) { var o = this.pipeline, a = o._tempMatrix1, h = o._tempMatrix2; t.setPipeline(o), h.applyITRS(e.x, e.y, e.rotation, e.scaleX, e.scaleY), a.copyFrom(n.matrix), r ? (a.multiplyWithOffset(r, -n.scrollX * e.scrollFactorX, -n.scrollY * e.scrollFactorY), h.e = e.x, h.f = e.y) : (h.e -= n.scrollX * e.scrollFactorX, h.f -= n.scrollY * e.scrollFactorY); var l = e._displayOriginX, u = e._displayOriginY, c = n.alpha * e.alpha; if (e.isStroked) { var d = o.strokeTint, f = i.getTintAppendFloatAlphaAndSwap(e.strokeColor, e.strokeAlpha * c); d.TL = f, d.TR = f, d.BL = f, d.BR = f; var p = e._startWidth, g = e._endWidth; o.setTexture2D(), o.batchLine(e.geom.x1 - l, e.geom.y1 - u, e.geom.x2 - l, e.geom.y2 - u, p, g, 1, 0, !1, h, a) } } })), n.register("jli4L", (function (t, e) { var i = n("jNDrF"), s = n("csLaZ"); t.exports = function (t, e, n, r, o) { var a = t.currentContext; if (s(t, a, e, r, o)) { var h = e._displayOriginX, l = e._displayOriginY; e.isStroked && (i(a, e), a.beginPath(), a.moveTo(e.geom.x1 - h, e.geom.y1 - l), a.lineTo(e.geom.x2 - h, e.geom.y2 - l), a.stroke()), a.restore() } } })), n.register("4HMPS", (function (t, e) { var i = n("gtAef"), s = n("jwj1g"), r = n("hjbjS"), o = n("hF14a"), a = n("7cxCo"), h = n("6cKpG"), l = n("6FcU2"), u = new s({ Extends: h, Mixins: [i], initialize: function (t, e, i, s, n, r) { void 0 === e && (e = 0), void 0 === i && (i = 0), h.call(this, t, "Polygon", new a(s)); var l = o(this.geom); this.setPosition(e, i), this.setSize(l.width, l.height), void 0 !== n && this.setFillStyle(n, r), this.updateDisplayOrigin(), this.updateData() }, smooth: function (t) { void 0 === t && (t = 1); for (var e = 0; e < t; e++)l(this.geom); return this.updateData() }, updateData: function () { for (var t = [], e = this.geom.points, i = 0; i < e.length; i++)t.push(e[i].x, e[i].y); return t.push(e[0].x, e[0].y), this.pathIndexes = r(t), this.pathData = t, this } }); t.exports = u })), n.register("gtAef", (function (t, e) { var i = n("13GYA"), s = n("13GYA"); i = n("740Mg"), s = n("l8jYW"), t.exports = { renderWebGL: i, renderCanvas: s } })), n.register("740Mg", (function (t, e) { var i = n("73AUV"), s = n("ythtQ"); t.exports = function (t, e, n, r, o) { var a = this.pipeline, h = a._tempMatrix1, l = a._tempMatrix2, u = a._tempMatrix3; t.setPipeline(a), l.applyITRS(e.x, e.y, e.rotation, e.scaleX, e.scaleY), h.copyFrom(r.matrix), o ? (h.multiplyWithOffset(o, -r.scrollX * e.scrollFactorX, -r.scrollY * e.scrollFactorY), l.e = e.x, l.f = e.y) : (l.e -= r.scrollX * e.scrollFactorX, l.f -= r.scrollY * e.scrollFactorY), h.multiply(l, u); var c = e._displayOriginX, d = e._displayOriginY, f = r.alpha * e.alpha; e.isFilled && i(a, u, e, f, c, d), e.isStroked && s(a, e, f, c, d) } })), n.register("l8jYW", (function (t, e) { var i = n("Jk7wq"), s = n("jNDrF"), r = n("csLaZ"); t.exports = function (t, e, n, o, a) { var h = t.currentContext; if (r(t, h, e, o, a)) { var l = e._displayOriginX, u = e._displayOriginY, c = e.pathData, d = c.length - 1, f = c[0] - l, p = c[1] - u; h.beginPath(), h.moveTo(f, p), e.closePath || (d -= 2); for (var g = 2; g < d; g += 2) { var v = c[g] - l, m = c[g + 1] - u; h.lineTo(v, m) } h.closePath(), e.isFilled && (i(h, e), h.fill()), e.isStroked && (s(h, e), h.stroke()), h.restore() } } })), n.register("hF14a", (function (t, e) { var i = n("cwr8X"); t.exports = function (t, e) { void 0 === e && (e = new i); for (var s, n = 1 / 0, r = 1 / 0, o = -n, a = -r, h = 0; h < t.points.length; h++)s = t.points[h], n = Math.min(n, s.x), r = Math.min(r, s.y), o = Math.max(o, s.x), a = Math.max(a, s.y); return e.x = n, e.y = r, e.width = o - n, e.height = a - r, e } })), n.register("7cxCo", (function (t, e) { var i = n("jwj1g"), s = n("ivFeg"), r = n("gU0SF"), o = n("gZ2BZ"), a = new i({ initialize: function (t) { this.type = o.POLYGON, this.area = 0, this.points = [], t && this.setTo(t) }, contains: function (t, e) { return s(this, t, e) }, setTo: function (t) { if (this.area = 0, this.points = [], "string" == typeof t && (t = t.split(" ")), !Array.isArray(t)) return this; for (var e, i = Number.MAX_VALUE, s = 0; s < t.length; s++)e = { x: 0, y: 0 }, "number" == typeof t[s] || "string" == typeof t[s] ? (e.x = parseFloat(t[s]), e.y = parseFloat(t[s + 1]), s++) : Array.isArray(t[s]) ? (e.x = t[s][0], e.y = t[s][1]) : (e.x = t[s].x, e.y = t[s].y), this.points.push(e), e.y < i && (i = e.y); return this.calculateArea(i), this }, calculateArea: function () { if (this.points.length < 3) return this.area = 0, this.area; for (var t, e, i = 0, s = 0; s < this.points.length - 1; s++)t = this.points[s], i += ((e = this.points[s + 1]).x - t.x) * (t.y + e.y); return t = this.points[0], e = this.points[this.points.length - 1], i += (t.x - e.x) * (e.y + t.y), this.area = .5 * -i, this.area }, getPoints: function (t, e, i) { return r(this, t, e, i) } }); t.exports = a })), n.register("ivFeg", (function (t, e) { t.exports = function (t, e, i) { for (var s = !1, n = -1, r = t.points.length - 1; ++n < t.points.length; r = n) { var o = t.points[n].x, a = t.points[n].y, h = t.points[r].x, l = t.points[r].y; (a <= i && i < l || l <= i && i < a) && e < (h - o) * (i - a) / (l - a) + o && (s = !s) } return s } })), n.register("gU0SF", (function (t, e) { var i = n("7Smss"), s = n("1LRPh"), r = n("dKsEw"); t.exports = function (t, e, n, o) { void 0 === o && (o = []); var a = t.points, h = r(t); e || (e = h / n); for (var l = 0; l < e; l++)for (var u = h * (l / e), c = 0, d = 0; d < a.length; d++) { var f = a[d], p = a[(d + 1) % a.length], g = new s(f.x, f.y, p.x, p.y), v = i(g); if (!(u < c || u > c + v)) { var m = g.getPoint((u - c) / v); o.push(m); break } c += v } return o } })), n.register("dKsEw", (function (t, e) { var i = n("7Smss"), s = n("1LRPh"); t.exports = function (t) { for (var e = t.points, n = 0, r = 0; r < e.length; r++) { var o = e[r], a = e[(r + 1) % e.length], h = new s(o.x, o.y, a.x, a.y); n += i(h) } return n } })), n.register("6FcU2", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    var i = function (t, e) { return t[0] = e[0], t[1] = e[1], t }; t.exports = function (t) { var e, s = [], n = t.points; for (e = 0; e < n.length; e++)s.push([n[e].x, n[e].y]); var r = []; for (s.length > 0 && r.push(i([0, 0], s[0])), e = 0; e < s.length - 1; e++) { var o = s[e], a = s[e + 1], h = o[0], l = o[1], u = a[0], c = a[1]; r.push([.85 * h + .15 * u, .85 * l + .15 * c]), r.push([.15 * h + .85 * u, .15 * l + .85 * c]) } return s.length > 1 && r.push(i([0, 0], s[s.length - 1])), t.setTo(r) }
})), n.register("gGVmO", (function (t, e) { var i = n("jwj1g"), s = n("cwr8X"), r = n("6cKpG"), o = n("44cxW"), a = new i({ Extends: r, Mixins: [o], initialize: function (t, e, i, n, o, a, h) { void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 128), void 0 === o && (o = 128), r.call(this, t, "Rectangle", new s(0, 0, n, o)), this.setPosition(e, i), this.setSize(n, o), void 0 !== a && this.setFillStyle(a, h), this.updateDisplayOrigin(), this.updateData() }, updateData: function () { var t = [], e = this.geom, i = this._tempLine; return e.getLineA(i), t.push(i.x1, i.y1, i.x2, i.y2), e.getLineB(i), t.push(i.x2, i.y2), e.getLineC(i), t.push(i.x2, i.y2), e.getLineD(i), t.push(i.x2, i.y2), this.pathData = t, this } }); t.exports = a })), n.register("44cxW", (function (t, e) { var i = n("13GYA"), s = n("13GYA"); i = n("3XWuA"), s = n("8BcBI"), t.exports = { renderWebGL: i, renderCanvas: s } })), n.register("3XWuA", (function (t, e) { var i = n("ythtQ"), s = n("gaO4e"); t.exports = function (t, e, n, r, o) { var a = this.pipeline, h = a._tempMatrix1, l = a._tempMatrix2, u = a._tempMatrix3; t.setPipeline(a), l.applyITRS(e.x, e.y, e.rotation, e.scaleX, e.scaleY), h.copyFrom(r.matrix), o ? (h.multiplyWithOffset(o, -r.scrollX * e.scrollFactorX, -r.scrollY * e.scrollFactorY), l.e = e.x, l.f = e.y) : (l.e -= r.scrollX * e.scrollFactorX, l.f -= r.scrollY * e.scrollFactorY), h.multiply(l, u); var c = e._displayOriginX, d = e._displayOriginY, f = r.alpha * e.alpha; if (e.isFilled) { var p = a.fillTint, g = s.getTintAppendFloatAlphaAndSwap(e.fillColor, e.fillAlpha * f); p.TL = g, p.TR = g, p.BL = g, p.BR = g, a.setTexture2D(), a.batchFillRect(-c, -d, e.width, e.height) } e.isStroked && i(a, e, f, c, d) } })), n.register("8BcBI", (function (t, e) { var i = n("Jk7wq"), s = n("jNDrF"), r = n("csLaZ"); t.exports = function (t, e, n, o, a) { var h = t.currentContext; if (r(t, h, e, o, a)) { var l = e._displayOriginX, u = e._displayOriginY; e.isFilled && (i(h, e), h.fillRect(-l, -u, e.width, e.height)), e.isStroked && (s(h, e), h.beginPath(), h.rect(-l, -u, e.width, e.height), h.stroke()), h.restore() } } })), n.register("lemMU", (function (t, e) { var i = n("1xhT6"), s = n("jwj1g"), r = n("hjbjS"), o = n("6cKpG"), a = new s({ Extends: o, Mixins: [i], initialize: function (t, e, i, s, n, r, a, h) { void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === s && (s = 5), void 0 === n && (n = 32), void 0 === r && (r = 64), o.call(this, t, "Star", null), this._points = s, this._innerRadius = n, this._outerRadius = r, this.setPosition(e, i), this.setSize(2 * r, 2 * r), void 0 !== a && this.setFillStyle(a, h), this.updateDisplayOrigin(), this.updateData() }, setPoints: function (t) { return this._points = t, this.updateData() }, setInnerRadius: function (t) { return this._innerRadius = t, this.updateData() }, setOuterRadius: function (t) { return this._outerRadius = t, this.updateData() }, points: { get: function () { return this._points }, set: function (t) { this._points = t, this.updateData() } }, innerRadius: { get: function () { return this._innerRadius }, set: function (t) { this._innerRadius = t, this.updateData() } }, outerRadius: { get: function () { return this._outerRadius }, set: function (t) { this._outerRadius = t, this.updateData() } }, updateData: function () { var t = [], e = this._points, i = this._innerRadius, s = this._outerRadius, n = Math.PI / 2 * 3, o = Math.PI / e, a = s, h = s; t.push(a, h + -s); for (var l = 0; l < e; l++)t.push(a + Math.cos(n) * s, h + Math.sin(n) * s), n += o, t.push(a + Math.cos(n) * i, h + Math.sin(n) * i), n += o; return t.push(a, h + -s), this.pathIndexes = r(t), this.pathData = t, this } }); t.exports = a })), n.register("1xhT6", (function (t, e) { var i = n("13GYA"), s = n("13GYA"); i = n("hVc6g"), s = n("47EX2"), t.exports = { renderWebGL: i, renderCanvas: s } })), n.register("hVc6g", (function (t, e) { var i = n("73AUV"), s = n("ythtQ"); t.exports = function (t, e, n, r, o) { var a = this.pipeline, h = a._tempMatrix1, l = a._tempMatrix2, u = a._tempMatrix3; t.setPipeline(a), l.applyITRS(e.x, e.y, e.rotation, e.scaleX, e.scaleY), h.copyFrom(r.matrix), o ? (h.multiplyWithOffset(o, -r.scrollX * e.scrollFactorX, -r.scrollY * e.scrollFactorY), l.e = e.x, l.f = e.y) : (l.e -= r.scrollX * e.scrollFactorX, l.f -= r.scrollY * e.scrollFactorY), h.multiply(l, u); var c = e._displayOriginX, d = e._displayOriginY, f = r.alpha * e.alpha; e.isFilled && i(a, u, e, f, c, d), e.isStroked && s(a, e, f, c, d) } })), n.register("47EX2", (function (t, e) { var i = n("Jk7wq"), s = n("jNDrF"), r = n("csLaZ"); t.exports = function (t, e, n, o, a) { var h = t.currentContext; if (r(t, h, e, o, a)) { var l = e._displayOriginX, u = e._displayOriginY, c = e.pathData, d = c.length - 1, f = c[0] - l, p = c[1] - u; h.beginPath(), h.moveTo(f, p), e.closePath || (d -= 2); for (var g = 2; g < d; g += 2) { var v = c[g] - l, m = c[g + 1] - u; h.lineTo(v, m) } h.closePath(), e.isFilled && (i(h, e), h.fill()), e.isStroked && (s(h, e), h.stroke()), h.restore() } } })), n.register("b6DRH", (function (t, e) { var i = n("jwj1g"), s = n("6cKpG"), r = n("1TF8x"), o = n("dbjo1"), a = new i({ Extends: s, Mixins: [o], initialize: function (t, e, i, n, o, a, h, l, u, c, d) { void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 0), void 0 === o && (o = 128), void 0 === a && (a = 64), void 0 === h && (h = 0), void 0 === l && (l = 128), void 0 === u && (u = 128), s.call(this, t, "Triangle", new r(n, o, a, h, l, u)); var f = this.geom.right - this.geom.left, p = this.geom.bottom - this.geom.top; this.setPosition(e, i), this.setSize(f, p), void 0 !== c && this.setFillStyle(c, d), this.updateDisplayOrigin(), this.updateData() }, setTo: function (t, e, i, s, n, r) { return this.geom.setTo(t, e, i, s, n, r), this.updateData() }, updateData: function () { var t = [], e = this.geom, i = this._tempLine; return e.getLineA(i), t.push(i.x1, i.y1, i.x2, i.y2), e.getLineB(i), t.push(i.x2, i.y2), e.getLineC(i), t.push(i.x2, i.y2), this.pathData = t, this } }); t.exports = a })), n.register("1TF8x", (function (t, e) { var i = n("jwj1g"), s = n("7e4Vb"), r = n("dzuyF"), o = n("50jzU"), a = n("gZ2BZ"), h = n("1LRPh"), l = n("2MADn"), u = new i({ initialize: function (t, e, i, s, n, r) { void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === s && (s = 0), void 0 === n && (n = 0), void 0 === r && (r = 0), this.type = a.TRIANGLE, this.x1 = t, this.y1 = e, this.x2 = i, this.y2 = s, this.x3 = n, this.y3 = r }, contains: function (t, e) { return s(this, t, e) }, getPoint: function (t, e) { return r(this, t, e) }, getPoints: function (t, e, i) { return o(this, t, e, i) }, getRandomPoint: function (t) { return l(this, t) }, setTo: function (t, e, i, s, n, r) { return void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === s && (s = 0), void 0 === n && (n = 0), void 0 === r && (r = 0), this.x1 = t, this.y1 = e, this.x2 = i, this.y2 = s, this.x3 = n, this.y3 = r, this }, getLineA: function (t) { return void 0 === t && (t = new h), t.setTo(this.x1, this.y1, this.x2, this.y2), t }, getLineB: function (t) { return void 0 === t && (t = new h), t.setTo(this.x2, this.y2, this.x3, this.y3), t }, getLineC: function (t) { return void 0 === t && (t = new h), t.setTo(this.x3, this.y3, this.x1, this.y1), t }, left: { get: function () { return Math.min(this.x1, this.x2, this.x3) }, set: function (t) { var e = 0; e = this.x1 <= this.x2 && this.x1 <= this.x3 ? this.x1 - t : this.x2 <= this.x1 && this.x2 <= this.x3 ? this.x2 - t : this.x3 - t, this.x1 -= e, this.x2 -= e, this.x3 -= e } }, right: { get: function () { return Math.max(this.x1, this.x2, this.x3) }, set: function (t) { var e = 0; e = this.x1 >= this.x2 && this.x1 >= this.x3 ? this.x1 - t : this.x2 >= this.x1 && this.x2 >= this.x3 ? this.x2 - t : this.x3 - t, this.x1 -= e, this.x2 -= e, this.x3 -= e } }, top: { get: function () { return Math.min(this.y1, this.y2, this.y3) }, set: function (t) { var e = 0; e = this.y1 <= this.y2 && this.y1 <= this.y3 ? this.y1 - t : this.y2 <= this.y1 && this.y2 <= this.y3 ? this.y2 - t : this.y3 - t, this.y1 -= e, this.y2 -= e, this.y3 -= e } }, bottom: { get: function () { return Math.max(this.y1, this.y2, this.y3) }, set: function (t) { var e = 0; e = this.y1 >= this.y2 && this.y1 >= this.y3 ? this.y1 - t : this.y2 >= this.y1 && this.y2 >= this.y3 ? this.y2 - t : this.y3 - t, this.y1 -= e, this.y2 -= e, this.y3 -= e } } }); t.exports = u })), n.register("7e4Vb", (function (t, e) { t.exports = function (t, e, i) { var s = t.x3 - t.x1, n = t.y3 - t.y1, r = t.x2 - t.x1, o = t.y2 - t.y1, a = e - t.x1, h = i - t.y1, l = s * s + n * n, u = s * r + n * o, c = s * a + n * h, d = r * r + o * o, f = r * a + o * h, p = l * d - u * u, g = 0 === p ? 0 : 1 / p, v = (d * c - u * f) * g, m = (l * f - u * c) * g; return v >= 0 && m >= 0 && v + m < 1 } })), n.register("dzuyF", (function (t, e) { var i = n("cSEB9"), s = n("7Smss"); t.exports = function (t, e, n) { void 0 === n && (n = new i); var r = t.getLineA(), o = t.getLineB(), a = t.getLineC(); if (e <= 0 || e >= 1) return n.x = r.x1, n.y = r.y1, n; var h = s(r), l = s(o), u = s(a), c = (h + l + u) * e, d = 0; return c < h ? (d = c / h, n.x = r.x1 + (r.x2 - r.x1) * d, n.y = r.y1 + (r.y2 - r.y1) * d) : c > h + l ? (d = (c -= h + l) / u, n.x = a.x1 + (a.x2 - a.x1) * d, n.y = a.y1 + (a.y2 - a.y1) * d) : (d = (c -= h) / l, n.x = o.x1 + (o.x2 - o.x1) * d, n.y = o.y1 + (o.y2 - o.y1) * d), n } })), n.register("50jzU", (function (t, e) { var i = n("7Smss"), s = n("cSEB9"); t.exports = function (t, e, n, r) { void 0 === r && (r = []); var o = t.getLineA(), a = t.getLineB(), h = t.getLineC(), l = i(o), u = i(a), c = i(h), d = l + u + c; e || (e = d / n); for (var f = 0; f < e; f++) { var p = d * (f / e), g = 0, v = new s; p < l ? (g = p / l, v.x = o.x1 + (o.x2 - o.x1) * g, v.y = o.y1 + (o.y2 - o.y1) * g) : p > l + u ? (g = (p -= l + u) / c, v.x = h.x1 + (h.x2 - h.x1) * g, v.y = h.y1 + (h.y2 - h.y1) * g) : (g = (p -= l) / u, v.x = a.x1 + (a.x2 - a.x1) * g, v.y = a.y1 + (a.y2 - a.y1) * g), r.push(v) } return r } })), n.register("dbjo1", (function (t, e) { var i = n("13GYA"), s = n("13GYA"); i = n("1L5sv"), s = n("egkoU"), t.exports = { renderWebGL: i, renderCanvas: s } })), n.register("1L5sv", (function (t, e) { var i = n("ythtQ"), s = n("gaO4e"); t.exports = function (t, e, n, r, o) { var a = this.pipeline, h = a._tempMatrix1, l = a._tempMatrix2, u = a._tempMatrix3; t.setPipeline(a), l.applyITRS(e.x, e.y, e.rotation, e.scaleX, e.scaleY), h.copyFrom(r.matrix), o ? (h.multiplyWithOffset(o, -r.scrollX * e.scrollFactorX, -r.scrollY * e.scrollFactorY), l.e = e.x, l.f = e.y) : (l.e -= r.scrollX * e.scrollFactorX, l.f -= r.scrollY * e.scrollFactorY), h.multiply(l, u); var c = e._displayOriginX, d = e._displayOriginY, f = r.alpha * e.alpha; if (e.isFilled) { var p = a.fillTint, g = s.getTintAppendFloatAlphaAndSwap(e.fillColor, e.fillAlpha * f); p.TL = g, p.TR = g, p.BL = g, p.BR = g; var v = e.geom.x1 - c, m = e.geom.y1 - d, y = e.geom.x2 - c, x = e.geom.y2 - d, w = e.geom.x3 - c, T = e.geom.y3 - d; a.setTexture2D(), a.batchFillTriangle(v, m, y, x, w, T, l, h) } e.isStroked && i(a, e, f, c, d) } })), n.register("egkoU", (function (t, e) { var i = n("Jk7wq"), s = n("jNDrF"), r = n("csLaZ"); t.exports = function (t, e, n, o, a) { var h = t.currentContext; if (r(t, h, e, o, a)) { var l = e._displayOriginX, u = e._displayOriginY, c = e.geom.x1 - l, d = e.geom.y1 - u, f = e.geom.x2 - l, p = e.geom.y2 - u, g = e.geom.x3 - l, v = e.geom.y3 - u; h.beginPath(), h.moveTo(c, d), h.lineTo(f, p), h.lineTo(g, v), h.closePath(), e.isFilled && (i(h, e), h.fill()), e.isStroked && (s(h, e), h.stroke()), h.restore() } } })), n.register("i3l6S", (function (t, e) { var i = n("2cD2D"); n("kge7H").register("blitter", (function (t, e, s, n) { return this.displayList.add(new i(this.scene, t, e, s, n)) })) })), n.register("gE6ET", (function (t, e) { var i = n("ixgBh"); n("kge7H").register("container", (function (t, e, s) { return this.displayList.add(new i(this.scene, t, e, s)) })) })), n.register("ghXwl", (function (t, e) { var i = n("gZAGH"); n("kge7H").register("dom", (function (t, e, s, n, r) { var o = new i(this.scene, t, e, s, n, r); return this.displayList.add(o), this.updateList.add(o), o })) })), n.register("pLPkQ", (function (t, e) { var i = n("5soSO"); n("kge7H").register("dynamicBitmapText", (function (t, e, s, n, r) { return this.displayList.add(new i(this.scene, t, e, s, n, r)) })) })), n.register("3f2P6", (function (t, e) { var i = n("9I9TZ"); n("kge7H").register("extern", (function () { var t = new i(this.scene); return this.displayList.add(t), this.updateList.add(t), t })) })), n.register("5tfzZ", (function (t, e) { var i = n("2Irqj"); n("kge7H").register("graphics", (function (t) { return this.displayList.add(new i(this.scene, t)) })) })), n.register("knm1M", (function (t, e) { var i = n("hDBsd"); n("kge7H").register("group", (function (t, e) { return this.updateList.add(new i(this.scene, t, e)) })) })), n.register("dI5N4", (function (t, e) { var i = n("8qGvv"); n("kge7H").register("image", (function (t, e, s, n) { return this.displayList.add(new i(this.scene, t, e, s, n)) })) })), n.register("fgDAM", (function (t, e) { var i = n("kge7H"), s = n("fnOwf"); i.register("particles", (function (t, e, i) { var n = new s(this.scene, t, e, i); return this.displayList.add(n), this.updateList.add(n), n })) })), n.register("iE8dp", (function (t, e) { var i = n("kge7H"), s = n("75mFg"); i.register("follower", (function (t, e, i, n, r) { var o = new s(this.scene, t, e, i, n, r); return this.displayList.add(o), this.updateList.add(o), o })) })), n.register("60zoM", (function (t, e) { var i = n("kge7H"), s = n("iCX4n"); i.register("renderTexture", (function (t, e, i, n, r, o) { return this.displayList.add(new s(this.scene, t, e, i, n, r, o)) })) })), n.register("5SbTm", (function (t, e) { var i = n("kge7H"), s = n("gXuc8"); i.register("sprite", (function (t, e, i, n) { var r = new s(this.scene, t, e, i, n); return this.displayList.add(r), this.updateList.add(r), r })) })), n.register("iv8Vm", (function (t, e) { var i = n("gvPR8"); n("kge7H").register("bitmapText", (function (t, e, s, n, r, o) { return this.displayList.add(new i(this.scene, t, e, s, n, r, o)) })) })), n.register("8BYGq", (function (t, e) { var i = n("1jO0s"); n("kge7H").register("text", (function (t, e, s, n) { return this.displayList.add(new i(this.scene, t, e, s, n)) })) })), n.register("ivPvd", (function (t, e) { var i = n("kwyUq"); n("kge7H").register("tileSprite", (function (t, e, s, n, r, o) { return this.displayList.add(new i(this.scene, t, e, s, n, r, o)) })) })), n.register("6HUvG", (function (t, e) { var i = n("dZGDG"); n("kge7H").register("zone", (function (t, e, s, n) { return this.displayList.add(new i(this.scene, t, e, s, n)) })) })), n.register("aFn2V", (function (t, e) { var i = n("Cfqdl"); n("kge7H").register("video", (function (t, e, s) { var n = new i(this.scene, t, e, s); return this.displayList.add(n), this.updateList.add(n), n })) })), n.register("kh6qR", (function (t, e) { var i = n("ab6uD"), s = n("kge7H"); s.register("arc", (function (t, e, s, n, r, o, a, h) { return this.displayList.add(new i(this.scene, t, e, s, n, r, o, a, h)) })), s.register("circle", (function (t, e, s, n, r) { return this.displayList.add(new i(this.scene, t, e, s, 0, 360, !1, n, r)) })) })), n.register("kVr0M", (function (t, e) { var i = n("kge7H"), s = n("20vs1"); i.register("curve", (function (t, e, i, n, r) { return this.displayList.add(new s(this.scene, t, e, i, n, r)) })) })), n.register("1f8NL", (function (t, e) { var i = n("i1Pn1"); n("kge7H").register("ellipse", (function (t, e, s, n, r, o) { return this.displayList.add(new i(this.scene, t, e, s, n, r, o)) })) })), n.register("kJGm5", (function (t, e) { var i = n("kge7H"), s = n("3qA3v"); i.register("grid", (function (t, e, i, n, r, o, a, h, l, u) { return this.displayList.add(new s(this.scene, t, e, i, n, r, o, a, h, l, u)) })) })), n.register("4MiAm", (function (t, e) { var i = n("kge7H"), s = n("ibqbn"); i.register("isobox", (function (t, e, i, n, r, o, a) { return this.displayList.add(new s(this.scene, t, e, i, n, r, o, a)) })) })), n.register("5wABL", (function (t, e) { var i = n("kge7H"), s = n("e1XH0"); i.register("isotriangle", (function (t, e, i, n, r, o, a, h) { return this.displayList.add(new s(this.scene, t, e, i, n, r, o, a, h)) })) })), n.register("jyuVH", (function (t, e) { var i = n("kge7H"), s = n("cW0dL"); i.register("line", (function (t, e, i, n, r, o, a, h) { return this.displayList.add(new s(this.scene, t, e, i, n, r, o, a, h)) })) })), n.register("1dcev", (function (t, e) { var i = n("kge7H"), s = n("4HMPS"); i.register("polygon", (function (t, e, i, n, r) { return this.displayList.add(new s(this.scene, t, e, i, n, r)) })) })), n.register("9pPj8", (function (t, e) { var i = n("kge7H"), s = n("gGVmO"); i.register("rectangle", (function (t, e, i, n, r, o) { return this.displayList.add(new s(this.scene, t, e, i, n, r, o)) })) })), n.register("7gJso", (function (t, e) { var i = n("lemMU"); n("kge7H").register("star", (function (t, e, s, n, r, o, a) { return this.displayList.add(new i(this.scene, t, e, s, n, r, o, a)) })) })), n.register("dhc8H", (function (t, e) { var i = n("kge7H"), s = n("b6DRH"); i.register("triangle", (function (t, e, i, n, r, o, a, h, l, u) { return this.displayList.add(new s(this.scene, t, e, i, n, r, o, a, h, l, u)) })) })), n.register("hS4bP", (function (t, e) { var i = n("2cD2D"), s = n("i9cSP"), r = n("ebQQp"), o = n("cSaNN"); r.register("blitter", (function (t, e) { void 0 === t && (t = {}); var n = o(t, "key", null), r = o(t, "frame", null), a = new i(this.scene, 0, 0, n, r); return void 0 !== e && (t.add = e), s(this.scene, a, t), a })) })), n.register("azfIw", (function (t, e) { var i = n("i9cSP"), s = n("ixgBh"), r = n("ebQQp"), o = n("cSaNN"); r.register("container", (function (t, e) { void 0 === t && (t = {}); var n = o(t, "x", 0), r = o(t, "y", 0), a = new s(this.scene, n, r); return void 0 !== e && (t.add = e), i(this.scene, a, t), a })) })), n.register("aQ5a3", (function (t, e) { var i = n("5soSO"), s = n("i9cSP"), r = n("ebQQp"), o = n("cSaNN"); r.register("dynamicBitmapText", (function (t, e) { void 0 === t && (t = {}); var n = o(t, "font", ""), r = o(t, "text", ""), a = o(t, "size", !1), h = new i(this.scene, 0, 0, n, r, a); return void 0 !== e && (t.add = e), s(this.scene, h, t), h })) })), n.register("aSOvl", (function (t, e) { var i = n("ebQQp"), s = n("2Irqj"); i.register("graphics", (function (t, e) { void 0 === t && (t = {}), void 0 !== e && (t.add = e); var i = new s(this.scene, t); return t.add && this.scene.sys.displayList.add(i), i })) })), n.register("kteFs", (function (t, e) { var i = n("ebQQp"), s = n("hDBsd"); i.register("group", (function (t) { return new s(this.scene, null, t) })) })), n.register("978g9", (function (t, e) { var i = n("i9cSP"), s = n("ebQQp"), r = n("cSaNN"), o = n("8qGvv"); s.register("image", (function (t, e) { void 0 === t && (t = {}); var s = r(t, "key", null), n = r(t, "frame", null), a = new o(this.scene, 0, 0, s, n); return void 0 !== e && (t.add = e), i(this.scene, a, t), a })) })), n.register("k6UHi", (function (t, e) { var i = n("ebQQp"), s = n("cSaNN"), r = n("7BSWl"), o = n("fnOwf"); i.register("particles", (function (t, e) { void 0 === t && (t = {}); var i = s(t, "key", null), n = s(t, "frame", null), a = r(t, "emitters", null), h = new o(this.scene, i, n, a); return void 0 !== e && (t.add = e), r(t, "add", !1) && this.displayList.add(h), this.updateList.add(h), h })) })), n.register("fc299", (function (t, e) { var i = n("i9cSP"), s = n("ebQQp"), r = n("cSaNN"), o = n("iCX4n"); s.register("renderTexture", (function (t, e) { void 0 === t && (t = {}); var s = r(t, "x", 0), n = r(t, "y", 0), a = r(t, "width", 32), h = r(t, "height", 32), l = r(t, "key", void 0), u = r(t, "frame", void 0), c = new o(this.scene, s, n, a, h, l, u); return void 0 !== e && (t.add = e), i(this.scene, c, t), c })) })), n.register("jEuMc", (function (t, e) { var i = n("i9cSP"), s = n("cDuAM"), r = n("ebQQp"), o = n("cSaNN"), a = n("gXuc8"); r.register("sprite", (function (t, e) { void 0 === t && (t = {}); var n = o(t, "key", null), r = o(t, "frame", null), h = new a(this.scene, 0, 0, n, r); return void 0 !== e && (t.add = e), i(this.scene, h, t), s(h, t), h })) })), n.register("k8onx", (function (t, e) { var i = n("gvPR8"), s = n("i9cSP"), r = n("ebQQp"), o = n("cSaNN"), a = n("5pMDk"); r.register("bitmapText", (function (t, e) { void 0 === t && (t = {}); var n = a(t, "font", ""), r = o(t, "text", ""), h = o(t, "size", !1), l = a(t, "align", 0), u = new i(this.scene, 0, 0, n, r, h, l); return void 0 !== e && (t.add = e), s(this.scene, u, t), u })) })), n.register("ejLtj", (function (t, e) { var i = n("i9cSP"), s = n("ebQQp"), r = n("cSaNN"), o = n("1jO0s"); s.register("text", (function (t, e) { void 0 === t && (t = {}); var s = r(t, "text", ""), n = r(t, "style", null), a = r(t, "padding", null); null !== a && (n.padding = a); var h = new o(this.scene, 0, 0, s, n); return void 0 !== e && (t.add = e), i(this.scene, h, t), h.autoRound = r(t, "autoRound", !0), h.resolution = r(t, "resolution", 1), h })) })), n.register("4wQ0d", (function (t, e) { var i = n("i9cSP"), s = n("ebQQp"), r = n("cSaNN"), o = n("kwyUq"); s.register("tileSprite", (function (t, e) { void 0 === t && (t = {}); var s = r(t, "x", 0), n = r(t, "y", 0), a = r(t, "width", 512), h = r(t, "height", 512), l = r(t, "key", ""), u = r(t, "frame", ""), c = new o(this.scene, s, n, a, h, l, u); return void 0 !== e && (t.add = e), i(this.scene, c, t), c })) })), n.register("1Uncu", (function (t, e) { var i = n("ebQQp"), s = n("cSaNN"), r = n("dZGDG"); i.register("zone", (function (t) { var e = s(t, "x", 0), i = s(t, "y", 0), n = s(t, "width", 1), o = s(t, "height", n); return new r(this.scene, e, i, n, o) })) })), n.register("3HD58", (function (t, e) { var i = n("i9cSP"), s = n("ebQQp"), r = n("cSaNN"), o = n("Cfqdl"); s.register("video", (function (t, e) { void 0 === t && (t = {}); var s = r(t, "key", null), n = new o(this.scene, 0, 0, s); return void 0 !== e && (t.add = e), i(this.scene, n, t), n })) })), n.register("3JO7H", (function (t, e) { var i = n("jwj1g"), s = n("4FF1v"), r = n("1zqlR"), o = n("9Vhyt"), a = n("13GYA"), h = new i({ Extends: r, Mixins: [s.BlendMode, s.Depth, s.Mask, s.Pipeline, s.Size, s.Texture, s.Transform, s.Visible, s.ScrollFactor, o], initialize: function (t, e, i, s, n, o, a, h, l) { if (r.call(this, t, "Mesh"), s.length !== n.length) throw new Error("Mesh Vertex count must match UV count"); var u, c = s.length / 2 | 0; if (o.length > 0 && o.length < c) throw new Error("Mesh Color count must match Vertex count"); if (a.length > 0 && a.length < c) throw new Error("Mesh Alpha count must match Vertex count"); if (0 === o.length) for (u = 0; u < c; ++u)o[u] = 16777215; if (0 === a.length) for (u = 0; u < c; ++u)a[u] = 1; this.vertices = new Float32Array(s), this.uv = new Float32Array(n), this.colors = new Uint32Array(o), this.alphas = new Float32Array(a), this.tintFill = !1, this.setTexture(h, l), this.setPosition(e, i), this.setSizeToFrame(), this.initPipeline() }, setAlpha: a }); t.exports = h })), n.register("9Vhyt", (function (t, e) { var i = n("13GYA"), s = n("13GYA"); i = n("ksO5X"), s = n("8CzV0"), t.exports = { renderWebGL: i, renderCanvas: s } })), n.register("ksO5X", (function (t, e) { var i = n("gaO4e"); t.exports = function (t, e, s, n, r) { var o = this.pipeline; t.setPipeline(o, e); var a = o._tempMatrix1, h = o._tempMatrix2, l = o._tempMatrix3; h.applyITRS(e.x, e.y, e.rotation, e.scaleX, e.scaleY), a.copyFrom(n.matrix), r ? (a.multiplyWithOffset(r, -n.scrollX * e.scrollFactorX, -n.scrollY * e.scrollFactorY), h.e = e.x, h.f = e.y, a.multiply(h, l)) : (h.e -= n.scrollX * e.scrollFactorX, h.f -= n.scrollY * e.scrollFactorY, a.multiply(h, l)); var u = e.frame.glTexture, c = e.vertices, d = e.uv, f = e.colors, p = e.alphas, g = c.length, v = Math.floor(.5 * g); o.vertexCount + v > o.vertexCapacity && o.flush(), o.setTexture2D(u, 0); for (var m = o.vertexViewF32, y = o.vertexViewU32, x = o.vertexCount * o.vertexComponentCount - 1, w = 0, T = e.tintFill, b = 0; b < g; b += 2) { var S = c[b + 0], A = c[b + 1], E = S * l.a + A * l.c + l.e, C = S * l.b + A * l.d + l.f; n.roundPixels && (E = Math.round(E), C = Math.round(C)), m[++x] = E, m[++x] = C, m[++x] = d[b + 0], m[++x] = d[b + 1], m[++x] = T, y[++x] = i.getTintAppendFloatAlpha(f[w], n.alpha * p[w]), w++ } o.vertexCount += v } })), n.register("8CzV0", (function (t, e) { t.exports = function () { } })), n.register("frkgB", (function (t, e) { var i = n("jwj1g"), s = n("3JO7H"), r = new i({ Extends: s, initialize: function (t, e, i, n, r) { s.call(this, t, e, i, [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 1, 1, 0, 0, 1, 1, 1, 0], [16777215, 16777215, 16777215, 16777215, 16777215, 16777215], [1, 1, 1, 1, 1, 1], n, r), this.resetPosition() }, setFrame: function (t) { return this.frame = this.texture.get(t), this.frame.cutWidth && this.frame.cutHeight ? this.renderFlags |= 8 : this.renderFlags &= -9, t = this.frame, this.uv[0] = t.u0, this.uv[1] = t.v0, this.uv[2] = t.u0, this.uv[3] = t.v1, this.uv[4] = t.u1, this.uv[5] = t.v1, this.uv[6] = t.u0, this.uv[7] = t.v0, this.uv[8] = t.u1, this.uv[9] = t.v1, this.uv[10] = t.u1, this.uv[11] = t.v0, this }, topLeftX: { get: function () { return this.x + this.vertices[0] }, set: function (t) { this.vertices[0] = t - this.x, this.vertices[6] = t - this.x } }, topLeftY: { get: function () { return this.y + this.vertices[1] }, set: function (t) { this.vertices[1] = t - this.y, this.vertices[7] = t - this.y } }, topRightX: { get: function () { return this.x + this.vertices[10] }, set: function (t) { this.vertices[10] = t - this.x } }, topRightY: { get: function () { return this.y + this.vertices[11] }, set: function (t) { this.vertices[11] = t - this.y } }, bottomLeftX: { get: function () { return this.x + this.vertices[2] }, set: function (t) { this.vertices[2] = t - this.x } }, bottomLeftY: { get: function () { return this.y + this.vertices[3] }, set: function (t) { this.vertices[3] = t - this.y } }, bottomRightX: { get: function () { return this.x + this.vertices[4] }, set: function (t) { this.vertices[4] = t - this.x, this.vertices[8] = t - this.x } }, bottomRightY: { get: function () { return this.y + this.vertices[5] }, set: function (t) { this.vertices[5] = t - this.y, this.vertices[9] = t - this.y } }, topLeftAlpha: { get: function () { return this.alphas[0] }, set: function (t) { this.alphas[0] = t, this.alphas[3] = t } }, topRightAlpha: { get: function () { return this.alphas[5] }, set: function (t) { this.alphas[5] = t } }, bottomLeftAlpha: { get: function () { return this.alphas[1] }, set: function (t) { this.alphas[1] = t } }, bottomRightAlpha: { get: function () { return this.alphas[2] }, set: function (t) { this.alphas[2] = t, this.alphas[4] = t } }, topLeftColor: { get: function () { return this.colors[0] }, set: function (t) { this.colors[0] = t, this.colors[3] = t } }, topRightColor: { get: function () { return this.colors[5] }, set: function (t) { this.colors[5] = t } }, bottomLeftColor: { get: function () { return this.colors[1] }, set: function (t) { this.colors[1] = t } }, bottomRightColor: { get: function () { return this.colors[2] }, set: function (t) { this.colors[2] = t, this.colors[4] = t } }, setTopLeft: function (t, e) { return this.topLeftX = t, this.topLeftY = e, this }, setTopRight: function (t, e) { return this.topRightX = t, this.topRightY = e, this }, setBottomLeft: function (t, e) { return this.bottomLeftX = t, this.bottomLeftY = e, this }, setBottomRight: function (t, e) { return this.bottomRightX = t, this.bottomRightY = e, this }, resetPosition: function () { var t = this.x, e = this.y, i = Math.floor(this.width / 2), s = Math.floor(this.height / 2); return this.setTopLeft(t - i, e - s), this.setTopRight(t + i, e - s), this.setBottomLeft(t - i, e + s), this.setBottomRight(t + i, e + s), this }, resetAlpha: function () { var t = this.alphas; return t[0] = 1, t[1] = 1, t[2] = 1, t[3] = 1, t[4] = 1, t[5] = 1, this }, resetColors: function () { var t = this.colors; return t[0] = 16777215, t[1] = 16777215, t[2] = 16777215, t[3] = 16777215, t[4] = 16777215, t[5] = 16777215, this }, reset: function () { return this.resetPosition(), this.resetAlpha(), this.resetColors() } }); t.exports = r })), n.register("iwnS9", (function (t, e) { var i = n("jwj1g"), s = n("4FF1v"), r = n("1zqlR"), o = n("7BSWl"), a = n("hVk4C"), h = n("knQyO"), l = n("keUuz"), u = n("azs1m"), c = new i({ Extends: r, Mixins: [s.ComputedSize, s.Depth, s.GetBounds, s.Mask, s.Origin, s.ScrollFactor, s.Transform, s.Visible, l], initialize: function (t, e, i, s, n, o, a, h) { void 0 === i && (i = 0), void 0 === s && (s = 0), void 0 === n && (n = 128), void 0 === o && (o = 128), r.call(this, t, "Shader"), this.blendMode = -1, this.shader; var l = t.sys.renderer; this.renderer = l, this.gl = l.gl, this.vertexData = new ArrayBuffer(2 * Float32Array.BYTES_PER_ELEMENT * 6), this.vertexBuffer = l.createVertexBuffer(this.vertexData.byteLength, this.gl.STREAM_DRAW), this.program = null, this.bytes = new Uint8Array(this.vertexData), this.vertexViewF32 = new Float32Array(this.vertexData), this._tempMatrix1 = new u, this._tempMatrix2 = new u, this._tempMatrix3 = new u, this.viewMatrix = new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]), this.projectionMatrix = new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]), this.uniforms = {}, this.pointer = null, this._rendererWidth = l.width, this._rendererHeight = l.height, this._textureCount = 0, this.framebuffer = null, this.glTexture = null, this.renderToTexture = !1, this.texture = null, this.setPosition(i, s), this.setSize(n, o), this.setOrigin(.5, .5), this.setShader(e, a, h) }, willRender: function (t) { return !!this.renderToTexture || !(r.RENDER_MASK !== this.renderFlags || 0 !== this.cameraFilter && this.cameraFilter & t.id) }, setRenderToTexture: function (t, e) { if (void 0 === e && (e = !1), !this.renderToTexture) { var i = this.width, s = this.height, n = this.renderer; this.glTexture = n.createTextureFromSource(null, i, s, 0), this.glTexture.flipY = e, this.framebuffer = n.createFramebuffer(i, s, this.glTexture, !1), this._rendererWidth = i, this._rendererHeight = s, this.renderToTexture = !0, this.projOrtho(0, this.width, this.height, 0), t && (this.texture = this.scene.sys.textures.addGLTexture(t, this.glTexture, i, s)) } if (this.shader) { var r = n.currentPipeline; n.clearPipeline(), this.load(), this.flush(), n.rebindPipeline(r) } return this }, setShader: function (t, e, i) { if (void 0 === e && (e = []), "string" == typeof t) { var s = this.scene.sys.cache.shader; if (!s.has(t)) return console.warn("Shader missing: " + t), this; this.shader = s.get(t) } else this.shader = t; var n = this.gl, r = this.renderer; this.program && n.deleteProgram(this.program); var o = r.createProgram(this.shader.vertexSrc, this.shader.fragmentSrc); r.setMatrix4(o, "uViewMatrix", !1, this.viewMatrix), r.setMatrix4(o, "uProjectionMatrix", !1, this.projectionMatrix), r.setFloat2(o, "uResolution", this.width, this.height), this.program = o; var h = new Date, l = { resolution: { type: "2f", value: { x: this.width, y: this.height } }, time: { type: "1f", value: 0 }, mouse: { type: "2f", value: { x: this.width / 2, y: this.height / 2 } }, date: { type: "4fv", value: [h.getFullYear(), h.getMonth(), h.getDate(), 3600 * h.getHours() + 60 * h.getMinutes() + h.getSeconds()] }, sampleRate: { type: "1f", value: 44100 }, iChannel0: { type: "sampler2D", value: null, textureData: { repeat: !0 } }, iChannel1: { type: "sampler2D", value: null, textureData: { repeat: !0 } }, iChannel2: { type: "sampler2D", value: null, textureData: { repeat: !0 } }, iChannel3: { type: "sampler2D", value: null, textureData: { repeat: !0 } } }; this.shader.uniforms ? this.uniforms = a(!0, {}, this.shader.uniforms, l) : this.uniforms = l; for (var u = 0; u < 4; u++)e[u] && this.setSampler2D("iChannel" + u, e[u], u, i); return this.initUniforms(), this.projOrtho(0, this._rendererWidth, this._rendererHeight, 0), this }, setPointer: function (t) { return this.pointer = t, this }, projOrtho: function (t, e, i, s) { var n = 1 / (t - e), r = 1 / (i - s), o = this.projectionMatrix; o[0] = -2 * n, o[5] = -2 * r, o[10] = -.001, o[12] = (t + e) * n, o[13] = (s + i) * r, o[14] = -0; var a = this.program; this.renderer.setMatrix4(a, "uProjectionMatrix", !1, this.projectionMatrix), this._rendererWidth = e, this._rendererHeight = i }, initUniforms: function () { var t = this.gl, e = this.renderer.glFuncMap, i = this.program; for (var s in this._textureCount = 0, this.uniforms) { var n = this.uniforms[s], r = n.type, o = e[r]; n.uniformLocation = t.getUniformLocation(i, s), "sampler2D" !== r && (n.glMatrix = o.matrix, n.glValueLength = o.length, n.glFunc = o.func) } }, setSampler2DBuffer: function (t, e, i, s, n, r) { void 0 === n && (n = 0), void 0 === r && (r = {}); var o = this.uniforms[t]; return o.value = e, r.width = i, r.height = s, o.textureData = r, this._textureCount = n, this.initSampler2D(o), this }, setSampler2D: function (t, e, i, s) { void 0 === i && (i = 0); var n = this.scene.sys.textures; if (n.exists(e)) { var r = n.getFrame(e), o = this.uniforms[t], a = r.source; o.textureKey = e, o.source = a.image, o.value = r.glTexture, a.isGLTexture && (s || (s = {}), s.width = a.width, s.height = a.height), s && (o.textureData = s), this._textureCount = i, this.initSampler2D(o) } return this }, setUniform: function (t, e) { return h(this.uniforms, t, e), this }, getUniform: function (t) { return o(this.uniforms, t, null) }, setChannel0: function (t, e) { return this.setSampler2D("iChannel0", t, 0, e) }, setChannel1: function (t, e) { return this.setSampler2D("iChannel1", t, 1, e) }, setChannel2: function (t, e) { return this.setSampler2D("iChannel2", t, 2, e) }, setChannel3: function (t, e) { return this.setSampler2D("iChannel3", t, 3, e) }, initSampler2D: function (t) { if (t.value) { var e = this.gl; e.activeTexture(e.TEXTURE0 + this._textureCount), e.bindTexture(e.TEXTURE_2D, t.value); var i = t.textureData; if (i) { var s = e[o(i, "magFilter", "linear").toUpperCase()], n = e[o(i, "minFilter", "linear").toUpperCase()], r = e[o(i, "wrapS", "repeat").toUpperCase()], a = e[o(i, "wrapT", "repeat").toUpperCase()], h = e[o(i, "format", "rgba").toUpperCase()]; if (i.repeat && (r = e.REPEAT, a = e.REPEAT), e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL, !!i.flipY), i.width) { var l = o(i, "width", 512), u = o(i, "height", 2), c = o(i, "border", 0); e.texImage2D(e.TEXTURE_2D, 0, h, l, u, c, h, e.UNSIGNED_BYTE, null) } else e.texImage2D(e.TEXTURE_2D, 0, h, e.RGBA, e.UNSIGNED_BYTE, t.source); e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MAG_FILTER, s), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, n), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_S, r), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_T, a) } this.renderer.setProgram(this.program), e.uniform1i(t.uniformLocation, this._textureCount), this._textureCount++ } }, syncUniforms: function () { var t, e, i, s, n, r = this.gl, o = this.uniforms, a = 0; for (var h in o) i = (t = o[h]).glFunc, e = t.glValueLength, s = t.uniformLocation, null !== (n = t.value) && (1 === e ? t.glMatrix ? i.call(r, s, t.transpose, n) : i.call(r, s, n) : 2 === e ? i.call(r, s, n.x, n.y) : 3 === e ? i.call(r, s, n.x, n.y, n.z) : 4 === e ? i.call(r, s, n.x, n.y, n.z, n.w) : "sampler2D" === t.type && (r.activeTexture(r["TEXTURE" + a]), r.bindTexture(r.TEXTURE_2D, n), r.uniform1i(s, a), a++)) }, load: function (t) { var e = this.gl, i = this.width, s = this.height, n = this.renderer, r = this.program, o = this.viewMatrix; if (!this.renderToTexture) { var a = -this._displayOriginX, h = -this._displayOriginY; o[0] = t[0], o[1] = t[1], o[4] = t[2], o[5] = t[3], o[8] = t[4], o[9] = t[5], o[12] = o[0] * a + o[4] * h, o[13] = o[1] * a + o[5] * h } e.useProgram(r), e.uniformMatrix4fv(e.getUniformLocation(r, "uViewMatrix"), !1, o), e.uniform2f(e.getUniformLocation(r, "uResolution"), this.width, this.height); var l = this.uniforms, u = l.resolution; u.value.x = i, u.value.y = s, l.time.value = n.game.loop.getDuration(); var c = this.pointer; if (c) { var d = l.mouse, f = c.x / i, p = 1 - c.y / s; d.value.x = f.toFixed(2), d.value.y = p.toFixed(2) } this.syncUniforms() }, flush: function () { var t = this.width, e = this.height, i = this.program, s = this.gl, n = this.vertexBuffer, r = this.renderer, o = 2 * Float32Array.BYTES_PER_ELEMENT; this.renderToTexture && (r.setFramebuffer(this.framebuffer), s.clearColor(0, 0, 0, 0), s.clear(s.COLOR_BUFFER_BIT)), s.bindBuffer(s.ARRAY_BUFFER, n); var a = s.getAttribLocation(i, "inPosition"); -1 !== a && (s.enableVertexAttribArray(a), s.vertexAttribPointer(a, 2, s.FLOAT, !1, o, 0)); var h = this.vertexViewF32; h[3] = e, h[4] = t, h[5] = e, h[8] = t, h[9] = e, h[10] = t; s.bufferSubData(s.ARRAY_BUFFER, 0, this.bytes.subarray(0, 6 * o)), s.drawArrays(s.TRIANGLES, 0, 6), this.renderToTexture && r.setFramebuffer(null, !1) }, setAlpha: function () { }, setBlendMode: function () { }, preDestroy: function () { var t = this.gl; t.deleteProgram(this.program), t.deleteBuffer(this.vertexBuffer), this.renderToTexture && (this.renderer.deleteFramebuffer(this.framebuffer), this.texture.destroy(), this.framebuffer = null, this.glTexture = null, this.texture = null) } }); t.exports = c })), n.register("knQyO", (function (t, e) { t.exports = function (t, e, i) { if (!t || "number" == typeof t) return !1; if (t.hasOwnProperty(e)) return t[e] = i, !0; if (-1 !== e.indexOf(".")) { for (var s = e.split("."), n = t, r = t, o = 0; o < s.length; o++) { if (!n.hasOwnProperty(s[o])) return !1; r = n, n = n[s[o]] } return r[s[s.length - 1]] = i, !0 } return !1 } })), n.register("keUuz", (function (t, e) { var i = n("13GYA"), s = n("13GYA"); i = n("b9kgy"), s = n("8D69K"), t.exports = { renderWebGL: i, renderCanvas: s } })), n.register("b9kgy", (function (t, e) { t.exports = function (t, e, i, s, n) { if (e.shader) { var r = t.currentPipeline; if (t.clearPipeline(), e.renderToTexture) e.load(), e.flush(); else { var o = e._tempMatrix1, a = e._tempMatrix2, h = e._tempMatrix3; a.applyITRS(e.x, e.y, e.rotation, e.scaleX, e.scaleY), o.copyFrom(s.matrix), n ? (o.multiplyWithOffset(n, -s.scrollX * e.scrollFactorX, -s.scrollY * e.scrollFactorY), a.e = e.x, a.f = e.y) : (a.e -= s.scrollX * e.scrollFactorX, a.f -= s.scrollY * e.scrollFactorY), o.multiply(a, h), t.width === e._rendererWidth && t.height === e._rendererHeight || e.projOrtho(0, t.width, t.height, 0), e.load(h.matrix), e.flush() } t.rebindPipeline(r) } } })), n.register("8D69K", (function (t, e) { t.exports = function () { } })), n.register("ek47i", (function (t, e) { var i = n("3JO7H"); n("kge7H").register("mesh", (function (t, e, s, n, r, o, a, h) { return this.displayList.add(new i(this.scene, t, e, s, n, r, o, a, h)) })) })), n.register("5sQTt", (function (t, e) { var i = n("frkgB"); n("kge7H").register("quad", (function (t, e, s, n) { return this.displayList.add(new i(this.scene, t, e, s, n)) })) })), n.register("imx1M", (function (t, e) { var i = n("iwnS9"); n("kge7H").register("shader", (function (t, e, s, n, r, o, a) { return this.displayList.add(new i(this.scene, t, e, s, n, r, o, a)) })) })), n.register("3VQSR", (function (t, e) { var i = n("i9cSP"), s = n("ebQQp"), r = n("cSaNN"), o = n("5pMDk"), a = n("3JO7H"); s.register("mesh", (function (t, e) { void 0 === t && (t = {}); var s = r(t, "key", null), n = r(t, "frame", null), h = o(t, "vertices", []), l = o(t, "colors", []), u = o(t, "alphas", []), c = o(t, "uv", []), d = new a(this.scene, 0, 0, h, c, l, u, s, n); return void 0 !== e && (t.add = e), i(this.scene, d, t), d })) })), n.register("aW7lj", (function (t, e) { var i = n("i9cSP"), s = n("ebQQp"), r = n("cSaNN"), o = n("frkgB"); s.register("quad", (function (t, e) { void 0 === t && (t = {}); var s = r(t, "x", 0), n = r(t, "y", 0), a = r(t, "key", null), h = r(t, "frame", null), l = new o(this.scene, s, n, a, h); return void 0 !== e && (t.add = e), i(this.scene, l, t), l })) })), n.register("7bRuL", (function (t, e) { var i = n("i9cSP"), s = n("ebQQp"), r = n("cSaNN"), o = n("iwnS9"); s.register("shader", (function (t, e) { void 0 === t && (t = {}); var s = r(t, "key", null), n = r(t, "x", 0), a = r(t, "y", 0), h = r(t, "width", 128), l = r(t, "height", 128), u = new o(this.scene, s, n, a, h, l); return void 0 !== e && (t.add = e), i(this.scene, u, t), u })) })), n.register("hDwlH", (function (t, e) { var i = n("jwj1g"), s = n("gaO4e"), r = new i({ initialize: function (t, e, i, s, n, r, o) { this.x = t, this.y = e, this.radius = i, this.r = s, this.g = n, this.b = r, this.intensity = o, this.scrollFactorX = 1, this.scrollFactorY = 1 }, set: function (t, e, i, s, n, r, o) { return this.x = t, this.y = e, this.radius = i, this.r = s, this.g = n, this.b = r, this.intensity = o, this.scrollFactorX = 1, this.scrollFactorY = 1, this }, setScrollFactor: function (t, e) { return void 0 === t && (t = 1), void 0 === e && (e = t), this.scrollFactorX = t, this.scrollFactorY = e, this }, setColor: function (t) { var e = s.getFloatsFromUintRGB(t); return this.r = e[0], this.g = e[1], this.b = e[2], this }, setIntensity: function (t) { return this.intensity = t, this }, setPosition: function (t, e) { return this.x = t, this.y = e, this }, setRadius: function (t) { return this.radius = t, this } }); t.exports = r })), n.register("5eZQq", (function (t, e) { var i = n("jwj1g"), s = n("hDwlH"), r = n("gaO4e"), o = new i({ initialize: function () { this.lightPool = [], this.lights = [], this.culledLights = [], this.ambientColor = { r: .1, g: .1, b: .1 }, this.active = !1, this.maxLights = -1 }, enable: function () { return -1 === this.maxLights && (this.maxLights = this.scene.sys.game.renderer.config.maxLights), this.active = !0, this }, disable: function () { return this.active = !1, this }, cull: function (t) { var e = this.lights, i = this.culledLights, s = e.length, n = t.x + t.width / 2, r = t.y + t.height / 2, o = (t.width + t.height) / 2, a = { x: 0, y: 0 }, h = t.matrix, l = this.systems.game.config.height; i.length = 0; for (var u = 0; u < s && i.length < this.maxLights; u++) { var c = e[u]; h.transformPoint(c.x, c.y, a); var d = n - (a.x - t.scrollX * c.scrollFactorX * t.zoom), f = r - (l - (a.y - t.scrollY * c.scrollFactorY * t.zoom)); Math.sqrt(d * d + f * f) < c.radius + o && i.push(e[u]) } return i }, forEachLight: function (t) { if (t) { for (var e = this.lights, i = e.length, s = 0; s < i; ++s)t(e[s]); return this } }, setAmbientColor: function (t) { var e = r.getFloatsFromUintRGB(t); return this.ambientColor.r = e[0], this.ambientColor.g = e[1], this.ambientColor.b = e[2], this }, getMaxVisibleLights: function () { return 10 }, getLightCount: function () { return this.lights.length }, addLight: function (t, e, i, n, o) { var a, h = null; return t = void 0 === t ? 0 : t, e = void 0 === e ? 0 : e, n = void 0 === n ? 16777215 : n, i = void 0 === i ? 100 : i, o = void 0 === o ? 1 : o, a = r.getFloatsFromUintRGB(n), h = null, this.lightPool.length > 0 ? (h = this.lightPool.pop()).set(t, e, i, a[0], a[1], a[2], o) : h = new s(t, e, i, a[0], a[1], a[2], o), this.lights.push(h), h }, removeLight: function (t) { var e = this.lights.indexOf(t); return e >= 0 && (this.lightPool.push(t), this.lights.splice(e, 1)), this }, shutdown: function () { for (; this.lights.length > 0;)this.lightPool.push(this.lights.pop()); this.ambientColor = { r: .1, g: .1, b: .1 }, this.culledLights.length = 0, this.lights.length = 0 }, destroy: function () { this.shutdown() } }); t.exports = o })), n.register("hsf2U", (function (t, e) { var i = n("jwj1g"), s = n("5eZQq"), r = n("7AzQW"), o = n("4rtgc"), a = new i({ Extends: s, initialize: function (t) { this.scene = t, this.systems = t.sys, t.sys.settings.isBooted || t.sys.events.once(o.BOOT, this.boot, this), s.call(this) }, boot: function () { var t = this.systems.events; t.on(o.SHUTDOWN, this.shutdown, this), t.on(o.DESTROY, this.destroy, this) }, destroy: function () { this.shutdown(), this.scene = void 0, this.systems = void 0 } }); r.register("LightsPlugin", a, "lights"), t.exports = a })), n.register("kNZrp", (function (t, e) { var i = n("gZ2BZ"), s = n("hVk4C"), r = { Circle: n("f9k62"), Ellipse: n("cjvaD"), Intersects: n("6Lcv1"), Line: n("3epuM"), Point: n("h9uwP"), Polygon: n("3l7hU"), Rectangle: n("baGGN"), Triangle: n("iq5jH") }; r = s(!1, r, i), t.exports = r })), n.register("f9k62", (function (t, e) { var i = n("eQ4tZ"); i.Area = n("lmCfe"), i.Circumference = n("c6ED3"), i.CircumferencePoint = n("67VV6"), i.Clone = n("21NIG"), i.Contains = n("6hp2k"), i.ContainsPoint = n("1u673"), i.ContainsRect = n("d0OkM"), i.CopyFrom = n("gHJsF"), i.Equals = n("2oHOK"), i.GetBounds = n("8Fcc7"), i.GetPoint = n("dM9Ux"), i.GetPoints = n("80QEd"), i.Offset = n("3Oelj"), i.OffsetPoint = n("4tz7B"), i.Random = n("9zIIl"), t.exports = i })), n.register("lmCfe", (function (t, e) { t.exports = function (t) { return t.radius > 0 ? Math.PI * t.radius * t.radius : 0 } })), n.register("21NIG", (function (t, e) { var i = n("eQ4tZ"); t.exports = function (t) { return new i(t.x, t.y, t.radius) } })), n.register("1u673", (function (t, e) { var i = n("6hp2k"); t.exports = function (t, e) { return i(t, e.x, e.y) } })), n.register("d0OkM", (function (t, e) { var i = n("6hp2k"); t.exports = function (t, e) { return i(t, e.x, e.y) && i(t, e.right, e.y) && i(t, e.x, e.bottom) && i(t, e.right, e.bottom) } })), n.register("gHJsF", (function (t, e) { t.exports = function (t, e) { return e.setTo(t.x, t.y, t.radius) } })), n.register("2oHOK", (function (t, e) { t.exports = function (t, e) { return t.x === e.x && t.y === e.y && t.radius === e.radius } })), n.register("8Fcc7", (function (t, e) { var i = n("cwr8X"); t.exports = function (t, e) { return void 0 === e && (e = new i), e.x = t.left, e.y = t.top, e.width = t.diameter, e.height = t.diameter, e } })), n.register("3Oelj", (function (t, e) { t.exports = function (t, e, i) { return t.x += e, t.y += i, t } })), n.register("4tz7B", (function (t, e) { t.exports = function (t, e) { return t.x += e.x, t.y += e.y, t } })), n.register("cjvaD", (function (t, e) { var i = n("eaZcG"); i.Area = n("5yBlY"), i.Circumference = n("dmO0a"), i.CircumferencePoint = n("jKWrM"), i.Clone = n("8SVnL"), i.Contains = n("dsAkp"), i.ContainsPoint = n("jBtAg"), i.ContainsRect = n("7xdhG"), i.CopyFrom = n("7wu1B"), i.Equals = n("ihUzp"), i.GetBounds = n("4ltjE"), i.GetPoint = n("1vBT7"), i.GetPoints = n("61Yre"), i.Offset = n("kImVr"), i.OffsetPoint = n("3W0tJ"), i.Random = n("fH1i1"), t.exports = i })), n.register("5yBlY", (function (t, e) { t.exports = function (t) { return t.isEmpty() ? 0 : t.getMajorRadius() * t.getMinorRadius() * Math.PI } })), n.register("8SVnL", (function (t, e) { var i = n("eaZcG"); t.exports = function (t) { return new i(t.x, t.y, t.width, t.height) } })), n.register("jBtAg", (function (t, e) { var i = n("dsAkp"); t.exports = function (t, e) { return i(t, e.x, e.y) } })), n.register("7xdhG", (function (t, e) { var i = n("dsAkp"); t.exports = function (t, e) { return i(t, e.x, e.y) && i(t, e.right, e.y) && i(t, e.x, e.bottom) && i(t, e.right, e.bottom) } })), n.register("7wu1B", (function (t, e) { t.exports = function (t, e) { return e.setTo(t.x, t.y, t.width, t.height) } })), n.register("ihUzp", (function (t, e) { t.exports = function (t, e) { return t.x === e.x && t.y === e.y && t.width === e.width && t.height === e.height } })), n.register("4ltjE", (function (t, e) { var i = n("cwr8X"); t.exports = function (t, e) { return void 0 === e && (e = new i), e.x = t.left, e.y = t.top, e.width = t.width, e.height = t.height, e } })), n.register("kImVr", (function (t, e) { t.exports = function (t, e, i) { return t.x += e, t.y += i, t } })), n.register("3W0tJ", (function (t, e) { t.exports = function (t, e) { return t.x += e.x, t.y += e.y, t } })), n.register("6Lcv1", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { CircleToCircle: n("1GcYB"), CircleToRectangle: n("14KTi"), GetCircleToCircle: n("1Yyt0"), GetCircleToRectangle: n("l26EM"), GetLineToCircle: n("a9cbd"), GetLineToRectangle: n("jcLFP"), GetRectangleIntersection: n("arUwA"), GetRectangleToRectangle: n("fEZtW"), GetRectangleToTriangle: n("frm8a"), GetTriangleToCircle: n("c7MfJ"), GetTriangleToLine: n("gLM7X"), GetTriangleToTriangle: n("5ltcM"), LineToCircle: n("coG9m"), LineToLine: n("1B2Zx"), LineToRectangle: n("3ARyj"), PointToLine: n("94QvZ"), PointToLineSegment: n("eEky2"), RectangleToRectangle: n("dTOqt"), RectangleToTriangle: n("a5zoR"), RectangleToValues: n("2aBNx"), TriangleToCircle: n("lSVA4"), TriangleToLine: n("1EbtS"), TriangleToTriangle: n("2W0ce") }
})), n.register("1GcYB", (function (t, e) { var i = n("bwLQh"); t.exports = function (t, e) { return i(t.x, t.y, e.x, e.y) <= t.radius + e.radius } })), n.register("14KTi", (function (t, e) { t.exports = function (t, e) { var i = e.width / 2, s = e.height / 2, n = Math.abs(t.x - e.x - i), r = Math.abs(t.y - e.y - s), o = i + t.radius, a = s + t.radius; if (n > o || r > a) return !1; if (n <= i || r <= s) return !0; var h = n - i, l = r - s; return h * h + l * l <= t.radius * t.radius } })), n.register("1Yyt0", (function (t, e) { var i = n("cSEB9"), s = n("1GcYB"); t.exports = function (t, e, n) { if (void 0 === n && (n = []), s(t, e)) { var r, o, a, h, l = t.x, u = t.y, c = t.radius, d = e.x, f = e.y, p = e.radius; if (u === f) 0 === (a = (o = -2 * f) * o - 4 * (r = 1) * (d * d + (h = (p * p - c * c - d * d + l * l) / (2 * (l - d))) * h - 2 * d * h + f * f - p * p)) ? n.push(new i(h, -o / (2 * r))) : a > 0 && (n.push(new i(h, (-o + Math.sqrt(a)) / (2 * r))), n.push(new i(h, (-o - Math.sqrt(a)) / (2 * r)))); else { var g = (l - d) / (u - f), v = (p * p - c * c - d * d + l * l - f * f + u * u) / (2 * (u - f)); 0 === (a = (o = 2 * u * g - 2 * v * g - 2 * l) * o - 4 * (r = g * g + 1) * (l * l + u * u + v * v - c * c - 2 * u * v)) ? (h = -o / (2 * r), n.push(new i(h, v - h * g))) : a > 0 && (h = (-o + Math.sqrt(a)) / (2 * r), n.push(new i(h, v - h * g)), h = (-o - Math.sqrt(a)) / (2 * r), n.push(new i(h, v - h * g))) } } return n } })), n.register("l26EM", (function (t, e) { var i = n("a9cbd"), s = n("14KTi"); t.exports = function (t, e, n) { if (void 0 === n && (n = []), s(t, e)) { var r = e.getLineA(), o = e.getLineB(), a = e.getLineC(), h = e.getLineD(); i(r, t, n), i(o, t, n), i(a, t, n), i(h, t, n) } return n } })), n.register("a9cbd", (function (t, e) { var i = n("cSEB9"), s = n("coG9m"); t.exports = function (t, e, n) { if (void 0 === n && (n = []), s(t, e)) { var r, o, a = t.x1, h = t.y1, l = t.x2, u = t.y2, c = e.x, d = e.y, f = e.radius, p = l - a, g = u - h, v = a - c, m = h - d, y = p * p + g * g, x = 2 * (p * v + g * m), w = x * x - 4 * y * (v * v + m * m - f * f); if (0 === w) { var T = -x / (2 * y); r = a + T * p, o = h + T * g, T >= 0 && T <= 1 && n.push(new i(r, o)) } else if (w > 0) { var b = (-x - Math.sqrt(w)) / (2 * y); r = a + b * p, o = h + b * g, b >= 0 && b <= 1 && n.push(new i(r, o)); var S = (-x + Math.sqrt(w)) / (2 * y); r = a + S * p, o = h + S * g, S >= 0 && S <= 1 && n.push(new i(r, o)) } } return n } })), n.register("coG9m", (function (t, e) { var i = n("6hp2k"), s = new (n("cSEB9")); t.exports = function (t, e, n) { if (void 0 === n && (n = s), i(e, t.x1, t.y1)) return n.x = t.x1, n.y = t.y1, !0; if (i(e, t.x2, t.y2)) return n.x = t.x2, n.y = t.y2, !0; var r = t.x2 - t.x1, o = t.y2 - t.y1, a = e.x - t.x1, h = e.y - t.y1, l = r * r + o * o, u = r, c = o; if (l > 0) { var d = (a * r + h * o) / l; u *= d, c *= d } return n.x = t.x1 + u, n.y = t.y1 + c, u * u + c * c <= l && u * r + c * o >= 0 && i(e, n.x, n.y) } })), n.register("jcLFP", (function (t, e) { var i = n("cSEB9"), s = n("1B2Zx"), r = n("3ARyj"); t.exports = function (t, e, n) { if (void 0 === n && (n = []), r(t, e)) for (var o = e.getLineA(), a = e.getLineB(), h = e.getLineC(), l = e.getLineD(), u = [new i, new i, new i, new i], c = [s(o, t, u[0]), s(a, t, u[1]), s(h, t, u[2]), s(l, t, u[3])], d = 0; d < 4; d++)c[d] && n.push(u[d]); return n } })), n.register("1B2Zx", (function (t, e) { var i = n("cSEB9"); t.exports = function (t, e, s) { void 0 === s && (s = new i); var n = t.x1, r = t.y1, o = t.x2, a = t.y2, h = e.x1, l = e.y1, u = e.x2, c = e.y2, d = (c - l) * (o - n) - (u - h) * (a - r); if (0 === d) return !1; var f = ((u - h) * (r - l) - (c - l) * (n - h)) / d, p = ((o - n) * (r - l) - (a - r) * (n - h)) / d; return f >= 0 && f <= 1 && p >= 0 && p <= 1 && (s.x = n + f * (o - n), s.y = r + f * (a - r), !0) } })), n.register("3ARyj", (function (t, e) { t.exports = function (t, e) { var i = t.x1, s = t.y1, n = t.x2, r = t.y2, o = e.x, a = e.y, h = e.right, l = e.bottom, u = 0; if (i >= o && i <= h && s >= a && s <= l || n >= o && n <= h && r >= a && r <= l) return !0; if (i < o && n >= o) { if ((u = s + (r - s) * (o - i) / (n - i)) > a && u <= l) return !0 } else if (i > h && n <= h && (u = s + (r - s) * (h - i) / (n - i)) >= a && u <= l) return !0; if (s < a && r >= a) { if ((u = i + (n - i) * (a - s) / (r - s)) >= o && u <= h) return !0 } else if (s > l && r <= l && (u = i + (n - i) * (l - s) / (r - s)) >= o && u <= h) return !0; return !1 } })), n.register("arUwA", (function (t, e) { var i = n("cwr8X"), s = n("dTOqt"); t.exports = function (t, e, n) { return void 0 === n && (n = new i), s(t, e) && (n.x = Math.max(t.x, e.x), n.y = Math.max(t.y, e.y), n.width = Math.min(t.right, e.right) - n.x, n.height = Math.min(t.bottom, e.bottom) - n.y), n } })), n.register("dTOqt", (function (t, e) { t.exports = function (t, e) { return !(t.width <= 0 || t.height <= 0 || e.width <= 0 || e.height <= 0) && !(t.right < e.x || t.bottom < e.y || t.x > e.right || t.y > e.bottom) } })), n.register("fEZtW", (function (t, e) { var i = n("jcLFP"), s = n("dTOqt"); t.exports = function (t, e, n) { if (void 0 === n && (n = []), s(t, e)) { var r = t.getLineA(), o = t.getLineB(), a = t.getLineC(), h = t.getLineD(); i(r, e, n), i(o, e, n), i(a, e, n), i(h, e, n) } return n } })), n.register("frm8a", (function (t, e) { var i = n("a5zoR"), s = n("jcLFP"); t.exports = function (t, e, n) { if (void 0 === n && (n = []), i(t, e)) { var r = e.getLineA(), o = e.getLineB(), a = e.getLineC(); s(r, t, n), s(o, t, n), s(a, t, n) } return n } })), n.register("a5zoR", (function (t, e) { var i = n("1B2Zx"), s = n("6pEze"), r = n("2ummv"), o = n("l25cG"); t.exports = function (t, e) { if (e.left > t.right || e.right < t.left || e.top > t.bottom || e.bottom < t.top) return !1; var n = e.getLineA(), a = e.getLineB(), h = e.getLineC(); if (s(t, n.x1, n.y1) || s(t, n.x2, n.y2)) return !0; if (s(t, a.x1, a.y1) || s(t, a.x2, a.y2)) return !0; if (s(t, h.x1, h.y1) || s(t, h.x2, h.y2)) return !0; var l = t.getLineA(), u = t.getLineB(), c = t.getLineC(), d = t.getLineD(); if (i(n, l) || i(n, u) || i(n, c) || i(n, d)) return !0; if (i(a, l) || i(a, u) || i(a, c) || i(a, d)) return !0; if (i(h, l) || i(h, u) || i(h, c) || i(h, d)) return !0; var f = o(t); return r(e, f, !0).length > 0 } })), n.register("2ummv", (function (t, e) { t.exports = function (t, e, i, s) { void 0 === i && (i = !1), void 0 === s && (s = []); for (var n, r, o, a, h, l, u = t.x3 - t.x1, c = t.y3 - t.y1, d = t.x2 - t.x1, f = t.y2 - t.y1, p = u * u + c * c, g = u * d + c * f, v = d * d + f * f, m = p * v - g * g, y = 0 === m ? 0 : 1 / m, x = t.x1, w = t.y1, T = 0; T < e.length && (r = (p * (l = d * (o = e[T].x - x) + f * (a = e[T].y - w)) - g * (h = u * o + c * a)) * y, !((n = (v * h - g * l) * y) >= 0 && r >= 0 && n + r < 1 && (s.push({ x: e[T].x, y: e[T].y }), i))); T++); return s } })), n.register("l25cG", (function (t, e) { t.exports = function (t, e) { return void 0 === e && (e = []), e.push({ x: t.x, y: t.y }), e.push({ x: t.right, y: t.y }), e.push({ x: t.right, y: t.bottom }), e.push({ x: t.x, y: t.bottom }), e } })), n.register("c7MfJ", (function (t, e) { var i = n("a9cbd"), s = n("lSVA4"); t.exports = function (t, e, n) { if (void 0 === n && (n = []), s(t, e)) { var r = t.getLineA(), o = t.getLineB(), a = t.getLineC(); i(r, e, n), i(o, e, n), i(a, e, n) } return n } })), n.register("lSVA4", (function (t, e) { var i = n("coG9m"), s = n("7e4Vb"); t.exports = function (t, e) { return !(t.left > e.right || t.right < e.left || t.top > e.bottom || t.bottom < e.top) && (!!s(t, e.x, e.y) || (!!i(t.getLineA(), e) || (!!i(t.getLineB(), e) || !!i(t.getLineC(), e)))) } })), n.register("gLM7X", (function (t, e) { var i = n("cSEB9"), s = n("1EbtS"), r = n("1B2Zx"); t.exports = function (t, e, n) { if (void 0 === n && (n = []), s(t, e)) for (var o = t.getLineA(), a = t.getLineB(), h = t.getLineC(), l = [new i, new i, new i], u = [r(o, e, l[0]), r(a, e, l[1]), r(h, e, l[2])], c = 0; c < 3; c++)u[c] && n.push(l[c]); return n } })), n.register("1EbtS", (function (t, e) { var i = n("7e4Vb"), s = n("1B2Zx"); t.exports = function (t, e) { return !(!i(t, e.getPointA()) && !i(t, e.getPointB())) || (!!s(t.getLineA(), e) || (!!s(t.getLineB(), e) || !!s(t.getLineC(), e))) } })), n.register("5ltcM", (function (t, e) { var i = n("2W0ce"), s = n("gLM7X"); t.exports = function (t, e, n) { if (void 0 === n && (n = []), i(t, e)) { var r = e.getLineA(), o = e.getLineB(), a = e.getLineC(); s(t, r, n), s(t, o, n), s(t, a, n) } return n } })), n.register("2W0ce", (function (t, e) { var i = n("2ummv"), s = n("21YsO"), r = n("1B2Zx"); t.exports = function (t, e) { if (t.left > e.right || t.right < e.left || t.top > e.bottom || t.bottom < e.top) return !1; var n = t.getLineA(), o = t.getLineB(), a = t.getLineC(), h = e.getLineA(), l = e.getLineB(), u = e.getLineC(); if (r(n, h) || r(n, l) || r(n, u)) return !0; if (r(o, h) || r(o, l) || r(o, u)) return !0; if (r(a, h) || r(a, l) || r(a, u)) return !0; var c = s(t), d = i(e, c, !0); return d.length > 0 || (c = s(e), (d = i(t, c, !0)).length > 0) } })), n.register("21YsO", (function (t, e) { t.exports = function (t, e) { return void 0 === e && (e = []), e.push({ x: t.x1, y: t.y1 }), e.push({ x: t.x2, y: t.y2 }), e.push({ x: t.x3, y: t.y3 }), e } })), n.register("94QvZ", (function (t, e) { t.exports = function (t, e, i) { void 0 === i && (i = 1); var s = e.x1, n = e.y1, r = e.x2, o = e.y2, a = t.x, h = t.y, l = (r - s) * (r - s) + (o - n) * (o - n); if (0 === l) return !1; var u = ((a - s) * (r - s) + (h - n) * (o - n)) / l; if (u < 0) return Math.sqrt((s - a) * (s - a) + (n - h) * (n - h)) <= i; if (u >= 0 && u <= 1) { var c = ((n - h) * (r - s) - (s - a) * (o - n)) / l; return Math.abs(c) * Math.sqrt(l) <= i } return Math.sqrt((r - a) * (r - a) + (o - h) * (o - h)) <= i } })), n.register("eEky2", (function (t, e) { var i = n("94QvZ"); t.exports = function (t, e) { if (!i(t, e)) return !1; var s = Math.min(e.x1, e.x2), n = Math.max(e.x1, e.x2), r = Math.min(e.y1, e.y2), o = Math.max(e.y1, e.y2); return t.x >= s && t.x <= n && t.y >= r && t.y <= o } })), n.register("2aBNx", (function (t, e) { t.exports = function (t, e, i, s, n, r) { return void 0 === r && (r = 0), !(e > t.right + r || i < t.left - r || s > t.bottom + r || n < t.top - r) } })), n.register("3epuM", (function (t, e) { var i = n("1LRPh"); i.Angle = n("42V9N"), i.BresenhamPoints = n("7M14o"), i.CenterOn = n("30LjB"), i.Clone = n("8xns7"), i.CopyFrom = n("fJQsp"), i.Equals = n("g5YG1"), i.Extend = n("dnDRx"), i.GetMidPoint = n("jlSUE"), i.GetNearestPoint = n("j4fEp"), i.GetNormal = n("gYAFg"), i.GetPoint = n("9T44R"), i.GetPoints = n("fYnml"), i.GetShortestDistance = n("fXXbD"), i.Height = n("a0T7b"), i.Length = n("7Smss"), i.NormalAngle = n("bUxR9"), i.NormalX = n("liIYR"), i.NormalY = n("faSTe"), i.Offset = n("50R0s"), i.PerpSlope = n("gP5y6"), i.Random = n("1Ap5d"), i.ReflectAngle = n("jqAeP"), i.Rotate = n("7jz2j"), i.RotateAroundPoint = n("hyLOP"), i.RotateAroundXY = n("5XjMw"), i.SetToAngle = n("5rSLB"), i.Slope = n("7jmkp"), i.Width = n("dajGv"), t.exports = i })), n.register("42V9N", (function (t, e) { t.exports = function (t) { return Math.atan2(t.y2 - t.y1, t.x2 - t.x1) } })), n.register("30LjB", (function (t, e) { t.exports = function (t, e, i) { var s = e - (t.x1 + t.x2) / 2, n = i - (t.y1 + t.y2) / 2; return t.x1 += s, t.y1 += n, t.x2 += s, t.y2 += n, t } })), n.register("8xns7", (function (t, e) { var i = n("1LRPh"); t.exports = function (t) { return new i(t.x1, t.y1, t.x2, t.y2) } })), n.register("fJQsp", (function (t, e) { t.exports = function (t, e) { return e.setTo(t.x1, t.y1, t.x2, t.y2) } })), n.register("g5YG1", (function (t, e) { t.exports = function (t, e) { return t.x1 === e.x1 && t.y1 === e.y1 && t.x2 === e.x2 && t.y2 === e.y2 } })), n.register("dnDRx", (function (t, e) { var i = n("7Smss"); t.exports = function (t, e, s) { void 0 === s && (s = e); var n = i(t), r = t.x2 - t.x1, o = t.y2 - t.y1; return e && (t.x1 = t.x1 - r / n * e, t.y1 = t.y1 - o / n * e), s && (t.x2 = t.x2 + r / n * s, t.y2 = t.y2 + o / n * s), t } })), n.register("jlSUE", (function (t, e) { var i = n("cSEB9"); t.exports = function (t, e) { return void 0 === e && (e = new i), e.x = (t.x1 + t.x2) / 2, e.y = (t.y1 + t.y2) / 2, e } })), n.register("j4fEp", (function (t, e) { var i = n("cSEB9"); t.exports = function (t, e, s) { void 0 === s && (s = new i); var n = t.x1, r = t.y1, o = t.x2, a = t.y2, h = (o - n) * (o - n) + (a - r) * (a - r); if (0 === h) return s; var l = ((e.x - n) * (o - n) + (e.y - r) * (a - r)) / h; return s.x = n + l * (o - n), s.y = r + l * (a - r), s } })), n.register("gYAFg", (function (t, e) { var i = n("bNtDi"), s = n("42V9N"), r = n("cSEB9"); t.exports = function (t, e) { void 0 === e && (e = new r); var n = s(t) - i.TAU; return e.x = Math.cos(n), e.y = Math.sin(n), e } })), n.register("fXXbD", (function (t, e) { t.exports = function (t, e) { var i = t.x1, s = t.y1, n = t.x2, r = t.y2, o = (n - i) * (n - i) + (r - s) * (r - s); if (0 === o) return !1; var a = ((s - e.y) * (n - i) - (i - e.x) * (r - s)) / o; return Math.abs(a) * Math.sqrt(o) } })), n.register("a0T7b", (function (t, e) { t.exports = function (t) { return Math.abs(t.y1 - t.y2) } })), n.register("bUxR9", (function (t, e) { var i = n("bNtDi"), s = n("8qWuA"), r = n("42V9N"); t.exports = function (t) { var e = r(t) - i.TAU; return s(e, -Math.PI, Math.PI) } })), n.register("liIYR", (function (t, e) { var i = n("bNtDi"), s = n("42V9N"); t.exports = function (t) { return Math.cos(s(t) - i.TAU) } })), n.register("faSTe", (function (t, e) { var i = n("bNtDi"), s = n("42V9N"); t.exports = function (t) { return Math.sin(s(t) - i.TAU) } })), n.register("50R0s", (function (t, e) { t.exports = function (t, e, i) { return t.x1 += e, t.y1 += i, t.x2 += e, t.y2 += i, t } })), n.register("gP5y6", (function (t, e) { t.exports = function (t) { return -(t.x2 - t.x1) / (t.y2 - t.y1) } })), n.register("jqAeP", (function (t, e) { var i = n("42V9N"), s = n("bUxR9"); t.exports = function (t, e) { return 2 * s(e) - Math.PI - i(t) } })), n.register("7jz2j", (function (t, e) { var i = n("5XjMw"); t.exports = function (t, e) { var s = (t.x1 + t.x2) / 2, n = (t.y1 + t.y2) / 2; return i(t, s, n, e) } })), n.register("5XjMw", (function (t, e) { t.exports = function (t, e, i, s) { var n = Math.cos(s), r = Math.sin(s), o = t.x1 - e, a = t.y1 - i; return t.x1 = o * n - a * r + e, t.y1 = o * r + a * n + i, o = t.x2 - e, a = t.y2 - i, t.x2 = o * n - a * r + e, t.y2 = o * r + a * n + i, t } })), n.register("hyLOP", (function (t, e) { var i = n("5XjMw"); t.exports = function (t, e, s) { return i(t, e.x, e.y, s) } })), n.register("5rSLB", (function (t, e) { t.exports = function (t, e, i, s, n) { return t.x1 = e, t.y1 = i, t.x2 = e + Math.cos(s) * n, t.y2 = i + Math.sin(s) * n, t } })), n.register("7jmkp", (function (t, e) { t.exports = function (t) { return (t.y2 - t.y1) / (t.x2 - t.x1) } })), n.register("dajGv", (function (t, e) { t.exports = function (t) { return Math.abs(t.x1 - t.x2) } })), n.register("h9uwP", (function (t, e) { var i = n("cSEB9"); i.Ceil = n("9kqT3"), i.Clone = n("j4GZD"), i.CopyFrom = n("aCcI3"), i.Equals = n("dGmMZ"), i.Floor = n("i9Nu4"), i.GetCentroid = n("uxGA5"), i.GetMagnitude = n("2O8LR"), i.GetMagnitudeSq = n("dwTuL"), i.GetRectangleFromPoints = n("1srlv"), i.Interpolate = n("h6ZDO"), i.Invert = n("1K2PV"), i.Negative = n("5TVbn"), i.Project = n("35Dlw"), i.ProjectUnit = n("5BtJe"), i.SetMagnitude = n("5C2M9"), t.exports = i })), n.register("9kqT3", (function (t, e) { t.exports = function (t) { return t.setTo(Math.ceil(t.x), Math.ceil(t.y)) } })), n.register("j4GZD", (function (t, e) { var i = n("cSEB9"); t.exports = function (t) { return new i(t.x, t.y) } })), n.register("aCcI3", (function (t, e) { t.exports = function (t, e) { return e.setTo(t.x, t.y) } })), n.register("dGmMZ", (function (t, e) { t.exports = function (t, e) { return t.x === e.x && t.y === e.y } })), n.register("i9Nu4", (function (t, e) { t.exports = function (t) { return t.setTo(Math.floor(t.x), Math.floor(t.y)) } })), n.register("uxGA5", (function (t, e) { var i = n("cSEB9"); t.exports = function (t, e) { if (void 0 === e && (e = new i), !Array.isArray(t)) throw new Error("GetCentroid points argument must be an array"); var s = t.length; if (s < 1) throw new Error("GetCentroid points array must not be empty"); if (1 === s) e.x = t[0].x, e.y = t[0].y; else { for (var n = 0; n < s; n++)e.x += t[n].x, e.y += t[n].y; e.x /= s, e.y /= s } return e } })), n.register("2O8LR", (function (t, e) { t.exports = function (t) { return Math.sqrt(t.x * t.x + t.y * t.y) } })), n.register("dwTuL", (function (t, e) { t.exports = function (t) { return t.x * t.x + t.y * t.y } })), n.register("1srlv", (function (t, e) { var i = n("cwr8X"); t.exports = function (t, e) { void 0 === e && (e = new i); for (var s = Number.NEGATIVE_INFINITY, n = Number.POSITIVE_INFINITY, r = Number.NEGATIVE_INFINITY, o = Number.POSITIVE_INFINITY, a = 0; a < t.length; a++) { var h = t[a]; h.x > s && (s = h.x), h.x < n && (n = h.x), h.y > r && (r = h.y), h.y < o && (o = h.y) } return e.x = n, e.y = o, e.width = s - n, e.height = r - o, e } })), n.register("h6ZDO", (function (t, e) { var i = n("cSEB9"); t.exports = function (t, e, s, n) { return void 0 === s && (s = 0), void 0 === n && (n = new i), n.x = t.x + (e.x - t.x) * s, n.y = t.y + (e.y - t.y) * s, n } })), n.register("1K2PV", (function (t, e) { t.exports = function (t) { return t.setTo(t.y, t.x) } })), n.register("5TVbn", (function (t, e) { var i = n("cSEB9"); t.exports = function (t, e) { return void 0 === e && (e = new i), e.setTo(-t.x, -t.y) } })), n.register("35Dlw", (function (t, e) { var i = n("cSEB9"), s = n("dwTuL"); t.exports = function (t, e, n) { void 0 === n && (n = new i); var r = (t.x * e.x + t.y * e.y) / s(e); return 0 !== r && (n.x = r * e.x, n.y = r * e.y), n } })), n.register("5BtJe", (function (t, e) { var i = n("cSEB9"); t.exports = function (t, e, s) { void 0 === s && (s = new i); var n = t.x * e.x + t.y * e.y; return 0 !== n && (s.x = n * e.x, s.y = n * e.y), s } })), n.register("5C2M9", (function (t, e) { var i = n("2O8LR"); t.exports = function (t, e) { if (0 !== t.x || 0 !== t.y) { var s = i(t); t.x /= s, t.y /= s } return t.x *= e, t.y *= e, t } })), n.register("3l7hU", (function (t, e) { var i = n("7cxCo"); i.Clone = n("jvjVg"), i.Contains = n("ivFeg"), i.ContainsPoint = n("83SOr"), i.GetAABB = n("hF14a"), i.GetNumberArray = n("bumfP"), i.GetPoints = n("gU0SF"), i.Perimeter = n("dKsEw"), i.Reverse = n("hGI9q"), i.Smooth = n("6FcU2"), t.exports = i })), n.register("jvjVg", (function (t, e) { var i = n("7cxCo"); t.exports = function (t) { return new i(t.points) } })), n.register("83SOr", (function (t, e) { var i = n("ivFeg"); t.exports = function (t, e) { return i(t, e.x, e.y) } })), n.register("bumfP", (function (t, e) { t.exports = function (t, e) { void 0 === e && (e = []); for (var i = 0; i < t.points.length; i++)e.push(t.points[i].x), e.push(t.points[i].y); return e } })), n.register("hGI9q", (function (t, e) { t.exports = function (t) { return t.points.reverse(), t } })), n.register("baGGN", (function (t, e) { var i = n("cwr8X"); i.Area = n("k1h63"), i.Ceil = n("6HNnG"), i.CeilAll = n("6IJon"), i.CenterOn = n("ilLbF"), i.Clone = n("821hF"), i.Contains = n("6pEze"), i.ContainsPoint = n("he3Ny"), i.ContainsRect = n("k97Zg"), i.CopyFrom = n("kprrJ"), i.Decompose = n("l25cG"), i.Equals = n("5psDG"), i.FitInside = n("cA82z"), i.FitOutside = n("hOFs2"), i.Floor = n("ibcM5"), i.FloorAll = n("bFZ6X"), i.FromPoints = n("1zoJ0"), i.GetAspectRatio = n("1aJpj"), i.GetCenter = n("7YZzP"), i.GetPoint = n("cu9YH"), i.GetPoints = n("c3WbB"), i.GetSize = n("1WZTG"), i.Inflate = n("lGviC"), i.Intersection = n("dYbpw"), i.MarchingAnts = n("ktcgp"), i.MergePoints = n("53j7I"), i.MergeRect = n("hmvqd"), i.MergeXY = n("8vRzF"), i.Offset = n("wqr9Z"), i.OffsetPoint = n("1CVoT"), i.Overlaps = n("8sRjR"), i.Perimeter = n("ltSp2"), i.PerimeterPoint = n("d071K"), i.Random = n("xap54"), i.RandomOutside = n("dQwMQ"), i.SameDimensions = n("hz0l4"), i.Scale = n("XreVq"), i.Union = n("dDbeb"), t.exports = i })), n.register("k1h63", (function (t, e) { t.exports = function (t) { return t.width * t.height } })), n.register("6HNnG", (function (t, e) { t.exports = function (t) { return t.x = Math.ceil(t.x), t.y = Math.ceil(t.y), t } })), n.register("6IJon", (function (t, e) { t.exports = function (t) { return t.x = Math.ceil(t.x), t.y = Math.ceil(t.y), t.width = Math.ceil(t.width), t.height = Math.ceil(t.height), t } })), n.register("821hF", (function (t, e) { var i = n("cwr8X"); t.exports = function (t) { return new i(t.x, t.y, t.width, t.height) } })), n.register("he3Ny", (function (t, e) { var i = n("6pEze"); t.exports = function (t, e) { return i(t, e.x, e.y) } })), n.register("k97Zg", (function (t, e) { t.exports = function (t, e) { return !(e.width * e.height > t.width * t.height) && (e.x > t.x && e.x < t.right && e.right > t.x && e.right < t.right && e.y > t.y && e.y < t.bottom && e.bottom > t.y && e.bottom < t.bottom) } })), n.register("kprrJ", (function (t, e) { t.exports = function (t, e) { return e.setTo(t.x, t.y, t.width, t.height) } })), n.register("5psDG", (function (t, e) { t.exports = function (t, e) { return t.x === e.x && t.y === e.y && t.width === e.width && t.height === e.height } })), n.register("cA82z", (function (t, e) { var i = n("1aJpj"); t.exports = function (t, e) { var s = i(t); return s < i(e) ? t.setSize(e.height * s, e.height) : t.setSize(e.width, e.width / s), t.setPosition(e.centerX - t.width / 2, e.centerY - t.height / 2) } })), n.register("1aJpj", (function (t, e) { t.exports = function (t) { return 0 === t.height ? NaN : t.width / t.height } })), n.register("hOFs2", (function (t, e) { var i = n("1aJpj"); t.exports = function (t, e) { var s = i(t); return s > i(e) ? t.setSize(e.height * s, e.height) : t.setSize(e.width, e.width / s), t.setPosition(e.centerX - t.width / 2, e.centerY - t.height / 2) } })), n.register("ibcM5", (function (t, e) { t.exports = function (t) { return t.x = Math.floor(t.x), t.y = Math.floor(t.y), t } })), n.register("bFZ6X", (function (t, e) { t.exports = function (t) { return t.x = Math.floor(t.x), t.y = Math.floor(t.y), t.width = Math.floor(t.width), t.height = Math.floor(t.height), t } })), n.register("7YZzP", (function (t, e) { var i = n("cSEB9"); t.exports = function (t, e) { return void 0 === e && (e = new i), e.x = t.centerX, e.y = t.centerY, e } })), n.register("1WZTG", (function (t, e) { var i = n("cSEB9"); t.exports = function (t, e) { return void 0 === e && (e = new i), e.x = t.width, e.y = t.height, e } })), n.register("lGviC", (function (t, e) { var i = n("ilLbF"); t.exports = function (t, e, s) { var n = t.centerX, r = t.centerY; return t.setSize(t.width + 2 * e, t.height + 2 * s), i(t, n, r) } })), n.register("dYbpw", (function (t, e) { var i = n("cwr8X"), s = n("dTOqt"); t.exports = function (t, e, n) { return void 0 === n && (n = new i), s(t, e) ? (n.x = Math.max(t.x, e.x), n.y = Math.max(t.y, e.y), n.width = Math.min(t.right, e.right) - n.x, n.height = Math.min(t.bottom, e.bottom) - n.y) : n.setEmpty(), n } })), n.register("53j7I", (function (t, e) { t.exports = function (t, e) { for (var i = t.x, s = t.right, n = t.y, r = t.bottom, o = 0; o < e.length; o++)i = Math.min(i, e[o].x), s = Math.max(s, e[o].x), n = Math.min(n, e[o].y), r = Math.max(r, e[o].y); return t.x = i, t.y = n, t.width = s - i, t.height = r - n, t } })), n.register("hmvqd", (function (t, e) { t.exports = function (t, e) { var i = Math.min(t.x, e.x), s = Math.max(t.right, e.right); t.x = i, t.width = s - i; var n = Math.min(t.y, e.y), r = Math.max(t.bottom, e.bottom); return t.y = n, t.height = r - n, t } })), n.register("8vRzF", (function (t, e) { t.exports = function (t, e, i) { var s = Math.min(t.x, e), n = Math.max(t.right, e); t.x = s, t.width = n - s; var r = Math.min(t.y, i), o = Math.max(t.bottom, i); return t.y = r, t.height = o - r, t } })), n.register("wqr9Z", (function (t, e) { t.exports = function (t, e, i) { return t.x += e, t.y += i, t } })), n.register("1CVoT", (function (t, e) { t.exports = function (t, e) { return t.x += e.x, t.y += e.y, t } })), n.register("8sRjR", (function (t, e) { t.exports = function (t, e) { return t.x < e.right && t.right > e.x && t.y < e.bottom && t.bottom > e.y } })), n.register("d071K", (function (t, e) { var i = n("cSEB9"), s = n("2zqSA"); t.exports = function (t, e, n) { void 0 === n && (n = new i), e = s(e); var r = Math.sin(e), o = Math.cos(e), a = o > 0 ? t.width / 2 : t.width / -2, h = r > 0 ? t.height / 2 : t.height / -2; return Math.abs(a * r) < Math.abs(h * o) ? h = a * r / o : a = h * o / r, n.x = a + t.centerX, n.y = h + t.centerY, n } })), n.register("dQwMQ", (function (t, e) { var i = n("2EBZh"), s = n("k97Zg"), r = n("cSEB9"); t.exports = function (t, e, n) { if (void 0 === n && (n = new r), s(t, e)) switch (i(0, 3)) { case 0: n.x = t.x + Math.random() * (e.right - t.x), n.y = t.y + Math.random() * (e.top - t.y); break; case 1: n.x = e.x + Math.random() * (t.right - e.x), n.y = e.bottom + Math.random() * (t.bottom - e.bottom); break; case 2: n.x = t.x + Math.random() * (e.x - t.x), n.y = e.y + Math.random() * (t.bottom - e.y); break; case 3: n.x = e.right + Math.random() * (t.right - e.right), n.y = t.y + Math.random() * (e.bottom - t.y) }return n } })), n.register("hz0l4", (function (t, e) { t.exports = function (t, e) { return t.width === e.width && t.height === e.height } })), n.register("XreVq", (function (t, e) { t.exports = function (t, e, i) { return void 0 === i && (i = e), t.width *= e, t.height *= i, t } })), n.register("iq5jH", (function (t, e) { var i = n("1TF8x"); i.Area = n("3I0ab"), i.BuildEquilateral = n("jJKjT"), i.BuildFromPolygon = n("hYBAU"), i.BuildRight = n("VtnnF"), i.CenterOn = n("4lWfh"), i.Centroid = n("h9LPH"), i.CircumCenter = n("9kYeH"), i.CircumCircle = n("aBhG3"), i.Clone = n("bPApw"), i.Contains = n("7e4Vb"), i.ContainsArray = n("2ummv"), i.ContainsPoint = n("hGkQI"), i.CopyFrom = n("hq0U4"), i.Decompose = n("21YsO"), i.Equals = n("1VS9a"), i.GetPoint = n("dzuyF"), i.GetPoints = n("50jzU"), i.InCenter = n("4K7d6"), i.Perimeter = n("azTcC"), i.Offset = n("iHM3K"), i.Random = n("2MADn"), i.Rotate = n("jPvqq"), i.RotateAroundPoint = n("5PnUG"), i.RotateAroundXY = n("9xiU6"), t.exports = i })), n.register("3I0ab", (function (t, e) { t.exports = function (t) { var e = t.x1, i = t.y1, s = t.x2, n = t.y2, r = t.x3, o = t.y3; return Math.abs(((r - e) * (n - i) - (s - e) * (o - i)) / 2) } })), n.register("jJKjT", (function (t, e) { var i = n("1TF8x"); t.exports = function (t, e, s) { var n = s * (Math.sqrt(3) / 2); return new i(t, e, t + s / 2, e + n, t - s / 2, e + n) } })), n.register("hYBAU", (function (t, e) { var i = n("hjbjS"), s = n("1TF8x"); t.exports = function (t, e, n, r, o) { void 0 === e && (e = null), void 0 === n && (n = 1), void 0 === r && (r = 1), void 0 === o && (o = []); for (var a, h, l, u, c, d, f, p, g, v = i(t, e), m = 0; m < v.length; m += 3)a = v[m], h = v[m + 1], l = v[m + 2], u = t[2 * a] * n, c = t[2 * a + 1] * r, d = t[2 * h] * n, f = t[2 * h + 1] * r, p = t[2 * l] * n, g = t[2 * l + 1] * r, o.push(new s(u, c, d, f, p, g)); return o } })), n.register("VtnnF", (function (t, e) { var i = n("1TF8x"); t.exports = function (t, e, s, n) { return void 0 === n && (n = s), new i(t, e, t, e - n, t + s, e) } })), n.register("4lWfh", (function (t, e) { var i = n("h9LPH"), s = n("iHM3K"); t.exports = function (t, e, n, r) { void 0 === r && (r = i); var o = r(t), a = e - o.x, h = n - o.y; return s(t, a, h) } })), n.register("h9LPH", (function (t, e) { var i = n("cSEB9"); t.exports = function (t, e) { return void 0 === e && (e = new i), e.x = (t.x1 + t.x2 + t.x3) / 3, e.y = (t.y1 + t.y2 + t.y3) / 3, e } })), n.register("iHM3K", (function (t, e) { t.exports = function (t, e, i) { return t.x1 += e, t.y1 += i, t.x2 += e, t.y2 += i, t.x3 += e, t.y3 += i, t } })), n.register("9kYeH", (function (t, e) { var i = n("7SBSk"); function s(t, e, i, s) { return t * s - e * i } t.exports = function (t, e) { void 0 === e && (e = new i); var n = t.x3, r = t.y3, o = t.x1 - n, a = t.y1 - r, h = t.x2 - n, l = t.y2 - r, u = 2 * s(o, a, h, l), c = s(a, o * o + a * a, l, h * h + l * l), d = s(o, o * o + a * a, h, h * h + l * l); return e.x = n - c / u, e.y = r + d / u, e } })), n.register("aBhG3", (function (t, e) { var i = n("eQ4tZ"); t.exports = function (t, e) { void 0 === e && (e = new i); var s, n, r = t.x1, o = t.y1, a = t.x2, h = t.y2, l = t.x3, u = t.y3, c = a - r, d = h - o, f = l - r, p = u - o, g = c * (r + a) + d * (o + h), v = f * (r + l) + p * (o + u), m = 2 * (c * (u - h) - d * (l - a)); if (Math.abs(m) < 1e-6) { var y = Math.min(r, a, l), x = Math.min(o, h, u); s = .5 * (Math.max(r, a, l) - y), n = .5 * (Math.max(o, h, u) - x), e.x = y + s, e.y = x + n, e.radius = Math.sqrt(s * s + n * n) } else e.x = (p * g - d * v) / m, e.y = (c * v - f * g) / m, s = e.x - r, n = e.y - o, e.radius = Math.sqrt(s * s + n * n); return e } })), n.register("bPApw", (function (t, e) { var i = n("1TF8x"); t.exports = function (t) { return new i(t.x1, t.y1, t.x2, t.y2, t.x3, t.y3) } })), n.register("hGkQI", (function (t, e) { var i = n("7e4Vb"); t.exports = function (t, e) { return i(t, e.x, e.y) } })), n.register("hq0U4", (function (t, e) { t.exports = function (t, e) { return e.setTo(t.x1, t.y1, t.x2, t.y2, t.x3, t.y3) } })), n.register("1VS9a", (function (t, e) { t.exports = function (t, e) { return t.x1 === e.x1 && t.y1 === e.y1 && t.x2 === e.x2 && t.y2 === e.y2 && t.x3 === e.x3 && t.y3 === e.y3 } })), n.register("4K7d6", (function (t, e) { var i = n("cSEB9"); function s(t, e, i, s) { var n = t - i, r = e - s, o = n * n + r * r; return Math.sqrt(o) } t.exports = function (t, e) { void 0 === e && (e = new i); var n = t.x1, r = t.y1, o = t.x2, a = t.y2, h = t.x3, l = t.y3, u = s(h, l, o, a), c = s(n, r, h, l), d = s(o, a, n, r), f = u + c + d; return e.x = (n * u + o * c + h * d) / f, e.y = (r * u + a * c + l * d) / f, e } })), n.register("azTcC", (function (t, e) { var i = n("7Smss"); t.exports = function (t) { var e = t.getLineA(), s = t.getLineB(), n = t.getLineC(); return i(e) + i(s) + i(n) } })), n.register("jPvqq", (function (t, e) { var i = n("9xiU6"), s = n("4K7d6"); t.exports = function (t, e) { var n = s(t); return i(t, n.x, n.y, e) } })), n.register("9xiU6", (function (t, e) { t.exports = function (t, e, i, s) { var n = Math.cos(s), r = Math.sin(s), o = t.x1 - e, a = t.y1 - i; return t.x1 = o * n - a * r + e, t.y1 = o * r + a * n + i, o = t.x2 - e, a = t.y2 - i, t.x2 = o * n - a * r + e, t.y2 = o * r + a * n + i, o = t.x3 - e, a = t.y3 - i, t.x3 = o * n - a * r + e, t.y3 = o * r + a * n + i, t } })), n.register("5PnUG", (function (t, e) { var i = n("9xiU6"); t.exports = function (t, e, s) { return i(t, e.x, e.y, s) } })), n.register("lKFyN", (function (t, e) { var i = n("1BSIy"), s = n("hVk4C"), r = { CreateInteractiveObject: n("elGGb"), Events: n("2nOjn"), Gamepad: n("a3re3"), InputManager: n("5ZH3f"), InputPlugin: n("2aowr"), InputPluginCache: n("cdMQz"), Keyboard: n("5em2R"), Mouse: n("iTK5J"), Pointer: n("1Oao7"), Touch: n("egEbB") }; r = s(!1, r, i), t.exports = r })), n.register("elGGb", (function (t, e) { t.exports = function (t, e, i) { return { gameObject: t, enabled: !0, alwaysEnabled: !1, draggable: !1, dropZone: !1, cursor: !1, target: null, camera: null, hitArea: e, hitAreaCallback: i, hitAreaDebug: null, customHitArea: !1, localX: 0, localY: 0, dragState: 0, dragStartX: 0, dragStartY: 0, dragStartXGlobal: 0, dragStartYGlobal: 0, dragX: 0, dragY: 0 } } })), n.register("a3re3", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { Axis: n("6cpol"), Button: n("iOFFc"), Events: n("c97mn"), Gamepad: n("b4EQR"), GamepadPlugin: n("kgHTd"), Configs: n("1nW7X") }
})), n.register("6cpol", (function (t, e) { var i = new (n("jwj1g"))({ initialize: function (t, e) { this.pad = t, this.events = t.events, this.index = e, this.value = 0, this.threshold = .1 }, update: function (t) { this.value = t }, getValue: function () { return Math.abs(this.value) < this.threshold ? 0 : this.value }, destroy: function () { this.pad = null, this.events = null } }); t.exports = i })), n.register("iOFFc", (function (t, e) { var i = n("jwj1g"), s = n("c97mn"), r = new i({ initialize: function (t, e) { this.pad = t, this.events = t.manager, this.index = e, this.value = 0, this.threshold = 1, this.pressed = !1 }, update: function (t) { this.value = t; var e = this.pad, i = this.index; t >= this.threshold ? this.pressed || (this.pressed = !0, this.events.emit(s.BUTTON_DOWN, e, this, t), this.pad.emit(s.GAMEPAD_BUTTON_DOWN, i, t, this)) : this.pressed && (this.pressed = !1, this.events.emit(s.BUTTON_UP, e, this, t), this.pad.emit(s.GAMEPAD_BUTTON_UP, i, t, this)) }, destroy: function () { this.pad = null, this.events = null } }); t.exports = r })), n.register("c97mn", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { BUTTON_DOWN: n("atuUr"), BUTTON_UP: n("hYB5C"), CONNECTED: n("8teRQ"), DISCONNECTED: n("4niBo"), GAMEPAD_BUTTON_DOWN: n("emeVh"), GAMEPAD_BUTTON_UP: n("bygAz") }
})), n.register("atuUr", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "down"
})), n.register("hYB5C", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "up"
})), n.register("8teRQ", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "connected"
})), n.register("4niBo", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "disconnected"
})), n.register("emeVh", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "down"
})), n.register("bygAz", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "up"
})), n.register("b4EQR", (function (t, e) { var i = n("6cpol"), s = n("iOFFc"), r = n("jwj1g"), o = n("3vRz3"), a = n("7SBSk"), h = new r({ Extends: o, initialize: function (t, e) { o.call(this), this.manager = t, this.pad = e, this.id = e.id, this.index = e.index; for (var n = [], r = 0; r < e.buttons.length; r++)n.push(new s(this, r)); this.buttons = n; var h = []; for (r = 0; r < e.axes.length; r++)h.push(new i(this, r)); this.axes = h, this.vibration = e.vibrationActuator; var l = { value: 0, pressed: !1 }; this._LCLeft = n[14] ? n[14] : l, this._LCRight = n[15] ? n[15] : l, this._LCTop = n[12] ? n[12] : l, this._LCBottom = n[13] ? n[13] : l, this._RCLeft = n[2] ? n[2] : l, this._RCRight = n[1] ? n[1] : l, this._RCTop = n[3] ? n[3] : l, this._RCBottom = n[0] ? n[0] : l, this._FBLeftTop = n[4] ? n[4] : l, this._FBLeftBottom = n[6] ? n[6] : l, this._FBRightTop = n[5] ? n[5] : l, this._FBRightBottom = n[7] ? n[7] : l; var u = { value: 0 }; this._HAxisLeft = h[0] ? h[0] : u, this._VAxisLeft = h[1] ? h[1] : u, this._HAxisRight = h[2] ? h[2] : u, this._VAxisRight = h[3] ? h[3] : u, this.leftStick = new a, this.rightStick = new a }, getAxisTotal: function () { return this.axes.length }, getAxisValue: function (t) { return this.axes[t].getValue() }, setAxisThreshold: function (t) { for (var e = 0; e < this.axes.length; e++)this.axes[e].threshold = t }, getButtonTotal: function () { return this.buttons.length }, getButtonValue: function (t) { return this.buttons[t].value }, isButtonDown: function (t) { return this.buttons[t].pressed }, update: function (t) { var e, i = this.buttons, s = t.buttons, n = i.length; for (e = 0; e < n; e++)i[e].update(s[e].value); var r = this.axes, o = t.axes; for (n = r.length, e = 0; e < n; e++)r[e].update(o[e]); n >= 2 && (this.leftStick.set(r[0].getValue(), r[1].getValue()), n >= 4 && this.rightStick.set(r[2].getValue(), r[3].getValue())) }, destroy: function () { var t; for (this.removeAllListeners(), this.manager = null, this.pad = null, t = 0; t < this.buttons.length; t++)this.buttons[t].destroy(); for (t = 0; t < this.axes.length; t++)this.axes[t].destroy(); this.buttons = [], this.axes = [] }, connected: { get: function () { return this.pad.connected } }, timestamp: { get: function () { return this.pad.timestamp } }, left: { get: function () { return this._LCLeft.pressed } }, right: { get: function () { return this._LCRight.pressed } }, up: { get: function () { return this._LCTop.pressed } }, down: { get: function () { return this._LCBottom.pressed } }, A: { get: function () { return this._RCBottom.pressed } }, Y: { get: function () { return this._RCTop.pressed } }, X: { get: function () { return this._RCLeft.pressed } }, B: { get: function () { return this._RCRight.pressed } }, L1: { get: function () { return this._FBLeftTop.value } }, L2: { get: function () { return this._FBLeftBottom.value } }, R1: { get: function () { return this._FBRightTop.value } }, R2: { get: function () { return this._FBRightBottom.value } } }); t.exports = h })), n.register("kgHTd", (function (t, e) { var i = n("jwj1g"), s = n("3vRz3"), r = n("c97mn"), o = n("b4EQR"), a = n("5pMDk"), h = n("cdMQz"), l = n("2nOjn"), u = new i({ Extends: s, initialize: function (t) { s.call(this), this.scene = t.scene, this.settings = this.scene.sys.settings, this.sceneInputPlugin = t, this.enabled = !0, this.target, this.gamepads = [], this.queue = [], this.onGamepadHandler, this._pad1, this._pad2, this._pad3, this._pad4, t.pluginEvents.once(l.BOOT, this.boot, this), t.pluginEvents.on(l.START, this.start, this) }, boot: function () { var t = this.scene.sys.game, e = this.settings.input, i = t.config; this.enabled = a(e, "gamepad", i.inputGamepad) && t.device.input.gamepads, this.target = a(e, "gamepad.target", i.inputGamepadEventTarget), this.sceneInputPlugin.pluginEvents.once(l.DESTROY, this.destroy, this) }, start: function () { this.enabled && this.startListeners(), this.sceneInputPlugin.pluginEvents.once(l.SHUTDOWN, this.shutdown, this) }, isActive: function () { return this.enabled && this.scene.sys.isActive() }, startListeners: function () { var t = this, e = this.target, i = function (e) { !e.defaultPrevented && t.isActive() && (t.refreshPads(), t.queue.push(e)) }; this.onGamepadHandler = i, e.addEventListener("gamepadconnected", i, !1), e.addEventListener("gamepaddisconnected", i, !1), this.sceneInputPlugin.pluginEvents.on(l.UPDATE, this.update, this) }, stopListeners: function () { this.target.removeEventListener("gamepadconnected", this.onGamepadHandler), this.target.removeEventListener("gamepaddisconnected", this.onGamepadHandler), this.sceneInputPlugin.pluginEvents.off(l.UPDATE, this.update) }, disconnectAll: function () { for (var t = 0; t < this.gamepads.length; t++)this.gamepads.connected = !1 }, refreshPads: function () { var t = navigator.getGamepads(); if (t) for (var e = this.gamepads, i = 0; i < t.length; i++) { var s = t[i]; if (s) { var n = s.id, r = s.index, a = e[r]; if (a) a.id !== n ? (a.destroy(), e[r] = new o(this, s)) : a.update(s); else { var h = new o(this, s); e[r] = h, this._pad1 ? this._pad2 ? this._pad3 ? this._pad4 || (this._pad4 = h) : this._pad3 = h : this._pad2 = h : this._pad1 = h } } } else this.disconnectAll() }, getAll: function () { for (var t = [], e = this.gamepads, i = 0; i < e.length; i++)e[i] && t.push(e[i]); return t }, getPad: function (t) { for (var e = this.gamepads, i = 0; i < e.length; i++)if (e[i] && e[i].index === t) return e[i] }, update: function () { if (this.enabled) { this.refreshPads(); var t = this.queue.length; if (0 !== t) for (var e = this.queue.splice(0, t), i = 0; i < t; i++) { var s = e[i], n = this.getPad(s.gamepad.index); "gamepadconnected" === s.type ? this.emit(r.CONNECTED, n, s) : "gamepaddisconnected" === s.type && this.emit(r.DISCONNECTED, n, s) } } }, shutdown: function () { this.stopListeners(), this.disconnectAll(), this.removeAllListeners() }, destroy: function () { this.shutdown(); for (var t = 0; t < this.gamepads.length; t++)this.gamepads[t] && this.gamepads[t].destroy(); this.gamepads = [], this.scene = null, this.settings = null, this.sceneInputPlugin = null, this.target = null }, total: { get: function () { return this.gamepads.length } }, pad1: { get: function () { return this._pad1 } }, pad2: { get: function () { return this._pad2 } }, pad3: { get: function () { return this._pad3 } }, pad4: { get: function () { return this._pad4 } } }); h.register("GamepadPlugin", u, "gamepad", "gamepad", "inputGamepad"), t.exports = u })), n.register("cdMQz", (function (t, e) { var i = n("5pMDk"), s = {}, r = { register: function (t, e, i, n, r) { s[t] = { plugin: e, mapping: i, settingsKey: n, configKey: r } }, getPlugin: function (t) { return s[t] }, install: function (t) { var e = t.scene.sys, n = e.settings.input, r = e.game.config; for (var o in s) { var a = s[o].plugin, h = s[o].mapping, l = s[o].settingsKey, u = s[o].configKey; i(n, l, r[u]) && (t[h] = new a(t)) } }, remove: function (t) { s.hasOwnProperty(t) && delete s[t] } }; t.exports = r })), n.register("1nW7X", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { DUALSHOCK_4: n("j437e"), SNES_USB: n("8CAiJ"), XBOX_360: n("rMsWs") }
})), n.register("j437e", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { UP: 12, DOWN: 13, LEFT: 14, RIGHT: 15, SHARE: 8, OPTIONS: 9, PS: 16, TOUCHBAR: 17, X: 0, CIRCLE: 1, SQUARE: 2, TRIANGLE: 3, L1: 4, R1: 5, L2: 6, R2: 7, L3: 10, R3: 11, LEFT_STICK_H: 0, LEFT_STICK_V: 1, RIGHT_STICK_H: 2, RIGHT_STICK_V: 3 }
})), n.register("8CAiJ", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { UP: 12, DOWN: 13, LEFT: 14, RIGHT: 15, SELECT: 8, START: 9, B: 0, A: 1, Y: 2, X: 3, LEFT_SHOULDER: 4, RIGHT_SHOULDER: 5 }
})), n.register("rMsWs", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { UP: 12, DOWN: 13, LEFT: 14, RIGHT: 15, MENU: 16, A: 0, B: 1, X: 2, Y: 3, LB: 4, RB: 5, LT: 6, RT: 7, BACK: 8, START: 9, LS: 10, RS: 11, LEFT_STICK_H: 0, LEFT_STICK_V: 1, RIGHT_STICK_H: 2, RIGHT_STICK_V: 3 }
})), n.register("2aowr", (function (t, e) { var i = n("eQ4tZ"), s = n("6hp2k"), r = n("jwj1g"), o = n("1BSIy"), a = n("elGGb"), h = n("aFvH8"), l = n("bwLQh"), u = n("eaZcG"), c = n("dsAkp"), d = n("2nOjn"), f = n("3vRz3"), p = n("7BSWl"), g = n("gZ2BZ"), v = n("cdMQz"), m = n("jC9MQ"), y = n("7AzQW"), x = n("cwr8X"), w = n("6pEze"), T = n("4rtgc"), b = n("1TF8x"), S = n("7e4Vb"), A = new r({ Extends: f, initialize: function (t) { f.call(this), this.scene = t, this.systems = t.sys, this.settings = t.sys.settings, this.manager = t.sys.game.input, this.pluginEvents = new f, this.enabled = !0, this.displayList, this.cameras, v.install(this), this.mouse = this.manager.mouse, this.topOnly = !0, this.pollRate = -1, this._pollTimer = 0; var e = { cancelled: !1 }; this._eventContainer = { stopPropagation: function () { e.cancelled = !0 } }, this._eventData = e, this.dragDistanceThreshold = 0, this.dragTimeThreshold = 0, this._temp = [], this._tempZones = [], this._list = [], this._pendingInsertion = [], this._pendingRemoval = [], this._draggable = [], this._drag = { 0: [], 1: [], 2: [], 3: [], 4: [], 5: [], 6: [], 7: [], 8: [], 9: [], 10: [] }, this._dragState = [], this._over = { 0: [], 1: [], 2: [], 3: [], 4: [], 5: [], 6: [], 7: [], 8: [], 9: [], 10: [] }, this._validTypes = ["onDown", "onUp", "onOver", "onOut", "onMove", "onDragStart", "onDrag", "onDragEnd", "onDragEnter", "onDragLeave", "onDragOver", "onDrop"], this._updatedThisFrame = !1, t.sys.events.once(T.BOOT, this.boot, this), t.sys.events.on(T.START, this.start, this) }, boot: function () { this.cameras = this.systems.cameras, this.displayList = this.systems.displayList, this.systems.events.once(T.DESTROY, this.destroy, this), this.pluginEvents.emit(d.BOOT) }, start: function () { var t = this.systems.events; t.on(T.TRANSITION_START, this.transitionIn, this), t.on(T.TRANSITION_OUT, this.transitionOut, this), t.on(T.TRANSITION_COMPLETE, this.transitionComplete, this), t.on(T.PRE_UPDATE, this.preUpdate, this), t.once(T.SHUTDOWN, this.shutdown, this), this.manager.events.on(d.GAME_OUT, this.onGameOut, this), this.manager.events.on(d.GAME_OVER, this.onGameOver, this), this.enabled = !0, this._dragState = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], this.pluginEvents.emit(d.START) }, onGameOver: function (t) { this.isActive() && this.emit(d.GAME_OVER, t.timeStamp, t) }, onGameOut: function (t) { this.isActive() && this.emit(d.GAME_OUT, t.timeStamp, t) }, preUpdate: function () { this.pluginEvents.emit(d.PRE_UPDATE); var t = this._pendingRemoval, e = this._pendingInsertion, i = t.length, s = e.length; if (0 !== i || 0 !== s) { for (var n = this._list, r = 0; r < i; r++) { var o = t[r], a = n.indexOf(o); a > -1 && (n.splice(a, 1), this.clear(o, !0)) } t.length = 0, this._pendingRemoval.length = 0, this._list = n.concat(e.splice(0)) } }, isActive: function () { return this.enabled && this.scene.sys.isActive() }, updatePoll: function (t, e) { if (!this.isActive()) return !1; if (this.pluginEvents.emit(d.UPDATE, t, e), this._updatedThisFrame) return this._updatedThisFrame = !1, !1; var i, s = this.manager, n = s.pointers, r = s.pointersTotal; for (i = 0; i < r; i++)n[i].updateMotion(); if (0 === this._list.length) return !1; var o = this.pollRate; if (-1 === o) return !1; if (o > 0) { if (this._pollTimer -= e, !(this._pollTimer < 0)) return !1; this._pollTimer = this.pollRate } var a = !1; for (i = 0; i < r; i++) { var h = 0, l = n[i]; this._tempZones = [], this._temp = this.hitTestPointer(l), this.sortGameObjects(this._temp), this.sortGameObjects(this._tempZones), this.topOnly && (this._temp.length && this._temp.splice(1), this._tempZones.length && this._tempZones.splice(1)), h += this.processOverOutEvents(l), 2 === this.getDragState(l) && this.processDragThresholdEvent(l, t), h > 0 && (a = !0) } return a }, update: function (t, e) { if (!this.isActive()) return !1; for (var i = e.length, s = !1, n = 0; n < i; n++) { var r = 0, a = e[n]; switch (this._tempZones = [], this._temp = this.hitTestPointer(a), this.sortGameObjects(this._temp), this.sortGameObjects(this._tempZones), this.topOnly && (this._temp.length && this._temp.splice(1), this._tempZones.length && this._tempZones.splice(1)), t) { case o.MOUSE_DOWN: r += this.processDragDownEvent(a), r += this.processDownEvents(a), r += this.processOverOutEvents(a); break; case o.MOUSE_UP: r += this.processDragUpEvent(a), r += this.processUpEvents(a), r += this.processOverOutEvents(a); break; case o.TOUCH_START: r += this.processDragDownEvent(a), r += this.processDownEvents(a), r += this.processOverEvents(a); break; case o.TOUCH_END: case o.TOUCH_CANCEL: r += this.processDragUpEvent(a), r += this.processUpEvents(a), r += this.processOutEvents(a); break; case o.MOUSE_MOVE: case o.TOUCH_MOVE: r += this.processDragMoveEvent(a), r += this.processMoveEvents(a), r += this.processOverOutEvents(a); break; case o.MOUSE_WHEEL: r += this.processWheelEvent(a) }r > 0 && (s = !0) } return this._updatedThisFrame = !0, s }, clear: function (t, e) { void 0 === e && (e = !1); var i = t.input; if (i) { e || this.queueForRemoval(t), i.gameObject = void 0, i.target = void 0, i.hitArea = void 0, i.hitAreaCallback = void 0, i.callbackContext = void 0, this.manager.resetCursor(i), t.input = null; var s = this._draggable.indexOf(t); return s > -1 && this._draggable.splice(s, 1), (s = this._drag[0].indexOf(t)) > -1 && this._drag[0].splice(s, 1), (s = this._over[0].indexOf(t)) > -1 && this._over[0].splice(s, 1), t } }, disable: function (t) { t.input.enabled = !1 }, enable: function (t, e, i, s) { return void 0 === s && (s = !1), t.input ? t.input.enabled = !0 : this.setHitArea(t, e, i), t.input && s && !t.input.dropZone && (t.input.dropZone = s), this }, hitTestPointer: function (t) { for (var e = this.cameras.getCamerasBelowPointer(t), i = 0; i < e.length; i++) { for (var s = e[i], n = this.manager.hitTest(t, this._list, s), r = 0; r < n.length; r++) { var o = n[r]; o.input.dropZone && this._tempZones.push(o) } if (n.length > 0) return t.camera = s, n } return t.camera = e[0], [] }, processDownEvents: function (t) { var e = 0, i = this._temp, s = this._eventData, n = this._eventContainer; s.cancelled = !1; for (var r = !1, o = 0; o < i.length; o++) { var a = i[o]; if (a.input) { if (e++, a.emit(d.GAMEOBJECT_POINTER_DOWN, t, a.input.localX, a.input.localY, n), s.cancelled || !a.input) { r = !0; break } if (this.emit(d.GAMEOBJECT_DOWN, t, a, n), s.cancelled || !a.input) { r = !0; break } } } return !r && this.manager && (t.downElement === this.manager.game.canvas ? this.emit(d.POINTER_DOWN, t, i) : this.emit(d.POINTER_DOWN_OUTSIDE, t)), e }, getDragState: function (t) { return this._dragState[t.id] }, setDragState: function (t, e) { this._dragState[t.id] = e }, processDragThresholdEvent: function (t, e) { var i = !1, s = this.dragTimeThreshold, n = this.dragDistanceThreshold; if ((n > 0 && l(t.x, t.y, t.downX, t.downY) >= n || s > 0 && e >= t.downTime + s) && (i = !0), i) return this.setDragState(t, 3), this.processDragStartList(t) }, processDragStartList: function (t) { if (3 !== this.getDragState(t)) return 0; for (var e = this._drag[t.id], i = 0; i < e.length; i++) { var s = e[i], n = s.input; n.dragState = 2, n.dragStartX = s.x, n.dragStartY = s.y, n.dragStartXGlobal = t.x, n.dragStartYGlobal = t.y, n.dragX = n.dragStartXGlobal - n.dragStartX, n.dragY = n.dragStartYGlobal - n.dragStartY, s.emit(d.GAMEOBJECT_DRAG_START, t, n.dragX, n.dragY), this.emit(d.DRAG_START, t, s) } return this.setDragState(t, 4), e.length }, processDragDownEvent: function (t) { var e = this._temp; if (0 === this._draggable.length || 0 === e.length || !t.primaryDown || 0 !== this.getDragState(t)) return 0; this.setDragState(t, 1); for (var i = [], s = 0; s < e.length; s++) { var n = e[s]; n.input.draggable && 0 === n.input.dragState && i.push(n) } return 0 === i.length ? (this.setDragState(t, 0), 0) : (i.length > 1 && (this.sortGameObjects(i), this.topOnly && i.splice(1)), this._drag[t.id] = i, 0 === this.dragDistanceThreshold && 0 === this.dragTimeThreshold ? (this.setDragState(t, 3), this.processDragStartList(t)) : (this.setDragState(t, 2), 0)) }, processDragMoveEvent: function (t) { if (2 === this.getDragState(t) && this.processDragThresholdEvent(t, this.manager.game.loop.now), 4 !== this.getDragState(t)) return 0; for (var e = this._tempZones, i = this._drag[t.id], s = 0; s < i.length; s++) { var n, r, o = i[s], a = o.input, h = a.target; if (h) { var l = e.indexOf(h); 0 === l ? (o.emit(d.GAMEOBJECT_DRAG_OVER, t, h), this.emit(d.DRAG_OVER, t, o, h)) : l > 0 ? (o.emit(d.GAMEOBJECT_DRAG_LEAVE, t, h), this.emit(d.DRAG_LEAVE, t, o, h), a.target = e[0], h = a.target, o.emit(d.GAMEOBJECT_DRAG_ENTER, t, h), this.emit(d.DRAG_ENTER, t, o, h)) : (o.emit(d.GAMEOBJECT_DRAG_LEAVE, t, h), this.emit(d.DRAG_LEAVE, t, o, h), e[0] ? (a.target = e[0], h = a.target, o.emit(d.GAMEOBJECT_DRAG_ENTER, t, h), this.emit(d.DRAG_ENTER, t, o, h)) : a.target = null) } else !h && e[0] && (a.target = e[0], h = a.target, o.emit(d.GAMEOBJECT_DRAG_ENTER, t, h), this.emit(d.DRAG_ENTER, t, o, h)); if (o.parentContainer) { var u = t.x - a.dragStartXGlobal, c = t.y - a.dragStartYGlobal, f = o.getParentRotation(), p = u * Math.cos(f) + c * Math.sin(f), g = c * Math.cos(f) - u * Math.sin(f); p *= 1 / o.parentContainer.scaleX, g *= 1 / o.parentContainer.scaleY, n = p + a.dragStartX, r = g + a.dragStartY } else n = t.x - a.dragX, r = t.y - a.dragY; o.emit(d.GAMEOBJECT_DRAG, t, n, r), this.emit(d.DRAG, t, o, n, r) } return i.length }, processDragUpEvent: function (t) { for (var e = this._drag[t.id], i = 0; i < e.length; i++) { var s = e[i], n = s.input; if (n && 2 === n.dragState) { n.dragState = 0, n.dragX = n.localX - s.displayOriginX, n.dragY = n.localY - s.displayOriginY; var r = !1, o = n.target; o && (s.emit(d.GAMEOBJECT_DROP, t, o), this.emit(d.DROP, t, s, o), n.target = null, r = !0), s.input && (s.emit(d.GAMEOBJECT_DRAG_END, t, n.dragX, n.dragY, r), this.emit(d.DRAG_END, t, s, r)) } } return this.setDragState(t, 0), e.splice(0), 0 }, processMoveEvents: function (t) { var e = 0, i = this._temp, s = this._eventData, n = this._eventContainer; s.cancelled = !1; for (var r = !1, o = 0; o < i.length; o++) { var a = i[o]; if (a.input) { if (e++, a.emit(d.GAMEOBJECT_POINTER_MOVE, t, a.input.localX, a.input.localY, n), s.cancelled || !a.input) { r = !0; break } if (this.emit(d.GAMEOBJECT_MOVE, t, a, n), s.cancelled || !a.input) { r = !0; break } if (this.topOnly) break } } return r || this.emit(d.POINTER_MOVE, t, i), e }, processWheelEvent: function (t) { var e = 0, i = this._temp, s = this._eventData, n = this._eventContainer; s.cancelled = !1; for (var r = !1, o = t.deltaX, a = t.deltaY, h = t.deltaZ, l = 0; l < i.length; l++) { var u = i[l]; if (u.input) { if (e++, u.emit(d.GAMEOBJECT_POINTER_WHEEL, t, o, a, h, n), s.cancelled || !u.input) { r = !0; break } if (this.emit(d.GAMEOBJECT_WHEEL, t, u, o, a, h, n), s.cancelled || !u.input) { r = !0; break } } } return r || this.emit(d.POINTER_WHEEL, t, i, o, a, h), e }, processOverEvents: function (t) { var e = this._temp, i = 0, s = e.length, n = []; if (s > 0) { var r = this.manager, o = this._eventData, a = this._eventContainer; o.cancelled = !1; for (var h = !1, l = 0; l < s; l++) { var u = e[l]; if (u.input) { if (n.push(u), r.setCursor(u.input), u.emit(d.GAMEOBJECT_POINTER_OVER, t, u.input.localX, u.input.localY, a), i++, o.cancelled || !u.input) { h = !0; break } if (this.emit(d.GAMEOBJECT_OVER, t, u, a), o.cancelled || !u.input) { h = !0; break } } } h || this.emit(d.POINTER_OVER, t, n) } return this._over[t.id] = n, i }, processOutEvents: function (t) { var e = this._over[t.id], i = 0, s = e.length; if (s > 0) { var n = this.manager, r = this._eventData, o = this._eventContainer; r.cancelled = !1; var a = !1; this.sortGameObjects(e); for (var h = 0; h < s; h++) { var l = e[h]; for (h = 0; h < s; h++)if ((l = e[h]).input) { if (n.resetCursor(l.input), l.emit(d.GAMEOBJECT_POINTER_OUT, t, o), i++, r.cancelled || !l.input) { a = !0; break } if (this.emit(d.GAMEOBJECT_OUT, t, l, o), r.cancelled || !l.input) { a = !0; break } } a || this.emit(d.POINTER_OUT, t, e) } this._over[t.id] = [] } return i }, processOverOutEvents: function (t) { var e, i, s = this._temp, n = [], r = [], o = [], a = this._over[t.id], h = this._drag[t.id], l = this.manager; for (e = 0; e < a.length; e++)i = a[e], -1 === s.indexOf(i) && -1 === h.indexOf(i) ? n.push(i) : o.push(i); for (e = 0; e < s.length; e++)i = s[e], -1 === a.indexOf(i) && r.push(i); var u = n.length, c = 0, f = this._eventData, p = this._eventContainer; f.cancelled = !1; var g = !1; if (u > 0) { for (this.sortGameObjects(n), e = 0; e < u; e++)if ((i = n[e]).input) { if (l.resetCursor(i.input), i.emit(d.GAMEOBJECT_POINTER_OUT, t, p), c++, f.cancelled || !i.input) { g = !0; break } if (this.emit(d.GAMEOBJECT_OUT, t, i, p), f.cancelled || !i.input) { g = !0; break } } g || this.emit(d.POINTER_OUT, t, n) } if (u = r.length, f.cancelled = !1, g = !1, u > 0) { for (this.sortGameObjects(r), e = 0; e < u; e++)if ((i = r[e]).input) { if (l.setCursor(i.input), i.emit(d.GAMEOBJECT_POINTER_OVER, t, i.input.localX, i.input.localY, p), c++, f.cancelled || !i.input) { g = !0; break } if (this.emit(d.GAMEOBJECT_OVER, t, i, p), f.cancelled || !i.input) { g = !0; break } } g || this.emit(d.POINTER_OVER, t, r) } return a = o.concat(r), this._over[t.id] = this.sortGameObjects(a), c }, processUpEvents: function (t) { var e = this._temp, i = this._eventData, s = this._eventContainer; i.cancelled = !1; for (var n = !1, r = 0; r < e.length; r++) { var o = e[r]; if (o.input) { if (o.emit(d.GAMEOBJECT_POINTER_UP, t, o.input.localX, o.input.localY, s), i.cancelled || !o.input) { n = !0; break } if (this.emit(d.GAMEOBJECT_UP, t, o, s), i.cancelled || !o.input) { n = !0; break } } } return !n && this.manager && (t.upElement === this.manager.game.canvas ? this.emit(d.POINTER_UP, t, e) : this.emit(d.POINTER_UP_OUTSIDE, t)), e.length }, queueForInsertion: function (t) { return -1 === this._pendingInsertion.indexOf(t) && -1 === this._list.indexOf(t) && this._pendingInsertion.push(t), this }, queueForRemoval: function (t) { return this._pendingRemoval.push(t), this }, setDraggable: function (t, e) { void 0 === e && (e = !0), Array.isArray(t) || (t = [t]); for (var i = 0; i < t.length; i++) { var s = t[i]; s.input.draggable = e; var n = this._draggable.indexOf(s); e && -1 === n ? this._draggable.push(s) : !e && n > -1 && this._draggable.splice(n, 1) } return this }, makePixelPerfect: function (t) { void 0 === t && (t = 1); var e = this.systems.textures; return h(e, t) }, setHitArea: function (t, e, i) { if (void 0 === e) return this.setHitAreaFromTexture(t); Array.isArray(t) || (t = [t]); var s = !1, n = !1, r = !1, o = !1, h = !1, l = !0; if (m(e)) { var u = e; e = p(u, "hitArea", null), i = p(u, "hitAreaCallback", null), s = p(u, "draggable", !1), n = p(u, "dropZone", !1), r = p(u, "cursor", !1), o = p(u, "useHandCursor", !1), h = p(u, "pixelPerfect", !1); var c = p(u, "alphaTolerance", 1); h && (e = {}, i = this.makePixelPerfect(c)), e && i || (this.setHitAreaFromTexture(t), l = !1) } else "function" != typeof e || i || (i = e, e = {}); for (var d = 0; d < t.length; d++) { var f = t[d]; if (h && "Container" === f.type) console.warn("Cannot pixelPerfect test a Container. Use a custom callback."); else { var g = f.input ? f.input : a(f, e, i); g.customHitArea = l, g.dropZone = n, g.cursor = o ? "pointer" : r, f.input = g, s && this.setDraggable(f), this.queueForInsertion(f) } } return this }, setHitAreaCircle: function (t, e, n, r, o) { void 0 === o && (o = s); var a = new i(e, n, r); return this.setHitArea(t, a, o) }, setHitAreaEllipse: function (t, e, i, s, n, r) { void 0 === r && (r = c); var o = new u(e, i, s, n); return this.setHitArea(t, o, r) }, setHitAreaFromTexture: function (t, e) { void 0 === e && (e = w), Array.isArray(t) || (t = [t]); for (var i = 0; i < t.length; i++) { var s = t[i], n = s.frame, r = 0, o = 0; s.width ? (r = s.width, o = s.height) : n && (r = n.realWidth, o = n.realHeight), "Container" !== s.type || 0 !== r && 0 !== o ? 0 !== r && 0 !== o && (s.input = a(s, new x(0, 0, r, o), e), this.queueForInsertion(s)) : console.warn("Container.setInteractive must specify a Shape or call setSize() first") } return this }, setHitAreaRectangle: function (t, e, i, s, n, r) { void 0 === r && (r = w); var o = new x(e, i, s, n); return this.setHitArea(t, o, r) }, setHitAreaTriangle: function (t, e, i, s, n, r, o, a) { void 0 === a && (a = S); var h = new b(e, i, s, n, r, o); return this.setHitArea(t, h, a) }, enableDebug: function (t, e) { void 0 === e && (e = 65280); var i = t.input; if (!i || !i.hitArea) return this; var s = i.hitArea, n = s.type, r = i.hitAreaDebug, o = this.systems.add, a = this.systems.updateList; r && (a.remove(r), r.destroy(), r = null); var h = 0, l = 0; switch (n) { case g.CIRCLE: r = o.arc(0, 0, s.radius), h = s.x - s.radius, l = s.y - s.radius; break; case g.ELLIPSE: r = o.ellipse(0, 0, s.width, s.height), h = s.x - s.width / 2, l = s.y - s.height / 2; break; case g.LINE: r = o.line(0, 0, s.x1, s.y1, s.x2, s.y2); break; case g.POLYGON: r = o.polygon(0, 0, s.points); break; case g.RECTANGLE: r = o.rectangle(0, 0, s.width, s.height), h = s.x, l = s.y; break; case g.TRIANGLE: r = o.triangle(0, 0, s.x1, s.y1, s.x2, s.y2, s.x3, s.y3) }return r && (r.isFilled = !1, r.preUpdate = function () { r.setStrokeStyle(1 / t.scale, e), r.setDisplayOrigin(t.displayOriginX, t.displayOriginY), r.setRotation(t.rotation), r.setScale(t.scaleX, t.scaleY), r.setPosition(t.x + h, t.y + l), r.setScrollFactor(t.scrollFactorX, t.scrollFactorY) }, a.add(r), i.hitAreaDebug = r), this }, removeDebug: function (t) { var e = t.input; if (e && e.hitAreaDebug) { var i = e.hitAreaDebug; this.systems.updateList.remove(i), i.destroy(), e.hitAreaDebug = null } return this }, setPollAlways: function () { return this.setPollRate(0) }, setPollOnMove: function () { return this.setPollRate(-1) }, setPollRate: function (t) { return this.pollRate = t, this._pollTimer = 0, this }, setGlobalTopOnly: function (t) { return this.manager.globalTopOnly = t, this }, setTopOnly: function (t) { return this.topOnly = t, this }, sortGameObjects: function (t) { return t.length < 2 ? t : (this.scene.sys.depthSort(), t.sort(this.sortHandlerGO.bind(this))) }, sortHandlerGO: function (t, e) { if (!t.parentContainer && !e.parentContainer) return this.displayList.getIndex(e) - this.displayList.getIndex(t); if (t.parentContainer === e.parentContainer) return e.parentContainer.getIndex(e) - t.parentContainer.getIndex(t); if (t.parentContainer === e) return -1; if (e.parentContainer === t) return 1; for (var i = t.getIndexList(), s = e.getIndexList(), n = Math.min(i.length, s.length), r = 0; r < n; r++) { var o = i[r], a = s[r]; if (o !== a) return a - o } return 0 }, stopPropagation: function () { return this.manager._tempSkip = !0, this }, addPointer: function (t) { return this.manager.addPointer(t) }, setDefaultCursor: function (t) { return this.manager.setDefaultCursor(t), this }, transitionIn: function () { this.enabled = this.settings.transitionAllowInput }, transitionComplete: function () { this.settings.transitionAllowInput || (this.enabled = !0) }, transitionOut: function () { this.enabled = this.settings.transitionAllowInput }, shutdown: function () { this.pluginEvents.emit(d.SHUTDOWN), this._temp.length = 0, this._list.length = 0, this._draggable.length = 0, this._pendingRemoval.length = 0, this._pendingInsertion.length = 0, this._dragState.length = 0; for (var t = 0; t < 10; t++)this._drag[t] = [], this._over[t] = []; this.removeAllListeners(); var e = this.systems.events; e.off(T.TRANSITION_START, this.transitionIn, this), e.off(T.TRANSITION_OUT, this.transitionOut, this), e.off(T.TRANSITION_COMPLETE, this.transitionComplete, this), e.off(T.PRE_UPDATE, this.preUpdate, this), this.manager.events.off(d.GAME_OUT, this.onGameOut, this), this.manager.events.off(d.GAME_OVER, this.onGameOver, this), e.off(T.SHUTDOWN, this.shutdown, this) }, destroy: function () { this.shutdown(), this.pluginEvents.emit(d.DESTROY), this.pluginEvents.removeAllListeners(), this.scene.sys.events.off(T.START, this.start, this), this.scene = null, this.cameras = null, this.manager = null, this.events = null, this.mouse = null }, x: { get: function () { return this.manager.activePointer.x } }, y: { get: function () { return this.manager.activePointer.y } }, isOver: { get: function () { return this.manager.isOver } }, mousePointer: { get: function () { return this.manager.mousePointer } }, activePointer: { get: function () { return this.manager.activePointer } }, pointer1: { get: function () { return this.manager.pointers[1] } }, pointer2: { get: function () { return this.manager.pointers[2] } }, pointer3: { get: function () { return this.manager.pointers[3] } }, pointer4: { get: function () { return this.manager.pointers[4] } }, pointer5: { get: function () { return this.manager.pointers[5] } }, pointer6: { get: function () { return this.manager.pointers[6] } }, pointer7: { get: function () { return this.manager.pointers[7] } }, pointer8: { get: function () { return this.manager.pointers[8] } }, pointer9: { get: function () { return this.manager.pointers[9] } }, pointer10: { get: function () { return this.manager.pointers[10] } } }); y.register("InputPlugin", A, "input"), t.exports = A })), n.register("aFvH8", (function (t, e) { t.exports = function (t, e) { return function (i, s, n, r) { var o = t.getPixelAlpha(s, n, r.texture.key, r.frame.name); return o && o >= e } } })), n.register("5em2R", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { Events: n("ktuRg"), KeyboardManager: n("c0CF7"), KeyboardPlugin: n("c6rYT"), Key: n("dhUOR"), KeyCodes: n("hmrEO"), KeyCombo: n("9nAMT"), JustDown: n("4qXaU"), JustUp: n("69Yg3"), DownDuration: n("4fsjq"), UpDuration: n("7tfD5") }
})), n.register("ktuRg", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { ANY_KEY_DOWN: n("2bTcJ"), ANY_KEY_UP: n("ghfPO"), COMBO_MATCH: n("gYulO"), DOWN: n("1wYhT"), KEY_DOWN: n("8OSRB"), KEY_UP: n("dkiky"), UP: n("1ZtSU") }
})), n.register("2bTcJ", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "keydown"
})), n.register("ghfPO", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "keyup"
})), n.register("gYulO", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "keycombomatch"
})), n.register("1wYhT", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "down"
})), n.register("8OSRB", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "keydown-"
})), n.register("dkiky", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "keyup-"
})), n.register("1ZtSU", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "up"
})), n.register("c6rYT", (function (t, e) { var i = n("jwj1g"), s = n("3vRz3"), r = n("ktuRg"), o = n("aqcI1"), a = n("5pMDk"), h = n("2nOjn"), l = n("cdMQz"), u = n("dhUOR"), c = n("hmrEO"), d = n("9nAMT"), f = n("7nRqR"), p = n("jcIaO"), g = new i({ Extends: s, initialize: function (t) { s.call(this), this.game = t.systems.game, this.scene = t.scene, this.settings = this.scene.sys.settings, this.sceneInputPlugin = t, this.manager = t.manager.keyboard, this.enabled = !0, this.keys = [], this.combos = [], t.pluginEvents.once(h.BOOT, this.boot, this), t.pluginEvents.on(h.START, this.start, this) }, boot: function () { var t = this.settings.input; this.enabled = a(t, "keyboard", !0); var e = a(t, "keyboard.capture", null); e && this.addCaptures(e), this.sceneInputPlugin.pluginEvents.once(h.DESTROY, this.destroy, this) }, start: function () { this.sceneInputPlugin.manager.useQueue ? this.sceneInputPlugin.pluginEvents.on(h.UPDATE, this.update, this) : this.sceneInputPlugin.manager.events.on(h.MANAGER_PROCESS, this.update, this), this.sceneInputPlugin.pluginEvents.once(h.SHUTDOWN, this.shutdown, this), this.game.events.on(o.BLUR, this.resetKeys, this) }, isActive: function () { return this.enabled && this.scene.sys.isActive() }, addCapture: function (t) { return this.manager.addCapture(t), this }, removeCapture: function (t) { return this.manager.removeCapture(t), this }, getCaptures: function () { return this.manager.captures }, enableGlobalCapture: function () { return this.manager.preventDefault = !0, this }, disableGlobalCapture: function () { return this.manager.preventDefault = !1, this }, clearCaptures: function () { return this.manager.clearCaptures(), this }, createCursorKeys: function () { return this.addKeys({ up: c.UP, down: c.DOWN, left: c.LEFT, right: c.RIGHT, space: c.SPACE, shift: c.SHIFT }) }, addKeys: function (t, e, i) { void 0 === e && (e = !0), void 0 === i && (i = !1); var s = {}; if ("string" == typeof t) { t = t.split(","); for (var n = 0; n < t.length; n++) { var r = t[n].trim(); r && (s[r] = this.addKey(r, e, i)) } } else for (var o in t) s[o] = this.addKey(t[o], e, i); return s }, addKey: function (t, e, i) { void 0 === e && (e = !0), void 0 === i && (i = !1); var s = this.keys; if (t instanceof u) { var n = s.indexOf(t); return n > -1 ? s[n] = t : s[t.keyCode] = t, e && this.addCapture(t.keyCode), t.setEmitOnRepeat(i), t } return "string" == typeof t && (t = c[t.toUpperCase()]), s[t] || (s[t] = new u(this, t), e && this.addCapture(t), s[t].setEmitOnRepeat(i)), s[t] }, removeKey: function (t, e) { void 0 === e && (e = !1); var i, s = this.keys; if (t instanceof u) { var n = s.indexOf(t); n > -1 && (i = this.keys[n], this.keys[n] = void 0) } else "string" == typeof t && (t = c[t.toUpperCase()]); return s[t] && (i = s[t], s[t] = void 0), i && (i.plugin = null, e && i.destroy()), this }, createCombo: function (t, e) { return new d(this, t, e) }, checkDown: function (t, e) { if (this.enabled && t.isDown) { var i = p(this.time - t.timeDown, e); if (i > t._tick) return t._tick = i, !0 } return !1 }, update: function () { var t = this.manager.queue, e = t.length; if (this.isActive() && 0 !== e) for (var i = this.keys, s = 0; s < e; s++) { var n = t[s], o = n.keyCode, a = i[o], h = !1; void 0 === n.cancelled && (n.cancelled = 0, n.stopImmediatePropagation = function () { n.cancelled = 1 }, n.stopPropagation = function () { n.cancelled = -1 }), -1 !== n.cancelled && ("keydown" === n.type ? (a && (h = a.isDown, a.onDown(n)), n.cancelled || a && h || (f[o] && (this.emit(r.KEY_DOWN + f[o], n), this.emit("keydown_" + f[o], n)), n.cancelled || this.emit(r.ANY_KEY_DOWN, n))) : (a && a.onUp(n), n.cancelled || (f[o] && (this.emit(r.KEY_UP + f[o], n), this.emit("keyup_" + f[o], n)), n.cancelled || this.emit(r.ANY_KEY_UP, n))), 1 === n.cancelled && (n.cancelled = 0)) } }, resetKeys: function () { for (var t = this.keys, e = 0; e < t.length; e++)t[e] && t[e].reset(); return this }, shutdown: function () { this.resetKeys(), this.sceneInputPlugin.manager.useQueue ? this.sceneInputPlugin.pluginEvents.off(h.UPDATE, this.update, this) : this.sceneInputPlugin.manager.events.off(h.MANAGER_PROCESS, this.update, this), this.game.events.off(o.BLUR, this.resetKeys), this.removeAllListeners(), this.queue = [] }, destroy: function () { this.shutdown(); for (var t = this.keys, e = 0; e < t.length; e++)t[e] && t[e].destroy(); this.keys = [], this.combos = [], this.queue = [], this.scene = null, this.settings = null, this.sceneInputPlugin = null, this.manager = null }, time: { get: function () { return this.sceneInputPlugin.manager.time } } }); l.register("KeyboardPlugin", g, "keyboard", "keyboard", "inputKeyboard"), t.exports = g })), n.register("dhUOR", (function (t, e) { var i = n("jwj1g"), s = n("3vRz3"), r = n("ktuRg"), o = new i({ Extends: s, initialize: function (t, e) { s.call(this), this.plugin = t, this.keyCode = e, this.originalEvent = void 0, this.enabled = !0, this.isDown = !1, this.isUp = !0, this.altKey = !1, this.ctrlKey = !1, this.shiftKey = !1, this.metaKey = !1, this.location = 0, this.timeDown = 0, this.duration = 0, this.timeUp = 0, this.emitOnRepeat = !1, this.repeats = 0, this._justDown = !1, this._justUp = !1, this._tick = -1 }, setEmitOnRepeat: function (t) { return this.emitOnRepeat = t, this }, onDown: function (t) { this.originalEvent = t, this.enabled && (this.altKey = t.altKey, this.ctrlKey = t.ctrlKey, this.shiftKey = t.shiftKey, this.metaKey = t.metaKey, this.location = t.location, this.repeats++, this.isDown ? this.emitOnRepeat && this.emit(r.DOWN, this, t) : (this.isDown = !0, this.isUp = !1, this.timeDown = t.timeStamp, this.duration = 0, this._justDown = !0, this._justUp = !1, this.emit(r.DOWN, this, t))) }, onUp: function (t) { this.originalEvent = t, this.enabled && (this.isDown = !1, this.isUp = !0, this.timeUp = t.timeStamp, this.duration = this.timeUp - this.timeDown, this.repeats = 0, this._justDown = !1, this._justUp = !0, this._tick = -1, this.emit(r.UP, this, t)) }, reset: function () { return this.preventDefault = !0, this.enabled = !0, this.isDown = !1, this.isUp = !0, this.altKey = !1, this.ctrlKey = !1, this.shiftKey = !1, this.metaKey = !1, this.timeDown = 0, this.duration = 0, this.timeUp = 0, this.repeats = 0, this._justDown = !1, this._justUp = !1, this._tick = -1, this }, getDuration: function () { return this.isDown ? this.plugin.game.loop.time - this.timeDown : 0 }, destroy: function () { this.removeAllListeners(), this.originalEvent = null, this.plugin = null } }); t.exports = o })), n.register("9nAMT", (function (t, e) { var i = n("jwj1g"), s = n("ktuRg"), r = n("7BSWl"), o = n("lz3li"), a = n("15qzb"), h = new i({ initialize: function (t, e, i) { if (void 0 === i && (i = {}), e.length < 2) return !1; this.manager = t, this.enabled = !0, this.keyCodes = []; for (var n = 0; n < e.length; n++) { var h = e[n]; "string" == typeof h ? this.keyCodes.push(h.toUpperCase().charCodeAt(0)) : "number" == typeof h ? this.keyCodes.push(h) : h.hasOwnProperty("keyCode") && this.keyCodes.push(h.keyCode) } this.current = this.keyCodes[0], this.index = 0, this.size = this.keyCodes.length, this.timeLastMatched = 0, this.matched = !1, this.timeMatched = 0, this.resetOnWrongKey = r(i, "resetOnWrongKey", !0), this.maxKeyDelay = r(i, "maxKeyDelay", 0), this.resetOnMatch = r(i, "resetOnMatch", !1), this.deleteOnMatch = r(i, "deleteOnMatch", !1); var l = this; this.onKeyDown = function (t) { !l.matched && l.enabled && (o(t, l) && (l.manager.emit(s.COMBO_MATCH, l, t), l.resetOnMatch ? a(l) : l.deleteOnMatch && l.destroy())) }, this.manager.on(s.ANY_KEY_DOWN, this.onKeyDown) }, progress: { get: function () { return this.index / this.size } }, destroy: function () { this.enabled = !1, this.keyCodes = [], this.manager.off(s.ANY_KEY_DOWN, this.onKeyDown), this.manager = null } }); t.exports = h })), n.register("lz3li", (function (t, e) { var i = n("gdeyH"); t.exports = function (t, e) { if (e.matched) return !0; var s = !1, n = !1; if (t.keyCode === e.current) if (e.index > 0 && e.maxKeyDelay > 0) { var r = e.timeLastMatched + e.maxKeyDelay; t.timeStamp <= r && (n = !0, s = i(t, e)) } else n = !0, s = i(t, e); return !n && e.resetOnWrongKey && (e.index = 0, e.current = e.keyCodes[0]), s && (e.timeLastMatched = t.timeStamp, e.matched = !0, e.timeMatched = t.timeStamp), s } })), n.register("gdeyH", (function (t, e) { t.exports = function (t, e) { return e.timeLastMatched = t.timeStamp, e.index++, e.index === e.size || (e.current = e.keyCodes[e.index], !1) } })), n.register("15qzb", (function (t, e) { t.exports = function (t) { return t.current = t.keyCodes[0], t.index = 0, t.timeLastMatched = 0, t.matched = !1, t.timeMatched = 0, t } })), n.register("7nRqR", (function (t, e) { var i = n("hmrEO"), s = {}; for (var r in i) s[i[r]] = r; t.exports = s })), n.register("4qXaU", (function (t, e) { t.exports = function (t) { return !!t._justDown && (t._justDown = !1, !0) } })), n.register("69Yg3", (function (t, e) { t.exports = function (t) { return !!t._justUp && (t._justUp = !1, !0) } })), n.register("4fsjq", (function (t, e) { t.exports = function (t, e) { void 0 === e && (e = 50); var i = t.plugin.game.loop.time - t.timeDown; return t.isDown && i < e } })), n.register("7tfD5", (function (t, e) { t.exports = function (t, e) { void 0 === e && (e = 50); var i = t.plugin.game.loop.time - t.timeUp; return t.isUp && i < e } })), n.register("iTK5J", (function (t, e) {
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */t.exports = { MouseManager: n("jy9yA") }
})), n.register("egEbB", (function (t, e) {
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */t.exports = { TouchManager: n("d3PYD") }
})), n.register("89Da5", (function (t, e) { var i = n("jOz8I"), s = n("hVk4C"), r = { Events: n("ls69h"), FileTypes: n("10loJ"), File: n("8Aww1"), FileTypesManager: n("9csvT"), GetURL: n("6MxE8"), LoaderPlugin: n("5eeE2"), MergeXHRSettings: n("gAlTf"), MultiFile: n("B7Zxi"), XHRLoader: n("eohDK"), XHRSettings: n("kTh8x") }; r = s(!1, r, i), t.exports = r })), n.register("jOz8I", (function (t, e) { t.exports = { LOADER_IDLE: 0, LOADER_LOADING: 1, LOADER_PROCESSING: 2, LOADER_COMPLETE: 3, LOADER_SHUTDOWN: 4, LOADER_DESTROYED: 5, FILE_PENDING: 10, FILE_LOADING: 11, FILE_LOADED: 12, FILE_FAILED: 13, FILE_PROCESSING: 14, FILE_ERRORED: 16, FILE_COMPLETE: 17, FILE_DESTROYED: 18, FILE_POPULATED: 19 } })), n.register("10loJ", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { AnimationJSONFile: n("bFniC"), AtlasJSONFile: n("jWhe0"), AtlasXMLFile: n("e6x5K"), AudioFile: n("5fnRj"), AudioSpriteFile: n("2PFPJ"), BinaryFile: n("htyZ3"), BitmapFontFile: n("eqnR1"), CSSFile: n("456Xt"), GLSLFile: n("cfaNt"), HTML5AudioFile: n("cBw3Y"), HTMLFile: n("fky3L"), HTMLTextureFile: n("hC7gq"), ImageFile: n("gT96E"), JSONFile: n("j0zmu"), MultiAtlasFile: n("3NA92"), MultiScriptFile: n("8g88p"), PackFile: n("9i0hf"), PluginFile: n("lpnsI"), SceneFile: n("8nYaJ"), ScenePluginFile: n("4FmI6"), ScriptFile: n("fh7OQ"), SpriteSheetFile: n("7z6bR"), SVGFile: n("763ZX"), TextFile: n("xcajA"), TilemapCSVFile: n("5xR0u"), TilemapImpactFile: n("k8GdB"), TilemapJSONFile: n("jtcSd"), UnityAtlasFile: n("luwkr"), VideoFile: n("aEsfq"), XMLFile: n("wRXCw") }
})), n.register("bFniC", (function (t, e) { var i = n("jwj1g"), s = n("9csvT"), r = n("j0zmu"), o = n("ls69h"), a = new i({ Extends: r, initialize: function (t, e, i, s, n) { r.call(this, t, e, i, s, n), this.type = "animationJSON" }, onProcess: function () { this.loader.once(o.POST_PROCESS, this.onLoadComplete, this), r.prototype.onProcess.call(this) }, onLoadComplete: function () { this.loader.systems.anims.fromJSON(this.data), this.pendingDestroy() } }); s.register("animation", (function (t, e, i, s) { if (Array.isArray(t)) for (var n = 0; n < t.length; n++)this.addFile(new a(this, t[n])); else this.addFile(new a(this, t, e, s, i)); return this })), t.exports = a })), n.register("j0zmu", (function (t, e) { var i = n("jwj1g"), s = n("jOz8I"), r = n("8Aww1"), o = n("9csvT"), a = n("7BSWl"), h = n("5pMDk"), l = n("jC9MQ"), u = new i({ Extends: r, initialize: function (t, e, i, n, o) { var u = "json"; if (l(e)) { var c = e; e = a(c, "key"), i = a(c, "url"), n = a(c, "xhrSettings"), u = a(c, "extension", u), o = a(c, "dataKey", o) } var d = { type: "json", cache: t.cacheManager.json, extension: u, responseType: "text", key: e, url: i, xhrSettings: n, config: o }; r.call(this, t, d), l(i) && (this.data = o ? h(i, o) : i, this.state = s.FILE_POPULATED) }, onProcess: function () { if (this.state !== s.FILE_POPULATED) { this.state = s.FILE_PROCESSING; var t = JSON.parse(this.xhrLoader.responseText), e = this.config; this.data = "string" == typeof e ? h(t, e, t) : t } this.onProcessComplete() } }); o.register("json", (function (t, e, i, s) { if (Array.isArray(t)) for (var n = 0; n < t.length; n++)this.addFile(new u(this, t[n])); else this.addFile(new u(this, t, e, s, i)); return this })), t.exports = u })), n.register("8Aww1", (function (t, e) { var i = n("jwj1g"), s = n("jOz8I"), r = n("ls69h"), o = n("7BSWl"), a = n("6MxE8"), h = n("gAlTf"), l = n("eohDK"), u = n("kTh8x"), c = new i({ initialize: function (t, e) { this.loader = t, this.cache = o(e, "cache", !1), this.type = o(e, "type", !1), this.key = o(e, "key", !1); var i = this.key; if (t.prefix && "" !== t.prefix && (this.key = t.prefix + i), !this.type || !this.key) throw new Error("Error calling 'Loader." + this.type + "' invalid key provided."); this.url = o(e, "url"), void 0 === this.url ? this.url = t.path + i + "." + o(e, "extension", "") : "function" != typeof this.url && (this.url = t.path + this.url), this.src = "", this.xhrSettings = u(o(e, "responseType", void 0)), o(e, "xhrSettings", !1) && (this.xhrSettings = h(this.xhrSettings, o(e, "xhrSettings", {}))), this.xhrLoader = null, this.state = "function" == typeof this.url ? s.FILE_POPULATED : s.FILE_PENDING, this.bytesTotal = 0, this.bytesLoaded = -1, this.percentComplete = -1, this.crossOrigin = void 0, this.data = void 0, this.config = o(e, "config", {}), this.multiFile, this.linkFile }, setLink: function (t) { this.linkFile = t, t.linkFile = this }, resetXHR: function () { this.xhrLoader && (this.xhrLoader.onload = void 0, this.xhrLoader.onerror = void 0, this.xhrLoader.onprogress = void 0) }, load: function () { this.state === s.FILE_POPULATED ? this.loader.nextFile(this, !0) : (this.src = a(this, this.loader.baseURL), 0 === this.src.indexOf("data:") ? console.warn("Local data URIs are not supported: " + this.key) : this.xhrLoader = l(this, this.loader.xhr)) }, onLoad: function (t, e) { var i = t.responseURL && 0 === t.responseURL.indexOf("file://") && 0 === e.target.status, s = !(e.target && 200 !== e.target.status) || i; 4 === t.readyState && t.status >= 400 && t.status <= 599 && (s = !1), this.resetXHR(), this.loader.nextFile(this, s) }, onError: function () { this.resetXHR(), this.loader.nextFile(this, !1) }, onProgress: function (t) { t.lengthComputable && (this.bytesLoaded = t.loaded, this.bytesTotal = t.total, this.percentComplete = Math.min(this.bytesLoaded / this.bytesTotal, 1), this.loader.emit(r.FILE_PROGRESS, this, this.percentComplete)) }, onProcess: function () { this.state = s.FILE_PROCESSING, this.onProcessComplete() }, onProcessComplete: function () { this.state = s.FILE_COMPLETE, this.multiFile && this.multiFile.onFileComplete(this), this.loader.fileProcessComplete(this) }, onProcessError: function () { this.state = s.FILE_ERRORED, this.multiFile && this.multiFile.onFileFailed(this), this.loader.fileProcessComplete(this) }, hasCacheConflict: function () { return this.cache && this.cache.exists(this.key) }, addToCache: function () { this.cache && this.cache.add(this.key, this.data), this.pendingDestroy() }, pendingDestroy: function (t) { void 0 === t && (t = this.data); var e = this.key, i = this.type; this.loader.emit(r.FILE_COMPLETE, e, i, t), this.loader.emit(r.FILE_KEY_COMPLETE + i + "-" + e, e, i, t), this.loader.flagForRemoval(this) }, destroy: function () { this.loader = null, this.cache = null, this.xhrSettings = null, this.multiFile = null, this.linkFile = null, this.data = null } }); c.createObjectURL = function (t, e, i) { if ("function" == typeof URL) t.src = URL.createObjectURL(e); else { var s = new FileReader; s.onload = function () { t.removeAttribute("crossOrigin"), t.src = "data:" + (e.type || i) + ";base64," + s.result.split(",")[1] }, s.onerror = t.onerror, s.readAsDataURL(e) } }, c.revokeObjectURL = function (t) { "function" == typeof URL && URL.revokeObjectURL(t.src) }, t.exports = c })), n.register("6MxE8", (function (t, e) { t.exports = function (t, e) { return !!t.url && (t.url.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/) ? t.url : e + t.url) } })), n.register("gAlTf", (function (t, e) { var i = n("hVk4C"), s = n("kTh8x"); t.exports = function (t, e) { var n = void 0 === t ? s() : i({}, t); if (e) for (var r in e) void 0 !== e[r] && (n[r] = e[r]); return n } })), n.register("kTh8x", (function (t, e) { t.exports = function (t, e, i, s, n) { return void 0 === t && (t = ""), void 0 === e && (e = !0), void 0 === i && (i = ""), void 0 === s && (s = ""), void 0 === n && (n = 0), { responseType: t, async: e, user: i, password: s, timeout: n, header: void 0, headerValue: void 0, requestedWith: !1, overrideMimeType: void 0 } } })), n.register("eohDK", (function (t, e) { var i = n("gAlTf"); t.exports = function (t, e) { var s = i(e, t.xhrSettings), n = new XMLHttpRequest; return n.open("GET", t.src, s.async, s.user, s.password), n.responseType = t.xhrSettings.responseType, n.timeout = s.timeout, s.header && s.headerValue && n.setRequestHeader(s.header, s.headerValue), s.requestedWith && n.setRequestHeader("X-Requested-With", s.requestedWith), s.overrideMimeType && n.overrideMimeType(s.overrideMimeType), n.onload = t.onLoad.bind(t, n), n.onerror = t.onError.bind(t, n), n.onprogress = t.onProgress.bind(t), n.send(), n } })), n.register("jWhe0", (function (t, e) { var i = n("jwj1g"), s = n("9csvT"), r = n("7BSWl"), o = n("gT96E"), a = n("jC9MQ"), h = n("j0zmu"), l = n("B7Zxi"), u = new i({ Extends: l, initialize: function (t, e, i, s, n, u) { var c, d; if (a(e)) { var f = e; e = r(f, "key"), c = new o(t, { key: e, url: r(f, "textureURL"), extension: r(f, "textureExtension", "png"), normalMap: r(f, "normalMap"), xhrSettings: r(f, "textureXhrSettings") }), d = new h(t, { key: e, url: r(f, "atlasURL"), extension: r(f, "atlasExtension", "json"), xhrSettings: r(f, "atlasXhrSettings") }) } else c = new o(t, e, i, n), d = new h(t, e, s, u); c.linkFile ? l.call(this, t, "atlasjson", e, [c, d, c.linkFile]) : l.call(this, t, "atlasjson", e, [c, d]) }, addToCache: function () { if (this.isReadyToProcess()) { var t = this.files[0], e = this.files[1], i = this.files[2] ? this.files[2].data : null; this.loader.textureManager.addAtlas(t.key, t.data, e.data, i), e.addToCache(), this.complete = !0 } } }); s.register("atlas", (function (t, e, i, s, n) { var r; if (Array.isArray(t)) for (var o = 0; o < t.length; o++)r = new u(this, t[o]), this.addFile(r.files); else r = new u(this, t, e, i, s, n), this.addFile(r.files); return this })), t.exports = u })), n.register("gT96E", (function (t, e) { var i = n("jwj1g"), s = n("jOz8I"), r = n("8Aww1"), o = n("9csvT"), a = n("7BSWl"), h = n("jC9MQ"), l = new i({ Extends: r, initialize: function t(e, i, s, n, o) { var l, u = "png"; if (h(i)) { var c = i; i = a(c, "key"), s = a(c, "url"), l = a(c, "normalMap"), n = a(c, "xhrSettings"), u = a(c, "extension", u), o = a(c, "frameConfig") } Array.isArray(s) && (l = s[1], s = s[0]); var d = { type: "image", cache: e.textureManager, extension: u, responseType: "blob", key: i, url: s, xhrSettings: n, config: o }; if (r.call(this, e, d), l) { var f = new t(e, this.key, l, n, o); f.type = "normalMap", this.setLink(f), e.addFile(f) } }, onProcess: function () { this.state = s.FILE_PROCESSING, this.data = new Image, this.data.crossOrigin = this.crossOrigin; var t = this; this.data.onload = function () { r.revokeObjectURL(t.data), t.onProcessComplete() }, this.data.onerror = function () { r.revokeObjectURL(t.data), t.onProcessError() }, r.createObjectURL(this.data, this.xhrLoader.response, "image/png") }, addToCache: function () { var t, e = this.linkFile; e && e.state === s.FILE_COMPLETE ? (t = "image" === this.type ? this.cache.addImage(this.key, this.data, e.data) : this.cache.addImage(e.key, e.data, this.data), this.pendingDestroy(t), e.pendingDestroy(t)) : e || (t = this.cache.addImage(this.key, this.data), this.pendingDestroy(t)) } }); o.register("image", (function (t, e, i) { if (Array.isArray(t)) for (var s = 0; s < t.length; s++)this.addFile(new l(this, t[s])); else this.addFile(new l(this, t, e, i)); return this })), t.exports = l })), n.register("B7Zxi", (function (t, e) { var i = new (n("jwj1g"))({ initialize: function (t, e, i, s) { this.loader = t, this.type = e, this.key = i, this.multiKeyIndex = t.multiKeyIndex++, this.files = s, this.complete = !1, this.pending = s.length, this.failed = 0, this.config = {}, this.baseURL = t.baseURL, this.path = t.path, this.prefix = t.prefix; for (var n = 0; n < s.length; n++)s[n].multiFile = this }, isReadyToProcess: function () { return 0 === this.pending && 0 === this.failed && !this.complete }, addToMultiFile: function (t) { return this.files.push(t), t.multiFile = this, this.pending++, this.complete = !1, this }, onFileComplete: function (t) { -1 !== this.files.indexOf(t) && this.pending-- }, onFileFailed: function (t) { -1 !== this.files.indexOf(t) && this.failed++ } }); t.exports = i })), n.register("e6x5K", (function (t, e) { var i = n("jwj1g"), s = n("9csvT"), r = n("7BSWl"), o = n("gT96E"), a = n("jC9MQ"), h = n("B7Zxi"), l = n("wRXCw"), u = new i({ Extends: h, initialize: function (t, e, i, s, n, u) { var c, d; if (a(e)) { var f = e; e = r(f, "key"), c = new o(t, { key: e, url: r(f, "textureURL"), extension: r(f, "textureExtension", "png"), normalMap: r(f, "normalMap"), xhrSettings: r(f, "textureXhrSettings") }), d = new l(t, { key: e, url: r(f, "atlasURL"), extension: r(f, "atlasExtension", "xml"), xhrSettings: r(f, "atlasXhrSettings") }) } else c = new o(t, e, i, n), d = new l(t, e, s, u); c.linkFile ? h.call(this, t, "atlasxml", e, [c, d, c.linkFile]) : h.call(this, t, "atlasxml", e, [c, d]) }, addToCache: function () { if (this.isReadyToProcess()) { var t = this.files[0], e = this.files[1], i = this.files[2] ? this.files[2].data : null; this.loader.textureManager.addAtlasXML(t.key, t.data, e.data, i), e.addToCache(), this.complete = !0 } } }); s.register("atlasXML", (function (t, e, i, s, n) { var r; if (Array.isArray(t)) for (var o = 0; o < t.length; o++)r = new u(this, t[o]), this.addFile(r.files); else r = new u(this, t, e, i, s, n), this.addFile(r.files); return this })), t.exports = u })), n.register("wRXCw", (function (t, e) { var i = n("jwj1g"), s = n("jOz8I"), r = n("8Aww1"), o = n("9csvT"), a = n("7BSWl"), h = n("jC9MQ"), l = n("1zOUS"), u = new i({ Extends: r, initialize: function (t, e, i, s) { var n = "xml"; if (h(e)) { var o = e; e = a(o, "key"), i = a(o, "url"), s = a(o, "xhrSettings"), n = a(o, "extension", n) } var l = { type: "xml", cache: t.cacheManager.xml, extension: n, responseType: "text", key: e, url: i, xhrSettings: s }; r.call(this, t, l) }, onProcess: function () { this.state = s.FILE_PROCESSING, this.data = l(this.xhrLoader.responseText), this.data ? this.onProcessComplete() : (console.warn("Invalid XMLFile: " + this.key), this.onProcessError()) } }); o.register("xml", (function (t, e, i) { if (Array.isArray(t)) for (var s = 0; s < t.length; s++)this.addFile(new u(this, t[s])); else this.addFile(new u(this, t, e, i)); return this })), t.exports = u })), n.register("5fnRj", (function (t, e) { var i = n("jwj1g"), s = n("bRAqZ"), r = n("8Aww1"), o = n("9csvT"), a = n("7BSWl"), h = n("cBw3Y"), l = n("jC9MQ"), u = new i({ Extends: r, initialize: function (t, e, i, s, n) { if (l(e)) { var o = e; e = a(o, "key"), s = a(o, "xhrSettings"), n = a(o, "context", n) } var h = { type: "audio", cache: t.cacheManager.audio, extension: i.type, responseType: "arraybuffer", key: e, url: i.url, xhrSettings: s, config: { context: n } }; r.call(this, t, h) }, onProcess: function () { this.state = s.FILE_PROCESSING; var t = this; this.config.context.decodeAudioData(this.xhrLoader.response, (function (e) { t.data = e, t.onProcessComplete() }), (function (e) { console.error("Error decoding audio: " + this.key + " - ", e ? e.message : null), t.onProcessError() })), this.config.context = null } }); u.create = function (t, e, i, s, n) { var r = t.systems.game, o = r.config.audio, c = r.device.audio; l(e) && (i = a(e, "url", []), s = a(e, "config", {})); var d = u.getAudioURL(r, i); return d ? !c.webAudio || o && o.disableWebAudio ? new h(t, e, d, s) : new u(t, e, d, n, r.sound.context) : null }, u.getAudioURL = function (t, e) { Array.isArray(e) || (e = [e]); for (var i = 0; i < e.length; i++) { var s = a(e[i], "url", e[i]); if (0 === s.indexOf("blob:") || 0 === s.indexOf("data:")) return s; var n = s.match(/\.([a-zA-Z0-9]+)($|\?)/); if (n = a(e[i], "type", n ? n[1] : "").toLowerCase(), t.device.audio[n]) return { url: s, type: n } } return null }, o.register("audio", (function (t, e, i, s) { var n, r = this.systems.game, o = r.config.audio, a = r.device.audio; if (o && o.noAudio || !a.webAudio && !a.audioData) return this; if (Array.isArray(t)) for (var h = 0; h < t.length; h++)(n = u.create(this, t[h])) && this.addFile(n); else (n = u.create(this, t, e, i, s)) && this.addFile(n); return this })), t.exports = u })), n.register("cBw3Y", (function (t, e) { var i = n("jwj1g"), s = n("ls69h"), r = n("8Aww1"), o = n("7BSWl"), a = n("6MxE8"), h = n("jC9MQ"), l = new i({ Extends: r, initialize: function (t, e, i, s) { if (h(e)) { var n = e; e = o(n, "key"), s = o(n, "config", s) } var a = { type: "audio", cache: t.cacheManager.audio, extension: i.type, key: e, url: i.url, config: s }; r.call(this, t, a), this.locked = "ontouchstart" in window, this.loaded = !1, this.filesLoaded = 0, this.filesTotal = 0 }, onLoad: function () { this.loaded || (this.loaded = !0, this.loader.nextFile(this, !0)) }, onError: function () { for (var t = 0; t < this.data.length; t++) { var e = this.data[t]; e.oncanplaythrough = null, e.onerror = null } this.loader.nextFile(this, !1) }, onProgress: function (t) { var e = t.target; e.oncanplaythrough = null, e.onerror = null, this.filesLoaded++, this.percentComplete = Math.min(this.filesLoaded / this.filesTotal, 1), this.loader.emit(s.FILE_PROGRESS, this, this.percentComplete), this.filesLoaded === this.filesTotal && this.onLoad() }, load: function () { this.data = []; var t = this.config && this.config.instances || 1; this.filesTotal = t, this.filesLoaded = 0, this.percentComplete = 0; for (var e = 0; e < t; e++) { var i = new Audio; i.dataset = {}, i.dataset.name = this.key + ("0" + e).slice(-2), i.dataset.used = "false", this.locked ? i.dataset.locked = "true" : (i.dataset.locked = "false", i.preload = "auto", i.oncanplaythrough = this.onProgress.bind(this), i.onerror = this.onError.bind(this)), this.data.push(i) } for (e = 0; e < this.data.length; e++)(i = this.data[e]).src = a(this, this.loader.baseURL), this.locked || i.load(); this.locked && setTimeout(this.onLoad.bind(this)) } }); t.exports = l })), n.register("2PFPJ", (function (t, e) { var i = n("5fnRj"), s = n("jwj1g"), r = n("9csvT"), o = n("7BSWl"), a = n("jC9MQ"), h = n("j0zmu"), l = n("B7Zxi"), u = new s({ Extends: l, initialize: function (t, e, s, n, r, u, c) { if (a(e)) { var d = e; e = o(d, "key"), s = o(d, "jsonURL"), n = o(d, "audioURL"), r = o(d, "audioConfig"), u = o(d, "audioXhrSettings"), c = o(d, "jsonXhrSettings") } var f; if (n) { var p = i.create(t, e, n, r, u); p && (f = new h(t, e, s, c), l.call(this, t, "audiosprite", e, [p, f]), this.config.resourceLoad = !1) } else f = new h(t, e, s, c), l.call(this, t, "audiosprite", e, [f]), this.config.resourceLoad = !0, this.config.audioConfig = r, this.config.audioXhrSettings = u }, onFileComplete: function (t) { if (-1 !== this.files.indexOf(t) && (this.pending--, this.config.resourceLoad && "json" === t.type && t.data.hasOwnProperty("resources"))) { var e = t.data.resources, s = o(this.config, "audioConfig"), n = o(this.config, "audioXhrSettings"), r = i.create(this.loader, t.key, e, s, n); r && (this.addToMultiFile(r), this.loader.addFile(r)) } }, addToCache: function () { if (this.isReadyToProcess()) { var t = this.files[0], e = this.files[1]; t.addToCache(), e.addToCache(), this.complete = !0 } } }); r.register("audioSprite", (function (t, e, i, s, n, r) { var o, a = this.systems.game, h = a.config.audio, l = a.device.audio; if (h && h.noAudio || !l.webAudio && !l.audioData) return this; if (Array.isArray(t)) for (var c = 0; c < t.length; c++)(o = new u(this, t[c])).files && this.addFile(o.files); else (o = new u(this, t, e, i, s, n, r)).files && this.addFile(o.files); return this })) })), n.register("htyZ3", (function (t, e) { var i = n("jwj1g"), s = n("jOz8I"), r = n("8Aww1"), o = n("9csvT"), a = n("7BSWl"), h = n("jC9MQ"), l = new i({ Extends: r, initialize: function (t, e, i, s, n) { var o = "bin"; if (h(e)) { var l = e; e = a(l, "key"), i = a(l, "url"), s = a(l, "xhrSettings"), o = a(l, "extension", o), n = a(l, "dataType", n) } var u = { type: "binary", cache: t.cacheManager.binary, extension: o, responseType: "arraybuffer", key: e, url: i, xhrSettings: s, config: { dataType: n } }; r.call(this, t, u) }, onProcess: function () { this.state = s.FILE_PROCESSING; var t = this.config.dataType; this.data = t ? new t(this.xhrLoader.response) : this.xhrLoader.response, this.onProcessComplete() } }); o.register("binary", (function (t, e, i, s) { if (Array.isArray(t)) for (var n = 0; n < t.length; n++)this.addFile(new l(this, t[n])); else this.addFile(new l(this, t, e, s, i)); return this })), t.exports = l })), n.register("eqnR1", (function (t, e) { var i = n("jwj1g"), s = n("9csvT"), r = n("7BSWl"), o = n("gT96E"), a = n("jC9MQ"), h = n("B7Zxi"), l = n("5t9GW"), u = n("wRXCw"), c = new i({ Extends: h, initialize: function (t, e, i, s, n, l) { var c, d; if (a(e)) { var f = e; e = r(f, "key"), c = new o(t, { key: e, url: r(f, "textureURL"), extension: r(f, "textureExtension", "png"), normalMap: r(f, "normalMap"), xhrSettings: r(f, "textureXhrSettings") }), d = new u(t, { key: e, url: r(f, "fontDataURL"), extension: r(f, "fontDataExtension", "xml"), xhrSettings: r(f, "fontDataXhrSettings") }) } else c = new o(t, e, i, n), d = new u(t, e, s, l); c.linkFile ? h.call(this, t, "bitmapfont", e, [c, d, c.linkFile]) : h.call(this, t, "bitmapfont", e, [c, d]) }, addToCache: function () { if (this.isReadyToProcess()) { var t = this.files[0], e = this.files[1]; t.addToCache(), e.addToCache(), this.loader.cacheManager.bitmapFont.add(t.key, { data: l(e.data), texture: t.key, frame: null }), this.complete = !0 } } }); s.register("bitmapFont", (function (t, e, i, s, n) { var r; if (Array.isArray(t)) for (var o = 0; o < t.length; o++)r = new c(this, t[o]), this.addFile(r.files); else r = new c(this, t, e, i, s, n), this.addFile(r.files); return this })), t.exports = c })), n.register("456Xt", (function (t, e) { var i = n("jwj1g"), s = n("jOz8I"), r = n("8Aww1"), o = n("9csvT"), a = n("7BSWl"), h = n("jC9MQ"), l = new i({ Extends: r, initialize: function (t, e, i, s) { var n = "css"; if (h(e)) { var o = e; e = a(o, "key"), i = a(o, "url"), s = a(o, "xhrSettings"), n = a(o, "extension", n) } var l = { type: "script", cache: !1, extension: n, responseType: "text", key: e, url: i, xhrSettings: s }; r.call(this, t, l) }, onProcess: function () { this.state = s.FILE_PROCESSING, this.data = document.createElement("style"), this.data.defer = !1, this.data.innerHTML = this.xhrLoader.responseText, document.head.appendChild(this.data), this.onProcessComplete() } }); o.register("css", (function (t, e, i) { if (Array.isArray(t)) for (var s = 0; s < t.length; s++)this.addFile(new l(this, t[s])); else this.addFile(new l(this, t, e, i)); return this })), t.exports = l })), n.register("cfaNt", (function (t, e) { var i = n("jwj1g"), s = n("jOz8I"), r = n("8Aww1"), o = n("9csvT"), a = n("7BSWl"), h = n("jC9MQ"), l = n("dtVn6"), u = new i({ Extends: r, initialize: function (t, e, i, s, n) { var o = "glsl"; if (h(e)) { var l = e; e = a(l, "key"), i = a(l, "url"), s = a(l, "shaderType", "fragment"), n = a(l, "xhrSettings"), o = a(l, "extension", o) } else void 0 === s && (s = "fragment"); var u = { type: "glsl", cache: t.cacheManager.shader, extension: o, responseType: "text", key: e, url: i, config: { shaderType: s }, xhrSettings: n }; r.call(this, t, u) }, onProcess: function () { this.state = s.FILE_PROCESSING, this.data = this.xhrLoader.responseText, this.onProcessComplete() }, addToCache: function () { var t = this.data.split("\n"), e = this.extractBlock(t, 0); if (e) for (; e;) { var i = this.getShaderName(e.header), s = this.getShaderType(e.header), n = this.getShaderUniforms(e.header), r = e.shader; if (this.cache.has(i)) { var o = this.cache.get(i); "fragment" === s ? o.fragmentSrc = r : o.vertexSrc = r, o.uniforms || (o.uniforms = n) } else "fragment" === s ? this.cache.add(i, new l(i, r, "", n)) : this.cache.add(i, new l(i, "", r, n)); e = this.extractBlock(t, e.offset) } else "fragment" === this.config.shaderType ? this.cache.add(this.key, new l(this.key, this.data)) : this.cache.add(this.key, new l(this.key, "", this.data)); this.pendingDestroy() }, getShaderName: function (t) { for (var e = 0; e < t.length; e++) { var i = t[e].trim(); if ("name:" === i.substring(0, 5)) return i.substring(5).trim() } return this.key }, getShaderType: function (t) { for (var e = 0; e < t.length; e++) { var i = t[e].trim(); if ("type:" === i.substring(0, 5)) return i.substring(5).trim() } return this.config.shaderType }, getShaderUniforms: function (t) { for (var e = {}, i = 0; i < t.length; i++) { var s = t[i].trim(); if ("uniform." === s.substring(0, 8)) { var n = s.indexOf(":"); if (n) { var r = s.substring(8, n); try { e[r] = JSON.parse(s.substring(n + 1)) } catch (t) { console.warn("Invalid uniform JSON: " + r) } } } } return e }, extractBlock: function (t, e) { for (var i = -1, s = -1, n = -1, r = !1, o = !1, a = [], h = [], l = e; l < t.length; l++) { var u = t[l].trim(); if ("---" === u) if (-1 === i) i = l, r = !0; else { if (!r) { o = !1; break } s = l, r = !1, o = !0 } else r ? a.push(u) : o && (h.push(u), n = l) } return r || -1 === s ? null : { header: a, shader: h.join("\n"), offset: n } } }); o.register("glsl", (function (t, e, i, s) { if (Array.isArray(t)) for (var n = 0; n < t.length; n++)this.addFile(new u(this, t[n])); else this.addFile(new u(this, t, e, i, s)); return this })), t.exports = u })), n.register("fky3L", (function (t, e) { var i = n("jwj1g"), s = n("jOz8I"), r = n("8Aww1"), o = n("9csvT"), a = n("7BSWl"), h = n("jC9MQ"), l = new i({ Extends: r, initialize: function (t, e, i, s) { var n = "html"; if (h(e)) { var o = e; e = a(o, "key"), i = a(o, "url"), s = a(o, "xhrSettings"), n = a(o, "extension", n) } var l = { type: "text", cache: t.cacheManager.html, extension: n, responseType: "text", key: e, url: i, xhrSettings: s }; r.call(this, t, l) }, onProcess: function () { this.state = s.FILE_PROCESSING, this.data = this.xhrLoader.responseText, this.onProcessComplete() } }); o.register("html", (function (t, e, i) { if (Array.isArray(t)) for (var s = 0; s < t.length; s++)this.addFile(new l(this, t[s])); else this.addFile(new l(this, t, e, i)); return this })), t.exports = l })), n.register("hC7gq", (function (t, e) { var i = n("jwj1g"), s = n("jOz8I"), r = n("8Aww1"), o = n("9csvT"), a = n("7BSWl"), h = n("jC9MQ"), l = new i({ Extends: r, initialize: function (t, e, i, s, n, o) { void 0 === s && (s = 512), void 0 === n && (n = 512); var l = "html"; if (h(e)) { var u = e; e = a(u, "key"), i = a(u, "url"), o = a(u, "xhrSettings"), l = a(u, "extension", l), s = a(u, "width", s), n = a(u, "height", n) } var c = { type: "html", cache: t.textureManager, extension: l, responseType: "text", key: e, url: i, xhrSettings: o, config: { width: s, height: n } }; r.call(this, t, c) }, onProcess: function () { this.state = s.FILE_PROCESSING; var t = this.config.width, e = this.config.height, i = []; i.push('<svg width="' + t + 'px" height="' + e + 'px" viewBox="0 0 ' + t + " " + e + '" xmlns="http://www.w3.org/2000/svg">'), i.push('<foreignObject width="100%" height="100%">'), i.push('<body xmlns="http://www.w3.org/1999/xhtml">'), i.push(this.xhrLoader.responseText), i.push("</body>"), i.push("</foreignObject>"), i.push("</svg>"); var n = [i.join("\n")], o = this; try { var a = new window.Blob(n, { type: "image/svg+xml;charset=utf-8" }) } catch (t) { return o.state = s.FILE_ERRORED, void o.onProcessComplete() } this.data = new Image, this.data.crossOrigin = this.crossOrigin, this.data.onload = function () { r.revokeObjectURL(o.data), o.onProcessComplete() }, this.data.onerror = function () { r.revokeObjectURL(o.data), o.onProcessError() }, r.createObjectURL(this.data, a, "image/svg+xml") }, addToCache: function () { var t = this.cache.addImage(this.key, this.data); this.pendingDestroy(t) } }); o.register("htmlTexture", (function (t, e, i, s, n) { if (Array.isArray(t)) for (var r = 0; r < t.length; r++)this.addFile(new l(this, t[r])); else this.addFile(new l(this, t, e, i, s, n)); return this })), t.exports = l })), n.register("3NA92", (function (t, e) { var i = n("jwj1g"), s = n("9csvT"), r = n("7BSWl"), o = n("gT96E"), a = n("jC9MQ"), h = n("j0zmu"), l = n("B7Zxi"), u = new i({ Extends: l, initialize: function (t, e, i, s, n, o, u) { if (a(e)) { var c = e; e = r(c, "key"), i = r(c, "url", !1) ? r(c, "url") : r(c, "atlasURL"), o = r(c, "xhrSettings"), s = r(c, "path"), n = r(c, "baseURL"), u = r(c, "textureXhrSettings") } var d = new h(t, e, i, o); l.call(this, t, "multiatlas", e, [d]), this.config.path = s, this.config.baseURL = n, this.config.textureXhrSettings = u }, onFileComplete: function (t) { if (-1 !== this.files.indexOf(t) && (this.pending--, "json" === t.type && t.data.hasOwnProperty("textures"))) { var e = t.data.textures, i = this.config, s = this.loader, n = s.baseURL, a = s.path, h = s.prefix, l = r(i, "baseURL", this.baseURL), u = r(i, "path", this.path), c = r(i, "prefix", this.prefix), d = r(i, "textureXhrSettings"); s.setBaseURL(l), s.setPath(u), s.setPrefix(c); for (var f = 0; f < e.length; f++) { var p = e[f].image, g = "MA" + this.multiKeyIndex + "_" + p, v = new o(s, g, p, d); if (this.addToMultiFile(v), s.addFile(v), e[f].normalMap) { var m = new o(s, g, e[f].normalMap, d); m.type = "normalMap", v.setLink(m), this.addToMultiFile(m), s.addFile(m) } } s.setBaseURL(n), s.setPath(a), s.setPrefix(h) } }, addToCache: function () { if (this.isReadyToProcess()) { for (var t = this.files[0], e = [], i = [], s = [], n = 1; n < this.files.length; n++) { var r = this.files[n]; if ("normalMap" !== r.type) for (var o = r.key.indexOf("_"), a = r.key.substr(o + 1), h = r.data, l = 0; l < t.data.textures.length; l++) { var u = t.data.textures[l]; if (u.image === a) { i.push(h), e.push(u), r.linkFile && s.push(r.linkFile.data); break } } } for (0 === s.length && (s = void 0), this.loader.textureManager.addAtlasJSONArray(this.key, i, e, s), this.complete = !0, n = 0; n < this.files.length; n++)this.files[n].pendingDestroy() } } }); s.register("multiatlas", (function (t, e, i, s, n) { var r; if (Array.isArray(t)) for (var o = 0; o < t.length; o++)r = new u(this, t[o]), this.addFile(r.files); else r = new u(this, t, e, i, s, n), this.addFile(r.files); return this })), t.exports = u })), n.register("8g88p", (function (t, e) { var i = n("jwj1g"), s = n("9csvT"), r = n("7BSWl"), o = n("jC9MQ"), a = n("B7Zxi"), h = n("fh7OQ"), l = new i({ Extends: a, initialize: function (t, e, i, s) { var n = "js", l = []; if (o(e)) { var u = e; e = r(u, "key"), i = r(u, "url"), s = r(u, "xhrSettings"), n = r(u, "extension", n) } Array.isArray(i) || (i = [i]); for (var c = 0; c < i.length; c++) { var d = new h(t, { key: e + "_" + c.toString(), url: i[c], extension: n, xhrSettings: s }); d.onProcess = function () { this.onProcessComplete() }, l.push(d) } a.call(this, t, "scripts", e, l) }, addToCache: function () { if (this.isReadyToProcess()) { for (var t = 0; t < this.files.length; t++) { var e = this.files[t]; e.data = document.createElement("script"), e.data.language = "javascript", e.data.type = "text/javascript", e.data.defer = !1, e.data.text = e.xhrLoader.responseText, document.head.appendChild(e.data) } this.complete = !0 } } }); s.register("scripts", (function (t, e, i) { var s; if (Array.isArray(t)) for (var n = 0; n < t.length; n++)s = new l(this, t[n]), this.addFile(s.files); else s = new l(this, t, e, i), this.addFile(s.files); return this })), t.exports = l })), n.register("fh7OQ", (function (t, e) { var i = n("jwj1g"), s = n("jOz8I"), r = n("8Aww1"), o = n("9csvT"), a = n("7BSWl"), h = n("jC9MQ"), l = new i({ Extends: r, initialize: function (t, e, i, s) { var n = "js"; if (h(e)) { var o = e; e = a(o, "key"), i = a(o, "url"), s = a(o, "xhrSettings"), n = a(o, "extension", n) } var l = { type: "script", cache: !1, extension: n, responseType: "text", key: e, url: i, xhrSettings: s }; r.call(this, t, l) }, onProcess: function () { this.state = s.FILE_PROCESSING, this.data = document.createElement("script"), this.data.language = "javascript", this.data.type = "text/javascript", this.data.defer = !1, this.data.text = this.xhrLoader.responseText, document.head.appendChild(this.data), this.onProcessComplete() } }); o.register("script", (function (t, e, i) { if (Array.isArray(t)) for (var s = 0; s < t.length; s++)this.addFile(new l(this, t[s])); else this.addFile(new l(this, t, e, i)); return this })), t.exports = l })), n.register("9i0hf", (function (t, e) { var i = n("jwj1g"), s = n("jOz8I"), r = n("9csvT"), o = n("j0zmu"), a = new i({ Extends: o, initialize: function (t, e, i, s, n) { o.call(this, t, e, i, s, n), this.type = "packfile" }, onProcess: function () { this.state !== s.FILE_POPULATED && (this.state = s.FILE_PROCESSING, this.data = JSON.parse(this.xhrLoader.responseText)), this.loader.addPack(this.data, this.config), this.onProcessComplete() } }); r.register("pack", (function (t, e, i, s) { if (Array.isArray(t)) for (var n = 0; n < t.length; n++)this.addFile(new a(this, t[n])); else this.addFile(new a(this, t, e, s, i)); return this })), t.exports = a })), n.register("lpnsI", (function (t, e) { var i = n("jwj1g"), s = n("jOz8I"), r = n("8Aww1"), o = n("9csvT"), a = n("7BSWl"), h = n("jC9MQ"), l = new i({ Extends: r, initialize: function (t, e, i, n, o, l) { var u = "js"; if (h(e)) { var c = e; e = a(c, "key"), i = a(c, "url"), l = a(c, "xhrSettings"), u = a(c, "extension", u), n = a(c, "start"), o = a(c, "mapping") } var d = { type: "plugin", cache: !1, extension: u, responseType: "text", key: e, url: i, xhrSettings: l, config: { start: n, mapping: o } }; r.call(this, t, d), "function" == typeof i && (this.data = i, this.state = s.FILE_POPULATED) }, onProcess: function () { var t = this.loader.systems.plugins, e = this.config, i = a(e, "start", !1), n = a(e, "mapping", null); if (this.state === s.FILE_POPULATED) t.install(this.key, this.data, i, n); else { this.state = s.FILE_PROCESSING, this.data = document.createElement("script"), this.data.language = "javascript", this.data.type = "text/javascript", this.data.defer = !1, this.data.text = this.xhrLoader.responseText, document.head.appendChild(this.data); var r = t.install(this.key, window[this.key], i, n); (i || n) && (this.loader.systems[n] = r, this.loader.scene[n] = r) } this.onProcessComplete() } }); o.register("plugin", (function (t, e, i, s, n) { if (Array.isArray(t)) for (var r = 0; r < t.length; r++)this.addFile(new l(this, t[r])); else this.addFile(new l(this, t, e, i, s, n)); return this })), t.exports = l })), n.register("8nYaJ", (function (t, e) { var i = n("jwj1g"), s = n("jOz8I"), r = n("8Aww1"), o = n("9csvT"), a = n("7BSWl"), h = n("jC9MQ"), l = new i({ Extends: r, initialize: function (t, e, i, s) { var n = "js"; if (h(e)) { var o = e; e = a(o, "key"), i = a(o, "url"), s = a(o, "xhrSettings"), n = a(o, "extension", n) } var l = { type: "text", cache: t.cacheManager.text, extension: n, responseType: "text", key: e, url: i, xhrSettings: s }; r.call(this, t, l) }, onProcess: function () { this.state = s.FILE_PROCESSING, this.data = this.xhrLoader.responseText, this.onProcessComplete() }, addToCache: function () { var t = this.data.concat("(function(){\nreturn new " + this.key + "();\n}).call(this);"), e = eval; this.loader.sceneManager.add(this.key, e(t)), this.complete = !0 } }); o.register("sceneFile", (function (t, e, i) { if (Array.isArray(t)) for (var s = 0; s < t.length; s++)this.addFile(new l(this, t[s])); else this.addFile(new l(this, t, e, i)); return this })), t.exports = l })), n.register("4FmI6", (function (t, e) { var i = n("jwj1g"), s = n("jOz8I"), r = n("8Aww1"), o = n("9csvT"), a = n("7BSWl"), h = n("jC9MQ"), l = new i({ Extends: r, initialize: function (t, e, i, n, o, l) { var u = "js"; if (h(e)) { var c = e; e = a(c, "key"), i = a(c, "url"), l = a(c, "xhrSettings"), u = a(c, "extension", u), n = a(c, "systemKey"), o = a(c, "sceneKey") } var d = { type: "scenePlugin", cache: !1, extension: u, responseType: "text", key: e, url: i, xhrSettings: l, config: { systemKey: n, sceneKey: o } }; r.call(this, t, d), "function" == typeof i && (this.data = i, this.state = s.FILE_POPULATED) }, onProcess: function () { var t = this.loader.systems.plugins, e = this.config, i = this.key, n = a(e, "systemKey", i), r = a(e, "sceneKey", i); this.state === s.FILE_POPULATED ? t.installScenePlugin(n, this.data, r, this.loader.scene, !0) : (this.state = s.FILE_PROCESSING, this.data = document.createElement("script"), this.data.language = "javascript", this.data.type = "text/javascript", this.data.defer = !1, this.data.text = this.xhrLoader.responseText, document.head.appendChild(this.data), t.installScenePlugin(n, window[this.key], r, this.loader.scene, !0)), this.onProcessComplete() } }); o.register("scenePlugin", (function (t, e, i, s, n) { if (Array.isArray(t)) for (var r = 0; r < t.length; r++)this.addFile(new l(this, t[r])); else this.addFile(new l(this, t, e, i, s, n)); return this })), t.exports = l })), n.register("7z6bR", (function (t, e) { var i = n("jwj1g"), s = n("9csvT"), r = n("gT96E"), o = new i({ Extends: r, initialize: function (t, e, i, s, n) { r.call(this, t, e, i, n, s), this.type = "spritesheet" }, addToCache: function () { var t = this.cache.addSpriteSheet(this.key, this.data, this.config); this.pendingDestroy(t) } }); s.register("spritesheet", (function (t, e, i, s) { if (Array.isArray(t)) for (var n = 0; n < t.length; n++)this.addFile(new o(this, t[n])); else this.addFile(new o(this, t, e, i, s)); return this })), t.exports = o })), n.register("763ZX", (function (t, e) { var i = n("jwj1g"), s = n("jOz8I"), r = n("8Aww1"), o = n("9csvT"), a = n("7BSWl"), h = n("jC9MQ"), l = new i({ Extends: r, initialize: function (t, e, i, s, n) { var o = "svg"; if (h(e)) { var l = e; e = a(l, "key"), i = a(l, "url"), s = a(l, "svgConfig", {}), n = a(l, "xhrSettings"), o = a(l, "extension", o) } var u = { type: "svg", cache: t.textureManager, extension: o, responseType: "text", key: e, url: i, xhrSettings: n, config: { width: a(s, "width"), height: a(s, "height"), scale: a(s, "scale") } }; r.call(this, t, u) }, onProcess: function () { this.state = s.FILE_PROCESSING; var t = this.xhrLoader.responseText, e = [t], i = this.config.width, n = this.config.height, o = this.config.scale; t: if (i && n || o) { var a = (new DOMParser).parseFromString(t, "text/xml").getElementsByTagName("svg")[0], h = a.hasAttribute("viewBox"), l = parseFloat(a.getAttribute("width")), u = parseFloat(a.getAttribute("height")); if (!h && l && u) a.setAttribute("viewBox", "0  0 " + l + " " + u); else if (h && !l && !u) { var c = a.getAttribute("viewBox").split(/\s+|,/); l = c[2], u = c[3] } if (o) { if (!l || !u) break t; i = l * o, n = u * o } a.setAttribute("width", i.toString() + "px"), a.setAttribute("height", n.toString() + "px"), e = [(new XMLSerializer).serializeToString(a)] } try { var d = new window.Blob(e, { type: "image/svg+xml;charset=utf-8" }) } catch (t) { return void this.onProcessError() } this.data = new Image, this.data.crossOrigin = this.crossOrigin; var f = this, p = !1; this.data.onload = function () { p || r.revokeObjectURL(f.data), f.onProcessComplete() }, this.data.onerror = function () { p ? f.onProcessError() : (p = !0, r.revokeObjectURL(f.data), f.data.src = "data:image/svg+xml," + encodeURIComponent(e.join(""))) }, r.createObjectURL(this.data, d, "image/svg+xml") }, addToCache: function () { var t = this.cache.addImage(this.key, this.data); this.pendingDestroy(t) } }); o.register("svg", (function (t, e, i, s) { if (Array.isArray(t)) for (var n = 0; n < t.length; n++)this.addFile(new l(this, t[n])); else this.addFile(new l(this, t, e, i, s)); return this })), t.exports = l })), n.register("xcajA", (function (t, e) { var i = n("jwj1g"), s = n("jOz8I"), r = n("8Aww1"), o = n("9csvT"), a = n("7BSWl"), h = n("jC9MQ"), l = new i({ Extends: r, initialize: function (t, e, i, s) { var n = "txt"; if (h(e)) { var o = e; e = a(o, "key"), i = a(o, "url"), s = a(o, "xhrSettings"), n = a(o, "extension", n) } var l = { type: "text", cache: t.cacheManager.text, extension: n, responseType: "text", key: e, url: i, xhrSettings: s }; r.call(this, t, l) }, onProcess: function () { this.state = s.FILE_PROCESSING, this.data = this.xhrLoader.responseText, this.onProcessComplete() } }); o.register("text", (function (t, e, i) { if (Array.isArray(t)) for (var s = 0; s < t.length; s++)this.addFile(new l(this, t[s])); else this.addFile(new l(this, t, e, i)); return this })), t.exports = l })), n.register("5xR0u", (function (t, e) { var i = n("jwj1g"), s = n("jOz8I"), r = n("8Aww1"), o = n("9csvT"), a = n("7BSWl"), h = n("jC9MQ"), l = n("au4z0"), u = new i({ Extends: r, initialize: function (t, e, i, s) { var n = "csv"; if (h(e)) { var o = e; e = a(o, "key"), i = a(o, "url"), s = a(o, "xhrSettings"), n = a(o, "extension", n) } var u = { type: "tilemapCSV", cache: t.cacheManager.tilemap, extension: n, responseType: "text", key: e, url: i, xhrSettings: s }; r.call(this, t, u), this.tilemapFormat = l.CSV }, onProcess: function () { this.state = s.FILE_PROCESSING, this.data = this.xhrLoader.responseText, this.onProcessComplete() }, addToCache: function () { var t = { format: this.tilemapFormat, data: this.data }; this.cache.add(this.key, t), this.pendingDestroy(t) } }); o.register("tilemapCSV", (function (t, e, i) { if (Array.isArray(t)) for (var s = 0; s < t.length; s++)this.addFile(new u(this, t[s])); else this.addFile(new u(this, t, e, i)); return this })), t.exports = u })), n.register("au4z0", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { CSV: 0, TILED_JSON: 1, ARRAY_2D: 2, WELTMEISTER: 3 }
})), n.register("k8GdB", (function (t, e) { var i = n("jwj1g"), s = n("9csvT"), r = n("j0zmu"), o = n("au4z0"), a = new i({ Extends: r, initialize: function (t, e, i, s) { r.call(this, t, e, i, s), this.type = "tilemapJSON", this.cache = t.cacheManager.tilemap }, addToCache: function () { var t = { format: o.WELTMEISTER, data: this.data }; this.cache.add(this.key, t), this.pendingDestroy(t) } }); s.register("tilemapImpact", (function (t, e, i) { if (Array.isArray(t)) for (var s = 0; s < t.length; s++)this.addFile(new a(this, t[s])); else this.addFile(new a(this, t, e, i)); return this })), t.exports = a })), n.register("jtcSd", (function (t, e) { var i = n("jwj1g"), s = n("9csvT"), r = n("j0zmu"), o = n("au4z0"), a = new i({ Extends: r, initialize: function (t, e, i, s) { r.call(this, t, e, i, s), this.type = "tilemapJSON", this.cache = t.cacheManager.tilemap }, addToCache: function () { var t = { format: o.TILED_JSON, data: this.data }; this.cache.add(this.key, t), this.pendingDestroy(t) } }); s.register("tilemapTiledJSON", (function (t, e, i) { if (Array.isArray(t)) for (var s = 0; s < t.length; s++)this.addFile(new a(this, t[s])); else this.addFile(new a(this, t, e, i)); return this })), t.exports = a })), n.register("luwkr", (function (t, e) { var i = n("jwj1g"), s = n("9csvT"), r = n("7BSWl"), o = n("gT96E"), a = n("jC9MQ"), h = n("B7Zxi"), l = n("xcajA"), u = new i({ Extends: h, initialize: function (t, e, i, s, n, u) { var c, d; if (a(e)) { var f = e; e = r(f, "key"), c = new o(t, { key: e, url: r(f, "textureURL"), extension: r(f, "textureExtension", "png"), normalMap: r(f, "normalMap"), xhrSettings: r(f, "textureXhrSettings") }), d = new l(t, { key: e, url: r(f, "atlasURL"), extension: r(f, "atlasExtension", "txt"), xhrSettings: r(f, "atlasXhrSettings") }) } else c = new o(t, e, i, n), d = new l(t, e, s, u); c.linkFile ? h.call(this, t, "unityatlas", e, [c, d, c.linkFile]) : h.call(this, t, "unityatlas", e, [c, d]) }, addToCache: function () { if (this.isReadyToProcess()) { var t = this.files[0], e = this.files[1], i = this.files[2] ? this.files[2].data : null; this.loader.textureManager.addUnityAtlas(t.key, t.data, e.data, i), e.addToCache(), this.complete = !0 } } }); s.register("unityAtlas", (function (t, e, i, s, n) { var r; if (Array.isArray(t)) for (var o = 0; o < t.length; o++)r = new u(this, t[o]), this.addFile(r.files); else r = new u(this, t, e, i, s, n), this.addFile(r.files); return this })), t.exports = u })), n.register("aEsfq", (function (t, e) { var i = n("jwj1g"), s = n("bRAqZ"), r = n("8Aww1"), o = n("9csvT"), a = n("6MxE8"), h = n("7BSWl"), l = n("jC9MQ"), u = new i({ Extends: r, initialize: function (t, e, i, s, n, o, a) { void 0 === s && (s = "loadeddata"), void 0 === n && (n = !1), void 0 === o && (o = !1), "loadeddata" !== s && "canplay" !== s && "canplaythrough" !== s && (s = "loadeddata"); var h = { type: "video", cache: t.cacheManager.video, extension: i.type, responseType: "blob", key: e, url: i.url, xhrSettings: a, config: { loadEvent: s, asBlob: n, noAudio: o } }; this.onLoadCallback = this.onVideoLoadHandler.bind(this), this.onErrorCallback = this.onVideoErrorHandler.bind(this), r.call(this, t, h) }, onProcess: function () { if (this.state = s.FILE_PROCESSING, this.config.asBlob) { var t = this.createVideoElement(); this.data = t; var e = this; this.data.onloadeddata = function () { e.onProcessComplete() }, this.data.onerror = function () { r.revokeObjectURL(e.data), e.onProcessError() }, r.createObjectURL(t, this.xhrLoader.response, ""), t.load() } else this.onProcessComplete() }, createVideoElement: function () { var t = document.createElement("video"); return t.controls = !1, t.crossOrigin = this.loader.crossOrigin, this.config.noAudio && (t.muted = !0, t.defaultMuted = !0, t.setAttribute("autoplay", "autoplay")), t.setAttribute("playsinline", "playsinline"), t.setAttribute("preload", "auto"), t }, onVideoLoadHandler: function (t) { var e = t.target; e.removeEventListener(this.config.loadEvent, this.onLoadCallback, !0), e.removeEventListener("error", this.onErrorCallback, !0), this.data = e, this.resetXHR(), this.loader.nextFile(this, !0) }, onVideoErrorHandler: function (t) { var e = t.target; e && (e.removeEventListener(this.config.loadEvent, this.onLoadCallback, !0), e.removeEventListener("error", this.onErrorCallback, !0)), this.resetXHR(), this.loader.nextFile(this, !1) }, load: function () { var t = this.config.loadEvent; if (this.config.asBlob) r.prototype.load.call(this); else { this.percentComplete = 0; var e = this.createVideoElement(); e.addEventListener(t, this.onLoadCallback, !0), e.addEventListener("error", this.onErrorCallback, !0), e.src = a(this, this.loader.baseURL), e.load() } } }); u.create = function (t, e, i, s, n, r, o) { var a = t.systems.game; l(e) && (i = h(e, "url", []), s = h(e, "loadEvent", "loadeddata"), n = h(e, "asBlob", !1), r = h(e, "noAudio", !1), o = h(e, "xhrSettings")); var c = u.getVideoURL(a, i); if (c) return new u(t, e, c, s, n, r, o) }, u.getVideoURL = function (t, e) { Array.isArray(e) || (e = [e]); for (var i = 0; i < e.length; i++) { var s, n = h(e[i], "url", e[i]); if (0 === n.indexOf("blob:")) return n; if (s = 0 === n.indexOf("data:") ? n.split(",")[0].match(/\/(.*?);/) : n.match(/\.([a-zA-Z0-9]+)($|\?)/), s = h(e[i], "type", s ? s[1] : "").toLowerCase(), t.device.video[s]) return { url: n, type: s } } return null }, o.register("video", (function (t, e, i, s, n, r) { var o; if (Array.isArray(t)) for (var a = 0; a < t.length; a++)(o = u.create(this, t[a])) && this.addFile(o); else (o = u.create(this, t, e, i, s, n, r)) && this.addFile(o); return this })), t.exports = u })), n.register("5eeE2", (function (t, e) { var i = n("jwj1g"), s = n("jOz8I"), r = n("lxxnL"), o = n("3vRz3"), a = n("ls69h"), h = n("9csvT"), l = n("7BSWl"), u = n("7AzQW"), c = n("4rtgc"), d = n("kTh8x"), f = new i({ Extends: o, initialize: function (t) { o.call(this); var e = t.sys.game.config, i = t.sys.settings.loader; this.scene = t, this.systems = t.sys, this.cacheManager = t.sys.cache, this.textureManager = t.sys.textures, this.sceneManager = t.sys.game.scene, h.install(this), this.prefix = "", this.path = "", this.baseURL = "", this.setBaseURL(l(i, "baseURL", e.loaderBaseURL)), this.setPath(l(i, "path", e.loaderPath)), this.setPrefix(l(i, "prefix", e.loaderPrefix)), this.maxParallelDownloads = l(i, "maxParallelDownloads", e.loaderMaxParallelDownloads), this.xhr = d(l(i, "responseType", e.loaderResponseType), l(i, "async", e.loaderAsync), l(i, "user", e.loaderUser), l(i, "password", e.loaderPassword), l(i, "timeout", e.loaderTimeout)), this.crossOrigin = l(i, "crossOrigin", e.loaderCrossOrigin), this.totalToLoad = 0, this.progress = 0, this.list = new r, this.inflight = new r, this.queue = new r, this._deleteQueue = new r, this.totalFailed = 0, this.totalComplete = 0, this.state = s.LOADER_IDLE, this.multiKeyIndex = 0, t.sys.events.once(c.BOOT, this.boot, this), t.sys.events.on(c.START, this.pluginStart, this) }, boot: function () { this.systems.events.once(c.DESTROY, this.destroy, this) }, pluginStart: function () { this.systems.events.once(c.SHUTDOWN, this.shutdown, this) }, setBaseURL: function (t) { return void 0 === t && (t = ""), "" !== t && "/" !== t.substr(-1) && (t = t.concat("/")), this.baseURL = t, this }, setPath: function (t) { return void 0 === t && (t = ""), "" !== t && "/" !== t.substr(-1) && (t = t.concat("/")), this.path = t, this }, setPrefix: function (t) { return void 0 === t && (t = ""), this.prefix = t, this }, setCORS: function (t) { return this.crossOrigin = t, this }, addFile: function (t) { Array.isArray(t) || (t = [t]); for (var e = 0; e < t.length; e++) { var i = t[e]; this.keyExists(i) || (this.list.set(i), this.emit(a.ADD, i.key, i.type, this, i), this.isLoading() && (this.totalToLoad++, this.updateProgress())) } }, keyExists: function (t) { var e = t.hasCacheConflict(); return e || this.list.iterate((function (i) { if (i.type === t.type && i.key === t.key) return e = !0, !1 })), !e && this.isLoading() && (this.inflight.iterate((function (i) { if (i.type === t.type && i.key === t.key) return e = !0, !1 })), this.queue.iterate((function (i) { if (i.type === t.type && i.key === t.key) return e = !0, !1 }))), e }, addPack: function (t, e) { e && t.hasOwnProperty(e) && (t = { packKey: t[e] }); var i = 0, s = this.baseURL, n = this.path, r = this.prefix; for (var o in t) { var a = t[o], h = l(a, "baseURL", s), u = l(a, "path", n), c = l(a, "prefix", r), d = l(a, "files", null), f = l(a, "defaultType", "void"); if (Array.isArray(d)) { this.setBaseURL(h), this.setPath(u), this.setPrefix(c); for (var p = 0; p < d.length; p++) { var g = d[p], v = g.hasOwnProperty("type") ? g.type : f; this[v] && (this[v](g), i++) } } } return this.setBaseURL(s), this.setPath(n), this.setPrefix(r), i > 0 }, isLoading: function () { return this.state === s.LOADER_LOADING || this.state === s.LOADER_PROCESSING }, isReady: function () { return this.state === s.LOADER_IDLE || this.state === s.LOADER_COMPLETE }, start: function () { this.isReady() && (this.progress = 0, this.totalFailed = 0, this.totalComplete = 0, this.totalToLoad = this.list.size, this.emit(a.START, this), 0 === this.list.size ? this.loadComplete() : (this.state = s.LOADER_LOADING, this.inflight.clear(), this.queue.clear(), this.updateProgress(), this.checkLoadQueue(), this.systems.events.on(c.UPDATE, this.update, this))) }, updateProgress: function () { this.progress = 1 - (this.list.size + this.inflight.size) / this.totalToLoad, this.emit(a.PROGRESS, this.progress) }, update: function () { this.state === s.LOADER_LOADING && this.list.size > 0 && this.inflight.size < this.maxParallelDownloads && this.checkLoadQueue() }, checkLoadQueue: function () { this.list.each((function (t) { if ((t.state === s.FILE_POPULATED || t.state === s.FILE_PENDING && this.inflight.size < this.maxParallelDownloads) && (this.inflight.set(t), this.list.delete(t), t.crossOrigin || (t.crossOrigin = this.crossOrigin), t.load()), this.inflight.size === this.maxParallelDownloads) return !1 }), this) }, nextFile: function (t, e) { this.inflight && (this.inflight.delete(t), this.updateProgress(), e ? (this.totalComplete++, this.queue.set(t), this.emit(a.FILE_LOAD, t), t.onProcess()) : (this.totalFailed++, this._deleteQueue.set(t), this.emit(a.FILE_LOAD_ERROR, t), this.fileProcessComplete(t))) }, fileProcessComplete: function (t) { this.scene && this.systems && this.systems.game && !this.systems.game.pendingDestroy && (t.state === s.FILE_ERRORED ? t.multiFile && t.multiFile.onFileFailed(t) : t.state === s.FILE_COMPLETE && (t.multiFile ? t.multiFile.isReadyToProcess() && t.multiFile.addToCache() : t.addToCache()), this.queue.delete(t), 0 === this.list.size && 0 === this.inflight.size && 0 === this.queue.size && this.loadComplete()) }, loadComplete: function () { this.emit(a.POST_PROCESS, this), this.list.clear(), this.inflight.clear(), this.queue.clear(), this.progress = 1, this.state = s.LOADER_COMPLETE, this.systems.events.off(c.UPDATE, this.update, this), this._deleteQueue.iterateLocal("destroy"), this._deleteQueue.clear(), this.emit(a.COMPLETE, this, this.totalComplete, this.totalFailed) }, flagForRemoval: function (t) { this._deleteQueue.set(t) }, saveJSON: function (t, e) { return this.save(JSON.stringify(t), e) }, save: function (t, e, i) { void 0 === e && (e = "file.json"), void 0 === i && (i = "application/json"); var s = new Blob([t], { type: i }), n = URL.createObjectURL(s), r = document.createElement("a"); return r.download = e, r.textContent = "Download " + e, r.href = n, r.click(), this }, reset: function () { this.list.clear(), this.inflight.clear(), this.queue.clear(); var t = this.systems.game.config, e = this.systems.settings.loader; this.setBaseURL(l(e, "baseURL", t.loaderBaseURL)), this.setPath(l(e, "path", t.loaderPath)), this.setPrefix(l(e, "prefix", t.loaderPrefix)), this.state = s.LOADER_IDLE }, shutdown: function () { this.reset(), this.state = s.LOADER_SHUTDOWN, this.systems.events.off(c.UPDATE, this.update, this), this.systems.events.off(c.SHUTDOWN, this.shutdown, this) }, destroy: function () { this.shutdown(), this.state = s.LOADER_DESTROYED, this.systems.events.off(c.UPDATE, this.update, this), this.systems.events.off(c.START, this.pluginStart, this), this.list = null, this.inflight = null, this.queue = null, this.scene = null, this.systems = null, this.textureManager = null, this.cacheManager = null, this.sceneManager = null } }); u.register("Loader", f, "load"), t.exports = f })), n.register("kZqOf", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { Arcade: n("2tjvS"), Impact: n("h3YNL"), Matter: n("6xUMs") }
})), n.register("2tjvS", (function (t, e) { var i = n("ilZSx"), s = n("hVk4C"), r = { ArcadePhysics: n("fLgwd"), Body: n("eJKdR"), Collider: n("egqqo"), Components: n("3SfZs"), Events: n("cPwjQ"), Factory: n("5kYTK"), Group: n("ciOQq"), Image: n("6FypI"), Sprite: n("bLNEY"), StaticBody: n("k8alZ"), StaticGroup: n("gpJfs"), World: n("dokZz") }; r = s(!1, r, i), t.exports = r })), n.register("ilZSx", (function (t, e) { t.exports = { DYNAMIC_BODY: 0, STATIC_BODY: 1, GROUP: 2, TILEMAPLAYER: 3, FACING_NONE: 10, FACING_UP: 11, FACING_DOWN: 12, FACING_LEFT: 13, FACING_RIGHT: 14 } })), n.register("fLgwd", (function (t, e) { var i = n("jwj1g"), s = n("2zqSA"), r = n("bwLQh"), o = n("gMODW"), a = n("5kYTK"), h = n("7BSWl"), l = n("awyQk"), u = n("egXG9"), c = n("9rlFn"), d = n("7AzQW"), f = n("4rtgc"), p = n("7SBSk"), g = n("dokZz"), v = new i({ initialize: function (t) { this.scene = t, this.systems = t.sys, this.config = this.getConfig(), this.world, this.add, t.sys.events.once(f.BOOT, this.boot, this), t.sys.events.on(f.START, this.start, this) }, boot: function () { this.world = new g(this.scene, this.config), this.add = new a(this.world), this.systems.events.once(f.DESTROY, this.destroy, this) }, start: function () { this.world || (this.world = new g(this.scene, this.config), this.add = new a(this.world)); var t = this.systems.events; t.on(f.UPDATE, this.world.update, this.world), t.on(f.POST_UPDATE, this.world.postUpdate, this.world), t.once(f.SHUTDOWN, this.shutdown, this) }, getConfig: function () { var t = this.systems.game.config.physics, e = this.systems.settings.physics; return l(h(e, "arcade", {}), h(t, "arcade", {})) }, overlap: function (t, e, i, s, n) { return void 0 === i && (i = null), void 0 === s && (s = null), void 0 === n && (n = i), this.world.collideObjects(t, e, i, s, n, !0) }, collide: function (t, e, i, s, n) { return void 0 === i && (i = null), void 0 === s && (s = null), void 0 === n && (n = i), this.world.collideObjects(t, e, i, s, n, !1) }, collideTiles: function (t, e, i, s, n) { return this.world.collideTiles(t, e, i, s, n) }, overlapTiles: function (t, e, i, s, n) { return this.world.overlapTiles(t, e, i, s, n) }, pause: function () { return this.world.pause() }, resume: function () { return this.world.resume() }, accelerateTo: function (t, e, i, s, n, r) { void 0 === s && (s = 60); var o = Math.atan2(i - t.y, e - t.x); return t.body.acceleration.setToPolar(o, s), void 0 !== n && void 0 !== r && t.body.maxVelocity.set(n, r), o }, accelerateToObject: function (t, e, i, s, n) { return this.accelerateTo(t, e.x, e.y, i, s, n) }, closest: function (t, e) { e || (e = this.world.bodies.entries); for (var i = Number.MAX_VALUE, s = null, n = t.x, r = t.y, a = e.length, h = 0; h < a; h++) { var l = e[h], u = l.body || l; if (t !== l && t !== u && t !== u.gameObject && t !== u.center) { var c = o(n, r, u.center.x, u.center.y); c < i && (s = l, i = c) } } return s }, furthest: function (t, e) { e || (e = this.world.bodies.entries); for (var i = -1, s = null, n = t.x, r = t.y, a = e.length, h = 0; h < a; h++) { var l = e[h], u = l.body || l; if (t !== l && t !== u && t !== u.gameObject && t !== u.center) { var c = o(n, r, u.center.x, u.center.y); c > i && (s = l, i = c) } } return s }, moveTo: function (t, e, i, s, n) { void 0 === s && (s = 60), void 0 === n && (n = 0); var o = Math.atan2(i - t.y, e - t.x); return n > 0 && (s = r(t.x, t.y, e, i) / (n / 1e3)), t.body.velocity.setToPolar(o, s), o }, moveToObject: function (t, e, i, s) { return this.moveTo(t, e.x, e.y, i, s) }, velocityFromAngle: function (t, e, i) { return void 0 === e && (e = 60), void 0 === i && (i = new p), i.setToPolar(s(t), e) }, velocityFromRotation: function (t, e, i) { return void 0 === e && (e = 60), void 0 === i && (i = new p), i.setToPolar(t, e) }, overlapRect: function (t, e, i, s, n, r) { return c(this.world, t, e, i, s, n, r) }, overlapCirc: function (t, e, i, s, n) { return u(this.world, t, e, i, s, n) }, shutdown: function () { if (this.world) { var t = this.systems.events; t.off(f.UPDATE, this.world.update, this.world), t.off(f.POST_UPDATE, this.world.postUpdate, this.world), t.off(f.SHUTDOWN, this.shutdown, this), this.add.destroy(), this.world.destroy(), this.add = null, this.world = null } }, destroy: function () { this.shutdown(), this.scene.sys.events.off(f.START, this.start, this), this.scene = null, this.systems = null } }); d.register("ArcadePhysics", v, "arcadePhysics"), t.exports = v })), n.register("5kYTK", (function (t, e) { var i = n("6FypI"), s = n("bLNEY"), r = n("jwj1g"), o = n("ilZSx"), a = n("ciOQq"), h = n("gpJfs"), l = new r({ initialize: function (t) { this.world = t, this.scene = t.scene, this.sys = t.scene.sys }, collider: function (t, e, i, s, n) { return this.world.addCollider(t, e, i, s, n) }, overlap: function (t, e, i, s, n) { return this.world.addOverlap(t, e, i, s, n) }, existing: function (t, e) { var i = e ? o.STATIC_BODY : o.DYNAMIC_BODY; return this.world.enableBody(t, i), t }, staticImage: function (t, e, s, n) { var r = new i(this.scene, t, e, s, n); return this.sys.displayList.add(r), this.world.enableBody(r, o.STATIC_BODY), r }, image: function (t, e, s, n) { var r = new i(this.scene, t, e, s, n); return this.sys.displayList.add(r), this.world.enableBody(r, o.DYNAMIC_BODY), r }, staticSprite: function (t, e, i, n) { var r = new s(this.scene, t, e, i, n); return this.sys.displayList.add(r), this.sys.updateList.add(r), this.world.enableBody(r, o.STATIC_BODY), r }, sprite: function (t, e, i, n) { var r = new s(this.scene, t, e, i, n); return this.sys.displayList.add(r), this.sys.updateList.add(r), this.world.enableBody(r, o.DYNAMIC_BODY), r }, staticGroup: function (t, e) { return this.sys.updateList.add(new h(this.world, this.world.scene, t, e)) }, group: function (t, e) { return this.sys.updateList.add(new a(this.world, this.world.scene, t, e)) }, destroy: function () { this.world = null, this.scene = null, this.sys = null } }); t.exports = l })), n.register("6FypI", (function (t, e) { var i = n("jwj1g"), s = n("3SfZs"), r = n("8qGvv"), o = new i({ Extends: r, Mixins: [s.Acceleration, s.Angular, s.Bounce, s.Debug, s.Drag, s.Enable, s.Friction, s.Gravity, s.Immovable, s.Mass, s.Size, s.Velocity], initialize: function (t, e, i, s, n) { r.call(this, t, e, i, s, n), this.body = null } }); t.exports = o })), n.register("3SfZs", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { Acceleration: n("hBHFZ"), Angular: n("l6iII"), Bounce: n("3eYIA"), Debug: n("buQHl"), Drag: n("bhmqB"), Enable: n("jyrax"), Friction: n("bFAmR"), Gravity: n("bGmpy"), Immovable: n("7ruVw"), Mass: n("fR1MQ"), Size: n("gQPlW"), Velocity: n("N9vhs") }
})), n.register("hBHFZ", (function (t, e) { t.exports = { setAcceleration: function (t, e) { return this.body.acceleration.set(t, e), this }, setAccelerationX: function (t) { return this.body.acceleration.x = t, this }, setAccelerationY: function (t) { return this.body.acceleration.y = t, this } } })), n.register("l6iII", (function (t, e) { t.exports = { setAngularVelocity: function (t) { return this.body.angularVelocity = t, this }, setAngularAcceleration: function (t) { return this.body.angularAcceleration = t, this }, setAngularDrag: function (t) { return this.body.angularDrag = t, this } } })), n.register("3eYIA", (function (t, e) { t.exports = { setBounce: function (t, e) { return this.body.bounce.set(t, e), this }, setBounceX: function (t) { return this.body.bounce.x = t, this }, setBounceY: function (t) { return this.body.bounce.y = t, this }, setCollideWorldBounds: function (t, e, i) { return this.body.setCollideWorldBounds(t, e, i), this } } })), n.register("buQHl", (function (t, e) { t.exports = { setDebug: function (t, e, i) { return this.debugShowBody = t, this.debugShowVelocity = e, this.debugBodyColor = i, this }, setDebugBodyColor: function (t) { return this.body.debugBodyColor = t, this }, debugShowBody: { get: function () { return this.body.debugShowBody }, set: function (t) { this.body.debugShowBody = t } }, debugShowVelocity: { get: function () { return this.body.debugShowVelocity }, set: function (t) { this.body.debugShowVelocity = t } }, debugBodyColor: { get: function () { return this.body.debugBodyColor }, set: function (t) { this.body.debugBodyColor = t } } } })), n.register("bhmqB", (function (t, e) { t.exports = { setDrag: function (t, e) { return this.body.drag.set(t, e), this }, setDragX: function (t) { return this.body.drag.x = t, this }, setDragY: function (t) { return this.body.drag.y = t, this }, setDamping: function (t) { return this.body.useDamping = t, this } } })), n.register("jyrax", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    var i = { enableBody: function (t, e, i, s, n) { return t && this.body.reset(e, i), s && (this.body.gameObject.active = !0), n && (this.body.gameObject.visible = !0), this.body.enable = !0, this }, disableBody: function (t, e) { return void 0 === t && (t = !1), void 0 === e && (e = !1), this.body.stop(), this.body.enable = !1, t && (this.body.gameObject.active = !1), e && (this.body.gameObject.visible = !1), this }, refreshBody: function () { return this.body.updateFromGameObject(), this } }; t.exports = i
})), n.register("bFAmR", (function (t, e) { t.exports = { setFriction: function (t, e) { return this.body.friction.set(t, e), this }, setFrictionX: function (t) { return this.body.friction.x = t, this }, setFrictionY: function (t) { return this.body.friction.y = t, this } } })), n.register("bGmpy", (function (t, e) { t.exports = { setGravity: function (t, e) { return this.body.gravity.set(t, e), this }, setGravityX: function (t) { return this.body.gravity.x = t, this }, setGravityY: function (t) { return this.body.gravity.y = t, this } } })), n.register("7ruVw", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    var i = { setImmovable: function (t) { return void 0 === t && (t = !0), this.body.immovable = t, this } }; t.exports = i
})), n.register("fR1MQ", (function (t, e) { t.exports = { setMass: function (t) { return this.body.mass = t, this } } })), n.register("gQPlW", (function (t, e) { t.exports = { setOffset: function (t, e) { return this.body.setOffset(t, e), this }, setSize: function (t, e, i) { return this.body.setSize(t, e, i), this }, setCircle: function (t, e, i) { return this.body.setCircle(t, e, i), this } } })), n.register("N9vhs", (function (t, e) { t.exports = { setVelocity: function (t, e) { return this.body.setVelocity(t, e), this }, setVelocityX: function (t) { return this.body.setVelocityX(t), this }, setVelocityY: function (t) { return this.body.setVelocityY(t), this }, setMaxVelocity: function (t, e) { return this.body.maxVelocity.set(t, e), this } } })), n.register("bLNEY", (function (t, e) { var i = n("jwj1g"), s = n("3SfZs"), r = n("gXuc8"), o = new i({ Extends: r, Mixins: [s.Acceleration, s.Angular, s.Bounce, s.Debug, s.Drag, s.Enable, s.Friction, s.Gravity, s.Immovable, s.Mass, s.Size, s.Velocity], initialize: function (t, e, i, s, n) { r.call(this, t, e, i, s, n), this.body = null } }); t.exports = o })), n.register("ciOQq", (function (t, e) { var i = n("bLNEY"), s = n("jwj1g"), r = n("ilZSx"), o = n("7BSWl"), a = n("hDBsd"), h = n("jC9MQ"), l = new s({ Extends: a, initialize: function (t, e, s, n) { if (s || n) if (h(s)) n = s, s = null, n.internalCreateCallback = this.createCallbackHandler, n.internalRemoveCallback = this.removeCallbackHandler; else if (Array.isArray(s) && h(s[0])) { n = s[0]; var l = this; s.forEach((function (t) { t.internalCreateCallback = l.createCallbackHandler, t.internalRemoveCallback = l.removeCallbackHandler })) } else n = { internalCreateCallback: this.createCallbackHandler, internalRemoveCallback: this.removeCallbackHandler }; else n = { internalCreateCallback: this.createCallbackHandler, internalRemoveCallback: this.removeCallbackHandler }; this.world = t, n.classType = o(n, "classType", i), this.physicsType = r.DYNAMIC_BODY, this.defaults = { setCollideWorldBounds: o(n, "collideWorldBounds", !1), setBoundsRectangle: o(n, "customBoundsRectangle", null), setAccelerationX: o(n, "accelerationX", 0), setAccelerationY: o(n, "accelerationY", 0), setAllowDrag: o(n, "allowDrag", !0), setAllowGravity: o(n, "allowGravity", !0), setAllowRotation: o(n, "allowRotation", !0), setBounceX: o(n, "bounceX", 0), setBounceY: o(n, "bounceY", 0), setDragX: o(n, "dragX", 0), setDragY: o(n, "dragY", 0), setEnable: o(n, "enable", !0), setGravityX: o(n, "gravityX", 0), setGravityY: o(n, "gravityY", 0), setFrictionX: o(n, "frictionX", 0), setFrictionY: o(n, "frictionY", 0), setVelocityX: o(n, "velocityX", 0), setVelocityY: o(n, "velocityY", 0), setAngularVelocity: o(n, "angularVelocity", 0), setAngularAcceleration: o(n, "angularAcceleration", 0), setAngularDrag: o(n, "angularDrag", 0), setMass: o(n, "mass", 1), setImmovable: o(n, "immovable", !1) }, Array.isArray(s) && (n = null), a.call(this, e, s, n), this.type = "PhysicsGroup" }, createCallbackHandler: function (t) { t.body || this.world.enableBody(t, r.DYNAMIC_BODY); var e = t.body; for (var i in this.defaults) e[i](this.defaults[i]) }, removeCallbackHandler: function (t) { t.body && this.world.disableBody(t) }, setVelocity: function (t, e, i) { void 0 === i && (i = 0); for (var s = this.getChildren(), n = 0; n < s.length; n++)s[n].body.velocity.set(t + n * i, e + n * i); return this }, setVelocityX: function (t, e) { void 0 === e && (e = 0); for (var i = this.getChildren(), s = 0; s < i.length; s++)i[s].body.velocity.x = t + s * e; return this }, setVelocityY: function (t, e) { void 0 === e && (e = 0); for (var i = this.getChildren(), s = 0; s < i.length; s++)i[s].body.velocity.y = t + s * e; return this } }); t.exports = l })), n.register("gpJfs", (function (t, e) { var i = n("bLNEY"), s = n("jwj1g"), r = n("ilZSx"), o = n("7BSWl"), a = n("hDBsd"), h = n("jC9MQ"), l = new s({ Extends: a, initialize: function (t, e, s, n) { s || n ? h(s) ? (n = s, s = null, n.internalCreateCallback = this.createCallbackHandler, n.internalRemoveCallback = this.removeCallbackHandler, n.createMultipleCallback = this.createMultipleCallbackHandler, n.classType = o(n, "classType", i)) : Array.isArray(s) && h(s[0]) && (n = s, s = null, n.forEach((function (t) { t.internalCreateCallback = this.createCallbackHandler, t.internalRemoveCallback = this.removeCallbackHandler, t.createMultipleCallback = this.createMultipleCallbackHandler, t.classType = o(t, "classType", i) }))) : n = { internalCreateCallback: this.createCallbackHandler, internalRemoveCallback: this.removeCallbackHandler, createMultipleCallback: this.createMultipleCallbackHandler, classType: i }, this.world = t, this.physicsType = r.STATIC_BODY, a.call(this, e, s, n), this.type = "StaticPhysicsGroup" }, createCallbackHandler: function (t) { t.body || this.world.enableBody(t, r.STATIC_BODY) }, removeCallbackHandler: function (t) { t.body && this.world.disableBody(t) }, createMultipleCallbackHandler: function () { this.refresh() }, refresh: function () { for (var t = this.children.entries, e = 0; e < t.length; e++)t[e].body.reset(); return this } }); t.exports = l })), n.register("egXG9", (function (t, e) { var i = n("9rlFn"), s = n("eQ4tZ"), r = n("1GcYB"), o = n("14KTi"); t.exports = function (t, e, n, a, h, l) { var u = i(t, e - a, n - a, 2 * a, 2 * a, h, l); if (0 === u.length) return u; for (var c = new s(e, n, a), d = new s, f = [], p = 0; p < u.length; p++) { var g = u[p]; g.isCircle ? (d.setTo(g.center.x, g.center.y, g.halfWidth), r(c, d) && f.push(g)) : o(c, g) && f.push(g) } return f } })), n.register("9rlFn", (function (t, e) { t.exports = function (t, e, i, s, n, r, o) { void 0 === r && (r = !0), void 0 === o && (o = !1); var a = [], h = [], l = t.treeMinMax; if (l.minX = e, l.minY = i, l.maxX = e + s, l.maxY = i + n, o && (h = t.staticTree.search(l)), r && t.useTree) a = t.tree.search(l); else if (r) { var u = t.bodies, c = { position: { x: e, y: i }, left: e, top: i, right: e + s, bottom: i + n, isCircle: !1 }, d = t.intersects; u.iterate((function (t) { d(t, c) && a.push(t) })) } return h.concat(a) } })), n.register("dokZz", (function (t, e) { var i = n("eJKdR"), s = n("iEUUO"), r = n("jwj1g"), o = n("egqqo"), a = n("ilZSx"), h = n("bwLQh"), l = n("3vRz3"), u = n("cPwjQ"), c = n("4cohD"), d = n("4wJN7"), f = n("ccP8g"), p = n("e6piX"), g = n("iBYsy"), v = n("5pMDk"), m = n("gz3ML"), y = n("7KmsS"), x = n("cwr8X"), w = n("aVlAx"), T = n("j3Ns0"), b = n("i83ko"), S = n("8u1DC"), A = n("lxxnL"), E = n("k8alZ"), C = n("eXUBz"), _ = n("azs1m"), M = n("7SBSk"), P = n("8qWuA"), O = new r({ Extends: l, initialize: function (t, e) { l.call(this), this.scene = t, this.bodies = new A, this.staticBodies = new A, this.pendingDestroy = new A, this.colliders = new m, this.gravity = new M(v(e, "gravity.x", 0), v(e, "gravity.y", 0)), this.bounds = new x(v(e, "x", 0), v(e, "y", 0), v(e, "width", t.sys.scale.width), v(e, "height", t.sys.scale.height)), this.checkCollision = { up: v(e, "checkCollision.up", !0), down: v(e, "checkCollision.down", !0), left: v(e, "checkCollision.left", !0), right: v(e, "checkCollision.right", !0) }, this.fps = v(e, "fps", 60), this._elapsed = 0, this._frameTime = 1 / this.fps, this._frameTimeMS = 1e3 * this._frameTime, this.stepsLastFrame = 0, this.timeScale = v(e, "timeScale", 1), this.OVERLAP_BIAS = v(e, "overlapBias", 4), this.TILE_BIAS = v(e, "tileBias", 16), this.forceX = v(e, "forceX", !1), this.isPaused = v(e, "isPaused", !1), this._total = 0, this.drawDebug = v(e, "debug", !1), this.debugGraphic, this.defaults = { debugShowBody: v(e, "debugShowBody", !0), debugShowStaticBody: v(e, "debugShowStaticBody", !0), debugShowVelocity: v(e, "debugShowVelocity", !0), bodyDebugColor: v(e, "debugBodyColor", 16711935), staticBodyDebugColor: v(e, "debugStaticBodyColor", 255), velocityDebugColor: v(e, "debugVelocityColor", 65280) }, this.maxEntries = v(e, "maxEntries", 16), this.useTree = v(e, "useTree", !0), this.tree = new w(this.maxEntries), this.staticTree = new w(this.maxEntries), this.treeMinMax = { minX: 0, minY: 0, maxX: 0, maxY: 0 }, this._tempMatrix = new _, this._tempMatrix2 = new _, this.drawDebug && this.createDebugGraphic() }, enable: function (t, e) { void 0 === e && (e = a.DYNAMIC_BODY), Array.isArray(t) || (t = [t]); for (var i = 0; i < t.length; i++) { var s = t[i]; if (s.isParent) for (var n = s.getChildren(), r = 0; r < n.length; r++) { var o = n[r]; o.isParent ? this.enable(o, e) : this.enableBody(o, e) } else this.enableBody(s, e) } }, enableBody: function (t, e) { return void 0 === e && (e = a.DYNAMIC_BODY), t.body || (e === a.DYNAMIC_BODY ? t.body = new i(this, t) : e === a.STATIC_BODY && (t.body = new E(this, t))), this.add(t.body), t }, add: function (t) { return t.physicsType === a.DYNAMIC_BODY ? this.bodies.set(t) : t.physicsType === a.STATIC_BODY && (this.staticBodies.set(t), this.staticTree.insert(t)), t.enable = !0, t }, disable: function (t) { Array.isArray(t) || (t = [t]); for (var e = 0; e < t.length; e++) { var i = t[e]; if (i.isParent) for (var s = i.getChildren(), n = 0; n < s.length; n++) { var r = s[n]; r.isParent ? this.disable(r) : this.disableBody(r.body) } else this.disableBody(i.body) } }, disableBody: function (t) { this.remove(t), t.enable = !1 }, remove: function (t) { t.physicsType === a.DYNAMIC_BODY ? (this.tree.remove(t), this.bodies.delete(t)) : t.physicsType === a.STATIC_BODY && (this.staticBodies.delete(t), this.staticTree.remove(t)) }, createDebugGraphic: function () { var t = this.scene.sys.add.graphics({ x: 0, y: 0 }); return t.setDepth(Number.MAX_VALUE), this.debugGraphic = t, this.drawDebug = !0, t }, setBounds: function (t, e, i, s, n, r, o, a) { return this.bounds.setTo(t, e, i, s), void 0 !== n && this.setBoundsCollision(n, r, o, a), this }, setBoundsCollision: function (t, e, i, s) { return void 0 === t && (t = !0), void 0 === e && (e = !0), void 0 === i && (i = !0), void 0 === s && (s = !0), this.checkCollision.left = t, this.checkCollision.right = e, this.checkCollision.up = i, this.checkCollision.down = s, this }, pause: function () { return this.isPaused = !0, this.emit(u.PAUSE), this }, resume: function () { return this.isPaused = !1, this.emit(u.RESUME), this }, addCollider: function (t, e, i, s, n) { void 0 === i && (i = null), void 0 === s && (s = null), void 0 === n && (n = i); var r = new o(this, !1, t, e, i, s, n); return this.colliders.add(r), r }, addOverlap: function (t, e, i, s, n) { void 0 === i && (i = null), void 0 === s && (s = null), void 0 === n && (n = i); var r = new o(this, !0, t, e, i, s, n); return this.colliders.add(r), r }, removeCollider: function (t) { return this.colliders.remove(t), this }, setFPS: function (t) { return this.fps = t, this._frameTime = 1 / this.fps, this._frameTimeMS = 1e3 * this._frameTime, this }, update: function (t, e) { if (!this.isPaused && 0 !== this.bodies.size) { var i, s, n = this._frameTime, r = this._frameTimeMS * this.timeScale; this._elapsed += e; var o = this.bodies.entries, a = this._elapsed >= r; for (i = 0; i < o.length; i++)(s = o[i]).enable && s.preUpdate(a, n); if (a) { this._elapsed -= r, this.stepsLastFrame = 1, this.useTree && (this.tree.clear(), this.tree.load(o)); var h = this.colliders.update(); for (i = 0; i < h.length; i++) { var l = h[i]; l.active && l.update() } this.emit(u.WORLD_STEP) } for (; this._elapsed >= r;)this._elapsed -= r, this.step(n) } }, step: function (t) { var e, i, s = this.bodies.entries, n = s.length; for (e = 0; e < n; e++)(i = s[e]).enable && i.update(t); this.useTree && (this.tree.clear(), this.tree.load(s)); var r = this.colliders.update(); for (e = 0; e < r.length; e++) { var o = r[e]; o.active && o.update() } this.emit(u.WORLD_STEP), this.stepsLastFrame++ }, postUpdate: function () { var t, e, i = this.bodies.entries, s = i.length, n = this.bodies, r = this.staticBodies; if (this.stepsLastFrame) for (this.stepsLastFrame = 0, t = 0; t < s; t++)(e = i[t]).enable && e.postUpdate(); if (this.drawDebug) { var o = this.debugGraphic; for (o.clear(), t = 0; t < s; t++)(e = i[t]).willDrawDebug() && e.drawDebug(o); for (s = (i = r.entries).length, t = 0; t < s; t++)(e = i[t]).willDrawDebug() && e.drawDebug(o) } var h = this.pendingDestroy; if (h.size > 0) { var l = this.tree, u = this.staticTree; for (s = (i = h.entries).length, t = 0; t < s; t++)(e = i[t]).physicsType === a.DYNAMIC_BODY ? (l.remove(e), n.delete(e)) : e.physicsType === a.STATIC_BODY && (u.remove(e), r.delete(e)), e.world = void 0, e.gameObject = void 0; h.clear() } }, updateMotion: function (t, e) { t.allowRotation && this.computeAngularVelocity(t, e), this.computeVelocity(t, e) }, computeAngularVelocity: function (t, e) { var i = t.angularVelocity, n = t.angularAcceleration, r = t.angularDrag, o = t.maxAngular; n ? i += n * e : t.allowDrag && r && (d(i - (r *= e), 0, .1) ? i -= r : f(i + r, 0, .1) ? i += r : i = 0); var a = (i = s(i, -o, o)) - t.angularVelocity; t.angularVelocity += a, t.rotation += t.angularVelocity * e }, computeVelocity: function (t, e) { var i = t.velocity.x, n = t.acceleration.x, r = t.drag.x, o = t.maxVelocity.x, a = t.velocity.y, h = t.acceleration.y, l = t.drag.y, u = t.maxVelocity.y, p = t.speed, g = t.maxSpeed, v = t.allowDrag, m = t.useDamping; t.allowGravity && (i += (this.gravity.x + t.gravity.x) * e, a += (this.gravity.y + t.gravity.y) * e), n ? i += n * e : v && r && (m ? (i *= r, p = Math.sqrt(i * i + a * a), c(p, 0, .001) && (i = 0)) : d(i - (r *= e), 0, .01) ? i -= r : f(i + r, 0, .01) ? i += r : i = 0), h ? a += h * e : v && l && (m ? (a *= l, p = Math.sqrt(i * i + a * a), c(p, 0, .001) && (a = 0)) : d(a - (l *= e), 0, .01) ? a -= l : f(a + l, 0, .01) ? a += l : a = 0), i = s(i, -o, o), a = s(a, -u, u), t.velocity.set(i, a), g > -1 && p > g && (t.velocity.normalize().scale(g), p = g), t.speed = p }, separate: function (t, e, i, s, n) { if (!t.enable || !e.enable || t.checkCollision.none || e.checkCollision.none || !this.intersects(t, e)) return !1; if (i && !1 === i.call(s, t.gameObject, e.gameObject)) return !1; if (t.isCircle && e.isCircle) return this.separateCircle(t, e, n); if (t.isCircle !== e.isCircle) { var r = t.isCircle ? e : t, o = t.isCircle ? t : e, a = { x: r.x, y: r.y, right: r.right, bottom: r.bottom }, h = o.center; if ((h.y < a.y || h.y > a.bottom) && (h.x < a.x || h.x > a.right)) return this.separateCircle(t, e, n) } var l = !1, c = !1; this.forceX || Math.abs(this.gravity.y + t.gravity.y) < Math.abs(this.gravity.x + t.gravity.x) ? (l = b(t, e, n, this.OVERLAP_BIAS), this.intersects(t, e) && (c = S(t, e, n, this.OVERLAP_BIAS))) : (c = S(t, e, n, this.OVERLAP_BIAS), this.intersects(t, e) && (l = b(t, e, n, this.OVERLAP_BIAS))); var d = l || c; return d && (n ? (t.onOverlap || e.onOverlap) && this.emit(u.OVERLAP, t.gameObject, e.gameObject, t, e) : (t.onCollide || e.onCollide) && this.emit(u.COLLIDE, t.gameObject, e.gameObject, t, e)), d }, separateCircle: function (t, e, i, s) { p(t, e, !1, s), g(t, e, !1, s); var n = 0; if (t.isCircle !== e.isCircle) { var r = { x: e.isCircle ? t.position.x : e.position.x, y: e.isCircle ? t.position.y : e.position.y, right: e.isCircle ? t.right : e.right, bottom: e.isCircle ? t.bottom : e.bottom }, o = { x: t.isCircle ? t.center.x : e.center.x, y: t.isCircle ? t.center.y : e.center.y, radius: t.isCircle ? t.halfWidth : e.halfWidth }; o.y < r.y ? o.x < r.x ? n = h(o.x, o.y, r.x, r.y) - o.radius : o.x > r.right && (n = h(o.x, o.y, r.right, r.y) - o.radius) : o.y > r.bottom && (o.x < r.x ? n = h(o.x, o.y, r.x, r.bottom) - o.radius : o.x > r.right && (n = h(o.x, o.y, r.right, r.bottom) - o.radius)), n *= -1 } else n = t.halfWidth + e.halfWidth - h(t.center.x, t.center.y, e.center.x, e.center.y); if (i || 0 === n || t.immovable && e.immovable || t.customSeparateX || e.customSeparateX) return 0 !== n && (t.onOverlap || e.onOverlap) && this.emit(u.OVERLAP, t.gameObject, e.gameObject, t, e), 0 !== n; var a = t.center.x - e.center.x, l = t.center.y - e.center.y, c = Math.sqrt(Math.pow(a, 2) + Math.pow(l, 2)), d = (e.center.x - t.center.x) / c || 0, f = (e.center.y - t.center.y) / c || 0, v = 2 * (t.velocity.x * d + t.velocity.y * f - e.velocity.x * d - e.velocity.y * f) / (t.mass + e.mass); t.immovable || (t.velocity.x = t.velocity.x - v * t.mass * d, t.velocity.y = t.velocity.y - v * t.mass * f), e.immovable || (e.velocity.x = e.velocity.x + v * e.mass * d, e.velocity.y = e.velocity.y + v * e.mass * f); var m = e.velocity.x - t.velocity.x, y = e.velocity.y - t.velocity.y, x = Math.atan2(y, m), w = this._frameTime; return t.immovable || e.immovable || (n /= 2), t.immovable || (t.x += t.velocity.x * w - n * Math.cos(x), t.y += t.velocity.y * w - n * Math.sin(x)), e.immovable || (e.x += e.velocity.x * w + n * Math.cos(x), e.y += e.velocity.y * w + n * Math.sin(x)), t.velocity.x *= t.bounce.x, t.velocity.y *= t.bounce.y, e.velocity.x *= e.bounce.x, e.velocity.y *= e.bounce.y, (t.onCollide || e.onCollide) && this.emit(u.COLLIDE, t.gameObject, e.gameObject, t, e), !0 }, intersects: function (t, e) { return t !== e && (t.isCircle || e.isCircle ? t.isCircle ? e.isCircle ? h(t.center.x, t.center.y, e.center.x, e.center.y) <= t.halfWidth + e.halfWidth : this.circleBodyIntersects(t, e) : this.circleBodyIntersects(e, t) : !(t.right <= e.position.x || t.bottom <= e.position.y || t.position.x >= e.right || t.position.y >= e.bottom)) }, circleBodyIntersects: function (t, e) { var i = s(t.center.x, e.left, e.right), n = s(t.center.y, e.top, e.bottom); return (t.center.x - i) * (t.center.x - i) + (t.center.y - n) * (t.center.y - n) <= t.halfWidth * t.halfWidth }, overlap: function (t, e, i, s, n) { return void 0 === i && (i = null), void 0 === s && (s = null), void 0 === n && (n = i), this.collideObjects(t, e, i, s, n, !0) }, collide: function (t, e, i, s, n) { return void 0 === i && (i = null), void 0 === s && (s = null), void 0 === n && (n = i), this.collideObjects(t, e, i, s, n, !1) }, collideObjects: function (t, e, i, s, n, r) { var o, a; t.isParent && void 0 === t.physicsType && (t = t.children.entries), e && e.isParent && void 0 === e.physicsType && (e = e.children.entries); var h = Array.isArray(t), l = Array.isArray(e); if (this._total = 0, h || l) if (!h && l) for (o = 0; o < e.length; o++)this.collideHandler(t, e[o], i, s, n, r); else if (h && !l) if (e) for (o = 0; o < t.length; o++)this.collideHandler(t[o], e, i, s, n, r); else for (o = 0; o < t.length; o++) { var u = t[o]; for (a = o + 1; a < t.length; a++)o !== a && this.collideHandler(u, t[a], i, s, n, r) } else for (o = 0; o < t.length; o++)for (a = 0; a < e.length; a++)this.collideHandler(t[o], e[a], i, s, n, r); else this.collideHandler(t, e, i, s, n, r); return this._total > 0 }, collideHandler: function (t, e, i, s, n, r) { if (void 0 === e && t.isParent) return this.collideGroupVsGroup(t, t, i, s, n, r); if (!t || !e) return !1; if (t.body) { if (e.body) return this.collideSpriteVsSprite(t, e, i, s, n, r); if (e.isParent) return this.collideSpriteVsGroup(t, e, i, s, n, r); if (e.isTilemap) return this.collideSpriteVsTilemapLayer(t, e, i, s, n, r) } else if (t.isParent) { if (e.body) return this.collideSpriteVsGroup(e, t, i, s, n, r); if (e.isParent) return this.collideGroupVsGroup(t, e, i, s, n, r); if (e.isTilemap) return this.collideGroupVsTilemapLayer(t, e, i, s, n, r) } else if (t.isTilemap) { if (e.body) return this.collideSpriteVsTilemapLayer(e, t, i, s, n, r); if (e.isParent) return this.collideGroupVsTilemapLayer(e, t, i, s, n, r) } }, collideSpriteVsSprite: function (t, e, i, s, n, r) { return !(!t.body || !e.body) && (this.separate(t.body, e.body, s, n, r) && (i && i.call(n, t, e), this._total++), !0) }, collideSpriteVsGroup: function (t, e, i, s, n, r) { var o, h, l, u = t.body; if (0 !== e.length && u && u.enable) if (this.useTree) { var c = this.treeMinMax; c.minX = u.left, c.minY = u.top, c.maxX = u.right, c.maxY = u.bottom; var d = e.physicsType === a.DYNAMIC_BODY ? this.tree.search(c) : this.staticTree.search(c); for (h = d.length, o = 0; o < h; o++)u !== (l = d[o]) && l.enable && e.contains(l.gameObject) && this.separate(u, l, s, n, r) && (i && i.call(n, u.gameObject, l.gameObject), this._total++) } else { var f = e.getChildren(), p = e.children.entries.indexOf(t); for (h = f.length, o = 0; o < h; o++)(l = f[o].body) && o !== p && l.enable && this.separate(u, l, s, n, r) && (i && i.call(n, u.gameObject, l.gameObject), this._total++) } }, collideGroupVsTilemapLayer: function (t, e, i, s, n, r) { var o = t.getChildren(); if (0 === o.length) return !1; for (var a = !1, h = 0; h < o.length; h++)o[h].body && this.collideSpriteVsTilemapLayer(o[h], e, i, s, n, r) && (a = !0); return a }, collideTiles: function (t, e, i, s, n) { return !(!t.body.enable || 0 === e.length) && this.collideSpriteVsTilesHandler(t, e, i, s, n, !1, !1) }, overlapTiles: function (t, e, i, s, n) { return !(!t.body.enable || 0 === e.length) && this.collideSpriteVsTilesHandler(t, e, i, s, n, !0, !1) }, collideSpriteVsTilemapLayer: function (t, e, i, s, n, r) { var o = t.body; if (!o.enable) return !1; var a = o.position.x, h = o.position.y, l = o.width, u = o.height, c = e.layer; if (c.tileWidth > c.baseTileWidth) { var d = (c.tileWidth - c.baseTileWidth) * e.scaleX; a -= d, l += d } c.tileHeight > c.baseTileHeight && (u += (c.tileHeight - c.baseTileHeight) * e.scaleY); var f = e.getTilesWithinWorldXY(a, h, l, u); return 0 !== f.length && this.collideSpriteVsTilesHandler(t, f, i, s, n, r, !0) }, collideSpriteVsTilesHandler: function (t, e, i, s, n, r, o) { for (var a, h, l = t.body, c = { left: 0, right: 0, top: 0, bottom: 0 }, d = !1, f = 0; f < e.length; f++)h = (a = e[f]).tilemapLayer, c.left = h.tileToWorldX(a.x), c.top = h.tileToWorldY(a.y), a.baseHeight !== a.height && (c.top -= (a.height - a.baseHeight) * h.scaleY), c.right = c.left + a.width * h.scaleX, c.bottom = c.top + a.height * h.scaleY, C(c, l) && (!s || s.call(n, t, a)) && y(a, t) && (r || T(f, l, a, c, h, this.TILE_BIAS, o)) && (this._total++, d = !0, i && i.call(n, t, a), r && l.onOverlap ? this.emit(u.TILE_OVERLAP, t, a, l) : l.onCollide && this.emit(u.TILE_COLLIDE, t, a, l)); return d }, collideGroupVsGroup: function (t, e, i, s, n, r) { if (0 !== t.length && 0 !== e.length) for (var o = t.getChildren(), a = 0; a < o.length; a++)this.collideSpriteVsGroup(o[a], e, i, s, n, r) }, wrap: function (t, e) { t.body ? this.wrapObject(t, e) : t.getChildren ? this.wrapArray(t.getChildren(), e) : Array.isArray(t) ? this.wrapArray(t, e) : this.wrapObject(t, e) }, wrapArray: function (t, e) { for (var i = 0; i < t.length; i++)this.wrapObject(t[i], e) }, wrapObject: function (t, e) { void 0 === e && (e = 0), t.x = P(t.x, this.bounds.left - e, this.bounds.right + e), t.y = P(t.y, this.bounds.top - e, this.bounds.bottom + e) }, shutdown: function () { this.tree.clear(), this.staticTree.clear(), this.bodies.clear(), this.staticBodies.clear(), this.colliders.destroy(), this.removeAllListeners() }, destroy: function () { this.shutdown(), this.scene = null } }); t.exports = O })), n.register("eJKdR", (function (t, e) { var i = n("jwj1g"), s = n("ilZSx"), r = n("cPwjQ"), o = n("dcSyA"), a = n("cwr8X"), h = n("6pEze"), l = n("7SBSk"), u = new i({ initialize: function (t, e) { var i = e.width ? e.width : 64, n = e.height ? e.height : 64; this.world = t, this.gameObject = e, this.transform = { x: e.x, y: e.y, rotation: e.angle, scaleX: e.scaleX, scaleY: e.scaleY, displayOriginX: e.displayOriginX, displayOriginY: e.displayOriginY }, this.debugShowBody = t.defaults.debugShowBody, this.debugShowVelocity = t.defaults.debugShowVelocity, this.debugBodyColor = t.defaults.bodyDebugColor, this.enable = !0, this.isCircle = !1, this.radius = 0, this.offset = new l, this.position = new l(e.x, e.y), this.prev = new l(e.x, e.y), this.prevFrame = new l(e.x, e.y), this.allowRotation = !0, this.rotation = e.angle, this.preRotation = e.angle, this.width = i, this.height = n, this.sourceWidth = i, this.sourceHeight = n, e.frame && (this.sourceWidth = e.frame.realWidth, this.sourceHeight = e.frame.realHeight), this.halfWidth = Math.abs(i / 2), this.halfHeight = Math.abs(n / 2), this.center = new l(e.x + this.halfWidth, e.y + this.halfHeight), this.velocity = new l, this.newVelocity = new l, this.deltaMax = new l, this.acceleration = new l, this.allowDrag = !0, this.drag = new l, this.allowGravity = !0, this.gravity = new l, this.bounce = new l, this.worldBounce = null, this.customBoundsRectangle = t.bounds, this.onWorldBounds = !1, this.onCollide = !1, this.onOverlap = !1, this.maxVelocity = new l(1e4, 1e4), this.maxSpeed = -1, this.friction = new l(1, 0), this.useDamping = !1, this.angularVelocity = 0, this.angularAcceleration = 0, this.angularDrag = 0, this.maxAngular = 1e3, this.mass = 1, this.angle = 0, this.speed = 0, this.facing = s.FACING_NONE, this.immovable = !1, this.moves = !0, this.customSeparateX = !1, this.customSeparateY = !1, this.overlapX = 0, this.overlapY = 0, this.overlapR = 0, this.embedded = !1, this.collideWorldBounds = !1, this.checkCollision = { none: !1, up: !0, down: !0, left: !0, right: !0 }, this.touching = { none: !0, up: !1, down: !1, left: !1, right: !1 }, this.wasTouching = { none: !0, up: !1, down: !1, left: !1, right: !1 }, this.blocked = { none: !0, up: !1, down: !1, left: !1, right: !1 }, this.syncBounds = !1, this.physicsType = s.DYNAMIC_BODY, this._sx = e.scaleX, this._sy = e.scaleY, this._dx = 0, this._dy = 0, this._tx = 0, this._ty = 0, this._bounds = new a }, updateBounds: function () { var t = this.gameObject, e = this.transform; if (t.parentContainer) { var i = t.getWorldTransformMatrix(this.world._tempMatrix, this.world._tempMatrix2); e.x = i.tx, e.y = i.ty, e.rotation = o(i.rotation), e.scaleX = i.scaleX, e.scaleY = i.scaleY, e.displayOriginX = t.displayOriginX, e.displayOriginY = t.displayOriginY } else e.x = t.x, e.y = t.y, e.rotation = t.angle, e.scaleX = t.scaleX, e.scaleY = t.scaleY, e.displayOriginX = t.displayOriginX, e.displayOriginY = t.displayOriginY; var s = !1; if (this.syncBounds) { var n = t.getBounds(this._bounds); this.width = n.width, this.height = n.height, s = !0 } else { var r = Math.abs(e.scaleX), a = Math.abs(e.scaleY); this._sx === r && this._sy === a || (this.width = this.sourceWidth * r, this.height = this.sourceHeight * a, this._sx = r, this._sy = a, s = !0) } s && (this.halfWidth = Math.floor(this.width / 2), this.halfHeight = Math.floor(this.height / 2), this.updateCenter()) }, updateCenter: function () { this.center.set(this.position.x + this.halfWidth, this.position.y + this.halfHeight) }, resetFlags: function () { this.wasTouching.none = this.touching.none, this.wasTouching.up = this.touching.up, this.wasTouching.down = this.touching.down, this.wasTouching.left = this.touching.left, this.wasTouching.right = this.touching.right, this.touching.none = !0, this.touching.up = !1, this.touching.down = !1, this.touching.left = !1, this.touching.right = !1, this.blocked.none = !0, this.blocked.up = !1, this.blocked.down = !1, this.blocked.left = !1, this.blocked.right = !1, this.overlapR = 0, this.overlapX = 0, this.overlapY = 0, this.embedded = !1 }, preUpdate: function (t, e) { t && this.resetFlags(), this.updateBounds(); var i = this.transform; this.position.x = i.x + i.scaleX * (this.offset.x - i.displayOriginX), this.position.y = i.y + i.scaleY * (this.offset.y - i.displayOriginY), this.updateCenter(), this.rotation = i.rotation, this.preRotation = this.rotation, this.moves && (this.prev.x = this.position.x, this.prev.y = this.position.y, this.prevFrame.x = this.position.x, this.prevFrame.y = this.position.y), t && this.update(e) }, update: function (t) { if (this.prev.x = this.position.x, this.prev.y = this.position.y, this.moves) { this.world.updateMotion(this, t); var e = this.velocity.x, i = this.velocity.y; this.newVelocity.set(e * t, i * t), this.position.add(this.newVelocity), this.updateCenter(), this.angle = Math.atan2(i, e), this.speed = Math.sqrt(e * e + i * i), this.collideWorldBounds && this.checkWorldBounds() && this.onWorldBounds && this.world.emit(r.WORLD_BOUNDS, this, this.blocked.up, this.blocked.down, this.blocked.left, this.blocked.right) } this._dx = this.position.x - this.prev.x, this._dy = this.position.y - this.prev.y }, postUpdate: function () { var t = this.position.x - this.prevFrame.x, e = this.position.y - this.prevFrame.y; if (this.moves) { var i = this.deltaMax.x, n = this.deltaMax.y; 0 !== i && 0 !== t && (t < 0 && t < -i ? t = -i : t > 0 && t > i && (t = i)), 0 !== n && 0 !== e && (e < 0 && e < -n ? e = -n : e > 0 && e > n && (e = n)), this.gameObject.x += t, this.gameObject.y += e } t < 0 ? this.facing = s.FACING_LEFT : t > 0 && (this.facing = s.FACING_RIGHT), e < 0 ? this.facing = s.FACING_UP : e > 0 && (this.facing = s.FACING_DOWN), this.allowRotation && (this.gameObject.angle += this.deltaZ()), this._tx = t, this._ty = e }, setBoundsRectangle: function (t) { return this.customBoundsRectangle = t || this.world.bounds, this }, checkWorldBounds: function () { var t = this.position, e = this.customBoundsRectangle, i = this.world.checkCollision, s = this.worldBounce ? -this.worldBounce.x : -this.bounce.x, n = this.worldBounce ? -this.worldBounce.y : -this.bounce.y, r = !1; return t.x < e.x && i.left ? (t.x = e.x, this.velocity.x *= s, this.blocked.left = !0, r = !0) : this.right > e.right && i.right && (t.x = e.right - this.width, this.velocity.x *= s, this.blocked.right = !0, r = !0), t.y < e.y && i.up ? (t.y = e.y, this.velocity.y *= n, this.blocked.up = !0, r = !0) : this.bottom > e.bottom && i.down && (t.y = e.bottom - this.height, this.velocity.y *= n, this.blocked.down = !0, r = !0), r && (this.blocked.none = !1), r }, setOffset: function (t, e) { return void 0 === e && (e = t), this.offset.set(t, e), this.updateCenter(), this }, setSize: function (t, e, i) { void 0 === i && (i = !0); var s = this.gameObject; if (!t && s.frame && (t = s.frame.realWidth), !e && s.frame && (e = s.frame.realHeight), this.sourceWidth = t, this.sourceHeight = e, this.width = this.sourceWidth * this._sx, this.height = this.sourceHeight * this._sy, this.halfWidth = Math.floor(this.width / 2), this.halfHeight = Math.floor(this.height / 2), this.updateCenter(), i && s.getCenter) { var n = s.displayWidth / 2, r = s.displayHeight / 2; this.offset.set(n - this.halfWidth, r - this.halfHeight) } return this.isCircle = !1, this.radius = 0, this }, setCircle: function (t, e, i) { return void 0 === e && (e = this.offset.x), void 0 === i && (i = this.offset.y), t > 0 ? (this.isCircle = !0, this.radius = t, this.sourceWidth = 2 * t, this.sourceHeight = 2 * t, this.width = this.sourceWidth * this._sx, this.height = this.sourceHeight * this._sy, this.halfWidth = Math.floor(this.width / 2), this.halfHeight = Math.floor(this.height / 2), this.offset.set(e, i), this.updateCenter()) : this.isCircle = !1, this }, reset: function (t, e) { this.stop(); var i = this.gameObject; i.setPosition(t, e), i.getTopLeft ? i.getTopLeft(this.position) : this.position.set(t, e), this.prev.copy(this.position), this.prevFrame.copy(this.position), this.rotation = i.angle, this.preRotation = i.angle, this.updateBounds(), this.updateCenter() }, stop: function () { return this.velocity.set(0), this.acceleration.set(0), this.speed = 0, this.angularVelocity = 0, this.angularAcceleration = 0, this }, getBounds: function (t) { return t.x = this.x, t.y = this.y, t.right = this.right, t.bottom = this.bottom, t }, hitTest: function (t, e) { return this.isCircle ? this.radius > 0 && t >= this.left && t <= this.right && e >= this.top && e <= this.bottom && (this.center.x - t) * (this.center.x - t) + (this.center.y - e) * (this.center.y - e) <= this.radius * this.radius : h(this, t, e) }, onFloor: function () { return this.blocked.down }, onCeiling: function () { return this.blocked.up }, onWall: function () { return this.blocked.left || this.blocked.right }, deltaAbsX: function () { return this._dx > 0 ? this._dx : -this._dx }, deltaAbsY: function () { return this._dy > 0 ? this._dy : -this._dy }, deltaX: function () { return this._dx }, deltaY: function () { return this._dy }, deltaXFinal: function () { return this._tx }, deltaYFinal: function () { return this._ty }, deltaZ: function () { return this.rotation - this.preRotation }, destroy: function () { this.enable = !1, this.world && this.world.pendingDestroy.set(this) }, drawDebug: function (t) { var e = this.position, i = e.x + this.halfWidth, s = e.y + this.halfHeight; this.debugShowBody && (t.lineStyle(t.defaultStrokeWidth, this.debugBodyColor), this.isCircle ? t.strokeCircle(i, s, this.width / 2) : (this.checkCollision.up && t.lineBetween(e.x, e.y, e.x + this.width, e.y), this.checkCollision.right && t.lineBetween(e.x + this.width, e.y, e.x + this.width, e.y + this.height), this.checkCollision.down && t.lineBetween(e.x, e.y + this.height, e.x + this.width, e.y + this.height), this.checkCollision.left && t.lineBetween(e.x, e.y, e.x, e.y + this.height))), this.debugShowVelocity && (t.lineStyle(t.defaultStrokeWidth, this.world.defaults.velocityDebugColor, 1), t.lineBetween(i, s, i + this.velocity.x / 2, s + this.velocity.y / 2)) }, willDrawDebug: function () { return this.debugShowBody || this.debugShowVelocity }, setCollideWorldBounds: function (t, e, i) { void 0 === t && (t = !0), this.collideWorldBounds = t; var s = void 0 !== e, n = void 0 !== i; return (s || n) && (this.worldBounce || (this.worldBounce = new l), s && (this.worldBounce.x = e), n && (this.worldBounce.y = i)), this }, setVelocity: function (t, e) { return this.velocity.set(t, e), t = this.velocity.x, e = this.velocity.y, this.speed = Math.sqrt(t * t + e * e), this }, setVelocityX: function (t) { this.velocity.x = t; var e = t, i = this.velocity.y; return this.speed = Math.sqrt(e * e + i * i), this }, setVelocityY: function (t) { this.velocity.y = t; var e = this.velocity.x, i = t; return this.speed = Math.sqrt(e * e + i * i), this }, setMaxVelocity: function (t, e) { return this.maxVelocity.set(t, e), this }, setMaxSpeed: function (t) { return this.maxSpeed = t, this }, setBounce: function (t, e) { return this.bounce.set(t, e), this }, setBounceX: function (t) { return this.bounce.x = t, this }, setBounceY: function (t) { return this.bounce.y = t, this }, setAcceleration: function (t, e) { return this.acceleration.set(t, e), this }, setAccelerationX: function (t) { return this.acceleration.x = t, this }, setAccelerationY: function (t) { return this.acceleration.y = t, this }, setAllowDrag: function (t) { return void 0 === t && (t = !0), this.allowDrag = t, this }, setAllowGravity: function (t) { return void 0 === t && (t = !0), this.allowGravity = t, this }, setAllowRotation: function (t) { return void 0 === t && (t = !0), this.allowRotation = t, this }, setDrag: function (t, e) { return this.drag.set(t, e), this }, setDragX: function (t) { return this.drag.x = t, this }, setDragY: function (t) { return this.drag.y = t, this }, setGravity: function (t, e) { return this.gravity.set(t, e), this }, setGravityX: function (t) { return this.gravity.x = t, this }, setGravityY: function (t) { return this.gravity.y = t, this }, setFriction: function (t, e) { return this.friction.set(t, e), this }, setFrictionX: function (t) { return this.friction.x = t, this }, setFrictionY: function (t) { return this.friction.y = t, this }, setAngularVelocity: function (t) { return this.angularVelocity = t, this }, setAngularAcceleration: function (t) { return this.angularAcceleration = t, this }, setAngularDrag: function (t) { return this.angularDrag = t, this }, setMass: function (t) { return this.mass = t, this }, setImmovable: function (t) { return void 0 === t && (t = !0), this.immovable = t, this }, setEnable: function (t) { return void 0 === t && (t = !0), this.enable = t, this }, x: { get: function () { return this.position.x }, set: function (t) { this.position.x = t } }, y: { get: function () { return this.position.y }, set: function (t) { this.position.y = t } }, left: { get: function () { return this.position.x } }, right: { get: function () { return this.position.x + this.width } }, top: { get: function () { return this.position.y } }, bottom: { get: function () { return this.position.y + this.height } } }); t.exports = u })), n.register("cPwjQ", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { COLLIDE: n("2J462"), OVERLAP: n("bCoGZ"), PAUSE: n("1x8rI"), RESUME: n("bDLNe"), TILE_COLLIDE: n("2PD9b"), TILE_OVERLAP: n("ctCMH"), WORLD_BOUNDS: n("LCFnI"), WORLD_STEP: n("3Y2Od") }
})), n.register("2J462", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "collide"
})), n.register("bCoGZ", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "overlap"
})), n.register("1x8rI", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "pause"
})), n.register("bDLNe", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "resume"
})), n.register("2PD9b", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "tilecollide"
})), n.register("ctCMH", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "tileoverlap"
})), n.register("LCFnI", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "worldbounds"
})), n.register("3Y2Od", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "worldstep"
})), n.register("egqqo", (function (t, e) { var i = new (n("jwj1g"))({ initialize: function (t, e, i, s, n, r, o) { this.world = t, this.name = "", this.active = !0, this.overlapOnly = e, this.object1 = i, this.object2 = s, this.collideCallback = n, this.processCallback = r, this.callbackContext = o }, setName: function (t) { return this.name = t, this }, update: function () { this.world.collideObjects(this.object1, this.object2, this.collideCallback, this.processCallback, this.callbackContext, this.overlapOnly) }, destroy: function () { this.world.removeCollider(this), this.active = !1, this.world = null, this.object1 = null, this.object2 = null, this.collideCallback = null, this.processCallback = null, this.callbackContext = null } }); t.exports = i })), n.register("e6piX", (function (t, e) { var i = n("ilZSx"); t.exports = function (t, e, s, n) { var r = 0, o = t.deltaAbsX() + e.deltaAbsX() + n; return 0 === t._dx && 0 === e._dx ? (t.embedded = !0, e.embedded = !0) : t._dx > e._dx ? (r = t.right - e.x) > o && !s || !1 === t.checkCollision.right || !1 === e.checkCollision.left ? r = 0 : (t.touching.none = !1, t.touching.right = !0, e.touching.none = !1, e.touching.left = !0, e.physicsType === i.STATIC_BODY && (t.blocked.none = !1, t.blocked.right = !0), t.physicsType === i.STATIC_BODY && (e.blocked.none = !1, e.blocked.left = !0)) : t._dx < e._dx && (-(r = t.x - e.width - e.x) > o && !s || !1 === t.checkCollision.left || !1 === e.checkCollision.right ? r = 0 : (t.touching.none = !1, t.touching.left = !0, e.touching.none = !1, e.touching.right = !0, e.physicsType === i.STATIC_BODY && (t.blocked.none = !1, t.blocked.left = !0), t.physicsType === i.STATIC_BODY && (e.blocked.none = !1, e.blocked.right = !0))), t.overlapX = r, e.overlapX = r, r } })), n.register("iBYsy", (function (t, e) { var i = n("ilZSx"); t.exports = function (t, e, s, n) { var r = 0, o = t.deltaAbsY() + e.deltaAbsY() + n; return 0 === t._dy && 0 === e._dy ? (t.embedded = !0, e.embedded = !0) : t._dy > e._dy ? (r = t.bottom - e.y) > o && !s || !1 === t.checkCollision.down || !1 === e.checkCollision.up ? r = 0 : (t.touching.none = !1, t.touching.down = !0, e.touching.none = !1, e.touching.up = !0, e.physicsType === i.STATIC_BODY && (t.blocked.none = !1, t.blocked.down = !0), t.physicsType === i.STATIC_BODY && (e.blocked.none = !1, e.blocked.up = !0)) : t._dy < e._dy && (-(r = t.y - e.bottom) > o && !s || !1 === t.checkCollision.up || !1 === e.checkCollision.down ? r = 0 : (t.touching.none = !1, t.touching.up = !0, e.touching.none = !1, e.touching.down = !0, e.physicsType === i.STATIC_BODY && (t.blocked.none = !1, t.blocked.up = !0), t.physicsType === i.STATIC_BODY && (e.blocked.none = !1, e.blocked.down = !0))), t.overlapY = r, e.overlapY = r, r } })), n.register("7KmsS", (function (t, e) { t.exports = function (t, e) { return t.collisionCallback ? !t.collisionCallback.call(t.collisionCallbackContext, e, t) : !t.layer.callbacks[t.index] || !t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext, e, t) } })), n.register("aVlAx", (function (t, e) { var i = n("1ohUM"); function s(t) { if (!(this instanceof s)) return new s(t, [".left", ".top", ".right", ".bottom"]); this._maxEntries = Math.max(4, t || 9), this._minEntries = Math.max(2, Math.ceil(.4 * this._maxEntries)), this.clear() } function r(t, e, i) { if (!i) return e.indexOf(t); for (var s = 0; s < e.length; s++)if (i(t, e[s])) return s; return -1 } function o(t, e) { a(t, 0, t.children.length, e, t) } function a(t, e, i, s, n) { n || (n = g(null)), n.minX = 1 / 0, n.minY = 1 / 0, n.maxX = -1 / 0, n.maxY = -1 / 0; for (var r, o = e; o < i; o++)r = t.children[o], h(n, t.leaf ? s(r) : r); return n } function h(t, e) { return t.minX = Math.min(t.minX, e.minX), t.minY = Math.min(t.minY, e.minY), t.maxX = Math.max(t.maxX, e.maxX), t.maxY = Math.max(t.maxY, e.maxY), t } function l(t, e) { return t.minX - e.minX } function u(t, e) { return t.minY - e.minY } function c(t) { return (t.maxX - t.minX) * (t.maxY - t.minY) } function d(t) { return t.maxX - t.minX + (t.maxY - t.minY) } function f(t, e) { return t.minX <= e.minX && t.minY <= e.minY && e.maxX <= t.maxX && e.maxY <= t.maxY } function p(t, e) { return e.minX <= t.maxX && e.minY <= t.maxY && e.maxX >= t.minX && e.maxY >= t.minY } function g(t) { return { children: t, height: 1, leaf: !0, minX: 1 / 0, minY: 1 / 0, maxX: -1 / 0, maxY: -1 / 0 } } function v(t, e, s, n, r) { for (var o, a = [e, s]; a.length;)(s = a.pop()) - (e = a.pop()) <= n || (o = e + Math.ceil((s - e) / n / 2) * n, i(t, o, e, s, r), a.push(e, o, o, s)) } s.prototype = { all: function () { return this._all(this.data, []) }, search: function (t) { var e = this.data, i = [], s = this.toBBox; if (!p(t, e)) return i; for (var n, r, o, a, h = []; e;) { for (n = 0, r = e.children.length; n < r; n++)o = e.children[n], p(t, a = e.leaf ? s(o) : o) && (e.leaf ? i.push(o) : f(t, a) ? this._all(o, i) : h.push(o)); e = h.pop() } return i }, collides: function (t) { var e = this.data, i = this.toBBox; if (!p(t, e)) return !1; for (var s, n, r, o, a = []; e;) { for (s = 0, n = e.children.length; s < n; s++)if (r = e.children[s], p(t, o = e.leaf ? i(r) : r)) { if (e.leaf || f(t, o)) return !0; a.push(r) } e = a.pop() } return !1 }, load: function (t) { if (!t || !t.length) return this; if (t.length < this._minEntries) { for (var e = 0, i = t.length; e < i; e++)this.insert(t[e]); return this } var s = this._build(t.slice(), 0, t.length - 1, 0); if (this.data.children.length) if (this.data.height === s.height) this._splitRoot(this.data, s); else { if (this.data.height < s.height) { var n = this.data; this.data = s, s = n } this._insert(s, this.data.height - s.height - 1, !0) } else this.data = s; return this }, insert: function (t) { return t && this._insert(t, this.data.height - 1), this }, clear: function () { return this.data = g([]), this }, remove: function (t, e) { if (!t) return this; for (var i, s, n, o, a = this.data, h = this.toBBox(t), l = [], u = []; a || l.length;) { if (a || (a = l.pop(), s = l[l.length - 1], i = u.pop(), o = !0), a.leaf && -1 !== (n = r(t, a.children, e))) return a.children.splice(n, 1), l.push(a), this._condense(l), this; o || a.leaf || !f(a, h) ? s ? (i++, a = s.children[i], o = !1) : a = null : (l.push(a), u.push(i), i = 0, s = a, a = a.children[0]) } return this }, toBBox: function (t) { return t }, compareMinX: l, compareMinY: u, toJSON: function () { return this.data }, fromJSON: function (t) { return this.data = t, this }, _all: function (t, e) { for (var i = []; t;)t.leaf ? e.push.apply(e, t.children) : i.push.apply(i, t.children), t = i.pop(); return e }, _build: function (t, e, i, s) { var n, r = i - e + 1, a = this._maxEntries; if (r <= a) return o(n = g(t.slice(e, i + 1)), this.toBBox), n; s || (s = Math.ceil(Math.log(r) / Math.log(a)), a = Math.ceil(r / Math.pow(a, s - 1))), (n = g([])).leaf = !1, n.height = s; var h, l, u, c, d = Math.ceil(r / a), f = d * Math.ceil(Math.sqrt(a)); for (v(t, e, i, f, this.compareMinX), h = e; h <= i; h += f)for (v(t, h, u = Math.min(h + f - 1, i), d, this.compareMinY), l = h; l <= u; l += d)c = Math.min(l + d - 1, u), n.children.push(this._build(t, l, c, s - 1)); return o(n, this.toBBox), n }, _chooseSubtree: function (t, e, i, s) { for (var n, r, o, a, h, l, u, d, f, p; s.push(e), !e.leaf && s.length - 1 !== i;) { for (u = d = 1 / 0, n = 0, r = e.children.length; n < r; n++)h = c(o = e.children[n]), f = t, p = o, (l = (Math.max(p.maxX, f.maxX) - Math.min(p.minX, f.minX)) * (Math.max(p.maxY, f.maxY) - Math.min(p.minY, f.minY)) - h) < d ? (d = l, u = h < u ? h : u, a = o) : l === d && h < u && (u = h, a = o); e = a || e.children[0] } return e }, _insert: function (t, e, i) { var s = this.toBBox, n = i ? t : s(t), r = [], o = this._chooseSubtree(n, this.data, e, r); for (o.children.push(t), h(o, n); e >= 0 && r[e].children.length > this._maxEntries;)this._split(r, e), e--; this._adjustParentBBoxes(n, r, e) }, _split: function (t, e) { var i = t[e], s = i.children.length, n = this._minEntries; this._chooseSplitAxis(i, n, s); var r = this._chooseSplitIndex(i, n, s), a = g(i.children.splice(r, i.children.length - r)); a.height = i.height, a.leaf = i.leaf, o(i, this.toBBox), o(a, this.toBBox), e ? t[e - 1].children.push(a) : this._splitRoot(i, a) }, _splitRoot: function (t, e) { this.data = g([t, e]), this.data.height = t.height + 1, this.data.leaf = !1, o(this.data, this.toBBox) }, _chooseSplitIndex: function (t, e, i) { var s, n, r, o, h, l, u, d, f, p, g, v, m, y; for (l = u = 1 / 0, s = e; s <= i - e; s++)n = a(t, 0, s, this.toBBox), r = a(t, s, i, this.toBBox), f = n, p = r, g = void 0, v = void 0, m = void 0, y = void 0, g = Math.max(f.minX, p.minX), v = Math.max(f.minY, p.minY), m = Math.min(f.maxX, p.maxX), y = Math.min(f.maxY, p.maxY), o = Math.max(0, m - g) * Math.max(0, y - v), h = c(n) + c(r), o < l ? (l = o, d = s, u = h < u ? h : u) : o === l && h < u && (u = h, d = s); return d }, _chooseSplitAxis: function (t, e, i) { var s = t.leaf ? this.compareMinX : l, n = t.leaf ? this.compareMinY : u; this._allDistMargin(t, e, i, s) < this._allDistMargin(t, e, i, n) && t.children.sort(s) }, _allDistMargin: function (t, e, i, s) { t.children.sort(s); var n, r, o = this.toBBox, l = a(t, 0, e, o), u = a(t, i - e, i, o), c = d(l) + d(u); for (n = e; n < i - e; n++)r = t.children[n], h(l, t.leaf ? o(r) : r), c += d(l); for (n = i - e - 1; n >= e; n--)r = t.children[n], h(u, t.leaf ? o(r) : r), c += d(u); return c }, _adjustParentBBoxes: function (t, e, i) { for (var s = i; s >= 0; s--)h(e[s], t) }, _condense: function (t) { for (var e, i = t.length - 1; i >= 0; i--)0 === t[i].children.length ? i > 0 ? (e = t[i - 1].children).splice(e.indexOf(t[i]), 1) : this.clear() : o(t[i], this.toBBox) }, compareMinX: function (t, e) { return t.left - e.left }, compareMinY: function (t, e) { return t.top - e.top }, toBBox: function (t) { return { minX: t.left, minY: t.top, maxX: t.right, maxY: t.bottom } } }, t.exports = s })), n.register("j3Ns0", (function (t, e) { var i = n("5s70Z"), s = n("dH1E5"), r = n("eXUBz"); t.exports = function (t, e, n, o, a, h, l) { var u = o.left, c = o.top, d = o.right, f = o.bottom, p = n.faceLeft || n.faceRight, g = n.faceTop || n.faceBottom; if (l || (p = !0, g = !0), !p && !g) return !1; var v = 0, m = 0, y = 0, x = 1; if (e.deltaAbsX() > e.deltaAbsY() ? y = -1 : e.deltaAbsX() < e.deltaAbsY() && (x = -1), 0 !== e.deltaX() && 0 !== e.deltaY() && p && g && (y = Math.min(Math.abs(e.position.x - d), Math.abs(e.right - u)), x = Math.min(Math.abs(e.position.y - f), Math.abs(e.bottom - c))), y < x) { if (p && 0 !== (v = i(e, n, u, d, h, l)) && !r(o, e)) return !0; g && (m = s(e, n, c, f, h, l)) } else { if (g && 0 !== (m = s(e, n, c, f, h, l)) && !r(o, e)) return !0; p && (v = i(e, n, u, d, h, l)) } return 0 !== v || 0 !== m } })), n.register("5s70Z", (function (t, e) { var i = n("04QFi"); t.exports = function (t, e, s, n, r, o) { var a = 0, h = e.faceLeft, l = e.faceRight, u = e.collideLeft, c = e.collideRight; return o || (h = !0, l = !0, u = !0, c = !0), t.deltaX() < 0 && c && t.checkCollision.left ? l && t.x < n && (a = t.x - n) < -r && (a = 0) : t.deltaX() > 0 && u && t.checkCollision.right && h && t.right > s && (a = t.right - s) > r && (a = 0), 0 !== a && (t.customSeparateX ? t.overlapX = a : i(t, a)), a } })), n.register("04QFi", (function (t, e) { t.exports = function (t, e) { e < 0 ? (t.blocked.none = !1, t.blocked.left = !0) : e > 0 && (t.blocked.none = !1, t.blocked.right = !0), t.position.x -= e, 0 === t.bounce.x ? t.velocity.x = 0 : t.velocity.x = -t.velocity.x * t.bounce.x } })), n.register("dH1E5", (function (t, e) { var i = n("aOKfs"); t.exports = function (t, e, s, n, r, o) { var a = 0, h = e.faceTop, l = e.faceBottom, u = e.collideUp, c = e.collideDown; return o || (h = !0, l = !0, u = !0, c = !0), t.deltaY() < 0 && c && t.checkCollision.up ? l && t.y < n && (a = t.y - n) < -r && (a = 0) : t.deltaY() > 0 && u && t.checkCollision.down && h && t.bottom > s && (a = t.bottom - s) > r && (a = 0), 0 !== a && (t.customSeparateY ? t.overlapY = a : i(t, a)), a } })), n.register("aOKfs", (function (t, e) { t.exports = function (t, e) { e < 0 ? (t.blocked.none = !1, t.blocked.up = !0) : e > 0 && (t.blocked.none = !1, t.blocked.down = !0), t.position.y -= e, 0 === t.bounce.y ? t.velocity.y = 0 : t.velocity.y = -t.velocity.y * t.bounce.y } })), n.register("eXUBz", (function (t, e) { t.exports = function (t, e) { return !(e.right <= t.left || e.bottom <= t.top || e.position.x >= t.right || e.position.y >= t.bottom) } })), n.register("i83ko", (function (t, e) { var i = n("e6piX"); t.exports = function (t, e, s, n) { var r = i(t, e, s, n); if (s || 0 === r || t.immovable && e.immovable || t.customSeparateX || e.customSeparateX) return 0 !== r || t.embedded && e.embedded; var o = t.velocity.x, a = e.velocity.x; if (t.immovable || e.immovable) t.immovable ? (e.x += r, e.velocity.x = o - a * e.bounce.x, t.moves && (e.y += (t.y - t.prev.y) * t.friction.y)) : (t.x -= r, t.velocity.x = a - o * t.bounce.x, e.moves && (t.y += (e.y - e.prev.y) * e.friction.y)); else { r *= .5, t.x -= r, e.x += r; var h = Math.sqrt(a * a * e.mass / t.mass) * (a > 0 ? 1 : -1), l = Math.sqrt(o * o * t.mass / e.mass) * (o > 0 ? 1 : -1), u = .5 * (h + l); h -= u, l -= u, t.velocity.x = u + h * t.bounce.x, e.velocity.x = u + l * e.bounce.x } return !0 } })), n.register("8u1DC", (function (t, e) { var i = n("iBYsy"); t.exports = function (t, e, s, n) { var r = i(t, e, s, n); if (s || 0 === r || t.immovable && e.immovable || t.customSeparateY || e.customSeparateY) return 0 !== r || t.embedded && e.embedded; var o = t.velocity.y, a = e.velocity.y; if (t.immovable || e.immovable) t.immovable ? (e.y += r, e.velocity.y = o - a * e.bounce.y, t.moves && (e.x += (t.x - t.prev.x) * t.friction.x)) : (t.y -= r, t.velocity.y = a - o * t.bounce.y, e.moves && (t.x += (e.x - e.prev.x) * e.friction.x)); else { r *= .5, t.y -= r, e.y += r; var h = Math.sqrt(a * a * e.mass / t.mass) * (a > 0 ? 1 : -1), l = Math.sqrt(o * o * t.mass / e.mass) * (o > 0 ? 1 : -1), u = .5 * (h + l); h -= u, l -= u, t.velocity.y = u + h * t.bounce.y, e.velocity.y = u + l * e.bounce.y } return !0 } })), n.register("k8alZ", (function (t, e) { var i = n("6hp2k"), s = n("jwj1g"), r = n("ilZSx"), o = n("6pEze"), a = n("7SBSk"), h = new s({ initialize: function (t, e) { var i = e.width ? e.width : 64, s = e.height ? e.height : 64; this.world = t, this.gameObject = e, this.debugShowBody = t.defaults.debugShowStaticBody, this.debugBodyColor = t.defaults.staticBodyDebugColor, this.enable = !0, this.isCircle = !1, this.radius = 0, this.offset = new a, this.position = new a(e.x - e.displayOriginX, e.y - e.displayOriginY), this.width = i, this.height = s, this.halfWidth = Math.abs(this.width / 2), this.halfHeight = Math.abs(this.height / 2), this.center = new a(e.x + this.halfWidth, e.y + this.halfHeight), this.velocity = a.ZERO, this.allowGravity = !1, this.gravity = a.ZERO, this.bounce = a.ZERO, this.onWorldBounds = !1, this.onCollide = !1, this.onOverlap = !1, this.mass = 1, this.immovable = !0, this.customSeparateX = !1, this.customSeparateY = !1, this.overlapX = 0, this.overlapY = 0, this.overlapR = 0, this.embedded = !1, this.collideWorldBounds = !1, this.checkCollision = { none: !1, up: !0, down: !0, left: !0, right: !0 }, this.touching = { none: !0, up: !1, down: !1, left: !1, right: !1 }, this.wasTouching = { none: !0, up: !1, down: !1, left: !1, right: !1 }, this.blocked = { none: !0, up: !1, down: !1, left: !1, right: !1 }, this.physicsType = r.STATIC_BODY, this._dx = 0, this._dy = 0 }, setGameObject: function (t, e) { return t && t !== this.gameObject && (this.gameObject.body = null, t.body = this, this.gameObject = t), e && this.updateFromGameObject(), this }, updateFromGameObject: function () { this.world.staticTree.remove(this); var t = this.gameObject; return t.getTopLeft(this.position), this.width = t.displayWidth, this.height = t.displayHeight, this.halfWidth = Math.abs(this.width / 2), this.halfHeight = Math.abs(this.height / 2), this.center.set(this.position.x + this.halfWidth, this.position.y + this.halfHeight), this.world.staticTree.insert(this), this }, setOffset: function (t, e) { return void 0 === e && (e = t), this.world.staticTree.remove(this), this.position.x -= this.offset.x, this.position.y -= this.offset.y, this.offset.set(t, e), this.position.x += this.offset.x, this.position.y += this.offset.y, this.updateCenter(), this.world.staticTree.insert(this), this }, setSize: function (t, e, i) { void 0 === i && (i = !0); var s = this.gameObject; if (!t && s.frame && (t = s.frame.realWidth), !e && s.frame && (e = s.frame.realHeight), this.world.staticTree.remove(this), this.width = t, this.height = e, this.halfWidth = Math.floor(t / 2), this.halfHeight = Math.floor(e / 2), i && s.getCenter) { var n = s.displayWidth / 2, r = s.displayHeight / 2; this.position.x -= this.offset.x, this.position.y -= this.offset.y, this.offset.set(n - this.halfWidth, r - this.halfHeight), this.position.x += this.offset.x, this.position.y += this.offset.y } return this.updateCenter(), this.isCircle = !1, this.radius = 0, this.world.staticTree.insert(this), this }, setCircle: function (t, e, i) { return void 0 === e && (e = this.offset.x), void 0 === i && (i = this.offset.y), t > 0 ? (this.world.staticTree.remove(this), this.isCircle = !0, this.radius = t, this.width = 2 * t, this.height = 2 * t, this.halfWidth = Math.floor(this.width / 2), this.halfHeight = Math.floor(this.height / 2), this.offset.set(e, i), this.updateCenter(), this.world.staticTree.insert(this)) : this.isCircle = !1, this }, updateCenter: function () { this.center.set(this.position.x + this.halfWidth, this.position.y + this.halfHeight) }, reset: function (t, e) { var i = this.gameObject; void 0 === t && (t = i.x), void 0 === e && (e = i.y), this.world.staticTree.remove(this), i.setPosition(t, e), i.getTopLeft(this.position), this.updateCenter(), this.world.staticTree.insert(this) }, stop: function () { return this }, getBounds: function (t) { return t.x = this.x, t.y = this.y, t.right = this.right, t.bottom = this.bottom, t }, hitTest: function (t, e) { return this.isCircle ? i(this, t, e) : o(this, t, e) }, postUpdate: function () { }, deltaAbsX: function () { return 0 }, deltaAbsY: function () { return 0 }, deltaX: function () { return 0 }, deltaY: function () { return 0 }, deltaZ: function () { return 0 }, destroy: function () { this.enable = !1, this.world.pendingDestroy.set(this) }, drawDebug: function (t) { var e = this.position, i = e.x + this.halfWidth, s = e.y + this.halfHeight; this.debugShowBody && (t.lineStyle(t.defaultStrokeWidth, this.debugBodyColor, 1), this.isCircle ? t.strokeCircle(i, s, this.width / 2) : t.strokeRect(e.x, e.y, this.width, this.height)) }, willDrawDebug: function () { return this.debugShowBody }, setMass: function (t) { return t <= 0 && (t = .1), this.mass = t, this }, x: { get: function () { return this.position.x }, set: function (t) { this.world.staticTree.remove(this), this.position.x = t, this.world.staticTree.insert(this) } }, y: { get: function () { return this.position.y }, set: function (t) { this.world.staticTree.remove(this), this.position.y = t, this.world.staticTree.insert(this) } }, left: { get: function () { return this.position.x } }, right: { get: function () { return this.position.x + this.width } }, top: { get: function () { return this.position.y } }, bottom: { get: function () { return this.position.y + this.height } } }); t.exports = h })), n.register("h3YNL", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { Body: n("eR5xK"), Events: n("lDGmV"), COLLIDES: n("5M1eg"), CollisionMap: n("5n8wh"), Factory: n("3XSiG"), Image: n("4w8Vj"), ImpactBody: n("8Qzv2"), ImpactPhysics: n("4cbwA"), Sprite: n("6MMUY"), TYPE: n("2oSXq"), World: n("b5FBU") }
})), n.register("eR5xK", (function (t, e) { var i = n("jwj1g"), s = n("5M1eg"), r = n("3jyhq"), o = n("2oSXq"), a = n("6d0Ft"), h = new i({ initialize: function (t, e, i, n, r) { void 0 === n && (n = 16), void 0 === r && (r = n), this.world = t, this.gameObject = null, this.enabled = !0, this.parent, this.id = t.getNextID(), this.name = "", this.size = { x: n, y: r }, this.offset = { x: 0, y: 0 }, this.pos = { x: e, y: i }, this.last = { x: e, y: i }, this.vel = { x: 0, y: 0 }, this.accel = { x: 0, y: 0 }, this.friction = { x: 0, y: 0 }, this.maxVel = { x: t.defaults.maxVelocityX, y: t.defaults.maxVelocityY }, this.standing = !1, this.gravityFactor = t.defaults.gravityFactor, this.bounciness = t.defaults.bounciness, this.minBounceVelocity = t.defaults.minBounceVelocity, this.accelGround = 0, this.accelAir = 0, this.jumpSpeed = 0, this.type = o.NONE, this.checkAgainst = o.NONE, this.collides = s.NEVER, this.debugShowBody = t.defaults.debugShowBody, this.debugShowVelocity = t.defaults.debugShowVelocity, this.debugBodyColor = t.defaults.bodyDebugColor, this.updateCallback, this.slopeStanding = { min: .767944870877505, max: 2.3736477827122884 } }, reset: function (t, e) { this.pos = { x: t, y: e }, this.last = { x: t, y: e }, this.vel = { x: 0, y: 0 }, this.accel = { x: 0, y: 0 }, this.friction = { x: 0, y: 0 }, this.maxVel = { x: 100, y: 100 }, this.standing = !1, this.gravityFactor = 1, this.bounciness = 0, this.minBounceVelocity = 40, this.accelGround = 0, this.accelAir = 0, this.jumpSpeed = 0, this.type = o.NONE, this.checkAgainst = o.NONE, this.collides = s.NEVER }, update: function (t) { var e = this.pos; this.last.x = e.x, this.last.y = e.y, this.vel.y += this.world.gravity * t * this.gravityFactor, this.vel.x = r(t, this.vel.x, this.accel.x, this.friction.x, this.maxVel.x), this.vel.y = r(t, this.vel.y, this.accel.y, this.friction.y, this.maxVel.y); var i = this.vel.x * t, s = this.vel.y * t, n = this.world.collisionMap.trace(e.x, e.y, i, s, this.size.x, this.size.y); this.handleMovementTrace(n) && a(this, n); var o = this.gameObject; o && (o.x = e.x - this.offset.x + o.displayOriginX * o.scaleX, o.y = e.y - this.offset.y + o.displayOriginY * o.scaleY), this.updateCallback && this.updateCallback(this) }, drawDebug: function (t) { var e = this.pos; if (this.debugShowBody && (t.lineStyle(1, this.debugBodyColor, 1), t.strokeRect(e.x, e.y, this.size.x, this.size.y)), this.debugShowVelocity) { var i = e.x + this.size.x / 2, s = e.y + this.size.y / 2; t.lineStyle(1, this.world.defaults.velocityDebugColor, 1), t.lineBetween(i, s, i + this.vel.x, s + this.vel.y) } }, willDrawDebug: function () { return this.debugShowBody || this.debugShowVelocity }, skipHash: function () { return !this.enabled || 0 === this.type && 0 === this.checkAgainst && 0 === this.collides }, touches: function (t) { return !(this.pos.x >= t.pos.x + t.size.x || this.pos.x + this.size.x <= t.pos.x || this.pos.y >= t.pos.y + t.size.y || this.pos.y + this.size.y <= t.pos.y) }, resetSize: function (t, e, i, s) { return this.pos.x = t, this.pos.y = e, this.size.x = i, this.size.y = s, this }, toJSON: function () { return { name: this.name, size: { x: this.size.x, y: this.size.y }, pos: { x: this.pos.x, y: this.pos.y }, vel: { x: this.vel.x, y: this.vel.y }, accel: { x: this.accel.x, y: this.accel.y }, friction: { x: this.friction.x, y: this.friction.y }, maxVel: { x: this.maxVel.x, y: this.maxVel.y }, gravityFactor: this.gravityFactor, bounciness: this.bounciness, minBounceVelocity: this.minBounceVelocity, type: this.type, checkAgainst: this.checkAgainst, collides: this.collides } }, fromJSON: function () { }, check: function () { }, collideWith: function (t, e) { this.parent && this.parent._collideCallback && this.parent._collideCallback.call(this.parent._callbackScope, this, t, e) }, handleMovementTrace: function () { return !0 }, destroy: function () { this.world.remove(this), this.enabled = !1, this.world = null, this.gameObject = null, this.parent = null } }); t.exports = h })), n.register("5M1eg", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { NEVER: 0, LITE: 1, PASSIVE: 2, ACTIVE: 4, FIXED: 8 }
})), n.register("3jyhq", (function (t, e) { var i = n("iEUUO"); t.exports = function (t, e, s, n, r) { if (s) return i(e + s * t, -r, r); if (n) { var o = n * t; return e - o > 0 ? e - o : e + o < 0 ? e + o : 0 } return i(e, -r, r) } })), n.register("2oSXq", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { NONE: 0, A: 1, B: 2, BOTH: 3 }
})), n.register("6d0Ft", (function (t, e) { t.exports = function (t, e) { if (t.standing = !1, e.collision.y && (t.bounciness > 0 && Math.abs(t.vel.y) > t.minBounceVelocity ? t.vel.y *= -t.bounciness : (t.vel.y > 0 && (t.standing = !0), t.vel.y = 0)), e.collision.x && (t.bounciness > 0 && Math.abs(t.vel.x) > t.minBounceVelocity ? t.vel.x *= -t.bounciness : t.vel.x = 0), e.collision.slope) { var i = e.collision.slope; if (t.bounciness > 0) { var s = t.vel.x * i.nx + t.vel.y * i.ny; t.vel.x = (t.vel.x - i.nx * s * 2) * t.bounciness, t.vel.y = (t.vel.y - i.ny * s * 2) * t.bounciness } else { var n = i.x * i.x + i.y * i.y, r = (t.vel.x * i.x + t.vel.y * i.y) / n; t.vel.x = i.x * r, t.vel.y = i.y * r; var o = Math.atan2(i.x, i.y); o > t.slopeStanding.min && o < t.slopeStanding.max && (t.standing = !0) } } t.pos.x = e.pos.x, t.pos.y = e.pos.y } })), n.register("lDGmV", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { COLLIDE: n("jTmnb"), PAUSE: n("6IgME"), RESUME: n("j23sz") }
})), n.register("jTmnb", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "collide"
})), n.register("6IgME", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "pause"
})), n.register("j23sz", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "resume"
})), n.register("5n8wh", (function (t, e) { var i = n("jwj1g"), s = n("4WPnF"), r = new i({ initialize: function (t, e) { void 0 === t && (t = 32), this.tilesize = t, this.data = Array.isArray(e) ? e : [], this.width = Array.isArray(e) ? e[0].length : 0, this.height = Array.isArray(e) ? e.length : 0, this.lastSlope = 55, this.tiledef = s }, trace: function (t, e, i, s, n, r) { var o = { collision: { x: !1, y: !1, slope: !1 }, pos: { x: t + i, y: e + s }, tile: { x: 0, y: 0 } }; if (!this.data) return o; var a = Math.ceil(Math.max(Math.abs(i), Math.abs(s)) / this.tilesize); if (a > 1) for (var h = i / a, l = s / a, u = 0; u < a && (h || l) && (this.step(o, t, e, h, l, n, r, i, s, u), t = o.pos.x, e = o.pos.y, o.collision.x && (h = 0, i = 0), o.collision.y && (l = 0, s = 0), !o.collision.slope); u++); else this.step(o, t, e, i, s, n, r, i, s, 0); return o }, step: function (t, e, i, s, n, r, o, a, h, l) { var u, c, d = 0, f = this.tilesize, p = this.width, g = this.height; if (s) { var v = s > 0 ? r : 0, m = s < 0 ? f : 0, y = Math.max(Math.floor(i / f), 0), x = Math.min(Math.ceil((i + o) / f), g); u = Math.floor((t.pos.x + v) / f); var w = Math.floor((e + v) / f); if ((l > 0 || u === w || w < 0 || w >= p) && (w = -1), u >= 0 && u < p) for (c = y; c < x && !(-1 !== w && (d = this.data[c][w]) > 1 && d <= this.lastSlope && this.checkDef(t, d, e, i, a, h, r, o, w, c)); c++)if (1 === (d = this.data[c][u]) || d > this.lastSlope || d > 1 && this.checkDef(t, d, e, i, a, h, r, o, u, c)) { if (d > 1 && d <= this.lastSlope && t.collision.slope) break; t.collision.x = !0, t.tile.x = d, t.pos.x = u * f - v + m, e = t.pos.x, a = 0; break } } if (n) { var T = n > 0 ? o : 0, b = n < 0 ? f : 0, S = Math.max(Math.floor(t.pos.x / f), 0), A = Math.min(Math.ceil((t.pos.x + r) / f), p); c = Math.floor((t.pos.y + T) / f); var E = Math.floor((i + T) / f); if ((l > 0 || c === E || E < 0 || E >= g) && (E = -1), c >= 0 && c < g) for (u = S; u < A && !(-1 !== E && (d = this.data[E][u]) > 1 && d <= this.lastSlope && this.checkDef(t, d, e, i, a, h, r, o, u, E)); u++)if (1 === (d = this.data[c][u]) || d > this.lastSlope || d > 1 && this.checkDef(t, d, e, i, a, h, r, o, u, c)) { if (d > 1 && d <= this.lastSlope && t.collision.slope) break; t.collision.y = !0, t.tile.y = d, t.pos.y = c * f - T + b; break } } }, checkDef: function (t, e, i, s, n, r, o, a, h, l) { var u = this.tiledef[e]; if (!u) return !1; var c = this.tilesize, d = (h + u[0]) * c, f = (l + u[1]) * c, p = (u[2] - u[0]) * c, g = (u[3] - u[1]) * c, v = u[4], m = i + n + (g < 0 ? o : 0) - d, y = s + r + (p > 0 ? a : 0) - f; if (p * y - g * m > 0) { if (n * -g + r * p < 0) return v; var x = Math.sqrt(p * p + g * g), w = g / x, T = -p / x, b = m * w + y * T, S = w * b, A = T * b; return S * S + A * A >= n * n + r * r ? v || p * (y - r) - g * (m - n) < .5 : (t.pos.x = i + n - S, t.pos.y = s + r - A, t.collision.slope = { x: p, y: g, nx: w, ny: T }, !0) } return !1 } }); t.exports = r })), n.register("4WPnF", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    var i = .5, s = 1 / 3, n = 2 / 3; t.exports = { 2: [0, 1, 1, 0, !0], 3: [0, 1, 1, i, !0], 4: [0, i, 1, 0, !0], 5: [0, 1, 1, n, !0], 6: [0, n, 1, s, !0], 7: [0, s, 1, 0, !0], 8: [i, 1, 0, 0, !0], 9: [1, 0, i, 1, !0], 10: [i, 1, 1, 0, !0], 11: [0, 0, i, 1, !0], 12: [0, 0, 1, 0, !1], 13: [1, 1, 0, 0, !0], 14: [1, i, 0, 0, !0], 15: [1, 1, 0, i, !0], 16: [1, s, 0, 0, !0], 17: [1, n, 0, s, !0], 18: [1, 1, 0, n, !0], 19: [1, 1, i, 0, !0], 20: [i, 0, 0, 1, !0], 21: [0, 1, i, 0, !0], 22: [i, 0, 1, 1, !0], 23: [1, 1, 0, 1, !1], 24: [0, 0, 1, 1, !0], 25: [0, 0, 1, i, !0], 26: [0, i, 1, 1, !0], 27: [0, 0, 1, s, !0], 28: [0, s, 1, n, !0], 29: [0, n, 1, 1, !0], 30: [s, 1, 0, 0, !0], 31: [1, 0, n, 1, !0], 32: [n, 1, 1, 0, !0], 33: [0, 0, s, 1, !0], 34: [1, 0, 1, 1, !1], 35: [1, 0, 0, 1, !0], 36: [1, i, 0, 1, !0], 37: [1, 0, 0, i, !0], 38: [1, n, 0, 1, !0], 39: [1, s, 0, n, !0], 40: [1, 0, 0, s, !0], 41: [n, 1, s, 0, !0], 42: [n, 0, s, 1, !0], 43: [s, 1, n, 0, !0], 44: [s, 0, n, 1, !0], 45: [0, 1, 0, 0, !1], 52: [1, 1, n, 0, !0], 53: [s, 0, 0, 1, !0], 54: [0, 1, s, 0, !0], 55: [n, 0, 1, 1, !0] }
})), n.register("3XSiG", (function (t, e) { var i = n("jwj1g"), s = n("8Qzv2"), r = n("4w8Vj"), o = n("6MMUY"), a = new i({ initialize: function (t) { this.world = t, this.sys = t.scene.sys }, body: function (t, e, i, n) { return new s(this.world, t, e, i, n) }, existing: function (t) { var e = t.x - t.frame.centerX, i = t.y - t.frame.centerY, s = t.width, n = t.height; return t.body = this.world.create(e, i, s, n), t.body.parent = t, t.body.gameObject = t, t }, image: function (t, e, i, s) { var n = new r(this.world, t, e, i, s); return this.sys.displayList.add(n), n }, sprite: function (t, e, i, s) { var n = new o(this.world, t, e, i, s); return this.sys.displayList.add(n), this.sys.updateList.add(n), n }, destroy: function () { this.world = null, this.sys = null } }); t.exports = a })), n.register("8Qzv2", (function (t, e) { var i = n("jwj1g"), s = n("guk9w"), r = new i({ Mixins: [s.Acceleration, s.BodyScale, s.BodyType, s.Bounce, s.CheckAgainst, s.Collides, s.Debug, s.Friction, s.Gravity, s.Offset, s.SetGameObject, s.Velocity], initialize: function (t, e, i, s, n) { this.body = t.create(e, i, s, n), this.body.parent = this, this.size = this.body.size, this.offset = this.body.offset, this.vel = this.body.vel, this.accel = this.body.accel, this.friction = this.body.friction, this.maxVel = this.body.maxVel } }); t.exports = r })), n.register("guk9w", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { Acceleration: n("gbQGM"), BodyScale: n("61bqI"), BodyType: n("c0CDf"), Bounce: n("1Jq7x"), CheckAgainst: n("67t1o"), Collides: n("2WXhH"), Debug: n("14dib"), Friction: n("6pKg0"), Gravity: n("h2zDf"), Offset: n("fwwCK"), SetGameObject: n("16Ny5"), Velocity: n("bFoLg") }
})), n.register("gbQGM", (function (t, e) { t.exports = { setAccelerationX: function (t) { return this.accel.x = t, this }, setAccelerationY: function (t) { return this.accel.y = t, this }, setAcceleration: function (t, e) { return this.accel.x = t, this.accel.y = e, this } } })), n.register("61bqI", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    var i = { setBodySize: function (t, e) { return void 0 === e && (e = t), this.body.size.x = Math.round(t), this.body.size.y = Math.round(e), this }, setBodyScale: function (t, e) { void 0 === e && (e = t); var i = this.body.gameObject; return i ? (i.setScale(t, e), this.setBodySize(i.width * i.scaleX, i.height * i.scaleY)) : this.setBodySize(this.body.size.x * t, this.body.size.y * e) } }; t.exports = i
})), n.register("c0CDf", (function (t, e) { var i = n("2oSXq"), s = { getBodyType: function () { return this.body.type }, setTypeNone: function () { return this.body.type = i.NONE, this }, setTypeA: function () { return this.body.type = i.A, this }, setTypeB: function () { return this.body.type = i.B, this } }; t.exports = s })), n.register("1Jq7x", (function (t, e) { t.exports = { setBounce: function (t) { return this.body.bounciness = t, this }, setMinBounceVelocity: function (t) { return this.body.minBounceVelocity = t, this }, bounce: { get: function () { return this.body.bounciness }, set: function (t) { this.body.bounciness = t } } } })), n.register("67t1o", (function (t, e) { var i = n("2oSXq"), s = { setAvsB: function () { return this.setTypeA(), this.setCheckAgainstB() }, setBvsA: function () { return this.setTypeB(), this.setCheckAgainstA() }, setCheckAgainstNone: function () { return this.body.checkAgainst = i.NONE, this }, setCheckAgainstA: function () { return this.body.checkAgainst = i.A, this }, setCheckAgainstB: function () { return this.body.checkAgainst = i.B, this }, checkAgainst: { get: function () { return this.body.checkAgainst }, set: function (t) { this.body.checkAgainst = t } } }; t.exports = s })), n.register("2WXhH", (function (t, e) { var i = n("5M1eg"), s = { _collideCallback: null, _callbackScope: null, setCollideCallback: function (t, e) { return this._collideCallback = t, e && (this._callbackScope = e), this }, setCollidesNever: function () { return this.body.collides = i.NEVER, this }, setLiteCollision: function () { return this.body.collides = i.LITE, this }, setPassiveCollision: function () { return this.body.collides = i.PASSIVE, this }, setActiveCollision: function () { return this.body.collides = i.ACTIVE, this }, setFixedCollision: function () { return this.body.collides = i.FIXED, this }, collides: { get: function () { return this.body.collides }, set: function (t) { this.body.collides = t } } }; t.exports = s })), n.register("14dib", (function (t, e) { t.exports = { setDebug: function (t, e, i) { return this.debugShowBody = t, this.debugShowVelocity = e, this.debugBodyColor = i, this }, setDebugBodyColor: function (t) { return this.body.debugBodyColor = t, this }, debugShowBody: { get: function () { return this.body.debugShowBody }, set: function (t) { this.body.debugShowBody = t } }, debugShowVelocity: { get: function () { return this.body.debugShowVelocity }, set: function (t) { this.body.debugShowVelocity = t } }, debugBodyColor: { get: function () { return this.body.debugBodyColor }, set: function (t) { this.body.debugBodyColor = t } } } })), n.register("6pKg0", (function (t, e) { t.exports = { setFrictionX: function (t) { return this.friction.x = t, this }, setFrictionY: function (t) { return this.friction.y = t, this }, setFriction: function (t, e) { return this.friction.x = t, this.friction.y = e, this } } })), n.register("h2zDf", (function (t, e) { t.exports = { setGravity: function (t) { return this.body.gravityFactor = t, this }, gravity: { get: function () { return this.body.gravityFactor }, set: function (t) { this.body.gravityFactor = t } } } })), n.register("fwwCK", (function (t, e) { t.exports = { setOffset: function (t, e, i, s) { return this.body.offset.x = t, this.body.offset.y = e, i && this.setBodySize(i, s), this } } })), n.register("16Ny5", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    var i = { setGameObject: function (t, e) { return void 0 === e && (e = !0), t ? (this.body.gameObject = t, e && this.syncGameObject()) : this.body.gameObject = null, this }, syncGameObject: function () { var t = this.body.gameObject; return t && this.setBodySize(t.width * t.scaleX, t.height * t.scaleY), this } }; t.exports = i
})), n.register("bFoLg", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    var i = { setVelocityX: function (t) { return this.vel.x = t, this }, setVelocityY: function (t) { return this.vel.y = t, this }, setVelocity: function (t, e) { return void 0 === e && (e = t), this.vel.x = t, this.vel.y = e, this }, setMaxVelocity: function (t, e) { return void 0 === e && (e = t), this.maxVel.x = t, this.maxVel.y = e, this } }; t.exports = i
})), n.register("4w8Vj", (function (t, e) { var i = n("jwj1g"), s = n("guk9w"), r = n("8qGvv"), o = new i({ Extends: r, Mixins: [s.Acceleration, s.BodyScale, s.BodyType, s.Bounce, s.CheckAgainst, s.Collides, s.Debug, s.Friction, s.Gravity, s.Offset, s.SetGameObject, s.Velocity], initialize: function (t, e, i, s, n) { r.call(this, t.scene, e, i, s, n), this.body = t.create(e - this.frame.centerX, i - this.frame.centerY, this.width, this.height), this.body.parent = this, this.body.gameObject = this, this.size = this.body.size, this.offset = this.body.offset, this.vel = this.body.vel, this.accel = this.body.accel, this.friction = this.body.friction, this.maxVel = this.body.maxVel } }); t.exports = o })), n.register("6MMUY", (function (t, e) { var i = n("jwj1g"), s = n("guk9w"), r = n("gXuc8"), o = new i({ Extends: r, Mixins: [s.Acceleration, s.BodyScale, s.BodyType, s.Bounce, s.CheckAgainst, s.Collides, s.Debug, s.Friction, s.Gravity, s.Offset, s.SetGameObject, s.Velocity], initialize: function (t, e, i, s, n) { r.call(this, t.scene, e, i, s, n), this.body = t.create(e - this.frame.centerX, i - this.frame.centerY, this.width, this.height), this.body.parent = this, this.body.gameObject = this, this.size = this.body.size, this.offset = this.body.offset, this.vel = this.body.vel, this.accel = this.body.accel, this.friction = this.body.friction, this.maxVel = this.body.maxVel } }); t.exports = o })), n.register("4cbwA", (function (t, e) { var i = n("jwj1g"), s = n("3XSiG"), r = n("7BSWl"), o = n("awyQk"), a = n("7AzQW"), h = n("4rtgc"), l = n("b5FBU"), u = new i({ initialize: function (t) { this.scene = t, this.systems = t.sys, this.config = this.getConfig(), this.world, this.add, t.sys.events.once(h.BOOT, this.boot, this), t.sys.events.on(h.START, this.start, this) }, boot: function () { this.world = new l(this.scene, this.config), this.add = new s(this.world), this.systems.events.once(h.DESTROY, this.destroy, this) }, start: function () { this.world || (this.world = new l(this.scene, this.config), this.add = new s(this.world)); var t = this.systems.events; t.on(h.UPDATE, this.world.update, this.world), t.once(h.SHUTDOWN, this.shutdown, this) }, getConfig: function () { var t = this.systems.game.config.physics, e = this.systems.settings.physics; return o(r(e, "impact", {}), r(t, "impact", {})) }, pause: function () { return this.world.pause() }, resume: function () { return this.world.resume() }, shutdown: function () { var t = this.systems.events; t.off(h.UPDATE, this.world.update, this.world), t.off(h.SHUTDOWN, this.shutdown, this), this.add.destroy(), this.world.destroy(), this.add = null, this.world = null }, destroy: function () { this.shutdown(), this.scene.sys.events.off(h.START, this.start, this), this.scene = null, this.systems = null } }); a.register("ImpactPhysics", u, "impactPhysics"), t.exports = u })), n.register("b5FBU", (function (t, e) { var i = n("eR5xK"), s = n("jwj1g"), r = n("5M1eg"), o = n("5n8wh"), a = n("3vRz3"), h = n("lDGmV"), l = n("7BSWl"), u = n("evjs6"), c = n("lxxnL"), d = n("eclSf"), f = n("au4z0"), p = n("2oSXq"), g = new s({ Extends: a, initialize: function (t, e) { a.call(this), this.scene = t, this.bodies = new c, this.gravity = l(e, "gravity", 0), this.cellSize = l(e, "cellSize", 64), this.collisionMap = new o, this.timeScale = l(e, "timeScale", 1), this.maxStep = l(e, "maxStep", .05), this.enabled = !0, this.drawDebug = l(e, "debug", !1), this.debugGraphic; var i = l(e, "maxVelocity", 100); if (this.defaults = { debugShowBody: l(e, "debugShowBody", !0), debugShowVelocity: l(e, "debugShowVelocity", !0), bodyDebugColor: l(e, "debugBodyColor", 16711935), velocityDebugColor: l(e, "debugVelocityColor", 65280), maxVelocityX: l(e, "maxVelocityX", i), maxVelocityY: l(e, "maxVelocityY", i), minBounceVelocity: l(e, "minBounceVelocity", 40), gravityFactor: l(e, "gravityFactor", 1), bounciness: l(e, "bounciness", 0) }, this.walls = { left: null, right: null, top: null, bottom: null }, this.delta = 0, this._lastId = 0, l(e, "setBounds", !1)) { var s = e.setBounds; if ("boolean" == typeof s) this.setBounds(); else { var n = l(s, "x", 0), r = l(s, "y", 0), h = l(s, "width", t.sys.scale.width), u = l(s, "height", t.sys.scale.height), d = l(s, "thickness", 64), f = l(s, "left", !0), p = l(s, "right", !0), g = l(s, "top", !0), v = l(s, "bottom", !0); this.setBounds(n, r, h, u, d, f, p, g, v) } } this.drawDebug && this.createDebugGraphic() }, setCollisionMap: function (t, e) { if ("string" == typeof t) { var i = this.scene.cache.tilemap.get(t); if (!i || i.format !== f.WELTMEISTER) return console.warn("The specified key does not correspond to a Weltmeister tilemap: " + t), null; for (var s, n = i.data.layer, r = 0; r < n.length; r++)if ("collision" === n[r].name) { s = n[r]; break } void 0 === e && (e = s.tilesize), this.collisionMap = new o(e, s.data) } else Array.isArray(t) ? this.collisionMap = new o(e, t) : console.warn("Invalid Weltmeister collision map data: " + t); return this.collisionMap }, setCollisionMapFromTilemapLayer: function (t, e) { void 0 === e && (e = {}); for (var i = l(e, "slopeProperty", null), s = l(e, "slopeMap", null), n = l(e, "defaultCollidingSlope", null), r = l(e, "defaultNonCollidingSlope", 0), a = t.layer, h = a.baseTileWidth, c = [], d = 0; d < a.height; d++) { c[d] = []; for (var f = 0; f < a.width; f++) { var p = a.data[d][f]; p && p.collides ? null !== i && u(p.properties, i) ? c[d][f] = parseInt(p.properties[i], 10) : null !== s && u(s, p.index) ? c[d][f] = s[p.index] : c[d][f] = null !== n ? n : p.index : c[d][f] = r } } return this.collisionMap = new o(h, c), this.collisionMap }, setBounds: function (t, e, i, s, n, r, o, a, h) { return void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = this.scene.sys.scale.width), void 0 === s && (s = this.scene.sys.scale.height), void 0 === n && (n = 64), void 0 === r && (r = !0), void 0 === o && (o = !0), void 0 === a && (a = !0), void 0 === h && (h = !0), this.updateWall(r, "left", t - n, e, n, s), this.updateWall(o, "right", t + i, e, n, s), this.updateWall(a, "top", t, e - n, i, n), this.updateWall(h, "bottom", t, e + s, i, n), this }, updateWall: function (t, e, i, s, n, o) { var a = this.walls[e]; t ? a ? a.resetSize(i, s, n, o) : (this.walls[e] = this.create(i, s, n, o), this.walls[e].name = e, this.walls[e].gravityFactor = 0, this.walls[e].collides = r.FIXED) : (a && this.bodies.remove(a), this.walls[e] = null) }, createDebugGraphic: function () { var t = this.scene.sys.add.graphics({ x: 0, y: 0 }); return t.setDepth(Number.MAX_VALUE), this.debugGraphic = t, this.drawDebug = !0, t }, getNextID: function () { return this._lastId++ }, create: function (t, e, s, n) { var r = new i(this, t, e, s, n); return this.bodies.set(r), r }, remove: function (t) { this.bodies.delete(t) }, pause: function () { return this.enabled = !1, this.emit(h.PAUSE), this }, resume: function () { return this.enabled = !0, this.emit(h.RESUME), this }, update: function (t, e) { if (this.enabled && 0 !== this.bodies.size) { var i, s, n = Math.min(e / 1e3, this.maxStep) * this.timeScale; this.delta = n; var r = this.bodies.entries, o = r.length, a = {}, h = this.cellSize; for (i = 0; i < o; i++)(s = r[i]).enabled && s.update(n); for (i = 0; i < o; i++)(s = r[i]) && !s.skipHash() && this.checkHash(s, a, h); if (this.drawDebug) { var l = this.debugGraphic; for (l.clear(), i = 0; i < o; i++)(s = r[i]) && s.willDrawDebug() && s.drawDebug(l) } } }, checkHash: function (t, e, i) { for (var s = {}, n = Math.floor(t.pos.x / i), r = Math.floor(t.pos.y / i), o = Math.floor((t.pos.x + t.size.x) / i) + 1, a = Math.floor((t.pos.y + t.size.y) / i) + 1, h = n; h < o; h++)for (var l = r; l < a; l++)if (e[h]) if (e[h][l]) { for (var u = e[h][l], c = 0; c < u.length; c++)t.touches(u[c]) && !s[u[c].id] && (s[u[c].id] = !0, this.checkBodies(t, u[c])); u.push(t) } else e[h][l] = [t]; else e[h] = {}, e[h][l] = [t] }, checkBodies: function (t, e) { t.collides === r.FIXED && e.collides === r.FIXED || (t.checkAgainst & e.type && t.check(e), e.checkAgainst & t.type && e.check(t), t.collides && e.collides && t.collides + e.collides > r.ACTIVE && d(this, t, e)) }, setCollidesNever: function (t) { for (var e = 0; e < t.length; e++)t[e].collides = r.NEVER; return this }, setLite: function (t) { for (var e = 0; e < t.length; e++)t[e].collides = r.LITE; return this }, setPassive: function (t) { for (var e = 0; e < t.length; e++)t[e].collides = r.PASSIVE; return this }, setActive: function (t) { for (var e = 0; e < t.length; e++)t[e].collides = r.ACTIVE; return this }, setFixed: function (t) { for (var e = 0; e < t.length; e++)t[e].collides = r.FIXED; return this }, setTypeNone: function (t) { for (var e = 0; e < t.length; e++)t[e].type = p.NONE; return this }, setTypeA: function (t) { for (var e = 0; e < t.length; e++)t[e].type = p.A; return this }, setTypeB: function (t) { for (var e = 0; e < t.length; e++)t[e].type = p.B; return this }, setAvsB: function (t) { for (var e = 0; e < t.length; e++)t[e].type = p.A, t[e].checkAgainst = p.B; return this }, setBvsA: function (t) { for (var e = 0; e < t.length; e++)t[e].type = p.B, t[e].checkAgainst = p.A; return this }, setCheckAgainstNone: function (t) { for (var e = 0; e < t.length; e++)t[e].checkAgainst = p.NONE; return this }, setCheckAgainstA: function (t) { for (var e = 0; e < t.length; e++)t[e].checkAgainst = p.A; return this }, setCheckAgainstB: function (t) { for (var e = 0; e < t.length; e++)t[e].checkAgainst = p.B; return this }, shutdown: function () { this.removeAllListeners() }, destroy: function () { this.removeAllListeners(), this.scene = null, this.bodies.clear(), this.bodies = null, this.collisionMap = null } }); t.exports = g })), n.register("eclSf", (function (t, e) { var i = n("5M1eg"), s = n("lDGmV"), r = n("g5coZ"), o = n("hvCeR"); t.exports = function (t, e, n) { var a = null; e.collides === i.LITE || n.collides === i.FIXED ? a = e : n.collides !== i.LITE && e.collides !== i.FIXED || (a = n), e.last.x + e.size.x > n.last.x && e.last.x < n.last.x + n.size.x ? (e.last.y < n.last.y ? o(t, e, n, a) : o(t, n, e, a), e.collideWith(n, "y"), n.collideWith(e, "y"), t.emit(s.COLLIDE, e, n, "y")) : e.last.y + e.size.y > n.last.y && e.last.y < n.last.y + n.size.y && (e.last.x < n.last.x ? r(t, e, n, a) : r(t, n, e, a), e.collideWith(n, "x"), n.collideWith(e, "x"), t.emit(s.COLLIDE, e, n, "x")) } })), n.register("g5coZ", (function (t, e) { t.exports = function (t, e, i, s) { var n = e.pos.x + e.size.x - i.pos.x; if (s) { var r = e === s ? i : e; s.vel.x = -s.vel.x * s.bounciness + r.vel.x; var o = t.collisionMap.trace(s.pos.x, s.pos.y, s === e ? -n : n, 0, s.size.x, s.size.y); s.pos.x = o.pos.x } else { var a = (e.vel.x - i.vel.x) / 2; e.vel.x = -a, i.vel.x = a; var h = t.collisionMap.trace(e.pos.x, e.pos.y, -n / 2, 0, e.size.x, e.size.y); e.pos.x = Math.floor(h.pos.x); var l = t.collisionMap.trace(i.pos.x, i.pos.y, n / 2, 0, i.size.x, i.size.y); i.pos.x = Math.ceil(l.pos.x) } } })), n.register("hvCeR", (function (t, e) { t.exports = function (t, e, i, s) { var n, r, o = e.pos.y + e.size.y - i.pos.y; if (s) { var a = e === s ? i : e; s.vel.y = -s.vel.y * s.bounciness + a.vel.y, n = 0, s === e && Math.abs(s.vel.y - a.vel.y) < s.minBounceVelocity && (s.standing = !0, n = a.vel.x * t.delta); var h = t.collisionMap.trace(s.pos.x, s.pos.y, n, s === e ? -o : o, s.size.x, s.size.y); s.pos.y = h.pos.y, s.pos.x = h.pos.x } else if (t.gravity && (i.standing || e.vel.y > 0)) r = t.collisionMap.trace(e.pos.x, e.pos.y, 0, -(e.pos.y + e.size.y - i.pos.y), e.size.x, e.size.y), e.pos.y = r.pos.y, e.bounciness > 0 && e.vel.y > e.minBounceVelocity ? e.vel.y *= -e.bounciness : (e.standing = !0, e.vel.y = 0); else { var l = (e.vel.y - i.vel.y) / 2; e.vel.y = -l, i.vel.y = l, n = i.vel.x * t.delta, r = t.collisionMap.trace(e.pos.x, e.pos.y, n, -o / 2, e.size.x, e.size.y), e.pos.y = r.pos.y; var u = t.collisionMap.trace(i.pos.x, i.pos.y, 0, o / 2, i.size.x, i.size.y); i.pos.y = u.pos.y } } })), n.register("6xUMs", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { BodyBounds: n("kr4xd"), Factory: n("bImJl"), Image: n("k5BpG"), Matter: n("ln6QG"), MatterPhysics: n("iIWxd"), PolyDecomp: n("l2Xwu"), Sprite: n("9dw29"), TileBody: n("cRMRu"), PhysicsEditorParser: n("gInVG"), PhysicsJSONParser: n("eA2TZ"), World: n("ilxnW") }
})), n.register("kr4xd", (function (t, e) { var i = n("jwj1g"), s = n("7SBSk"), r = new i({ initialize: function () { this.boundsCenter = new s, this.centerDiff = new s }, parseBody: function (t) { if (!(t = t.hasOwnProperty("body") ? t.body : t).hasOwnProperty("bounds") || !t.hasOwnProperty("centerOfMass")) return !1; var e = this.boundsCenter, i = this.centerDiff, s = t.bounds.max.x - t.bounds.min.x, n = t.bounds.max.y - t.bounds.min.y, r = s * t.centerOfMass.x, o = n * t.centerOfMass.y; return e.set(s / 2, n / 2), i.set(r - e.x, o - e.y), !0 }, getTopLeft: function (t, e, i) { if (void 0 === e && (e = 0), void 0 === i && (i = 0), this.parseBody(t)) { var n = this.boundsCenter, r = this.centerDiff; return new s(e + n.x + r.x, i + n.y + r.y) } return !1 }, getTopCenter: function (t, e, i) { if (void 0 === e && (e = 0), void 0 === i && (i = 0), this.parseBody(t)) { var n = this.boundsCenter, r = this.centerDiff; return new s(e + r.x, i + n.y + r.y) } return !1 }, getTopRight: function (t, e, i) { if (void 0 === e && (e = 0), void 0 === i && (i = 0), this.parseBody(t)) { var n = this.boundsCenter, r = this.centerDiff; return new s(e - (n.x - r.x), i + n.y + r.y) } return !1 }, getLeftCenter: function (t, e, i) { if (void 0 === e && (e = 0), void 0 === i && (i = 0), this.parseBody(t)) { var n = this.boundsCenter, r = this.centerDiff; return new s(e + n.x + r.x, i + r.y) } return !1 }, getCenter: function (t, e, i) { if (void 0 === e && (e = 0), void 0 === i && (i = 0), this.parseBody(t)) { var n = this.centerDiff; return new s(e + n.x, i + n.y) } return !1 }, getRightCenter: function (t, e, i) { if (void 0 === e && (e = 0), void 0 === i && (i = 0), this.parseBody(t)) { var n = this.boundsCenter, r = this.centerDiff; return new s(e - (n.x - r.x), i + r.y) } return !1 }, getBottomLeft: function (t, e, i) { if (void 0 === e && (e = 0), void 0 === i && (i = 0), this.parseBody(t)) { var n = this.boundsCenter, r = this.centerDiff; return new s(e + n.x + r.x, i - (n.y - r.y)) } return !1 }, getBottomCenter: function (t, e, i) { if (void 0 === e && (e = 0), void 0 === i && (i = 0), this.parseBody(t)) { var n = this.boundsCenter, r = this.centerDiff; return new s(e + r.x, i - (n.y - r.y)) } return !1 }, getBottomRight: function (t, e, i) { if (void 0 === e && (e = 0), void 0 === i && (i = 0), this.parseBody(t)) { var n = this.boundsCenter, r = this.centerDiff; return new s(e - (n.x - r.x), i - (n.y - r.y)) } return !1 } }); t.exports = r })), n.register("bImJl", (function (t, e) { var i = n("gY9LZ"), s = n("jwj1g"), r = n("cbd5m"), o = n("dmTql"), a = n("dmaXf"), h = n("5NLqi"), l = n("k5BpG"), u = n("9dw29"), c = n("cRMRu"), d = n("gInVG"), f = n("eA2TZ"), p = n("a7FiE"), g = n("laRjh"), v = new s({ initialize: function (t) { this.world = t, this.scene = t.scene, this.sys = t.scene.sys }, rectangle: function (t, e, s, n, r) { var o = i.rectangle(t, e, s, n, r); return this.world.add(o), o }, trapezoid: function (t, e, s, n, r, o) { var a = i.trapezoid(t, e, s, n, r, o); return this.world.add(a), a }, circle: function (t, e, s, n, r) { var o = i.circle(t, e, s, n, r); return this.world.add(o), o }, polygon: function (t, e, s, n, r) { var o = i.polygon(t, e, s, n, r); return this.world.add(o), o }, fromVertices: function (t, e, s, n, r, o, a) { "string" == typeof s && (s = g.fromPath(s)); var h = i.fromVertices(t, e, s, n, r, o, a); return this.world.add(h), h }, fromPhysicsEditor: function (t, e, i, s, n) { void 0 === n && (n = !0); var r = d.parseBody(t, e, i, s); return n && !this.world.has(r) && this.world.add(r), r }, fromSVG: function (t, e, s, n, r, o) { void 0 === n && (n = 1), void 0 === r && (r = {}), void 0 === o && (o = !0); for (var h = s.getElementsByTagName("path"), l = [], u = 0; u < h.length; u++) { var c = a.pathToVertices(h[u], 30); 1 !== n && g.scale(c, n, n), l.push(c) } var d = i.fromVertices(t, e, l, r); return o && this.world.add(d), d }, fromJSON: function (t, e, i, s, n) { void 0 === s && (s = {}), void 0 === n && (n = !0); var r = f.parseBody(t, e, i, s); return r && n && this.world.add(r), r }, imageStack: function (t, e, i, s, n, o, a, h, u) { void 0 === a && (a = 0), void 0 === h && (h = 0), void 0 === u && (u = {}); var c = this.world, d = this.sys.displayList; u.addToWorld = !1; var f = r.stack(i, s, n, o, a, h, (function (i, s) { var n = new l(c, i, s, t, e, u); return d.add(n), n.body })); return c.add(f), f }, stack: function (t, e, i, s, n, o, a) { var h = r.stack(t, e, i, s, n, o, a); return this.world.add(h), h }, pyramid: function (t, e, i, s, n, o, a) { var h = r.pyramid(t, e, i, s, n, o, a); return this.world.add(h), h }, chain: function (t, e, i, s, n, o) { return r.chain(t, e, i, s, n, o) }, mesh: function (t, e, i, s, n) { return r.mesh(t, e, i, s, n) }, newtonsCradle: function (t, e, i, s, n) { var o = r.newtonsCradle(t, e, i, s, n); return this.world.add(o), o }, car: function (t, e, i, s, n) { var o = r.car(t, e, i, s, n); return this.world.add(o), o }, softBody: function (t, e, i, s, n, o, a, h, l, u) { var c = r.softBody(t, e, i, s, n, o, a, h, l, u); return this.world.add(c), c }, joint: function (t, e, i, s, n) { return this.constraint(t, e, i, s, n) }, spring: function (t, e, i, s, n) { return this.constraint(t, e, i, s, n) }, constraint: function (t, e, i, s, n) { void 0 === s && (s = 1), void 0 === n && (n = {}), n.bodyA = "body" === t.type ? t : t.body, n.bodyB = "body" === e.type ? e : e.body, isNaN(i) || (n.length = i), n.stiffness = s; var r = o.create(n); return this.world.add(r), r }, worldConstraint: function (t, e, i, s) { void 0 === i && (i = 1), void 0 === s && (s = {}), s.bodyB = "body" === t.type ? t : t.body, isNaN(e) || (s.length = e), s.stiffness = i; var n = o.create(s); return this.world.add(n), n }, mouseSpring: function (t) { return this.pointerConstraint(t) }, pointerConstraint: function (t) { void 0 === t && (t = {}), t.hasOwnProperty("render") || (t.render = { visible: !1 }); var e = new p(this.scene, this.world, t); return this.world.add(e.constraint), e }, image: function (t, e, i, s, n) { var r = new l(this.world, t, e, i, s, n); return this.sys.displayList.add(r), r }, tileBody: function (t, e) { return new c(this.world, t, e) }, sprite: function (t, e, i, s, n) { var r = new u(this.world, t, e, i, s, n); return this.sys.displayList.add(r), this.sys.updateList.add(r), r }, gameObject: function (t, e, i) { return h(this.world, t, e, i) }, destroy: function () { this.world = null, this.scene = null, this.sys = null } }); t.exports = v })), n.register("gY9LZ", (function (t, e) { var i = {}; t.exports = i; var s = n("laRjh"), r = n("4tPKt"), o = n("lMiYr"), a = n("6V4ls"), h = n("a7bN0"), l = n("l2Xwu"); i.rectangle = function (t, e, i, n, a) { a = a || {}; var h = { label: "Rectangle Body", position: { x: t, y: e }, vertices: s.fromPath("L 0 0 L " + i + " 0 L " + i + " " + n + " L 0 " + n) }; if (a.chamfer) { var l = a.chamfer; h.vertices = s.chamfer(h.vertices, l.radius, l.quality, l.qualityMin, l.qualityMax), delete a.chamfer } return o.create(r.extend({}, h, a)) }, i.trapezoid = function (t, e, i, n, a, h) { h = h || {}; var l, u = i * (a *= .5), c = u + (1 - 2 * a) * i, d = c + u; l = a < .5 ? "L 0 0 L " + u + " " + -n + " L " + c + " " + -n + " L " + d + " 0" : "L 0 0 L " + c + " " + -n + " L " + d + " 0"; var f = { label: "Trapezoid Body", position: { x: t, y: e }, vertices: s.fromPath(l) }; if (h.chamfer) { var p = h.chamfer; f.vertices = s.chamfer(f.vertices, p.radius, p.quality, p.qualityMin, p.qualityMax), delete h.chamfer } return o.create(r.extend({}, f, h)) }, i.circle = function (t, e, s, n, o) { n = n || {}; var a = { label: "Circle Body", circleRadius: s }; o = o || 25; var h = Math.ceil(Math.max(10, Math.min(o, s))); return h % 2 == 1 && (h += 1), i.polygon(t, e, h, s, r.extend({}, a, n)) }, i.polygon = function (t, e, n, a, h) { if (h = h || {}, n < 3) return i.circle(t, e, a, h); for (var l = 2 * Math.PI / n, u = "", c = .5 * l, d = 0; d < n; d += 1) { var f = c + d * l, p = Math.cos(f) * a, g = Math.sin(f) * a; u += "L " + p.toFixed(3) + " " + g.toFixed(3) + " " } var v = { label: "Polygon Body", position: { x: t, y: e }, vertices: s.fromPath(u) }; if (h.chamfer) { var m = h.chamfer; v.vertices = s.chamfer(v.vertices, m.radius, m.quality, m.qualityMin, m.qualityMax), delete h.chamfer } return o.create(r.extend({}, v, h)) }, i.fromVertices = function (t, e, n, a, h, u, c) { var d, f, p, g, v, m; for (a = a || {}, f = [], h = void 0 !== h && h, u = void 0 !== u ? u : .01, c = void 0 !== c ? c : 10, l || r.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull."), r.isArray(n[0]) || (n = [n]), m = 0; m < n.length; m += 1)if (g = n[m], (p = s.isConvex(g)) || !l) g = p ? s.clockwiseSort(g) : s.hull(g), f.push({ position: { x: t, y: e }, vertices: g }); else { var y = g.map((function (t) { return [t.x, t.y] })); l.makeCCW(y), !1 !== u && l.removeCollinearPoints(y, u); var x = l.quickDecomp(y); for (v = 0; v < x.length; v++) { var w = x[v].map((function (t) { return { x: t[0], y: t[1] } })); c > 0 && s.area(w) < c || f.push({ position: s.centre(w), vertices: w }) } } for (v = 0; v < f.length; v++)f[v] = o.create(r.extend(f[v], a)); return h && i.flagCoincidentParts(f, 5), f.length > 1 ? (d = o.create(r.extend({ parts: f.slice(0) }, a)), o.setPosition(d, { x: t, y: e }), d) : f[0] }, i.flagCoincidentParts = function (t, e) { void 0 === e && (e = 5); for (var i = 0; i < t.length; i++)for (var s = t[i], n = i + 1; n < t.length; n++) { var r = t[n]; if (a.overlaps(s.bounds, r.bounds)) for (var o = s.vertices, l = r.vertices, u = 0; u < s.vertices.length; u++)for (var c = 0; c < r.vertices.length; c++) { var d = h.magnitudeSquared(h.sub(o[(u + 1) % o.length], l[c])), f = h.magnitudeSquared(h.sub(o[u], l[(c + 1) % l.length])); d < e && f < e && (o[u].isInternal = !0, l[c].isInternal = !0) } } return t } })), n.register("laRjh", (function (t, e) { var i = {}; t.exports = i; var s = n("a7bN0"), r = n("4tPKt"); i.create = function (t, e) { for (var i = [], s = 0; s < t.length; s++) { var n = t[s], r = { x: n.x, y: n.y, index: s, body: e, isInternal: !1, contact: null, offset: null }; r.contact = { vertex: r, normalImpulse: 0, tangentImpulse: 0 }, i.push(r) } return i }, i.fromPath = function (t, e) { var s = []; return t.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi, (function (t, e, i) { s.push({ x: parseFloat(e), y: parseFloat(i) }) })), i.create(s, e) }, i.centre = function (t) { for (var e, n, r, o = i.area(t, !0), a = { x: 0, y: 0 }, h = 0; h < t.length; h++)r = (h + 1) % t.length, e = s.cross(t[h], t[r]), n = s.mult(s.add(t[h], t[r]), e), a = s.add(a, n); return s.div(a, 6 * o) }, i.mean = function (t) { for (var e = { x: 0, y: 0 }, i = 0; i < t.length; i++)e.x += t[i].x, e.y += t[i].y; return s.div(e, t.length) }, i.area = function (t, e) { for (var i = 0, s = t.length - 1, n = 0; n < t.length; n++)i += (t[s].x - t[n].x) * (t[s].y + t[n].y), s = n; return e ? i / 2 : Math.abs(i) / 2 }, i.inertia = function (t, e) { for (var i, n, r = 0, o = 0, a = t, h = 0; h < a.length; h++)n = (h + 1) % a.length, r += (i = Math.abs(s.cross(a[n], a[h]))) * (s.dot(a[n], a[n]) + s.dot(a[n], a[h]) + s.dot(a[h], a[h])), o += i; return e / 6 * (r / o) }, i.translate = function (t, e, i) { var s; if (i) for (s = 0; s < t.length; s++)t[s].x += e.x * i, t[s].y += e.y * i; else for (s = 0; s < t.length; s++)t[s].x += e.x, t[s].y += e.y; return t }, i.rotate = function (t, e, i) { if (0 !== e) { for (var s = Math.cos(e), n = Math.sin(e), r = 0; r < t.length; r++) { var o = t[r], a = o.x - i.x, h = o.y - i.y; o.x = i.x + (a * s - h * n), o.y = i.y + (a * n + h * s) } return t } }, i.contains = function (t, e) { for (var i = 0; i < t.length; i++) { var s = t[i], n = t[(i + 1) % t.length]; if ((e.x - s.x) * (n.y - s.y) + (e.y - s.y) * (s.x - n.x) > 0) return !1 } return !0 }, i.scale = function (t, e, n, r) { if (1 === e && 1 === n) return t; var o, a; r = r || i.centre(t); for (var h = 0; h < t.length; h++)o = t[h], a = s.sub(o, r), t[h].x = r.x + a.x * e, t[h].y = r.y + a.y * n; return t }, i.chamfer = function (t, e, i, n, o) { e = "number" == typeof e ? [e] : e || [8], i = void 0 !== i ? i : -1, n = n || 2, o = o || 14; for (var a = [], h = 0; h < t.length; h++) { var l = t[h - 1 >= 0 ? h - 1 : t.length - 1], u = t[h], c = t[(h + 1) % t.length], d = e[h < e.length ? h : e.length - 1]; if (0 !== d) { var f = s.normalise({ x: u.y - l.y, y: l.x - u.x }), p = s.normalise({ x: c.y - u.y, y: u.x - c.x }), g = Math.sqrt(2 * Math.pow(d, 2)), v = s.mult(r.clone(f), d), m = s.normalise(s.mult(s.add(f, p), .5)), y = s.sub(u, s.mult(m, g)), x = i; -1 === i && (x = 1.75 * Math.pow(d, .32)), (x = r.clamp(x, n, o)) % 2 == 1 && (x += 1); for (var w = Math.acos(s.dot(f, p)) / x, T = 0; T < x; T++)a.push(s.add(s.rotate(v, w * T), y)) } else a.push(u) } return a }, i.clockwiseSort = function (t) { var e = i.mean(t); return t.sort((function (t, i) { return s.angle(e, t) - s.angle(e, i) })), t }, i.isConvex = function (t) { var e, i, s, n, r = 0, o = t.length; if (o < 3) return null; for (e = 0; e < o; e++)if (s = (e + 2) % o, n = (t[i = (e + 1) % o].x - t[e].x) * (t[s].y - t[i].y), (n -= (t[i].y - t[e].y) * (t[s].x - t[i].x)) < 0 ? r |= 1 : n > 0 && (r |= 2), 3 === r) return !1; return 0 !== r || null }, i.hull = function (t) { var e, i, n = [], r = []; for ((t = t.slice(0)).sort((function (t, e) { var i = t.x - e.x; return 0 !== i ? i : t.y - e.y })), i = 0; i < t.length; i += 1) { for (e = t[i]; r.length >= 2 && s.cross3(r[r.length - 2], r[r.length - 1], e) <= 0;)r.pop(); r.push(e) } for (i = t.length - 1; i >= 0; i -= 1) { for (e = t[i]; n.length >= 2 && s.cross3(n[n.length - 2], n[n.length - 1], e) <= 0;)n.pop(); n.push(e) } return n.pop(), r.pop(), n.concat(r) } })), n.register("a7bN0", (function (t, e) { var i = {}; t.exports = i, i.create = function (t, e) { return { x: t || 0, y: e || 0 } }, i.clone = function (t) { return { x: t.x, y: t.y } }, i.magnitude = function (t) { return Math.sqrt(t.x * t.x + t.y * t.y) }, i.magnitudeSquared = function (t) { return t.x * t.x + t.y * t.y }, i.rotate = function (t, e, i) { var s = Math.cos(e), n = Math.sin(e); i || (i = {}); var r = t.x * s - t.y * n; return i.y = t.x * n + t.y * s, i.x = r, i }, i.rotateAbout = function (t, e, i, s) { var n = Math.cos(e), r = Math.sin(e); s || (s = {}); var o = i.x + ((t.x - i.x) * n - (t.y - i.y) * r); return s.y = i.y + ((t.x - i.x) * r + (t.y - i.y) * n), s.x = o, s }, i.normalise = function (t) { var e = i.magnitude(t); return 0 === e ? { x: 0, y: 0 } : { x: t.x / e, y: t.y / e } }, i.dot = function (t, e) { return t.x * e.x + t.y * e.y }, i.cross = function (t, e) { return t.x * e.y - t.y * e.x }, i.cross3 = function (t, e, i) { return (e.x - t.x) * (i.y - t.y) - (e.y - t.y) * (i.x - t.x) }, i.add = function (t, e, i) { return i || (i = {}), i.x = t.x + e.x, i.y = t.y + e.y, i }, i.sub = function (t, e, i) { return i || (i = {}), i.x = t.x - e.x, i.y = t.y - e.y, i }, i.mult = function (t, e) { return { x: t.x * e, y: t.y * e } }, i.div = function (t, e) { return { x: t.x / e, y: t.y / e } }, i.perp = function (t, e) { return { x: (e = !0 === e ? -1 : 1) * -t.y, y: e * t.x } }, i.neg = function (t) { return { x: -t.x, y: -t.y } }, i.angle = function (t, e) { return Math.atan2(e.y - t.y, e.x - t.x) }, i._temp = [i.create(), i.create(), i.create(), i.create(), i.create(), i.create()] })), n.register("4tPKt", (function (t, e) { var i = {}; t.exports = i, function () { i._nextId = 0, i._seed = 0, i._nowStartTime = +new Date, i.extend = function (t, e) { var s, n; "boolean" == typeof e ? (s = 2, n = e) : (s = 1, n = !0); for (var r = s; r < arguments.length; r++) { var o = arguments[r]; if (o) for (var a in o) n && o[a] && o[a].constructor === Object ? t[a] && t[a].constructor !== Object ? t[a] = o[a] : (t[a] = t[a] || {}, i.extend(t[a], n, o[a])) : t[a] = o[a] } return t }, i.clone = function (t, e) { return i.extend({}, e, t) }, i.keys = function (t) { if (Object.keys) return Object.keys(t); var e = []; for (var i in t) e.push(i); return e }, i.values = function (t) { var e = []; if (Object.keys) { for (var i = Object.keys(t), s = 0; s < i.length; s++)e.push(t[i[s]]); return e } for (var n in t) e.push(t[n]); return e }, i.get = function (t, e, i, s) { e = e.split(".").slice(i, s); for (var n = 0; n < e.length; n += 1)t = t[e[n]]; return t }, i.set = function (t, e, s, n, r) { var o = e.split(".").slice(n, r); return i.get(t, e, 0, -1)[o[o.length - 1]] = s, s }, i.shuffle = function (t) { for (var e = t.length - 1; e > 0; e--) { var s = Math.floor(i.random() * (e + 1)), n = t[e]; t[e] = t[s], t[s] = n } return t }, i.choose = function (t) { return t[Math.floor(i.random() * t.length)] }, i.isElement = function (t) { return "undefined" != typeof HTMLElement ? t instanceof HTMLElement : !!(t && t.nodeType && t.nodeName) }, i.isArray = function (t) { return "[object Array]" === Object.prototype.toString.call(t) }, i.isFunction = function (t) { return "function" == typeof t }, i.isPlainObject = function (t) { return "object" == typeof t && t.constructor === Object }, i.isString = function (t) { return "[object String]" === toString.call(t) }, i.clamp = function (t, e, i) { return t < e ? e : t > i ? i : t }, i.sign = function (t) { return t < 0 ? -1 : 1 }, i.now = function () { if ("undefined" != typeof window && window.performance) { if (window.performance.now) return window.performance.now(); if (window.performance.webkitNow) return window.performance.webkitNow() } return new Date - i._nowStartTime }, i.random = function (e, i) { return i = void 0 !== i ? i : 1, (e = void 0 !== e ? e : 0) + t() * (i - e) }; var t = function () { return i._seed = (9301 * i._seed + 49297) % 233280, i._seed / 233280 }; i.colorToNumber = function (t) { return 3 == (t = t.replace("#", "")).length && (t = t.charAt(0) + t.charAt(0) + t.charAt(1) + t.charAt(1) + t.charAt(2) + t.charAt(2)), parseInt(t, 16) }, i.logLevel = 1, i.log = function () { console && i.logLevel > 0 && i.logLevel <= 3 && console.log.apply(console, ["matter-js:"].concat(Array.prototype.slice.call(arguments))) }, i.info = function () { console && i.logLevel > 0 && i.logLevel <= 2 && console.info.apply(console, ["matter-js:"].concat(Array.prototype.slice.call(arguments))) }, i.warn = function () { console && i.logLevel > 0 && i.logLevel <= 3 && console.warn.apply(console, ["matter-js:"].concat(Array.prototype.slice.call(arguments))) }, i.nextId = function () { return i._nextId++ }, i.indexOf = function (t, e) { if (t.indexOf) return t.indexOf(e); for (var i = 0; i < t.length; i++)if (t[i] === e) return i; return -1 }, i.map = function (t, e) { if (t.map) return t.map(e); for (var i = [], s = 0; s < t.length; s += 1)i.push(e(t[s])); return i }, i.topologicalSort = function (t) { var e = [], s = [], n = []; for (var r in t) s[r] || n[r] || i._topologicalSort(r, s, n, t, e); return e }, i._topologicalSort = function (t, e, s, n, r) { var o = n[t] || []; s[t] = !0; for (var a = 0; a < o.length; a += 1) { var h = o[a]; s[h] || (e[h] || i._topologicalSort(h, e, s, n, r)) } s[t] = !1, e[t] = !0, r.push(t) }, i.chain = function () { for (var t = [], e = 0; e < arguments.length; e += 1) { var i = arguments[e]; i._chained ? t.push.apply(t, i._chained) : t.push(i) } var s = function () { for (var e, i = new Array(arguments.length), s = 0, n = arguments.length; s < n; s++)i[s] = arguments[s]; for (s = 0; s < t.length; s += 1) { var r = t[s].apply(e, i); void 0 !== r && (e = r) } return e }; return s._chained = t, s }, i.chainPathBefore = function (t, e, s) { return i.set(t, e, i.chain(s, i.get(t, e))) }, i.chainPathAfter = function (t, e, s) { return i.set(t, e, i.chain(i.get(t, e), s)) } }() })), n.register("lMiYr", (function (t, e) { var i = {}; t.exports = i; var s = n("laRjh"), r = n("a7bN0"), o = n("azFoo"), a = n("4tPKt"), h = n("6V4ls"), l = n("hUjHB"); !function () { i._inertiaScale = 4, i._nextCollidingGroupId = 1, i._nextNonCollidingGroupId = -1, i._nextCategory = 1, i.create = function (e) { var i = { id: a.nextId(), type: "body", label: "Body", parts: [], plugin: {}, angle: 0, vertices: null, position: { x: 0, y: 0 }, force: { x: 0, y: 0 }, torque: 0, positionImpulse: { x: 0, y: 0 }, previousPositionImpulse: { x: 0, y: 0 }, constraintImpulse: { x: 0, y: 0, angle: 0 }, totalContacts: 0, speed: 0, angularSpeed: 0, velocity: { x: 0, y: 0 }, angularVelocity: 0, isSensor: !1, isStatic: !1, isSleeping: !1, motion: 0, sleepThreshold: 60, density: .001, restitution: 0, friction: .1, frictionStatic: .5, frictionAir: .01, collisionFilter: { category: 1, mask: 4294967295, group: 0 }, slop: .05, timeScale: 1, events: null, bounds: null, chamfer: null, circleRadius: 0, positionPrev: null, anglePrev: 0, parent: null, axes: null, area: 0, mass: 0, inverseMass: 0, inertia: 0, inverseInertia: 0, _original: null, render: { visible: !0, opacity: 1, sprite: { xOffset: 0, yOffset: 0 }, fillColor: null, fillOpacity: null, lineColor: null, lineOpacity: null, lineThickness: null }, gameObject: null, scale: { x: 1, y: 1 }, centerOfMass: { x: 0, y: 0 }, centerOffset: { x: 0, y: 0 }, gravityScale: { x: 1, y: 1 }, ignoreGravity: !1, ignorePointer: !1, onCollideCallback: null, onCollideEndCallback: null, onCollideActiveCallback: null, onCollideWith: {} }; !e.hasOwnProperty("position") && e.hasOwnProperty("vertices") ? e.position = s.centre(e.vertices) : e.hasOwnProperty("vertices") || (i.vertices = s.fromPath("L 0 0 L 40 0 L 40 40 L 0 40")); var n = a.extend(i, e); return t(n, e), n.setOnCollideWith = function (t, e) { return e ? this.onCollideWith[t.id] = e : delete this.onCollideWith[t.id], this }, n }, i.nextGroup = function (t) { return t ? i._nextNonCollidingGroupId-- : i._nextCollidingGroupId++ }, i.nextCategory = function () { return i._nextCategory = i._nextCategory << 1, i._nextCategory }; var t = function (t, e) { e = e || {}, i.set(t, { bounds: t.bounds || h.create(t.vertices), positionPrev: t.positionPrev || r.clone(t.position), anglePrev: t.anglePrev || t.angle, vertices: t.vertices, parts: t.parts || [t], isStatic: t.isStatic, isSleeping: t.isSleeping, parent: t.parent || t }); var n = t.bounds; if (s.rotate(t.vertices, t.angle, t.position), l.rotate(t.axes, t.angle), h.update(n, t.vertices, t.velocity), i.set(t, { axes: e.axes || t.axes, area: e.area || t.area, mass: e.mass || t.mass, inertia: e.inertia || t.inertia }), 1 === t.parts.length) { var o = t.centerOfMass, a = t.centerOffset, u = n.max.x - n.min.x, c = n.max.y - n.min.y; o.x = -(n.min.x - t.position.x) / u, o.y = -(n.min.y - t.position.y) / c, a.x = u * o.x, a.y = c * o.y } }; i.set = function (t, e, s) { var n; for (n in "string" == typeof e && (n = e, (e = {})[n] = s), e) if (Object.prototype.hasOwnProperty.call(e, n)) switch (s = e[n], n) { case "isStatic": i.setStatic(t, s); break; case "isSleeping": o.set(t, s); break; case "mass": i.setMass(t, s); break; case "density": i.setDensity(t, s); break; case "inertia": i.setInertia(t, s); break; case "vertices": i.setVertices(t, s); break; case "position": i.setPosition(t, s); break; case "angle": i.setAngle(t, s); break; case "velocity": i.setVelocity(t, s); break; case "angularVelocity": i.setAngularVelocity(t, s); break; case "parts": i.setParts(t, s); break; case "centre": i.setCentre(t, s); break; default: t[n] = s } }, i.setStatic = function (t, e) { for (var i = 0; i < t.parts.length; i++) { var s = t.parts[i]; s.isStatic = e, e ? (s._original = { restitution: s.restitution, friction: s.friction, mass: s.mass, inertia: s.inertia, density: s.density, inverseMass: s.inverseMass, inverseInertia: s.inverseInertia }, s.restitution = 0, s.friction = 1, s.mass = s.inertia = s.density = 1 / 0, s.inverseMass = s.inverseInertia = 0, s.positionPrev.x = s.position.x, s.positionPrev.y = s.position.y, s.anglePrev = s.angle, s.angularVelocity = 0, s.speed = 0, s.angularSpeed = 0, s.motion = 0) : s._original && (s.restitution = s._original.restitution, s.friction = s._original.friction, s.mass = s._original.mass, s.inertia = s._original.inertia, s.density = s._original.density, s.inverseMass = s._original.inverseMass, s.inverseInertia = s._original.inverseInertia, s._original = null) } }, i.setMass = function (t, e) { var i = t.inertia / (t.mass / 6); t.inertia = i * (e / 6), t.inverseInertia = 1 / t.inertia, t.mass = e, t.inverseMass = 1 / t.mass, t.density = t.mass / t.area }, i.setDensity = function (t, e) { i.setMass(t, e * t.area), t.density = e }, i.setInertia = function (t, e) { t.inertia = e, t.inverseInertia = 1 / t.inertia }, i.setVertices = function (t, e) { e[0].body === t ? t.vertices = e : t.vertices = s.create(e, t), t.axes = l.fromVertices(t.vertices), t.area = s.area(t.vertices), i.setMass(t, t.density * t.area); var n = s.centre(t.vertices); s.translate(t.vertices, n, -1), i.setInertia(t, i._inertiaScale * s.inertia(t.vertices, t.mass)), s.translate(t.vertices, t.position), h.update(t.bounds, t.vertices, t.velocity) }, i.setParts = function (t, e, n) { var r; for (e = e.slice(0), t.parts.length = 0, t.parts.push(t), t.parent = t, r = 0; r < e.length; r++) { var o = e[r]; o !== t && (o.parent = t, t.parts.push(o)) } if (1 !== t.parts.length) { if (n = void 0 === n || n) { var a = []; for (r = 0; r < e.length; r++)a = a.concat(e[r].vertices); s.clockwiseSort(a); var l = s.hull(a), u = s.centre(l); i.setVertices(t, l), s.translate(t.vertices, u) } var c = i._totalProperties(t), d = c.centre.x, f = c.centre.y, p = t.bounds, g = t.centerOfMass, v = t.centerOffset; h.update(p, t.vertices, t.velocity), g.x = -(p.min.x - d) / (p.max.x - p.min.x), g.y = -(p.min.y - f) / (p.max.y - p.min.y), v.x = d, v.y = f, t.area = c.area, t.parent = t, t.position.x = d, t.position.y = f, t.positionPrev.x = d, t.positionPrev.y = f, i.setMass(t, c.mass), i.setInertia(t, c.inertia), i.setPosition(t, c.centre) } }, i.setCentre = function (t, e, i) { i ? (t.positionPrev.x += e.x, t.positionPrev.y += e.y, t.position.x += e.x, t.position.y += e.y) : (t.positionPrev.x = e.x - (t.position.x - t.positionPrev.x), t.positionPrev.y = e.y - (t.position.y - t.positionPrev.y), t.position.x = e.x, t.position.y = e.y) }, i.setPosition = function (t, e) { var i = r.sub(e, t.position); t.positionPrev.x += i.x, t.positionPrev.y += i.y; for (var n = 0; n < t.parts.length; n++) { var o = t.parts[n]; o.position.x += i.x, o.position.y += i.y, s.translate(o.vertices, i), h.update(o.bounds, o.vertices, t.velocity) } }, i.setAngle = function (t, e) { var i = e - t.angle; t.anglePrev += i; for (var n = 0; n < t.parts.length; n++) { var o = t.parts[n]; o.angle += i, s.rotate(o.vertices, i, t.position), l.rotate(o.axes, i), h.update(o.bounds, o.vertices, t.velocity), n > 0 && r.rotateAbout(o.position, i, t.position, o.position) } }, i.setVelocity = function (t, e) { t.positionPrev.x = t.position.x - e.x, t.positionPrev.y = t.position.y - e.y, t.velocity.x = e.x, t.velocity.y = e.y, t.speed = r.magnitude(t.velocity) }, i.setAngularVelocity = function (t, e) { t.anglePrev = t.angle - e, t.angularVelocity = e, t.angularSpeed = Math.abs(t.angularVelocity) }, i.translate = function (t, e) { i.setPosition(t, r.add(t.position, e)) }, i.rotate = function (t, e, s) { if (s) { var n = Math.cos(e), r = Math.sin(e), o = t.position.x - s.x, a = t.position.y - s.y; i.setPosition(t, { x: s.x + (o * n - a * r), y: s.y + (o * r + a * n) }), i.setAngle(t, t.angle + e) } else i.setAngle(t, t.angle + e) }, i.scale = function (t, e, n, r) { var o = 0, a = 0; r = r || t.position; for (var u = 0; u < t.parts.length; u++) { var c = t.parts[u]; c.scale.x = e, c.scale.y = n, s.scale(c.vertices, e, n, r), c.axes = l.fromVertices(c.vertices), c.area = s.area(c.vertices), i.setMass(c, t.density * c.area), s.translate(c.vertices, { x: -c.position.x, y: -c.position.y }), i.setInertia(c, i._inertiaScale * s.inertia(c.vertices, c.mass)), s.translate(c.vertices, { x: c.position.x, y: c.position.y }), u > 0 && (o += c.area, a += c.inertia), c.position.x = r.x + (c.position.x - r.x) * e, c.position.y = r.y + (c.position.y - r.y) * n, h.update(c.bounds, c.vertices, t.velocity) } t.parts.length > 1 && (t.area = o, t.isStatic || (i.setMass(t, t.density * o), i.setInertia(t, a))), t.circleRadius && (e === n ? t.circleRadius *= e : t.circleRadius = null) }, i.update = function (t, e, i, n) { var o = Math.pow(e * i * t.timeScale, 2), a = 1 - t.frictionAir * i * t.timeScale, u = t.position.x - t.positionPrev.x, c = t.position.y - t.positionPrev.y; t.velocity.x = u * a * n + t.force.x / t.mass * o, t.velocity.y = c * a * n + t.force.y / t.mass * o, t.positionPrev.x = t.position.x, t.positionPrev.y = t.position.y, t.position.x += t.velocity.x, t.position.y += t.velocity.y, t.angularVelocity = (t.angle - t.anglePrev) * a * n + t.torque / t.inertia * o, t.anglePrev = t.angle, t.angle += t.angularVelocity, t.speed = r.magnitude(t.velocity), t.angularSpeed = Math.abs(t.angularVelocity); for (var d = 0; d < t.parts.length; d++) { var f = t.parts[d]; s.translate(f.vertices, t.velocity), d > 0 && (f.position.x += t.velocity.x, f.position.y += t.velocity.y), 0 !== t.angularVelocity && (s.rotate(f.vertices, t.angularVelocity, t.position), l.rotate(f.axes, t.angularVelocity), d > 0 && r.rotateAbout(f.position, t.angularVelocity, t.position, f.position)), h.update(f.bounds, f.vertices, t.velocity) } }, i.applyForce = function (t, e, i) { t.force.x += i.x, t.force.y += i.y; var s = e.x - t.position.x, n = e.y - t.position.y; t.torque += s * i.y - n * i.x }, i._totalProperties = function (t) { for (var e = { mass: 0, area: 0, inertia: 0, centre: { x: 0, y: 0 } }, i = 1 === t.parts.length ? 0 : 1; i < t.parts.length; i++) { var s = t.parts[i], n = s.mass !== 1 / 0 ? s.mass : 1; e.mass += n, e.area += s.area, e.inertia += s.inertia, e.centre = r.add(e.centre, r.mult(s.position, n)) } return e.centre = r.div(e.centre, e.mass), e } }() })), n.register("azFoo", (function (t, e) { var i = {}; t.exports = i; var s = n("aKoE7"); i._motionWakeThreshold = .18, i._motionSleepThreshold = .08, i._minBias = .9, i.update = function (t, e) { for (var s = e * e * e, n = 0; n < t.length; n++) { var r = t[n], o = r.speed * r.speed + r.angularSpeed * r.angularSpeed; if (0 === r.force.x && 0 === r.force.y) { var a = Math.min(r.motion, o), h = Math.max(r.motion, o); r.motion = i._minBias * a + (1 - i._minBias) * h, r.sleepThreshold > 0 && r.motion < i._motionSleepThreshold * s ? (r.sleepCounter += 1, r.sleepCounter >= r.sleepThreshold && i.set(r, !0)) : r.sleepCounter > 0 && (r.sleepCounter -= 1) } else i.set(r, !1) } }, i.afterCollisions = function (t, e) { for (var s = e * e * e, n = 0; n < t.length; n++) { var r = t[n]; if (r.isActive) { var o = r.collision, a = o.bodyA.parent, h = o.bodyB.parent; if (!(a.isSleeping && h.isSleeping || a.isStatic || h.isStatic) && (a.isSleeping || h.isSleeping)) { var l = a.isSleeping && !a.isStatic ? a : h, u = l === a ? h : a; !l.isStatic && u.motion > i._motionWakeThreshold * s && i.set(l, !1) } } } }, i.set = function (t, e) { var i = t.isSleeping; e ? (t.isSleeping = !0, t.sleepCounter = t.sleepThreshold, t.positionImpulse.x = 0, t.positionImpulse.y = 0, t.positionPrev.x = t.position.x, t.positionPrev.y = t.position.y, t.anglePrev = t.angle, t.speed = 0, t.angularSpeed = 0, t.motion = 0, i || s.trigger(t, "sleepStart")) : (t.isSleeping = !1, t.sleepCounter = 0, i && s.trigger(t, "sleepEnd")) } })), n.register("aKoE7", (function (t, e) { var i = {}; t.exports = i; var s = n("4tPKt"); i.on = function (t, e, i) { for (var s, n = e.split(" "), r = 0; r < n.length; r++)s = n[r], t.events = t.events || {}, t.events[s] = t.events[s] || [], t.events[s].push(i); return i }, i.off = function (t, e, i) { if (e) { "function" == typeof e && (i = e, e = s.keys(t.events).join(" ")); for (var n = e.split(" "), r = 0; r < n.length; r++) { var o = t.events[n[r]], a = []; if (i && o) for (var h = 0; h < o.length; h++)o[h] !== i && a.push(o[h]); t.events[n[r]] = a } } else t.events = {} }, i.trigger = function (t, e, i) { var n, r, o, a, h = t.events; if (h && s.keys(h).length > 0) { i || (i = {}), n = e.split(" "); for (var l = 0; l < n.length; l++)if (o = h[r = n[l]]) { (a = s.clone(i, !1)).name = r, a.source = t; for (var u = 0; u < o.length; u++)o[u].apply(t, [a]) } } } })), n.register("6V4ls", (function (t, e) { var i = {}; t.exports = i, i.create = function (t) { var e = { min: { x: 0, y: 0 }, max: { x: 0, y: 0 } }; return t && i.update(e, t), e }, i.update = function (t, e, i) { t.min.x = 1 / 0, t.max.x = -1 / 0, t.min.y = 1 / 0, t.max.y = -1 / 0; for (var s = 0; s < e.length; s++) { var n = e[s]; n.x > t.max.x && (t.max.x = n.x), n.x < t.min.x && (t.min.x = n.x), n.y > t.max.y && (t.max.y = n.y), n.y < t.min.y && (t.min.y = n.y) } i && (i.x > 0 ? t.max.x += i.x : t.min.x += i.x, i.y > 0 ? t.max.y += i.y : t.min.y += i.y) }, i.contains = function (t, e) { return e.x >= t.min.x && e.x <= t.max.x && e.y >= t.min.y && e.y <= t.max.y }, i.overlaps = function (t, e) { return t.min.x <= e.max.x && t.max.x >= e.min.x && t.max.y >= e.min.y && t.min.y <= e.max.y }, i.translate = function (t, e) { t.min.x += e.x, t.max.x += e.x, t.min.y += e.y, t.max.y += e.y }, i.shift = function (t, e) { var i = t.max.x - t.min.x, s = t.max.y - t.min.y; t.min.x = e.x, t.max.x = e.x + i, t.min.y = e.y, t.max.y = e.y + s } })), n.register("hUjHB", (function (t, e) { var i = {}; t.exports = i; var s = n("a7bN0"), r = n("4tPKt"); i.fromVertices = function (t) { for (var e = {}, i = 0; i < t.length; i++) { var n = (i + 1) % t.length, o = s.normalise({ x: t[n].y - t[i].y, y: t[i].x - t[n].x }), a = 0 === o.y ? 1 / 0 : o.x / o.y; e[a = a.toFixed(3).toString()] = o } return r.values(e) }, i.rotate = function (t, e) { if (0 !== e) for (var i = Math.cos(e), s = Math.sin(e), n = 0; n < t.length; n++) { var r, o = t[n]; r = o.x * i - o.y * s, o.y = o.x * s + o.y * i, o.x = r } } })), n.register("l2Xwu", (function (t, e) {
    function i(t, e, i) { i = i || 0; var s, n, r, o, a, h, l, u = [0, 0]; return s = t[1][1] - t[0][1], n = t[0][0] - t[1][0], r = s * t[0][0] + n * t[0][1], o = e[1][1] - e[0][1], a = e[0][0] - e[1][0], h = o * e[0][0] + a * e[0][1], A(l = s * a - o * n, 0, i) || (u[0] = (a * r - n * h) / l, u[1] = (s * h - o * r) / l), u } function s(t, e, i, s) { var n = e[0] - t[0], r = e[1] - t[1], o = s[0] - i[0], a = s[1] - i[1]; if (o * r - a * n == 0) return !1; var h = (n * (i[1] - t[1]) + r * (t[0] - i[0])) / (o * r - a * n), l = (o * (t[1] - i[1]) + a * (i[0] - t[0])) / (a * n - o * r); return h >= 0 && h <= 1 && l >= 0 && l <= 1 } function n(t, e, i) { return (e[0] - t[0]) * (i[1] - t[1]) - (i[0] - t[0]) * (e[1] - t[1]) } function r(t, e, i) { return n(t, e, i) > 0 } function o(t, e, i) { return n(t, e, i) >= 0 } function a(t, e, i) { return n(t, e, i) < 0 } function h(t, e, i) { return n(t, e, i) <= 0 }
    /**
     * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { decomp: function (t) { var e = T(t); return e.length > 0 ? b(t, e) : [t] }, quickDecomp: function t(e, i, s, n, l, u, c) { u = u || 100, c = c || 0, l = l || 25, i = void 0 !== i ? i : [], s = s || [], n = n || []; var v = [0, 0], m = [0, 0], y = [0, 0], w = 0, T = 0, b = 0, A = 0, E = 0, C = 0, _ = 0, M = [], P = [], O = e, R = e; if (R.length < 3) return i; if (++c > u) return console.warn("quickDecomp: max level (" + u + ") reached."), i; for (var L = 0; L < e.length; ++L)if (g(O, L)) { s.push(O[L]), w = T = Number.MAX_VALUE; for (var k = 0; k < e.length; ++k)r(f(O, L - 1), f(O, L), f(O, k)) && h(f(O, L - 1), f(O, L), f(O, k - 1)) && (y = S(f(O, L - 1), f(O, L), f(O, k), f(O, k - 1)), a(f(O, L + 1), f(O, L), y) && (b = d(O[L], y)) < T && (T = b, m = y, C = k)), r(f(O, L + 1), f(O, L), f(O, k + 1)) && h(f(O, L + 1), f(O, L), f(O, k)) && (y = S(f(O, L + 1), f(O, L), f(O, k), f(O, k + 1)), r(f(O, L - 1), f(O, L), y) && (b = d(O[L], y)) < w && (w = b, v = y, E = k)); if (C === (E + 1) % e.length) y[0] = (m[0] + v[0]) / 2, y[1] = (m[1] + v[1]) / 2, n.push(y), L < E ? (p(M, O, L, E + 1), M.push(y), P.push(y), 0 !== C && p(P, O, C, O.length), p(P, O, 0, L + 1)) : (0 !== L && p(M, O, L, O.length), p(M, O, 0, E + 1), M.push(y), P.push(y), p(P, O, C, L + 1)); else { if (C > E && (E += e.length), A = Number.MAX_VALUE, E < C) return i; for (k = C; k <= E; ++k)o(f(O, L - 1), f(O, L), f(O, k)) && h(f(O, L + 1), f(O, L), f(O, k)) && (b = d(f(O, L), f(O, k))) < A && x(O, L, k) && (A = b, _ = k % e.length); L < _ ? (p(M, O, L, _ + 1), 0 !== _ && p(P, O, _, R.length), p(P, O, 0, L + 1)) : (0 !== L && p(M, O, L, R.length), p(M, O, 0, _ + 1), p(P, O, _, L + 1)) } return M.length < P.length ? (t(M, i, s, n, l, u, c), t(P, i, s, n, l, u, c)) : (t(P, i, s, n, l, u, c), t(M, i, s, n, l, u, c)), i } return i.push(e), i }, isSimple: function (t) { var e, i = t; for (e = 0; e < i.length - 1; e++)for (var n = 0; n < e - 1; n++)if (s(i[e], i[e + 1], i[n], i[n + 1])) return !1; for (e = 1; e < i.length - 2; e++)if (s(i[0], i[i.length - 1], i[e], i[e + 1])) return !1; return !0 }, removeCollinearPoints: function (t, e) { for (var i = 0, s = t.length - 1; t.length > 3 && s >= 0; --s)c(f(t, s - 1), f(t, s), f(t, s + 1), e) && (t.splice(s % t.length, 1), i++); return i }, removeDuplicatePoints: function (t, e) { for (var i = t.length - 1; i >= 1; --i)for (var s = t[i], n = i - 1; n >= 0; --n)if (E(s, t[n], e)) { t.splice(i, 1); continue } }, makeCCW: function (t) { for (var e = 0, i = t, s = 1; s < t.length; ++s)(i[s][1] < i[e][1] || i[s][1] === i[e][1] && i[s][0] > i[e][0]) && (e = s); return !r(f(t, e - 1), f(t, e), f(t, e + 1)) && (function (t) { for (var e = [], i = t.length, s = 0; s !== i; s++)e.push(t.pop()); for (s = 0; s !== i; s++)t[s] = e[s] }(t), !0) } }; var l = [], u = []; function c(t, e, i, s) { if (s) { var r = l, o = u; r[0] = e[0] - t[0], r[1] = e[1] - t[1], o[0] = i[0] - e[0], o[1] = i[1] - e[1]; var a = r[0] * o[0] + r[1] * o[1], h = Math.sqrt(r[0] * r[0] + r[1] * r[1]), c = Math.sqrt(o[0] * o[0] + o[1] * o[1]); return Math.acos(a / (h * c)) < s } return 0 === n(t, e, i) } function d(t, e) { var i = e[0] - t[0], s = e[1] - t[1]; return i * i + s * s } function f(t, e) { var i = t.length; return t[e < 0 ? e % i + i : e % i] } function p(t, e, i, s) { for (var n = i; n < s; n++)t.push(e[n]) } function g(t, e) { return a(f(t, e - 1), f(t, e), f(t, e + 1)) } var v = [], m = []; function y(t, e, s) { var n, r, a = v, l = m; if (o(f(t, e + 1), f(t, e), f(t, s)) && h(f(t, e - 1), f(t, e), f(t, s))) return !1; r = d(f(t, e), f(t, s)); for (var u = 0; u !== t.length; ++u)if ((u + 1) % t.length !== e && u !== e && o(f(t, e), f(t, s), f(t, u + 1)) && h(f(t, e), f(t, s), f(t, u)) && (a[0] = f(t, e), a[1] = f(t, s), l[0] = f(t, u), l[1] = f(t, u + 1), n = i(a, l), d(f(t, e), n) < r)) return !1; return !0 } function x(t, e, i) { for (var n = 0; n !== t.length; ++n)if (n !== e && n !== i && (n + 1) % t.length !== e && (n + 1) % t.length !== i && s(f(t, e), f(t, i), f(t, n), f(t, n + 1))) return !1; return !0 } function w(t, e, i, s) { var n = s || []; if (function (t) { t.length = 0 }(n), e < i) for (var r = e; r <= i; r++)n.push(t[r]); else { for (r = 0; r <= i; r++)n.push(t[r]); for (r = e; r < t.length; r++)n.push(t[r]) } return n } function T(t) { for (var e = [], i = [], s = [], n = [], r = Number.MAX_VALUE, o = 0; o < t.length; ++o)if (g(t, o)) for (var a = 0; a < t.length; ++a)if (y(t, o, a)) { i = T(w(t, o, a, n)), s = T(w(t, a, o, n)); for (var h = 0; h < s.length; h++)i.push(s[h]); i.length < r && (e = i, r = i.length, e.push([f(t, o), f(t, a)])) } return e } function b(t, e) { if (0 === e.length) return [t]; if (e instanceof Array && e.length && e[0] instanceof Array && 2 === e[0].length && e[0][0] instanceof Array) { for (var i = [t], s = 0; s < e.length; s++)for (var n = e[s], r = 0; r < i.length; r++) { var o = b(i[r], n); if (o) { i.splice(r, 1), i.push(o[0], o[1]); break } } return i } n = e, s = t.indexOf(n[0]), r = t.indexOf(n[1]); return -1 !== s && -1 !== r && [w(t, s, r), w(t, r, s)] } function S(t, e, i, s, n) { n = n || 0; var r = e[1] - t[1], o = t[0] - e[0], a = r * t[0] + o * t[1], h = s[1] - i[1], l = i[0] - s[0], u = h * i[0] + l * i[1], c = r * l - h * o; return A(c, 0, n) ? [0, 0] : [(l * a - o * u) / c, (r * u - h * a) / c] } function A(t, e, i) { return i = i || 0, Math.abs(t - e) <= i } function E(t, e, i) { return A(t[0], e[0], i) && A(t[1], e[1], i) }
})), n.register("cbd5m", (function (t, e) { var i = {}; t.exports = i; var s = n("in8Gg"), r = n("dmTql"), o = n("4tPKt"), a = n("lMiYr"), h = n("gY9LZ"); i.stack = function (t, e, i, n, r, o, h) { for (var l, u = s.create({ label: "Stack" }), c = t, d = e, f = 0, p = 0; p < n; p++) { for (var g = 0, v = 0; v < i; v++) { var m = h(c, d, v, p, l, f); if (m) { var y = m.bounds.max.y - m.bounds.min.y, x = m.bounds.max.x - m.bounds.min.x; y > g && (g = y), a.translate(m, { x: .5 * x, y: .5 * y }), c = m.bounds.max.x + r, s.addBody(u, m), l = m, f += 1 } else c += r } d += g + o, c = t } return u }, i.chain = function (t, e, i, n, a, h) { for (var l = t.bodies, u = 1; u < l.length; u++) { var c = l[u - 1], d = l[u], f = c.bounds.max.y - c.bounds.min.y, p = c.bounds.max.x - c.bounds.min.x, g = d.bounds.max.y - d.bounds.min.y, v = { bodyA: c, pointA: { x: p * e, y: f * i }, bodyB: d, pointB: { x: (d.bounds.max.x - d.bounds.min.x) * n, y: g * a } }, m = o.extend(v, h); s.addConstraint(t, r.create(m)) } return t.label += " Chain", t }, i.mesh = function (t, e, i, n, a) { var h, l, u, c, d, f = t.bodies; for (h = 0; h < i; h++) { for (l = 1; l < e; l++)u = f[l - 1 + h * e], c = f[l + h * e], s.addConstraint(t, r.create(o.extend({ bodyA: u, bodyB: c }, a))); if (h > 0) for (l = 0; l < e; l++)u = f[l + (h - 1) * e], c = f[l + h * e], s.addConstraint(t, r.create(o.extend({ bodyA: u, bodyB: c }, a))), n && l > 0 && (d = f[l - 1 + (h - 1) * e], s.addConstraint(t, r.create(o.extend({ bodyA: d, bodyB: c }, a)))), n && l < e - 1 && (d = f[l + 1 + (h - 1) * e], s.addConstraint(t, r.create(o.extend({ bodyA: d, bodyB: c }, a)))) } return t.label += " Mesh", t }, i.pyramid = function (t, e, s, n, r, o, h) { return i.stack(t, e, s, n, r, o, (function (e, i, o, l, u, c) { var d = Math.min(n, Math.ceil(s / 2)), f = u ? u.bounds.max.x - u.bounds.min.x : 0; if (!(l > d || o < (l = d - l) || o > s - 1 - l)) return 1 === c && a.translate(u, { x: (o + (s % 2 == 1 ? 1 : -1)) * f, y: 0 }), h(t + (u ? o * f : 0) + o * r, i, o, l, u, c) })) }, i.newtonsCradle = function (t, e, i, n, o) { for (var a = s.create({ label: "Newtons Cradle" }), l = 0; l < i; l++) { var u = h.circle(t + l * (1.9 * n), e + o, n, { inertia: 1 / 0, restitution: 1, friction: 0, frictionAir: 1e-4, slop: 1 }), c = r.create({ pointA: { x: t + l * (1.9 * n), y: e }, bodyB: u }); s.addBody(a, u), s.addConstraint(a, c) } return a }, i.car = function (t, e, i, n, o) { var l = a.nextGroup(!0), u = .5 * -i + 20, c = .5 * i - 20, d = s.create({ label: "Car" }), f = h.rectangle(t, e, i, n, { collisionFilter: { group: l }, chamfer: { radius: .5 * n }, density: 2e-4 }), p = h.circle(t + u, e + 0, o, { collisionFilter: { group: l }, friction: .8 }), g = h.circle(t + c, e + 0, o, { collisionFilter: { group: l }, friction: .8 }), v = r.create({ bodyB: f, pointB: { x: u, y: 0 }, bodyA: p, stiffness: 1, length: 0 }), m = r.create({ bodyB: f, pointB: { x: c, y: 0 }, bodyA: g, stiffness: 1, length: 0 }); return s.addBody(d, f), s.addBody(d, p), s.addBody(d, g), s.addConstraint(d, v), s.addConstraint(d, m), d }, i.softBody = function (t, e, s, n, r, a, l, u, c, d) { c = o.extend({ inertia: 1 / 0 }, c), d = o.extend({ stiffness: .2, render: { type: "line", anchors: !1 } }, d); var f = i.stack(t, e, s, n, r, a, (function (t, e) { return h.circle(t, e, u, c) })); return i.mesh(f, s, n, l, d), f.label = "Soft Body", f } })), n.register("in8Gg", (function (t, e) { var i = {}; t.exports = i; var s = n("aKoE7"), r = n("4tPKt"), o = n("6V4ls"), a = n("lMiYr"); i.create = function (t) { return r.extend({ id: r.nextId(), type: "composite", parent: null, isModified: !1, bodies: [], constraints: [], composites: [], label: "Composite", plugin: {} }, t) }, i.setModified = function (t, e, n, r) { if (s.trigger(t, "compositeModified", t), t.isModified = e, n && t.parent && i.setModified(t.parent, e, n, r), r) for (var o = 0; o < t.composites.length; o++) { var a = t.composites[o]; i.setModified(a, e, n, r) } }, i.add = function (t, e) { var n = [].concat(e); s.trigger(t, "beforeAdd", { object: e }); for (var o = 0; o < n.length; o++) { var a = n[o]; switch (a.type) { case "body": if (a.parent !== a) { r.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)"); break } i.addBody(t, a); break; case "constraint": i.addConstraint(t, a); break; case "composite": i.addComposite(t, a); break; case "mouseConstraint": i.addConstraint(t, a.constraint) } } return s.trigger(t, "afterAdd", { object: e }), t }, i.remove = function (t, e, n) { var r = [].concat(e); s.trigger(t, "beforeRemove", { object: e }); for (var o = 0; o < r.length; o++) { var a = r[o]; switch (a.type) { case "body": i.removeBody(t, a, n); break; case "constraint": i.removeConstraint(t, a, n); break; case "composite": i.removeComposite(t, a, n); break; case "mouseConstraint": i.removeConstraint(t, a.constraint) } } return s.trigger(t, "afterRemove", { object: e }), t }, i.addComposite = function (t, e) { return t.composites.push(e), e.parent = t, i.setModified(t, !0, !0, !1), t }, i.removeComposite = function (t, e, s) { var n = t.composites.indexOf(e); if (-1 !== n && (i.removeCompositeAt(t, n), i.setModified(t, !0, !0, !1)), s) for (var r = 0; r < t.composites.length; r++)i.removeComposite(t.composites[r], e, !0); return t }, i.removeCompositeAt = function (t, e) { return t.composites.splice(e, 1), i.setModified(t, !0, !0, !1), t }, i.addBody = function (t, e) { return t.bodies.push(e), i.setModified(t, !0, !0, !1), t }, i.removeBody = function (t, e, s) { var n = t.bodies.indexOf(e); if (-1 !== n && (i.removeBodyAt(t, n), i.setModified(t, !0, !0, !1)), s) for (var r = 0; r < t.composites.length; r++)i.removeBody(t.composites[r], e, !0); return t }, i.removeBodyAt = function (t, e) { return t.bodies.splice(e, 1), i.setModified(t, !0, !0, !1), t }, i.addConstraint = function (t, e) { return t.constraints.push(e), i.setModified(t, !0, !0, !1), t }, i.removeConstraint = function (t, e, s) { var n = t.constraints.indexOf(e); if (-1 !== n && i.removeConstraintAt(t, n), s) for (var r = 0; r < t.composites.length; r++)i.removeConstraint(t.composites[r], e, !0); return t }, i.removeConstraintAt = function (t, e) { return t.constraints.splice(e, 1), i.setModified(t, !0, !0, !1), t }, i.clear = function (t, e, s) { if (s) for (var n = 0; n < t.composites.length; n++)i.clear(t.composites[n], e, !0); return e ? t.bodies = t.bodies.filter((function (t) { return t.isStatic })) : t.bodies.length = 0, t.constraints.length = 0, t.composites.length = 0, i.setModified(t, !0, !0, !1), t }, i.allBodies = function (t) { for (var e = [].concat(t.bodies), s = 0; s < t.composites.length; s++)e = e.concat(i.allBodies(t.composites[s])); return e }, i.allConstraints = function (t) { for (var e = [].concat(t.constraints), s = 0; s < t.composites.length; s++)e = e.concat(i.allConstraints(t.composites[s])); return e }, i.allComposites = function (t) { for (var e = [].concat(t.composites), s = 0; s < t.composites.length; s++)e = e.concat(i.allComposites(t.composites[s])); return e }, i.get = function (t, e, s) { var n, r; switch (s) { case "body": n = i.allBodies(t); break; case "constraint": n = i.allConstraints(t); break; case "composite": n = i.allComposites(t).concat(t) }return n ? 0 === (r = n.filter((function (t) { return t.id.toString() === e.toString() }))).length ? null : r[0] : null }, i.move = function (t, e, s) { return i.remove(t, e), i.add(s, e), t }, i.rebase = function (t) { for (var e = i.allBodies(t).concat(i.allConstraints(t)).concat(i.allComposites(t)), s = 0; s < e.length; s++)e[s].id = r.nextId(); return i.setModified(t, !0, !0, !1), t }, i.translate = function (t, e, s) { for (var n = s ? i.allBodies(t) : t.bodies, r = 0; r < n.length; r++)a.translate(n[r], e); return i.setModified(t, !0, !0, !1), t }, i.rotate = function (t, e, s, n) { for (var r = Math.cos(e), o = Math.sin(e), h = n ? i.allBodies(t) : t.bodies, l = 0; l < h.length; l++) { var u = h[l], c = u.position.x - s.x, d = u.position.y - s.y; a.setPosition(u, { x: s.x + (c * r - d * o), y: s.y + (c * o + d * r) }), a.rotate(u, e) } return i.setModified(t, !0, !0, !1), t }, i.scale = function (t, e, s, n, r) { for (var o = r ? i.allBodies(t) : t.bodies, h = 0; h < o.length; h++) { var l = o[h], u = l.position.x - n.x, c = l.position.y - n.y; a.setPosition(l, { x: n.x + u * e, y: n.y + c * s }), a.scale(l, e, s) } return i.setModified(t, !0, !0, !1), t }, i.bounds = function (t) { for (var e = i.allBodies(t), s = [], n = 0; n < e.length; n += 1) { var r = e[n]; s.push(r.bounds.min, r.bounds.max) } return o.create(s) } })), n.register("dmTql", (function (t, e) { var i = {}; t.exports = i; var s = n("laRjh"), r = n("a7bN0"), o = n("azFoo"), a = n("6V4ls"), h = n("hUjHB"), l = n("4tPKt"); i._warming = .4, i._torqueDampen = 1, i._minLength = 1e-6, i.create = function (t) { var e = t; e.bodyA && !e.pointA && (e.pointA = { x: 0, y: 0 }), e.bodyB && !e.pointB && (e.pointB = { x: 0, y: 0 }); var i = e.bodyA ? r.add(e.bodyA.position, e.pointA) : e.pointA, s = e.bodyB ? r.add(e.bodyB.position, e.pointB) : e.pointB, n = r.magnitude(r.sub(i, s)); e.length = void 0 !== e.length ? e.length : n, e.id = e.id || l.nextId(), e.label = e.label || "Constraint", e.type = "constraint", e.stiffness = e.stiffness || (e.length > 0 ? 1 : .7), e.damping = e.damping || 0, e.angularStiffness = e.angularStiffness || 0, e.angleA = e.bodyA ? e.bodyA.angle : e.angleA, e.angleB = e.bodyB ? e.bodyB.angle : e.angleB, e.plugin = {}; var o = { visible: !0, type: "line", anchors: !0, lineColor: null, lineOpacity: null, lineThickness: null, pinSize: null, anchorColor: null, anchorSize: null }; return 0 === e.length && e.stiffness > .1 ? (o.type = "pin", o.anchors = !1) : e.stiffness < .9 && (o.type = "spring"), e.render = l.extend(o, e.render), e }, i.preSolveAll = function (t) { for (var e = 0; e < t.length; e += 1) { var i = t[e], s = i.constraintImpulse; i.isStatic || 0 === s.x && 0 === s.y && 0 === s.angle || (i.position.x += s.x, i.position.y += s.y, i.angle += s.angle) } }, i.solveAll = function (t, e) { for (var s = 0; s < t.length; s += 1) { var n = t[s], r = !n.bodyA || n.bodyA && n.bodyA.isStatic, o = !n.bodyB || n.bodyB && n.bodyB.isStatic; (r || o) && i.solve(t[s], e) } for (s = 0; s < t.length; s += 1)r = !(n = t[s]).bodyA || n.bodyA && n.bodyA.isStatic, o = !n.bodyB || n.bodyB && n.bodyB.isStatic, r || o || i.solve(t[s], e) }, i.solve = function (t, e) { var s = t.bodyA, n = t.bodyB, o = t.pointA, a = t.pointB; if (s || n) { s && !s.isStatic && (r.rotate(o, s.angle - t.angleA, o), t.angleA = s.angle), n && !n.isStatic && (r.rotate(a, n.angle - t.angleB, a), t.angleB = n.angle); var h = o, l = a; if (s && (h = r.add(s.position, o)), n && (l = r.add(n.position, a)), h && l) { var u = r.sub(h, l), c = r.magnitude(u); c < i._minLength && (c = i._minLength); var d, f, p, g, v, m = (c - t.length) / c, y = t.stiffness < 1 ? t.stiffness * e : t.stiffness, x = r.mult(u, m * y), w = (s ? s.inverseMass : 0) + (n ? n.inverseMass : 0), T = w + ((s ? s.inverseInertia : 0) + (n ? n.inverseInertia : 0)); if (t.damping) { var b = r.create(); p = r.div(u, c), v = r.sub(n && r.sub(n.position, n.positionPrev) || b, s && r.sub(s.position, s.positionPrev) || b), g = r.dot(p, v) } s && !s.isStatic && (f = s.inverseMass / w, s.constraintImpulse.x -= x.x * f, s.constraintImpulse.y -= x.y * f, s.position.x -= x.x * f, s.position.y -= x.y * f, t.damping && (s.positionPrev.x -= t.damping * p.x * g * f, s.positionPrev.y -= t.damping * p.y * g * f), d = r.cross(o, x) / T * i._torqueDampen * s.inverseInertia * (1 - t.angularStiffness), s.constraintImpulse.angle -= d, s.angle -= d), n && !n.isStatic && (f = n.inverseMass / w, n.constraintImpulse.x += x.x * f, n.constraintImpulse.y += x.y * f, n.position.x += x.x * f, n.position.y += x.y * f, t.damping && (n.positionPrev.x += t.damping * p.x * g * f, n.positionPrev.y += t.damping * p.y * g * f), d = r.cross(a, x) / T * i._torqueDampen * n.inverseInertia * (1 - t.angularStiffness), n.constraintImpulse.angle += d, n.angle += d) } } }, i.postSolveAll = function (t) { for (var e = 0; e < t.length; e++) { var n = t[e], l = n.constraintImpulse; if (!(n.isStatic || 0 === l.x && 0 === l.y && 0 === l.angle)) { o.set(n, !1); for (var u = 0; u < n.parts.length; u++) { var c = n.parts[u]; s.translate(c.vertices, l), u > 0 && (c.position.x += l.x, c.position.y += l.y), 0 !== l.angle && (s.rotate(c.vertices, l.angle, n.position), h.rotate(c.axes, l.angle), u > 0 && r.rotateAbout(c.position, l.angle, n.position, c.position)), a.update(c.bounds, c.vertices, n.velocity) } l.angle *= i._warming, l.x *= i._warming, l.y *= i._warming } } }, i.pointAWorld = function (t) { return { x: (t.bodyA ? t.bodyA.position.x : 0) + t.pointA.x, y: (t.bodyA ? t.bodyA.position.y : 0) + t.pointA.y } }, i.pointBWorld = function (t) { return { x: (t.bodyB ? t.bodyB.position.x : 0) + t.pointB.x, y: (t.bodyB ? t.bodyB.position.y : 0) + t.pointB.y } } })), n.register("dmaXf", (function (t, e) { var i = {}; t.exports = i, n("6V4ls"); var s = n("4tPKt"); i.pathToVertices = function (t, e) { "undefined" == typeof window || "SVGPathSeg" in window || s.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required."); var n, r, o, a, h, l, u, c, d, f, p, g = [], v = 0, m = 0, y = 0; e = e || 15; var x = function (t, e, i) { var s = i % 2 == 1 && i > 1; if (!d || t != d.x || e != d.y) { d && s ? (f = d.x, p = d.y) : (f = 0, p = 0); var n = { x: f + t, y: p + e }; !s && d || (d = n), g.push(n), m = f + t, y = p + e } }, w = function (t) { var e = t.pathSegTypeAsLetter.toUpperCase(); if ("Z" !== e) { switch (e) { case "M": case "L": case "T": case "C": case "S": case "Q": m = t.x, y = t.y; break; case "H": m = t.x; break; case "V": y = t.y }x(m, y, t.pathSegType) } }; for (i._svgPathToAbsolute(t), o = t.getTotalLength(), l = [], n = 0; n < t.pathSegList.numberOfItems; n += 1)l.push(t.pathSegList.getItem(n)); for (u = l.concat(); v < o;) { if ((h = l[t.getPathSegAtLength(v)]) != c) { for (; u.length && u[0] != h;)w(u.shift()); c = h } switch (h.pathSegTypeAsLetter.toUpperCase()) { case "C": case "T": case "S": case "Q": case "A": a = t.getPointAtLength(v), x(a.x, a.y, 0) }v += e } for (n = 0, r = u.length; n < r; ++n)w(u[n]); return g }, i._svgPathToAbsolute = function (t) { for (var e, i, s, n, r, o, a = t.pathSegList, h = 0, l = 0, u = a.numberOfItems, c = 0; c < u; ++c) { var d = a.getItem(c), f = d.pathSegTypeAsLetter; if (/[MLHVCSQTA]/.test(f)) "x" in d && (h = d.x), "y" in d && (l = d.y); else switch ("x1" in d && (s = h + d.x1), "x2" in d && (r = h + d.x2), "y1" in d && (n = l + d.y1), "y2" in d && (o = l + d.y2), "x" in d && (h += d.x), "y" in d && (l += d.y), f) { case "m": a.replaceItem(t.createSVGPathSegMovetoAbs(h, l), c); break; case "l": a.replaceItem(t.createSVGPathSegLinetoAbs(h, l), c); break; case "h": a.replaceItem(t.createSVGPathSegLinetoHorizontalAbs(h), c); break; case "v": a.replaceItem(t.createSVGPathSegLinetoVerticalAbs(l), c); break; case "c": a.replaceItem(t.createSVGPathSegCurvetoCubicAbs(h, l, s, n, r, o), c); break; case "s": a.replaceItem(t.createSVGPathSegCurvetoCubicSmoothAbs(h, l, r, o), c); break; case "q": a.replaceItem(t.createSVGPathSegCurvetoQuadraticAbs(h, l, s, n), c); break; case "t": a.replaceItem(t.createSVGPathSegCurvetoQuadraticSmoothAbs(h, l), c); break; case "a": a.replaceItem(t.createSVGPathSegArcAbs(h, l, d.r1, d.r2, d.angle, d.largeArcFlag, d.sweepFlag), c); break; case "z": case "Z": h = e, l = i }"M" != f && "m" != f || (e = h, i = l) } } })), n.register("5NLqi", (function (t, e) { var i = n("kkcpJ"), s = n("7BSWl"), r = n("7SBSk"); t.exports = function (t, e, n, o) { void 0 === n && (n = {}), void 0 === o && (o = !0); var a = e.x, h = e.y; if (e.body = { temp: !0, position: { x: a, y: h } }, [i.Bounce, i.Collision, i.Force, i.Friction, i.Gravity, i.Mass, i.Sensor, i.SetBody, i.Sleep, i.Static, i.Transform, i.Velocity].forEach((function (t) { for (var i in t) (s = t[i]).get && "function" == typeof s.get || s.set && "function" == typeof s.set ? Object.defineProperty(e, i, { get: t[i].get, set: t[i].set }) : Object.defineProperty(e, i, { value: t[i] }); var s })), e.world = t, e._tempVec2 = new r(a, h), n.hasOwnProperty("type") && "body" === n.type) e.setExistingBody(n, o); else { var l = s(n, "shape", null); l || (l = "rectangle"), n.addToWorld = o, e.setBody(l, n) } return e } })), n.register("kkcpJ", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { Bounce: n("fjhQk"), Collision: n("eQULH"), Force: n("fUFbJ"), Friction: n("gNeMi"), Gravity: n("aqQIn"), Mass: n("7gOTE"), Static: n("k0ju0"), Sensor: n("2Vt0K"), SetBody: n("2v5Yq"), Sleep: n("1m3zA"), Transform: n("8HGtH"), Velocity: n("cd88S") }
})), n.register("fjhQk", (function (t, e) { t.exports = { setBounce: function (t) { return this.body.restitution = t, this } } })), n.register("eQULH", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    var i = { setCollisionCategory: function (t) { return this.body.collisionFilter.category = t, this }, setCollisionGroup: function (t) { return this.body.collisionFilter.group = t, this }, setCollidesWith: function (t) { var e = 0; if (Array.isArray(t)) for (var i = 0; i < t.length; i++)e |= t[i]; else e = t; return this.body.collisionFilter.mask = e, this }, setOnCollide: function (t) { return this.body.onCollideCallback = t, this }, setOnCollideEnd: function (t) { return this.body.onCollideEndCallback = t, this }, setOnCollideActive: function (t) { return this.body.onCollideActiveCallback = t, this }, setOnCollideWith: function (t, e) { Array.isArray(t) || (t = [t]); for (var i = 0; i < t.length; i++) { var s = t[i].hasOwnProperty("body") ? t[i].body : t[i]; this.body.setOnCollideWith(s, e) } return this } }; t.exports = i
})), n.register("fUFbJ", (function (t, e) { var i = n("lMiYr"), s = { applyForce: function (t) { return this._tempVec2.set(this.body.position.x, this.body.position.y), i.applyForce(this.body, this._tempVec2, t), this }, applyForceFrom: function (t, e) { return i.applyForce(this.body, t, e), this }, thrust: function (t) { var e = this.body.angle; return this._tempVec2.set(t * Math.cos(e), t * Math.sin(e)), i.applyForce(this.body, { x: this.body.position.x, y: this.body.position.y }, this._tempVec2), this }, thrustLeft: function (t) { var e = this.body.angle - Math.PI / 2; return this._tempVec2.set(t * Math.cos(e), t * Math.sin(e)), i.applyForce(this.body, { x: this.body.position.x, y: this.body.position.y }, this._tempVec2), this }, thrustRight: function (t) { var e = this.body.angle + Math.PI / 2; return this._tempVec2.set(t * Math.cos(e), t * Math.sin(e)), i.applyForce(this.body, { x: this.body.position.x, y: this.body.position.y }, this._tempVec2), this }, thrustBack: function (t) { var e = this.body.angle - Math.PI; return this._tempVec2.set(t * Math.cos(e), t * Math.sin(e)), i.applyForce(this.body, { x: this.body.position.x, y: this.body.position.y }, this._tempVec2), this } }; t.exports = s })), n.register("gNeMi", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    var i = { setFriction: function (t, e, i) { return this.body.friction = t, void 0 !== e && (this.body.frictionAir = e), void 0 !== i && (this.body.frictionStatic = i), this }, setFrictionAir: function (t) { return this.body.frictionAir = t, this }, setFrictionStatic: function (t) { return this.body.frictionStatic = t, this } }; t.exports = i
})), n.register("aqQIn", (function (t, e) { t.exports = { setIgnoreGravity: function (t) { return this.body.ignoreGravity = t, this } } })), n.register("7gOTE", (function (t, e) { var i = n("lMiYr"), s = n("7SBSk"), r = { setMass: function (t) { return i.setMass(this.body, t), this }, setDensity: function (t) { return i.setDensity(this.body, t), this }, centerOfMass: { get: function () { return new s(this.body.centerOfMass.x, this.body.centerOfMass.y) } } }; t.exports = r })), n.register("k0ju0", (function (t, e) { var i = n("lMiYr"), s = { setStatic: function (t) { return i.setStatic(this.body, t), this }, isStatic: function () { return this.body.isStatic } }; t.exports = s })), n.register("2Vt0K", (function (t, e) { t.exports = { setSensor: function (t) { return this.body.isSensor = t, this }, isSensor: function () { return this.body.isSensor } } })), n.register("2v5Yq", (function (t, e) { var i = n("gY9LZ"), s = n("lMiYr"), r = n("4cohD"), o = n("7BSWl"), a = n("gInVG"), h = n("eA2TZ"), l = n("laRjh"), u = { setRectangle: function (t, e, i) { return this.setBody({ type: "rectangle", width: t, height: e }, i) }, setCircle: function (t, e) { return this.setBody({ type: "circle", radius: t }, e) }, setPolygon: function (t, e, i) { return this.setBody({ type: "polygon", sides: e, radius: t }, i) }, setTrapezoid: function (t, e, i, s) { return this.setBody({ type: "trapezoid", width: t, height: e, slope: i }, s) }, setExistingBody: function (t, e) { void 0 === e && (e = !0), this.body && this.world.remove(this.body, !0), this.body = t; for (var i = 0; i < t.parts.length; i++)t.parts[i].gameObject = this; var s = this; if (t.destroy = function () { s.world.remove(s.body, !0), s.body.gameObject = null }, e && (this.world.has(t) && this.world.remove(t, !0), this.world.add(t)), this._originComponent) { var n = t.render.sprite.xOffset, o = t.render.sprite.yOffset, a = t.centerOfMass.x, h = t.centerOfMass.y; if (r(a, .5) && r(h, .5)) this.setOrigin(n + .5, o + .5); else { var l = t.centerOffset.x, u = t.centerOffset.y; this.setOrigin(n + l / this.displayWidth, o + u / this.displayHeight) } } return this }, setBody: function (t, e) { if (!t) return this; var n; "string" == typeof t && (t = { type: t }); var r = o(t, "type", "rectangle"), u = o(t, "x", this._tempVec2.x), c = o(t, "y", this._tempVec2.y), d = o(t, "width", this.width), f = o(t, "height", this.height); switch (r) { case "rectangle": n = i.rectangle(u, c, d, f, e); break; case "circle": var p = o(t, "radius", Math.max(d, f) / 2), g = o(t, "maxSides", 25); n = i.circle(u, c, p, e, g); break; case "trapezoid": var v = o(t, "slope", .5); n = i.trapezoid(u, c, d, f, v, e); break; case "polygon": var m = o(t, "sides", 5), y = o(t, "radius", Math.max(d, f) / 2); n = i.polygon(u, c, m, y, e); break; case "fromVertices": case "fromVerts": var x = o(t, "verts", null); if (x) if ("string" == typeof x && (x = l.fromPath(x)), this.body && !this.body.hasOwnProperty("temp")) s.setVertices(this.body, x), n = this.body; else { var w = o(t, "flagInternal", !1), T = o(t, "removeCollinear", .01), b = o(t, "minimumArea", 10); n = i.fromVertices(u, c, x, e, w, T, b) } break; case "fromPhysicsEditor": n = a.parseBody(u, c, t, e); break; case "fromPhysicsTracer": n = h.parseBody(u, c, t, e) }return n && this.setExistingBody(n, t.addToWorld), this } }; t.exports = u })), n.register("gInVG", (function (t, e) { var i = n("gY9LZ"), s = n("lMiYr"), r = n("4tPKt"), o = n("7BSWl"), a = n("laRjh"), h = { parseBody: function (t, e, i, n) { void 0 === n && (n = {}); for (var a = o(i, "fixtures", []), h = [], l = 0; l < a.length; l++)for (var u = this.parseFixture(a[l]), c = 0; c < u.length; c++)h.push(u[c]); var d = r.clone(i, !0); r.extend(d, n, !0), delete d.fixtures, delete d.type; var f = s.create(d); return s.setParts(f, h), s.setPosition(f, { x: t, y: e }), f }, parseFixture: function (t) { var e, s = r.extend({}, !1, t); if (delete s.circle, delete s.vertices, t.circle) { var n = o(t.circle, "x"), a = o(t.circle, "y"), h = o(t.circle, "radius"); e = [i.circle(n, a, h, s)] } else t.vertices && (e = this.parseVertices(t.vertices, s)); return e }, parseVertices: function (t, e) { void 0 === e && (e = {}); for (var n = [], o = 0; o < t.length; o++)a.clockwiseSort(t[o]), n.push(s.create(r.extend({ position: a.centre(t[o]), vertices: t[o] }, e))); return i.flagCoincidentParts(n) } }; t.exports = h })), n.register("eA2TZ", (function (t, e) { var i = n("gY9LZ"), s = n("lMiYr"), r = { parseBody: function (t, e, n, r) { var o; void 0 === r && (r = {}); var a = n.vertices; if (1 === a.length) r.vertices = a[0], o = s.create(r), i.flagCoincidentParts(o.parts); else { for (var h = [], l = 0; l < a.length; l++) { var u = s.create({ vertices: a[l] }); h.push(u) } i.flagCoincidentParts(h), r.parts = h, o = s.create(r) } return o.label = n.label, s.setPosition(o, { x: t, y: e }), o } }; t.exports = r })), n.register("1m3zA", (function (t, e) { var i = n("989p0"), s = n("azFoo"), r = n("aKoE7"), o = { setToSleep: function () { s.set(this.body, !0) }, setAwake: function () { s.set(this.body, !1) }, setSleepThreshold: function (t) { return void 0 === t && (t = 60), this.body.sleepThreshold = t, this }, setSleepEvents: function (t, e) { return this.setSleepStartEvent(t), this.setSleepEndEvent(e), this }, setSleepStartEvent: function (t) { if (t) { var e = this.world; r.on(this.body, "sleepStart", (function (t) { e.emit(i.SLEEP_START, t, this) })) } else r.off(this.body, "sleepStart"); return this }, setSleepEndEvent: function (t) { if (t) { var e = this.world; r.on(this.body, "sleepEnd", (function (t) { e.emit(i.SLEEP_END, t, this) })) } else r.off(this.body, "sleepEnd"); return this } }; t.exports = o })), n.register("989p0", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { AFTER_ADD: n("woJTz"), AFTER_REMOVE: n("cdvml"), AFTER_UPDATE: n("b8E6d"), BEFORE_ADD: n("bY0h8"), BEFORE_REMOVE: n("lUsZU"), BEFORE_UPDATE: n("lHsqm"), COLLISION_ACTIVE: n("3BnZl"), COLLISION_END: n("4E78h"), COLLISION_START: n("jJ99m"), DRAG_END: n("ae7k4"), DRAG: n("bPqam"), DRAG_START: n("4jqvM"), PAUSE: n("jYDYo"), RESUME: n("3tsUc"), SLEEP_END: n("95fmR"), SLEEP_START: n("gjhJU") }
})), n.register("woJTz", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "afteradd"
})), n.register("cdvml", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "afterremove"
})), n.register("b8E6d", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "afterupdate"
})), n.register("bY0h8", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "beforeadd"
})), n.register("lUsZU", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "beforeremove"
})), n.register("lHsqm", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "beforeupdate"
})), n.register("3BnZl", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "collisionactive"
})), n.register("4E78h", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "collisionend"
})), n.register("jJ99m", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "collisionstart"
})), n.register("ae7k4", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "dragend"
})), n.register("bPqam", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "drag"
})), n.register("4jqvM", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "dragstart"
})), n.register("jYDYo", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "pause"
})), n.register("3tsUc", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "resume"
})), n.register("95fmR", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "sleepend"
})), n.register("gjhJU", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "sleepstart"
})), n.register("8HGtH", (function (t, e) { var i = n("lMiYr"), s = n("bNtDi"), r = n("1W59j"), o = n("dokq5"), a = { x: { get: function () { return this.body.position.x }, set: function (t) { this._tempVec2.set(t, this.y), i.setPosition(this.body, this._tempVec2) } }, y: { get: function () { return this.body.position.y }, set: function (t) { this._tempVec2.set(this.x, t), i.setPosition(this.body, this._tempVec2) } }, scaleX: { get: function () { return this._scaleX }, set: function (t) { var e = 1 / this._scaleX, s = 1 / this._scaleY; this._scaleX = t, 0 === this._scaleX ? this.renderFlags &= -5 : this.renderFlags |= 4, i.scale(this.body, e, s), i.scale(this.body, t, this._scaleY) } }, scaleY: { get: function () { return this._scaleY }, set: function (t) { var e = 1 / this._scaleX, s = 1 / this._scaleY; this._scaleY = t, 0 === this._scaleY ? this.renderFlags &= -5 : this.renderFlags |= 4, i.scale(this.body, e, s), i.scale(this.body, this._scaleX, t) } }, angle: { get: function () { return o(this.body.angle * s.RAD_TO_DEG) }, set: function (t) { this.rotation = o(t) * s.DEG_TO_RAD } }, rotation: { get: function () { return this.body.angle }, set: function (t) { this._rotation = r(t), i.setAngle(this.body, this._rotation) } }, setPosition: function (t, e) { return void 0 === t && (t = 0), void 0 === e && (e = t), this._tempVec2.set(t, e), i.setPosition(this.body, this._tempVec2), this }, setRotation: function (t) { return void 0 === t && (t = 0), this._rotation = r(t), i.setAngle(this.body, t), this }, setFixedRotation: function () { return i.setInertia(this.body, 1 / 0), this }, setAngle: function (t) { return void 0 === t && (t = 0), this.angle = t, i.setAngle(this.body, this.rotation), this }, setScale: function (t, e, s) { void 0 === t && (t = 1), void 0 === e && (e = t); var n = 1 / this._scaleX, r = 1 / this._scaleY; return this._scaleX = t, this._scaleY = e, i.scale(this.body, n, r, s), i.scale(this.body, t, e, s), this } }; t.exports = a })), n.register("cd88S", (function (t, e) { var i = n("lMiYr"), s = { setAngularVelocity: function (t) { return i.setAngularVelocity(this.body, t), this }, setVelocityX: function (t) { return this._tempVec2.set(t, this.body.velocity.y), i.setVelocity(this.body, this._tempVec2), this }, setVelocityY: function (t) { return this._tempVec2.set(this.body.velocity.x, t), i.setVelocity(this.body, this._tempVec2), this }, setVelocity: function (t, e) { return this._tempVec2.set(t, e), i.setVelocity(this.body, this._tempVec2), this } }; t.exports = s })), n.register("k5BpG", (function (t, e) { var i = n("jwj1g"), s = n("kkcpJ"), r = n("1zqlR"), o = n("7BSWl"), a = n("8qGvv"), h = n("DznIZ"), l = n("7SBSk"), u = new i({ Extends: a, Mixins: [s.Bounce, s.Collision, s.Force, s.Friction, s.Gravity, s.Mass, s.Sensor, s.SetBody, s.Sleep, s.Static, s.Transform, s.Velocity, h], initialize: function (t, e, i, s, n, a) { r.call(this, t.scene, "Image"), this.setTexture(s, n), this.setSizeToFrame(), this.setOrigin(), this.world = t, this._tempVec2 = new l(e, i); var h = o(a, "shape", null); h ? this.setBody(h, a) : this.setRectangle(this.width, this.height, a), this.setPosition(e, i), this.initPipeline("TextureTintPipeline") } }); t.exports = u })), n.register("9dw29", (function (t, e) { var i = n("18ZZu"), s = n("jwj1g"), r = n("kkcpJ"), o = n("1zqlR"), a = n("7BSWl"), h = n("DznIZ"), l = n("gXuc8"), u = n("7SBSk"), c = new s({ Extends: l, Mixins: [r.Bounce, r.Collision, r.Force, r.Friction, r.Gravity, r.Mass, r.Sensor, r.SetBody, r.Sleep, r.Static, r.Transform, r.Velocity, h], initialize: function (t, e, s, n, r, h) { o.call(this, t.scene, "Sprite"), this.anims = new i(this), this.setTexture(n, r), this.setSizeToFrame(), this.setOrigin(), this.world = t, this._tempVec2 = new u(e, s); var l = a(h, "shape", null); l ? this.setBody(l, h) : this.setRectangle(this.width, this.height, h), this.setPosition(e, s), this.initPipeline("TextureTintPipeline") } }); t.exports = c })), n.register("cRMRu", (function (t, e) { var i = n("gY9LZ"), s = n("lMiYr"), r = n("jwj1g"), o = n("kkcpJ"), a = n("7BSWl"), h = n("evjs6"), l = n("laRjh"), u = new r({ Mixins: [o.Bounce, o.Collision, o.Friction, o.Gravity, o.Mass, o.Sensor, o.Sleep, o.Static], initialize: function (t, e, i) { this.tile = e, this.world = t, e.physics.matterBody && e.physics.matterBody.destroy(), e.physics.matterBody = this; var s = a(i, "body", null), n = a(i, "addToWorld", !0); if (s) this.setBody(s, n); else { var r = e.getCollisionGroup(); a(r, "objects", []).length > 0 ? this.setFromTileCollision(i) : this.setFromTileRectangle(i) } }, setFromTileRectangle: function (t) { void 0 === t && (t = {}), h(t, "isStatic") || (t.isStatic = !0), h(t, "addToWorld") || (t.addToWorld = !0); var e = this.tile.getBounds(), s = e.x + e.width / 2, n = e.y + e.height / 2, r = i.rectangle(s, n, e.width, e.height, t); return this.setBody(r, t.addToWorld), this }, setFromTileCollision: function (t) { void 0 === t && (t = {}), h(t, "isStatic") || (t.isStatic = !0), h(t, "addToWorld") || (t.addToWorld = !0); for (var e = this.tile.tilemapLayer.scaleX, n = this.tile.tilemapLayer.scaleY, r = this.tile.getLeft(), o = this.tile.getTop(), u = this.tile.getCollisionGroup(), c = a(u, "objects", []), d = [], f = 0; f < c.length; f++) { var p = c[f], g = r + p.x * e, v = o + p.y * n, m = p.width * e, y = p.height * n, x = null; if (p.rectangle) x = i.rectangle(g + m / 2, v + y / 2, m, y, t); else if (p.ellipse) x = i.circle(g + m / 2, v + y / 2, m / 2, t); else if (p.polygon || p.polyline) { var w = (p.polygon ? p.polygon : p.polyline).map((function (t) { return { x: t.x * e, y: t.y * n } })), T = l.create(w), b = l.centre(T); g += b.x, v += b.y, x = i.fromVertices(g, v, T, t) } x && d.push(x) } return 1 === d.length ? this.setBody(d[0], t.addToWorld) : d.length > 1 && (t.parts = d, this.setBody(s.create(t), t.addToWorld)), this }, setBody: function (t, e) { return void 0 === e && (e = !0), this.body && this.removeBody(), this.body = t, this.body.gameObject = this, e && this.world.add(this.body), this }, removeBody: function () { return this.body && (this.world.remove(this.body), this.body.gameObject = void 0, this.body = void 0), this }, destroy: function () { this.removeBody(), this.tile.physics.matterBody = void 0 } }); t.exports = u })), n.register("a7FiE", (function (t, e) { var i = n("6V4ls"), s = n("jwj1g"), r = n("in8Gg"), o = n("dmTql"), a = n("ldsg1"), h = n("989p0"), l = n("2nOjn"), u = n("awyQk"), c = n("azFoo"), d = n("7SBSk"), f = n("laRjh"), p = new s({ initialize: function (t, e, i) { void 0 === i && (i = {}); this.scene = t, this.world = e, this.camera = null, this.pointer = null, this.active = !0, this.position = new d, this.body = null, this.part = null, this.constraint = o.create(u(i, { label: "Pointer Constraint", pointA: { x: 0, y: 0 }, pointB: { x: 0, y: 0 }, length: .01, stiffness: .1, angularStiffness: 1, collisionFilter: { category: 1, mask: 4294967295, group: 0 } })), this.world.on(h.BEFORE_UPDATE, this.update, this), t.sys.input.on(l.POINTER_DOWN, this.onDown, this), t.sys.input.on(l.POINTER_UP, this.onUp, this) }, onDown: function (t) { this.pointer || (this.pointer = t, this.camera = t.camera) }, onUp: function (t) { t === this.pointer && (this.pointer = null) }, getBody: function (t) { var e = this.position, s = this.constraint; this.camera.getWorldPoint(t.x, t.y, e); for (var n = r.allBodies(this.world.localWorld), o = 0; o < n.length; o++) { var l = n[o]; if (!l.ignorePointer && i.contains(l.bounds, e) && a.canCollide(l.collisionFilter, s.collisionFilter) && this.hitTestBody(l, e)) return this.world.emit(h.DRAG_START, l, this.part, this), !0 } return !1 }, hitTestBody: function (t, e) { for (var i = this.constraint, s = t.parts.length, n = s > 1 ? 1 : 0; n < s; n++) { var r = t.parts[n]; if (f.contains(r.vertices, e)) return i.pointA = e, i.pointB = { x: e.x - t.position.x, y: e.y - t.position.y }, i.bodyB = t, i.angleB = t.angle, c.set(t, !1), this.part = r, this.body = t, !0 } return !1 }, update: function () { var t = this.pointer, e = this.body; if (this.active && t) if (t.isDown || !e) { if (t.isDown) { if (!e && !this.getBody(t)) return; e = this.body; var i = this.position, s = this.constraint; this.camera.getWorldPoint(t.x, t.y, i), s.pointA.x = i.x, s.pointA.y = i.y, c.set(e, !1), this.world.emit(h.DRAG, e, this) } } else this.stopDrag(); else e && this.stopDrag() }, stopDrag: function () { var t = this.body, e = this.constraint; e.bodyB = null, e.pointB = null, this.pointer = null, this.body = null, this.part = null, t && this.world.emit(h.DRAG_END, t, this) }, destroy: function () { this.world.removeConstraint(this.constraint), this.pointer = null, this.constraint = null, this.body = null, this.part = null, this.world.off(h.BEFORE_UPDATE, this.update), this.scene.sys.input.off(l.POINTER_DOWN, this.onDown, this), this.scene.sys.input.off(l.POINTER_UP, this.onUp, this) } }); t.exports = p })), n.register("ldsg1", (function (t, e) { var i = {}; t.exports = i; var s = n("4IHIa"), r = n("8lC3Z"), o = n("6V4ls"); i.collisions = function (t, e) { for (var n = [], a = e.pairs.table, h = e.metrics, l = 0; l < t.length; l++) { var u = t[l][0], c = t[l][1]; if ((!u.isStatic && !u.isSleeping || !c.isStatic && !c.isSleeping) && i.canCollide(u.collisionFilter, c.collisionFilter) && (h.midphaseTests += 1, o.overlaps(u.bounds, c.bounds))) for (var d = u.parts.length > 1 ? 1 : 0; d < u.parts.length; d++)for (var f = u.parts[d], p = c.parts.length > 1 ? 1 : 0; p < c.parts.length; p++) { var g = c.parts[p]; if (f === u && g === c || o.overlaps(f.bounds, g.bounds)) { var v, m = a[r.id(f, g)]; v = m && m.isActive ? m.collision : null; var y = s.collides(f, g, v); h.narrowphaseTests += 1, y.reused && (h.narrowReuseCount += 1), y.collided && (n.push(y), h.narrowDetections += 1) } } } return n }, i.canCollide = function (t, e) { return t.group === e.group && 0 !== t.group ? t.group > 0 : 0 != (t.mask & e.category) && 0 != (e.mask & t.category) } })), n.register("4IHIa", (function (t, e) { var i = {}; t.exports = i; var s = n("laRjh"), r = n("a7bN0"); i.collides = function (t, e, n) { var o, a, h, l, u = !1; if (n) { var c = t.parent, d = e.parent, f = c.speed * c.speed + c.angularSpeed * c.angularSpeed + d.speed * d.speed + d.angularSpeed * d.angularSpeed; u = n && n.collided && f < .2, l = n } else l = { collided: !1, bodyA: t, bodyB: e }; if (n && u) { var p = l.axisBody, g = p === t ? e : t, v = [p.axes[n.axisNumber]]; if (h = i._overlapAxes(p.vertices, g.vertices, v), l.reused = !0, h.overlap <= 0) return l.collided = !1, l } else { if ((o = i._overlapAxes(t.vertices, e.vertices, t.axes)).overlap <= 0) return l.collided = !1, l; if ((a = i._overlapAxes(e.vertices, t.vertices, e.axes)).overlap <= 0) return l.collided = !1, l; o.overlap < a.overlap ? (h = o, l.axisBody = t) : (h = a, l.axisBody = e), l.axisNumber = h.axisNumber } l.bodyA = t.id < e.id ? t : e, l.bodyB = t.id < e.id ? e : t, l.collided = !0, l.depth = h.overlap, l.parentA = l.bodyA.parent, l.parentB = l.bodyB.parent, t = l.bodyA, e = l.bodyB, r.dot(h.axis, r.sub(e.position, t.position)) < 0 ? l.normal = { x: h.axis.x, y: h.axis.y } : l.normal = { x: -h.axis.x, y: -h.axis.y }, l.tangent = r.perp(l.normal), l.penetration = l.penetration || {}, l.penetration.x = l.normal.x * l.depth, l.penetration.y = l.normal.y * l.depth; var m = i._findSupports(t, e, l.normal), y = []; if (s.contains(t.vertices, m[0]) && y.push(m[0]), s.contains(t.vertices, m[1]) && y.push(m[1]), y.length < 2) { var x = i._findSupports(e, t, r.neg(l.normal)); s.contains(e.vertices, x[0]) && y.push(x[0]), y.length < 2 && s.contains(e.vertices, x[1]) && y.push(x[1]) } return y.length < 1 && (y = [m[0]]), l.supports = y, l }, i._overlapAxes = function (t, e, s) { for (var n, o, a = r._temp[0], h = r._temp[1], l = { overlap: Number.MAX_VALUE }, u = 0; u < s.length; u++) { if (o = s[u], i._projectToAxis(a, t, o), i._projectToAxis(h, e, o), (n = Math.min(a.max - h.min, h.max - a.min)) <= 0) return l.overlap = n, l; n < l.overlap && (l.overlap = n, l.axis = o, l.axisNumber = u) } return l }, i._projectToAxis = function (t, e, i) { for (var s = r.dot(e[0], i), n = s, o = 1; o < e.length; o += 1) { var a = r.dot(e[o], i); a > n ? n = a : a < s && (s = a) } t.min = s, t.max = n }, i._findSupports = function (t, e, i) { for (var s, n, o, a, h = Number.MAX_VALUE, l = r._temp[0], u = e.vertices, c = t.position, d = 0; d < u.length; d++)n = u[d], l.x = n.x - c.x, l.y = n.y - c.y, (s = -r.dot(i, l)) < h && (h = s, o = n); return n = u[o.index - 1 >= 0 ? o.index - 1 : u.length - 1], l.x = n.x - c.x, l.y = n.y - c.y, h = -r.dot(i, l), a = n, n = u[(o.index + 1) % u.length], l.x = n.x - c.x, l.y = n.y - c.y, (s = -r.dot(i, l)) < h && (a = n), [o, a] } })), n.register("8lC3Z", (function (t, e) { var i = {}; t.exports = i, i.create = function (t, e) { var s = t.bodyA, n = t.bodyB, r = { id: i.id(s, n), bodyA: s, bodyB: n, activeContacts: [], separation: 0, isActive: !0, confirmedActive: !0, isSensor: s.isSensor || n.isSensor, timeCreated: e, timeUpdated: e, collision: null, inverseMass: 0, friction: 0, frictionStatic: 0, restitution: 0, slop: 0 }; return i.update(r, t, e), r }, i.update = function (t, e, s) { if (t.collision = e, e.collided) { var n = e.supports, r = t.activeContacts, o = e.parentA, a = e.parentB; t.inverseMass = o.inverseMass + a.inverseMass, t.friction = Math.min(o.friction, a.friction), t.frictionStatic = Math.max(o.frictionStatic, a.frictionStatic), t.restitution = Math.max(o.restitution, a.restitution), t.slop = Math.max(o.slop, a.slop); for (var h = 0; h < n.length; h++)r[h] = n[h].contact; var l = n.length; l < r.length && (r.length = l), t.separation = e.depth, i.setActive(t, !0, s) } else !0 === t.isActive && i.setActive(t, !1, s) }, i.setActive = function (t, e, i) { e ? (t.isActive = !0, t.timeUpdated = i) : (t.isActive = !1, t.activeContacts.length = 0) }, i.id = function (t, e) { return t.id < e.id ? "A" + t.id + "B" + e.id : "A" + e.id + "B" + t.id } })), n.register("ln6QG", (function (t, e) { var i = n("kesQx"); i.Body = n("lMiYr"), i.Composite = n("in8Gg"), i.World = n("koAaK"), i.Detector = n("ldsg1"), i.Grid = n("7ki4D"), i.Pairs = n("jzUT1"), i.Pair = n("8lC3Z"), i.Query = n("6qoEV"), i.Resolver = n("cZK1I"), i.SAT = n("4IHIa"), i.Constraint = n("dmTql"), i.Common = n("4tPKt"), i.Engine = n("d8Zzv"), i.Events = n("aKoE7"), i.Sleeping = n("azFoo"), i.Plugin = n("hw9TH"), i.Bodies = n("gY9LZ"), i.Composites = n("cbd5m"), i.Axes = n("hUjHB"), i.Bounds = n("6V4ls"), i.Svg = n("dmaXf"), i.Vector = n("a7bN0"), i.Vertices = n("laRjh"), i.World.add = i.Composite.add, i.World.remove = i.Composite.remove, i.World.addComposite = i.Composite.addComposite, i.World.addBody = i.Composite.addBody, i.World.addConstraint = i.Composite.addConstraint, i.World.clear = i.Composite.clear, t.exports = i })), n.register("kesQx", (function (t, e) { var i = {}; t.exports = i; var s = n("hw9TH"), r = n("4tPKt"); i.name = "matter-js", i.version = "0.14.2", i.uses = [], i.used = [], i.use = function () { s.use(i, Array.prototype.slice.call(arguments)) }, i.before = function (t, e) { return t = t.replace(/^Matter./, ""), r.chainPathBefore(i, t, e) }, i.after = function (t, e) { return t = t.replace(/^Matter./, ""), r.chainPathAfter(i, t, e) } })), n.register("hw9TH", (function (t, e) { var i = {}; t.exports = i; var s = n("4tPKt"); i._registry = {}, i.register = function (t) { if (i.isPlugin(t) || s.warn("Plugin.register:", i.toString(t), "does not implement all required fields."), t.name in i._registry) { var e = i._registry[t.name], n = i.versionParse(t.version).number, r = i.versionParse(e.version).number; n > r ? (s.warn("Plugin.register:", i.toString(e), "was upgraded to", i.toString(t)), i._registry[t.name] = t) : n < r ? s.warn("Plugin.register:", i.toString(e), "can not be downgraded to", i.toString(t)) : t !== e && s.warn("Plugin.register:", i.toString(t), "is already registered to different plugin object") } else i._registry[t.name] = t; return t }, i.resolve = function (t) { return i._registry[i.dependencyParse(t).name] }, i.toString = function (t) { return "string" == typeof t ? t : (t.name || "anonymous") + "@" + (t.version || t.range || "0.0.0") }, i.isPlugin = function (t) { return t && t.name && t.version && t.install }, i.isUsed = function (t, e) { return t.used.indexOf(e) > -1 }, i.isFor = function (t, e) { var s = t.for && i.dependencyParse(t.for); return !t.for || e.name === s.name && i.versionSatisfies(e.version, s.range) }, i.use = function (t, e) { if (t.uses = (t.uses || []).concat(e || []), 0 !== t.uses.length) { for (var n = i.dependencies(t), r = s.topologicalSort(n), o = [], a = 0; a < r.length; a += 1)if (r[a] !== t.name) { var h = i.resolve(r[a]); h ? i.isUsed(t, h.name) || (i.isFor(h, t) || (s.warn("Plugin.use:", i.toString(h), "is for", h.for, "but installed on", i.toString(t) + "."), h._warned = !0), h.install ? h.install(t) : (s.warn("Plugin.use:", i.toString(h), "does not specify an install function."), h._warned = !0), h._warned ? (o.push("🔶 " + i.toString(h)), delete h._warned) : o.push("✅ " + i.toString(h)), t.used.push(h.name)) : o.push("❌ " + r[a]) } o.length > 0 && !h.silent && s.info(o.join("  ")) } else s.warn("Plugin.use:", i.toString(t), "does not specify any dependencies to install.") }, i.dependencies = function (t, e) { var n = i.dependencyParse(t), r = n.name; if (!(r in (e = e || {}))) { t = i.resolve(t) || t, e[r] = s.map(t.uses || [], (function (e) { i.isPlugin(e) && i.register(e); var r = i.dependencyParse(e), o = i.resolve(e); return o && !i.versionSatisfies(o.version, r.range) ? (s.warn("Plugin.dependencies:", i.toString(o), "does not satisfy", i.toString(r), "used by", i.toString(n) + "."), o._warned = !0, t._warned = !0) : o || (s.warn("Plugin.dependencies:", i.toString(e), "used by", i.toString(n), "could not be resolved."), t._warned = !0), r.name })); for (var o = 0; o < e[r].length; o += 1)i.dependencies(e[r][o], e); return e } }, i.dependencyParse = function (t) { return s.isString(t) ? (/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/.test(t) || s.warn("Plugin.dependencyParse:", t, "is not a valid dependency string."), { name: t.split("@")[0], range: t.split("@")[1] || "*" }) : { name: t.name, range: t.range || t.version } }, i.versionParse = function (t) { /^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/.test(t) || s.warn("Plugin.versionParse:", t, "is not a valid version or range."); var e = t.split("-"); t = e[0]; var i = isNaN(Number(t[0])), n = i ? t.substr(1) : t, r = s.map(n.split("."), (function (t) { return Number(t) })); return { isRange: i, version: n, range: t, operator: i ? t[0] : "", parts: r, prerelease: e[1], number: 1e8 * r[0] + 1e4 * r[1] + r[2] } }, i.versionSatisfies = function (t, e) { e = e || "*"; var s = i.versionParse(e), n = s.parts, r = i.versionParse(t), o = r.parts; if (s.isRange) { if ("*" === s.operator || "*" === t) return !0; if ("~" === s.operator) return o[0] === n[0] && o[1] === n[1] && o[2] >= n[2]; if ("^" === s.operator) return n[0] > 0 ? o[0] === n[0] && r.number >= s.number : n[1] > 0 ? o[1] === n[1] && o[2] >= n[2] : o[2] === n[2] } return t === e || "*" === t } })), n.register("koAaK", (function (t, e) { var i = {}; t.exports = i; var s = n("in8Gg"); n("dmTql"); var r = n("4tPKt"); i.create = function (t) { var e = s.create(), i = { label: "World", gravity: { x: 0, y: 1, scale: .001 }, bounds: { min: { x: -1 / 0, y: -1 / 0 }, max: { x: 1 / 0, y: 1 / 0 } } }; return r.extend(e, i, t) } })), n.register("7ki4D", (function (t, e) { var i = {}; t.exports = i; var s = n("8lC3Z"), r = n("ldsg1"), o = n("4tPKt"); i.create = function (t) { var e = { controller: i, detector: r.collisions, buckets: {}, pairs: {}, pairsList: [], bucketWidth: 48, bucketHeight: 48 }; return o.extend(e, t) }, i.update = function (t, e, s, n) { var r, o, a, h, l, u = s.world, c = t.buckets, d = !1, f = s.metrics; for (f.broadphaseTests = 0, r = 0; r < e.length; r++) { var p = e[r]; if ((!p.isSleeping || n) && !(p.bounds.max.x < u.bounds.min.x || p.bounds.min.x > u.bounds.max.x || p.bounds.max.y < u.bounds.min.y || p.bounds.min.y > u.bounds.max.y)) { var g = i._getRegion(t, p); if (!p.region || g.id !== p.region.id || n) { f.broadphaseTests += 1, p.region && !n || (p.region = g); var v = i._regionUnion(g, p.region); for (o = v.startCol; o <= v.endCol; o++)for (a = v.startRow; a <= v.endRow; a++) { h = c[l = i._getBucketId(o, a)]; var m = o >= g.startCol && o <= g.endCol && a >= g.startRow && a <= g.endRow, y = o >= p.region.startCol && o <= p.region.endCol && a >= p.region.startRow && a <= p.region.endRow; !m && y && y && h && i._bucketRemoveBody(t, h, p), (p.region === g || m && !y || n) && (h || (h = i._createBucket(c, l)), i._bucketAddBody(t, h, p)) } p.region = g, d = !0 } } } d && (t.pairsList = i._createActivePairsList(t)) }, i.clear = function (t) { t.buckets = {}, t.pairs = {}, t.pairsList = [] }, i._regionUnion = function (t, e) { var s = Math.min(t.startCol, e.startCol), n = Math.max(t.endCol, e.endCol), r = Math.min(t.startRow, e.startRow), o = Math.max(t.endRow, e.endRow); return i._createRegion(s, n, r, o) }, i._getRegion = function (t, e) { var s = e.bounds, n = Math.floor(s.min.x / t.bucketWidth), r = Math.floor(s.max.x / t.bucketWidth), o = Math.floor(s.min.y / t.bucketHeight), a = Math.floor(s.max.y / t.bucketHeight); return i._createRegion(n, r, o, a) }, i._createRegion = function (t, e, i, s) { return { id: t + "," + e + "," + i + "," + s, startCol: t, endCol: e, startRow: i, endRow: s } }, i._getBucketId = function (t, e) { return "C" + t + "R" + e }, i._createBucket = function (t, e) { return t[e] = [] }, i._bucketAddBody = function (t, e, i) { for (var n = 0; n < e.length; n++) { var r = e[n]; if (!(i.id === r.id || i.isStatic && r.isStatic)) { var o = s.id(i, r), a = t.pairs[o]; a ? a[2] += 1 : t.pairs[o] = [i, r, 1] } } e.push(i) }, i._bucketRemoveBody = function (t, e, i) { e.splice(e.indexOf(i), 1); for (var n = 0; n < e.length; n++) { var r = e[n], o = s.id(i, r), a = t.pairs[o]; a && (a[2] -= 1) } }, i._createActivePairsList = function (t) { var e, i, s = []; e = o.keys(t.pairs); for (var n = 0; n < e.length; n++)(i = t.pairs[e[n]])[2] > 0 ? s.push(i) : delete t.pairs[e[n]]; return s } })), n.register("jzUT1", (function (t, e) { var i = {}; t.exports = i; var s = n("8lC3Z"), r = n("4tPKt"); i._pairMaxIdleLife = 1e3, i.create = function (t) { return r.extend({ table: {}, list: [], collisionStart: [], collisionActive: [], collisionEnd: [] }, t) }, i.update = function (t, e, i) { var n, r, o, a, h = t.list, l = t.table, u = t.collisionStart, c = t.collisionEnd, d = t.collisionActive; for (u.length = 0, c.length = 0, d.length = 0, a = 0; a < h.length; a++)h[a].confirmedActive = !1; for (a = 0; a < e.length; a++)(n = e[a]).collided && ((o = l[r = s.id(n.bodyA, n.bodyB)]) ? (o.isActive ? d.push(o) : u.push(o), s.update(o, n, i), o.confirmedActive = !0) : (o = s.create(n, i), l[r] = o, u.push(o), h.push(o))); for (a = 0; a < h.length; a++)(o = h[a]).isActive && !o.confirmedActive && (s.setActive(o, !1, i), c.push(o)) }, i.removeOld = function (t, e) { var s, n, r, o, a = t.list, h = t.table, l = []; for (o = 0; o < a.length; o++)(n = (s = a[o]).collision).bodyA.isSleeping || n.bodyB.isSleeping ? s.timeUpdated = e : e - s.timeUpdated > i._pairMaxIdleLife && l.push(o); for (o = 0; o < l.length; o++)delete h[(s = a[r = l[o] - o]).id], a.splice(r, 1) }, i.clear = function (t) { return t.table = {}, t.list.length = 0, t.collisionStart.length = 0, t.collisionActive.length = 0, t.collisionEnd.length = 0, t } })), n.register("6qoEV", (function (t, e) { var i = {}; t.exports = i; var s = n("a7bN0"), r = n("4IHIa"), o = n("6V4ls"), a = n("gY9LZ"), h = n("laRjh"); i.collides = function (t, e) { for (var i = [], s = 0; s < e.length; s++) { var n = e[s]; if (t !== n && o.overlaps(n.bounds, t.bounds)) for (var a = 1 === n.parts.length ? 0 : 1; a < n.parts.length; a++) { var h = n.parts[a]; if (o.overlaps(h.bounds, t.bounds)) { var l = r.collides(h, t); if (l.collided) { i.push(l); break } } } } return i }, i.ray = function (t, e, n, r) { r = r || 1e-100; for (var o = s.angle(e, n), h = s.magnitude(s.sub(e, n)), l = .5 * (n.x + e.x), u = .5 * (n.y + e.y), c = a.rectangle(l, u, h, r, { angle: o }), d = i.collides(c, t), f = 0; f < d.length; f += 1) { var p = d[f]; p.body = p.bodyB = p.bodyA } return d }, i.region = function (t, e, i) { for (var s = [], n = 0; n < t.length; n++) { var r = t[n], a = o.overlaps(r.bounds, e); (a && !i || !a && i) && s.push(r) } return s }, i.point = function (t, e) { for (var i = [], s = 0; s < t.length; s++) { var n = t[s]; if (o.contains(n.bounds, e)) for (var r = 1 === n.parts.length ? 0 : 1; r < n.parts.length; r++) { var a = n.parts[r]; if (o.contains(a.bounds, e) && h.contains(a.vertices, e)) { i.push(n); break } } } return i } })), n.register("cZK1I", (function (t, e) { var i = {}; t.exports = i; var s = n("laRjh"), r = n("a7bN0"), o = n("4tPKt"), a = n("6V4ls"); i._restingThresh = 4, i._restingThreshTangent = 6, i._positionDampen = .9, i._positionWarming = .8, i._frictionNormalMultiplier = 5, i.preSolvePosition = function (t) { var e, i, s; for (e = 0; e < t.length; e++)(i = t[e]).isActive && (s = i.activeContacts.length, i.collision.parentA.totalContacts += s, i.collision.parentB.totalContacts += s) }, i.solvePosition = function (t, e, s) { var n, r, o, a, h, l, u, c, d, f, p, g, v, m, y, x, w = s * i._positionDampen; for (n = 0; n < e.length; n++) { var T = e[n]; T.previousPositionImpulse.x = T.positionImpulse.x, T.previousPositionImpulse.y = T.positionImpulse.y } for (n = 0; n < t.length; n++)(a = t[n]).isActive && !a.isSensor && (l = (h = a.collision).parentA, u = h.parentB, c = h.normal, p = l.previousPositionImpulse, g = u.previousPositionImpulse, f = h.penetration, m = g.x - p.x + f.x, y = g.y - p.y + f.y, d = (r = c.x) * m + (o = c.y) * y, a.separation = d, x = (d - a.slop) * w, (l.isStatic || u.isStatic) && (x *= 2), l.isStatic || l.isSleeping || (v = x / l.totalContacts, l.positionImpulse.x += r * v, l.positionImpulse.y += o * v), u.isStatic || u.isSleeping || (v = x / u.totalContacts, u.positionImpulse.x -= r * v, u.positionImpulse.y -= o * v)) }, i.postSolvePosition = function (t) { for (var e = 0; e < t.length; e++) { var n = t[e]; if (n.totalContacts = 0, 0 !== n.positionImpulse.x || 0 !== n.positionImpulse.y) { for (var o = 0; o < n.parts.length; o++) { var h = n.parts[o]; s.translate(h.vertices, n.positionImpulse), a.update(h.bounds, h.vertices, n.velocity), h.position.x += n.positionImpulse.x, h.position.y += n.positionImpulse.y } n.positionPrev.x += n.positionImpulse.x, n.positionPrev.y += n.positionImpulse.y, r.dot(n.positionImpulse, n.velocity) < 0 ? (n.positionImpulse.x = 0, n.positionImpulse.y = 0) : (n.positionImpulse.x *= i._positionWarming, n.positionImpulse.y *= i._positionWarming) } } }, i.preSolveVelocity = function (t) { var e, i, s, n, o, a, h, l, u, c, d, f, p, g, v = r._temp[0], m = r._temp[1]; for (e = 0; e < t.length; e++)if ((s = t[e]).isActive && !s.isSensor) for (n = s.activeContacts, a = (o = s.collision).parentA, h = o.parentB, l = o.normal, u = o.tangent, i = 0; i < n.length; i++)d = (c = n[i]).vertex, f = c.normalImpulse, p = c.tangentImpulse, 0 === f && 0 === p || (v.x = l.x * f + u.x * p, v.y = l.y * f + u.y * p, a.isStatic || a.isSleeping || (g = r.sub(d, a.position, m), a.positionPrev.x += v.x * a.inverseMass, a.positionPrev.y += v.y * a.inverseMass, a.anglePrev += r.cross(g, v) * a.inverseInertia), h.isStatic || h.isSleeping || (g = r.sub(d, h.position, m), h.positionPrev.x -= v.x * h.inverseMass, h.positionPrev.y -= v.y * h.inverseMass, h.anglePrev -= r.cross(g, v) * h.inverseInertia)) }, i.solveVelocity = function (t, e) { for (var s = e * e, n = r._temp[0], a = r._temp[1], h = r._temp[2], l = r._temp[3], u = r._temp[4], c = r._temp[5], d = 0; d < t.length; d++) { var f = t[d]; if (f.isActive && !f.isSensor) { var p = f.collision, g = p.parentA, v = p.parentB, m = p.normal, y = p.tangent, x = f.activeContacts, w = 1 / x.length; g.velocity.x = g.position.x - g.positionPrev.x, g.velocity.y = g.position.y - g.positionPrev.y, v.velocity.x = v.position.x - v.positionPrev.x, v.velocity.y = v.position.y - v.positionPrev.y, g.angularVelocity = g.angle - g.anglePrev, v.angularVelocity = v.angle - v.anglePrev; for (var T = 0; T < x.length; T++) { var b = x[T], S = b.vertex, A = r.sub(S, g.position, a), E = r.sub(S, v.position, h), C = r.add(g.velocity, r.mult(r.perp(A), g.angularVelocity), l), _ = r.add(v.velocity, r.mult(r.perp(E), v.angularVelocity), u), M = r.sub(C, _, c), P = r.dot(m, M), O = r.dot(y, M), R = Math.abs(O), L = o.sign(O), k = (1 + f.restitution) * P, D = o.clamp(f.separation + P, 0, 1) * i._frictionNormalMultiplier, F = O, I = 1 / 0; R > f.friction * f.frictionStatic * D * s && (I = R, F = o.clamp(f.friction * L * s, -I, I)); var B = r.cross(A, m), N = r.cross(E, m), Y = w / (g.inverseMass + v.inverseMass + g.inverseInertia * B * B + v.inverseInertia * N * N); if (k *= Y, F *= Y, P < 0 && P * P > i._restingThresh * s) b.normalImpulse = 0; else { var z = b.normalImpulse; b.normalImpulse = Math.min(b.normalImpulse + k, 0), k = b.normalImpulse - z } if (O * O > i._restingThreshTangent * s) b.tangentImpulse = 0; else { var j = b.tangentImpulse; b.tangentImpulse = o.clamp(b.tangentImpulse + F, -I, I), F = b.tangentImpulse - j } n.x = m.x * k + y.x * F, n.y = m.y * k + y.y * F, g.isStatic || g.isSleeping || (g.positionPrev.x += n.x * g.inverseMass, g.positionPrev.y += n.y * g.inverseMass, g.anglePrev += r.cross(A, n) * g.inverseInertia), v.isStatic || v.isSleeping || (v.positionPrev.x -= n.x * v.inverseMass, v.positionPrev.y -= n.y * v.inverseMass, v.anglePrev -= r.cross(E, n) * v.inverseInertia) } } } } })), n.register("d8Zzv", (function (t, e) { var i = {}; t.exports = i; var s = n("koAaK"), r = n("azFoo"), o = n("cZK1I"), a = n("jzUT1"), h = n("aIltj"), l = n("7ki4D"), u = n("aKoE7"), c = n("in8Gg"), d = n("dmTql"), f = n("4tPKt"), p = n("lMiYr"); i.create = function (t, e) { e = (e = f.isElement(t) ? e : t) || {}, ((t = f.isElement(t) ? t : null) || e.render) && f.warn("Engine.create: engine.render is deprecated (see docs)"); var i = { positionIterations: 6, velocityIterations: 4, constraintIterations: 2, enableSleeping: !1, events: [], plugin: {}, timing: { timestamp: 0, timeScale: 1 }, broadphase: { controller: l } }, n = f.extend(i, e); return n.world = e.world || s.create(n.world), n.pairs = a.create(), n.broadphase = n.broadphase.controller.create(n.broadphase), n.metrics = n.metrics || { extended: !1 }, n.metrics = h.create(n.metrics), n }, i.update = function (t, e, s) { e = e || 1e3 / 60, s = s || 1; var n, l = t.world, f = t.timing, p = t.broadphase, g = []; f.timestamp += e * f.timeScale; var v = { timestamp: f.timestamp }; u.trigger(t, "beforeUpdate", v); var m = c.allBodies(l), y = c.allConstraints(l); for (h.reset(t.metrics), t.enableSleeping && r.update(m, f.timeScale), i._bodiesApplyGravity(m, l.gravity), i._bodiesUpdate(m, e, f.timeScale, s, l.bounds), d.preSolveAll(m), n = 0; n < t.constraintIterations; n++)d.solveAll(y, f.timeScale); d.postSolveAll(m), p.controller ? (l.isModified && p.controller.clear(p), p.controller.update(p, m, t, l.isModified), g = p.pairsList) : g = m, l.isModified && c.setModified(l, !1, !1, !0); var x = p.detector(g, t), w = t.pairs, T = f.timestamp; for (a.update(w, x, T), a.removeOld(w, T), t.enableSleeping && r.afterCollisions(w.list, f.timeScale), w.collisionStart.length > 0 && u.trigger(t, "collisionStart", { pairs: w.collisionStart }), o.preSolvePosition(w.list), n = 0; n < t.positionIterations; n++)o.solvePosition(w.list, m, f.timeScale); for (o.postSolvePosition(m), d.preSolveAll(m), n = 0; n < t.constraintIterations; n++)d.solveAll(y, f.timeScale); for (d.postSolveAll(m), o.preSolveVelocity(w.list), n = 0; n < t.velocityIterations; n++)o.solveVelocity(w.list, f.timeScale); return w.collisionActive.length > 0 && u.trigger(t, "collisionActive", { pairs: w.collisionActive }), w.collisionEnd.length > 0 && u.trigger(t, "collisionEnd", { pairs: w.collisionEnd }), h.update(t.metrics, t), i._bodiesClearForces(m), u.trigger(t, "afterUpdate", v), t }, i.merge = function (t, e) { if (f.extend(t, e), e.world) { t.world = e.world, i.clear(t); for (var s = c.allBodies(t.world), n = 0; n < s.length; n++) { var o = s[n]; r.set(o, !1), o.id = f.nextId() } } }, i.clear = function (t) { var e = t.world; a.clear(t.pairs); var i = t.broadphase; if (i.controller) { var s = c.allBodies(e); i.controller.clear(i), i.controller.update(i, s, t, !0) } }, i._bodiesClearForces = function (t) { for (var e = 0; e < t.length; e++) { var i = t[e]; i.force.x = 0, i.force.y = 0, i.torque = 0 } }, i._bodiesApplyGravity = function (t, e) { var i = void 0 !== e.scale ? e.scale : .001; if ((0 !== e.x || 0 !== e.y) && 0 !== i) for (var s = 0; s < t.length; s++) { var n = t[s]; n.ignoreGravity || n.isStatic || n.isSleeping || (n.force.x += n.mass * e.x * i * n.gravityScale.x, n.force.y += n.mass * e.y * i * n.gravityScale.y) } }, i._bodiesUpdate = function (t, e, i, s, n) { for (var r = 0; r < t.length; r++) { var o = t[r]; o.isStatic || o.isSleeping || p.update(o, e, i, s) } } })), n.register("aIltj", (function (t, e) { var i = {}; t.exports = i; var s = n("in8Gg"), r = n("4tPKt"); i.create = function (t) { return r.extend({ extended: !1, narrowDetections: 0, narrowphaseTests: 0, narrowReuse: 0, narrowReuseCount: 0, midphaseTests: 0, broadphaseTests: 0, narrowEff: 1e-4, midEff: 1e-4, broadEff: 1e-4, collisions: 0, buckets: 0, bodies: 0, pairs: 0 }, !1, t) }, i.reset = function (t) { t.extended && (t.narrowDetections = 0, t.narrowphaseTests = 0, t.narrowReuse = 0, t.narrowReuseCount = 0, t.midphaseTests = 0, t.broadphaseTests = 0, t.narrowEff = 0, t.midEff = 0, t.broadEff = 0, t.collisions = 0, t.buckets = 0, t.pairs = 0, t.bodies = 0) }, i.update = function (t, e) { if (t.extended) { var i = e.world, n = s.allBodies(i); t.collisions = t.narrowDetections, t.pairs = e.pairs.list.length, t.bodies = n.length, t.midEff = (t.narrowDetections / (t.midphaseTests || 1)).toFixed(2), t.narrowEff = (t.narrowDetections / (t.narrowphaseTests || 1)).toFixed(2), t.broadEff = (1 - t.broadphaseTests / (n.length || 1)).toFixed(2), t.narrowReuse = (t.narrowReuseCount / (t.narrowphaseTests || 1)).toFixed(2) } } })), n.register("iIWxd", (function (t, e) { var i = n("hPWXH"), s = n("hUjHB"), r = n("gY9LZ"), o = n("lMiYr"), a = n("kr4xd"), h = n("6V4ls"), l = n("jwj1g"), u = n("in8Gg"), c = n("cbd5m"), d = n("dmTql"), f = n("ldsg1"), p = n("bwLQh"), g = n("bImJl"), v = n("7BSWl"), m = n("5pMDk"), y = n("7ki4D"), x = n("lEvhv"), w = n("X2wk5"), T = n("kesQx"), b = n("8Z2vx"), S = n("awyQk"), A = n("8lC3Z"), E = n("jzUT1"), C = n("hw9TH"), _ = n("7AzQW"), M = n("6qoEV"), P = n("cZK1I"), O = n("4IHIa"), R = n("4rtgc"), L = n("dmaXf"), k = n("a7bN0"), D = n("laRjh"), F = n("ilxnW"), I = new l({ initialize: function (t) { this.scene = t, this.systems = t.sys, this.config = this.getConfig(), this.world, this.add, this.bodyBounds, this.body = o, this.composite = u, this.detector = f, this.grid = y, this.pair = A, this.pairs = E, this.query = M, this.resolver = P, this.sat = O, this.constraint = d, this.bodies = r, this.composites = c, this.axes = s, this.bounds = h, this.svg = L, this.vector = k, this.vertices = D, this.verts = D, this._tempVec2 = k.create(), m(this.config, "plugins.collisionevents", !0) && this.enableCollisionEventsPlugin(), m(this.config, "plugins.attractors", !1) && this.enableAttractorPlugin(), m(this.config, "plugins.wrap", !1) && this.enableWrapPlugin(), P._restingThresh = m(this.config, "restingThresh", 4), P._restingThreshTangent = m(this.config, "restingThreshTangent", 6), P._positionDampen = m(this.config, "positionDampen", .9), P._positionWarming = m(this.config, "positionWarming", .8), P._frictionNormalMultiplier = m(this.config, "frictionNormalMultiplier", 5), t.sys.events.once(R.BOOT, this.boot, this), t.sys.events.on(R.START, this.start, this) }, boot: function () { this.world = new F(this.scene, this.config), this.add = new g(this.world), this.bodyBounds = new a, this.systems.events.once(R.DESTROY, this.destroy, this) }, start: function () { this.world || (this.world = new F(this.scene, this.config), this.add = new g(this.world)); var t = this.systems.events; t.on(R.UPDATE, this.world.update, this.world), t.on(R.POST_UPDATE, this.world.postUpdate, this.world), t.once(R.SHUTDOWN, this.shutdown, this) }, getConfig: function () { var t = this.systems.game.config.physics, e = this.systems.settings.physics; return S(v(e, "matter", {}), v(t, "matter", {})) }, enableAttractorPlugin: function () { return C.register(x), C.use(T, x), this }, enableWrapPlugin: function () { return C.register(b), C.use(T, b), this }, enableCollisionEventsPlugin: function () { return C.register(w), C.use(T, w), this }, pause: function () { return this.world.pause() }, resume: function () { return this.world.resume() }, set60Hz: function () { return this.world.getDelta = this.world.update60Hz, this.world.autoUpdate = !0, this }, set30Hz: function () { return this.world.getDelta = this.world.update30Hz, this.world.autoUpdate = !0, this }, step: function (t, e) { this.world.step(t, e) }, containsPoint: function (t, e, i) { t = this.getMatterBodies(t); var s = k.create(e, i); return M.point(t, s).length > 0 }, intersectPoint: function (t, e, i) { i = this.getMatterBodies(i); var s = k.create(t, e), n = []; return M.point(i, s).forEach((function (t) { -1 === n.indexOf(t) && n.push(t) })), n }, intersectRect: function (t, e, i, s, n, r) { void 0 === n && (n = !1), r = this.getMatterBodies(r); var o = { min: { x: t, y: e }, max: { x: t + i, y: e + s } }, a = []; return M.region(r, o, n).forEach((function (t) { -1 === a.indexOf(t) && a.push(t) })), a }, intersectRay: function (t, e, i, s, n, r) { void 0 === n && (n = 1), r = this.getMatterBodies(r); for (var o = [], a = M.ray(r, k.create(t, e), k.create(i, s), n), h = 0; h < a.length; h++)o.push(a[h].body); return o }, intersectBody: function (t, e) { e = this.getMatterBodies(e); for (var i = [], s = M.collides(t, e), n = 0; n < s.length; n++) { var r = s[n]; r.bodyA === t ? i.push(r.bodyB) : i.push(r.bodyA) } return i }, overlap: function (t, e, i, s, n) { void 0 === i && (i = null), void 0 === s && (s = null), void 0 === n && (n = i), Array.isArray(t) || (t = [t]), t = this.getMatterBodies(t), e = this.getMatterBodies(e); for (var r = !1, o = 0; o < t.length; o++)for (var a = t[o], h = M.collides(a, e), l = 0; l < h.length; l++) { var u = h[l], c = u.bodyA.id === a.id ? u.bodyB : u.bodyA; if (!s || s.call(n, a, c, u)) if (r = !0, i) i.call(n, a, c, u); else if (!s) return !0 } return r }, setCollisionCategory: function (t, e) { return (t = this.getMatterBodies(t)).forEach((function (t) { t.collisionFilter.category = e })), this }, setCollisionGroup: function (t, e) { return (t = this.getMatterBodies(t)).forEach((function (t) { t.collisionFilter.group = e })), this }, setCollidesWith: function (t, e) { t = this.getMatterBodies(t); var i = 0; if (Array.isArray(e)) for (var s = 0; s < e.length; s++)i |= e[s]; else i = e; return t.forEach((function (t) { t.collisionFilter.mask = i })), this }, getMatterBodies: function (t) { if (!t) return this.world.getAllBodies(); Array.isArray(t) || (t = [t]); for (var e = [], i = 0; i < t.length; i++) { var s = t[i].hasOwnProperty("body") ? t[i].body : t[i]; e.push(s) } return e }, setVelocity: function (t, e, i) { t = this.getMatterBodies(t); var s = this._tempVec2; return s.x = e, s.y = i, t.forEach((function (t) { o.setVelocity(t, s) })), this }, setVelocityX: function (t, e) { t = this.getMatterBodies(t); var i = this._tempVec2; return i.x = e, t.forEach((function (t) { i.y = t.velocity.y, o.setVelocity(t, i) })), this }, setVelocityY: function (t, e) { t = this.getMatterBodies(t); var i = this._tempVec2; return i.y = e, t.forEach((function (t) { i.x = t.velocity.x, o.setVelocity(t, i) })), this }, setAngularVelocity: function (t, e) { return (t = this.getMatterBodies(t)).forEach((function (t) { o.setAngularVelocity(t, e) })), this }, applyForce: function (t, e) { t = this.getMatterBodies(t); var i = this._tempVec2; return t.forEach((function (t) { i.x = t.position.x, i.y = t.position.y, o.applyForce(t, i, e) })), this }, applyForceFromPosition: function (t, e, i, s) { t = this.getMatterBodies(t); var n = this._tempVec2; return t.forEach((function (t) { void 0 === s && (s = t.angle), n.x = i * Math.cos(s), n.y = i * Math.sin(s), o.applyForce(t, e, n) })), this }, applyForceFromAngle: function (t, e, i) { t = this.getMatterBodies(t); var s = this._tempVec2; return t.forEach((function (t) { void 0 === i && (i = t.angle), s.x = e * Math.cos(i), s.y = e * Math.sin(i), o.applyForce(t, { x: t.position.x, y: t.position.y }, s) })), this }, getConstraintLength: function (t) { var e = t.pointA.x, i = t.pointA.y, s = t.pointB.x, n = t.pointB.y; return t.bodyA && (e += t.bodyA.position.x, i += t.bodyA.position.y), t.bodyB && (s += t.bodyB.position.x, n += t.bodyB.position.y), p(e, i, s, n) }, alignBody: function (t, e, s, n) { var r; switch (t = t.hasOwnProperty("body") ? t.body : t, n) { case i.TOP_LEFT: case i.LEFT_TOP: r = this.bodyBounds.getTopLeft(t, e, s); break; case i.TOP_CENTER: r = this.bodyBounds.getTopCenter(t, e, s); break; case i.TOP_RIGHT: case i.RIGHT_TOP: r = this.bodyBounds.getTopRight(t, e, s); break; case i.LEFT_CENTER: r = this.bodyBounds.getLeftCenter(t, e, s); break; case i.CENTER: r = this.bodyBounds.getCenter(t, e, s); break; case i.RIGHT_CENTER: r = this.bodyBounds.getRightCenter(t, e, s); break; case i.LEFT_BOTTOM: case i.BOTTOM_LEFT: r = this.bodyBounds.getBottomLeft(t, e, s); break; case i.BOTTOM_CENTER: r = this.bodyBounds.getBottomCenter(t, e, s); break; case i.BOTTOM_RIGHT: case i.RIGHT_BOTTOM: r = this.bodyBounds.getBottomRight(t, e, s) }return r && o.setPosition(t, r), this }, shutdown: function () { var t = this.systems.events; this.world && (t.off(R.UPDATE, this.world.update, this.world), t.off(R.POST_UPDATE, this.world.postUpdate, this.world)), t.off(R.SHUTDOWN, this.shutdown, this), this.add && this.add.destroy(), this.world && this.world.destroy(), this.add = null, this.world = null }, destroy: function () { this.shutdown(), this.scene.sys.events.off(R.START, this.start, this), this.scene = null, this.systems = null } }); _.register("MatterPhysics", I, "matterPhysics"), t.exports = I })), n.register("lEvhv", (function (t, e) { var i = n("ln6QG"), s = { name: "matter-attractors", version: "0.1.7", for: "matter-js@^0.14.2", silent: !0, install: function (t) { t.after("Body.create", (function () { s.Body.init(this) })), t.before("Engine.update", (function (t) { s.Engine.update(t) })) }, Body: { init: function (t) { t.plugin.attractors = t.plugin.attractors || [] } }, Engine: { update: function (t) { for (var e = t.world, s = i.Composite.allBodies(e), n = 0; n < s.length; n += 1) { var r = s[n], o = r.plugin.attractors; if (o && o.length > 0) for (var a = n + 1; a < s.length; a += 1)for (var h = s[a], l = 0; l < o.length; l += 1) { var u = o[l], c = u; i.Common.isFunction(u) && (c = u(r, h)), c && i.Body.applyForce(h, h.position, c) } } } }, Attractors: { gravityConstant: .001, gravity: function (t, e) { var n = i.Vector.sub(e.position, t.position), r = i.Vector.magnitudeSquared(n) || 1e-4, o = i.Vector.normalise(n), a = -s.Attractors.gravityConstant * (t.mass * e.mass / r), h = i.Vector.mult(o, a); i.Body.applyForce(t, t.position, i.Vector.neg(h)), i.Body.applyForce(e, e.position, h) } } }; t.exports = s })), n.register("X2wk5", (function (t, e) { t.exports = { name: "matter-collision-events", version: "0.1.6", for: "matter-js@^0.14.2", silent: !0, install: function (t) { t.after("Engine.create", (function () { t.Events.on(this, "collisionStart", (function (e) { e.pairs.map((function (e) { var i = e.bodyA, s = e.bodyB; i.gameObject && i.gameObject.emit("collide", i, s, e), s.gameObject && s.gameObject.emit("collide", s, i, e), t.Events.trigger(i, "onCollide", { pair: e }), t.Events.trigger(s, "onCollide", { pair: e }), i.onCollideCallback && i.onCollideCallback(e), s.onCollideCallback && s.onCollideCallback(e), i.onCollideWith[s.id] && i.onCollideWith[s.id](s, e), s.onCollideWith[i.id] && s.onCollideWith[i.id](i, e) })) })), t.Events.on(this, "collisionActive", (function (e) { e.pairs.map((function (e) { var i = e.bodyA, s = e.bodyB; i.gameObject && i.gameObject.emit("collideActive", i, s, e), s.gameObject && s.gameObject.emit("collideActive", s, i, e), t.Events.trigger(i, "onCollideActive", { pair: e }), t.Events.trigger(s, "onCollideActive", { pair: e }), i.onCollideActiveCallback && i.onCollideActiveCallback(e), s.onCollideActiveCallback && s.onCollideActiveCallback(e) })) })), t.Events.on(this, "collisionEnd", (function (e) { e.pairs.map((function (e) { var i = e.bodyA, s = e.bodyB; i.gameObject && i.gameObject.emit("collideEnd", i, s, e), s.gameObject && s.gameObject.emit("collideEnd", s, i, e), t.Events.trigger(i, "onCollideEnd", { pair: e }), t.Events.trigger(s, "onCollideEnd", { pair: e }), i.onCollideEndCallback && i.onCollideEndCallback(e), s.onCollideEndCallback && s.onCollideEndCallback(e) })) })) })) } } })), n.register("8Z2vx", (function (t, e) { var i = n("ln6QG"), s = { name: "matter-wrap", version: "0.1.4", for: "matter-js@^0.14.2", silent: !0, install: function (t) { t.after("Engine.update", (function () { s.Engine.update(this) })) }, Engine: { update: function (t) { for (var e = t.world, n = i.Composite.allBodies(e), r = i.Composite.allComposites(e), o = 0; o < n.length; o += 1) { var a = n[o]; a.plugin.wrap && s.Body.wrap(a, a.plugin.wrap) } for (o = 0; o < r.length; o += 1) { var h = r[o]; h.plugin.wrap && s.Composite.wrap(h, h.plugin.wrap) } } }, Bounds: { wrap: function (t, e) { var i = null, s = null; if (void 0 !== e.min.x && void 0 !== e.max.x && (t.min.x > e.max.x ? i = e.min.x - t.max.x : t.max.x < e.min.x && (i = e.max.x - t.min.x)), void 0 !== e.min.y && void 0 !== e.max.y && (t.min.y > e.max.y ? s = e.min.y - t.max.y : t.max.y < e.min.y && (s = e.max.y - t.min.y)), null !== i || null !== s) return { x: i || 0, y: s || 0 } } }, Body: { wrap: function (t, e) { var n = s.Bounds.wrap(t.bounds, e); return n && i.Body.translate(t, n), n } }, Composite: { bounds: function (t) { for (var e = i.Composite.allBodies(t), s = [], n = 0; n < e.length; n += 1) { var r = e[n]; s.push(r.bounds.min, r.bounds.max) } return i.Bounds.create(s) }, wrap: function (t, e) { var n = s.Bounds.wrap(s.Composite.bounds(t), e); return n && i.Composite.translate(t, n), n } } }; t.exports = s })), n.register("ilxnW", (function (t, e) { var i = n("gY9LZ"), s = n("lMiYr"), r = n("jwj1g"), o = n("4tPKt"), a = n("in8Gg"), h = n("d8Zzv"), l = n("3vRz3"), u = n("989p0"), c = n("7BSWl"), d = n("5pMDk"), f = (s = n("lMiYr"), n("aKoE7")), p = n("cRMRu"), g = n("koAaK"), v = n("a7bN0"), m = new r({ Extends: l, initialize: function (t, e) { l.call(this), this.scene = t, this.engine = h.create(e), this.localWorld = this.engine.world; var i = d(e, "gravity", null); i ? this.setGravity(i.x, i.y, i.scale) : !1 === i && this.setGravity(0, 0, 0), this.walls = { left: null, right: null, top: null, bottom: null }, this.enabled = d(e, "enabled", !0), this.correction = d(e, "correction", 1), this.getDelta = d(e, "getDelta", this.update60Hz); var s = c(e, "runner", {}), n = c(s, "fps", !1), r = c(s, "fps", 60), o = c(s, "delta", 1e3 / r), a = c(s, "deltaMin", 1e3 / r), u = c(s, "deltaMax", 1e3 / (.5 * r)); n || (r = 1e3 / o), this.runner = { fps: r, correction: c(s, "correction", 1), deltaSampleSize: c(s, "deltaSampleSize", 60), counterTimestamp: 0, frameCounter: 0, deltaHistory: [], timePrev: null, timeScalePrev: 1, frameRequestId: null, isFixed: c(s, "isFixed", !1), delta: o, deltaMin: a, deltaMax: u }, this.autoUpdate = d(e, "autoUpdate", !0); var f = d(e, "debug", !1); if (this.drawDebug = "object" == typeof f || f, this.debugGraphic, this.debugConfig = { showAxes: c(f, "showAxes", !1), showAngleIndicator: c(f, "showAngleIndicator", !1), angleColor: c(f, "angleColor", 15208787), showBroadphase: c(f, "showBroadphase", !1), broadphaseColor: c(f, "broadphaseColor", 16757760), showBounds: c(f, "showBounds", !1), boundsColor: c(f, "boundsColor", 16777215), showVelocity: c(f, "showVelocity", !1), velocityColor: c(f, "velocityColor", 44783), showCollisions: c(f, "showCollisions", !1), collisionColor: c(f, "collisionColor", 16094476), showSeparations: c(f, "showSeparations", !1), separationColor: c(f, "separationColor", 16753920), showBody: c(f, "showBody", !0), showStaticBody: c(f, "showStaticBody", !0), showInternalEdges: c(f, "showInternalEdges", !1), renderFill: c(f, "renderFill", !1), renderLine: c(f, "renderLine", !0), fillColor: c(f, "fillColor", 1075465), fillOpacity: c(f, "fillOpacity", 1), lineColor: c(f, "lineColor", 2678297), lineOpacity: c(f, "lineOpacity", 1), lineThickness: c(f, "lineThickness", 1), staticFillColor: c(f, "staticFillColor", 857979), staticLineColor: c(f, "staticLineColor", 1255396), showSleeping: c(f, "showSleeping", !1), staticBodySleepOpacity: c(f, "staticBodySleepOpacity", .7), sleepFillColor: c(f, "sleepFillColor", 4605510), sleepLineColor: c(f, "sleepLineColor", 10066585), showSensors: c(f, "showSensors", !0), sensorFillColor: c(f, "sensorFillColor", 857979), sensorLineColor: c(f, "sensorLineColor", 1255396), showPositions: c(f, "showPositions", !0), positionSize: c(f, "positionSize", 4), positionColor: c(f, "positionColor", 14697178), showJoint: c(f, "showJoint", !0), jointColor: c(f, "jointColor", 14737474), jointLineOpacity: c(f, "jointLineOpacity", 1), jointLineThickness: c(f, "jointLineThickness", 2), pinSize: c(f, "pinSize", 4), pinColor: c(f, "pinColor", 4382944), springColor: c(f, "springColor", 14697184), anchorColor: c(f, "anchorColor", 15724527), anchorSize: c(f, "anchorSize", 4), showConvexHulls: c(f, "showConvexHulls", !1), hullColor: c(f, "hullColor", 14091216) }, this.drawDebug && this.createDebugGraphic(), this.setEventsProxy(), c(e, "setBounds", !1)) { var p = e.setBounds; if ("boolean" == typeof p) this.setBounds(); else { var g = c(p, "x", 0), v = c(p, "y", 0), m = c(p, "width", t.sys.scale.width), y = c(p, "height", t.sys.scale.height), x = c(p, "thickness", 64), w = c(p, "left", !0), T = c(p, "right", !0), b = c(p, "top", !0), S = c(p, "bottom", !0); this.setBounds(g, v, m, y, x, w, T, b, S) } } }, setCompositeRenderStyle: function (t) { var e, i, s, n = t.bodies, r = t.constraints, o = t.composites; for (e = 0; e < n.length; e++)s = (i = n[e]).render, this.setBodyRenderStyle(i, s.lineColor, s.lineOpacity, s.lineThickness, s.fillColor, s.fillOpacity); for (e = 0; e < r.length; e++)s = (i = r[e]).render, this.setConstraintRenderStyle(i, s.lineColor, s.lineOpacity, s.lineThickness, s.pinSize, s.anchorColor, s.anchorSize); for (e = 0; e < o.length; e++)i = o[e], this.setCompositeRenderStyle(i); return this }, setBodyRenderStyle: function (t, e, i, s, n, r) { var o = t.render, a = this.debugConfig; return o ? (null == e && (e = t.isStatic ? a.staticLineColor : a.lineColor), null == i && (i = a.lineOpacity), null == s && (s = a.lineThickness), null == n && (n = t.isStatic ? a.staticFillColor : a.fillColor), null == r && (r = a.fillOpacity), !1 !== e && (o.lineColor = e), !1 !== i && (o.lineOpacity = i), !1 !== s && (o.lineThickness = s), !1 !== n && (o.fillColor = n), !1 !== r && (o.fillOpacity = r), this) : this }, setConstraintRenderStyle: function (t, e, i, s, n, r, o) { var a = t.render, h = this.debugConfig; if (!a) return this; if (null == e) { var l = a.type; "line" === l ? e = h.jointColor : "pin" === l ? e = h.pinColor : "spring" === l && (e = h.springColor) } return null == i && (i = h.jointLineOpacity), null == s && (s = h.jointLineThickness), null == n && (n = h.pinSize), null == r && (r = h.anchorColor), null == o && (o = h.anchorSize), !1 !== e && (a.lineColor = e), !1 !== i && (a.lineOpacity = i), !1 !== s && (a.lineThickness = s), !1 !== n && (a.pinSize = n), !1 !== r && (a.anchorColor = r), !1 !== o && (a.anchorSize = o), this }, setEventsProxy: function () { var t = this, e = this.engine, i = this.localWorld; this.drawDebug && (f.on(i, "compositeModified", (function (e) { t.setCompositeRenderStyle(e) })), f.on(i, "beforeAdd", (function (e) { for (var i = [].concat(e.object), s = 0; s < i.length; s++) { var n = i[s], r = n.render; "body" === n.type ? t.setBodyRenderStyle(n, r.lineColor, r.lineOpacity, r.lineThickness, r.fillColor, r.fillOpacity) : "composite" === n.type ? t.setCompositeRenderStyle(n) : "constraint" === n.type && t.setConstraintRenderStyle(n, r.lineColor, r.lineOpacity, r.lineThickness, r.pinSize, r.anchorColor, r.anchorSize) } }))), f.on(i, "beforeAdd", (function (e) { t.emit(u.BEFORE_ADD, e) })), f.on(i, "afterAdd", (function (e) { t.emit(u.AFTER_ADD, e) })), f.on(i, "beforeRemove", (function (e) { t.emit(u.BEFORE_REMOVE, e) })), f.on(i, "afterRemove", (function (e) { t.emit(u.AFTER_REMOVE, e) })), f.on(e, "beforeUpdate", (function (e) { t.emit(u.BEFORE_UPDATE, e) })), f.on(e, "afterUpdate", (function (e) { t.emit(u.AFTER_UPDATE, e) })), f.on(e, "collisionStart", (function (e) { var i, s, n = e.pairs; n.length > 0 && (i = n[0].bodyA, s = n[0].bodyB), t.emit(u.COLLISION_START, e, i, s) })), f.on(e, "collisionActive", (function (e) { var i, s, n = e.pairs; n.length > 0 && (i = n[0].bodyA, s = n[0].bodyB), t.emit(u.COLLISION_ACTIVE, e, i, s) })), f.on(e, "collisionEnd", (function (e) { var i, s, n = e.pairs; n.length > 0 && (i = n[0].bodyA, s = n[0].bodyB), t.emit(u.COLLISION_END, e, i, s) })) }, setBounds: function (t, e, i, s, n, r, o, a, h) { return void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = this.scene.sys.scale.width), void 0 === s && (s = this.scene.sys.scale.height), void 0 === n && (n = 64), void 0 === r && (r = !0), void 0 === o && (o = !0), void 0 === a && (a = !0), void 0 === h && (h = !0), this.updateWall(r, "left", t - n, e - n, n, s + 2 * n), this.updateWall(o, "right", t + i, e - n, n, s + 2 * n), this.updateWall(a, "top", t, e - n, i, n), this.updateWall(h, "bottom", t, e + s, i, n), this }, updateWall: function (t, e, i, s, n, r) { var o = this.walls[e]; t ? (o && g.remove(this.localWorld, o), i += n / 2, s += r / 2, this.walls[e] = this.create(i, s, n, r, { isStatic: !0, friction: 0, frictionStatic: 0 })) : (o && g.remove(this.localWorld, o), this.walls[e] = null) }, createDebugGraphic: function () { var t = this.scene.sys.add.graphics({ x: 0, y: 0 }); return t.setDepth(Number.MAX_VALUE), this.debugGraphic = t, this.drawDebug = !0, t }, disableGravity: function () { return this.localWorld.gravity.x = 0, this.localWorld.gravity.y = 0, this.localWorld.gravity.scale = 0, this }, setGravity: function (t, e, i) { return void 0 === t && (t = 0), void 0 === e && (e = 1), this.localWorld.gravity.x = t, this.localWorld.gravity.y = e, void 0 !== i && (this.localWorld.gravity.scale = i), this }, create: function (t, e, s, n, r) { var o = i.rectangle(t, e, s, n, r); return g.add(this.localWorld, o), o }, add: function (t) { return g.add(this.localWorld, t), this }, remove: function (t, e) { Array.isArray(t) || (t = [t]); for (var i = 0; i < t.length; i++) { var s = t[i], n = s.body ? s.body : s; a.remove(this.localWorld, n, e) } return this }, removeConstraint: function (t, e) { return a.remove(this.localWorld, t, e), this }, convertTilemapLayer: function (t, e) { var i = t.layer, s = t.getTilesWithin(0, 0, i.width, i.height, { isColliding: !0 }); return this.convertTiles(s, e), this }, convertTiles: function (t, e) { if (0 === t.length) return this; for (var i = 0; i < t.length; i++)new p(this, t[i], e); return this }, nextGroup: function (t) { return s.nextGroup(t) }, nextCategory: function () { return s.nextCategory() }, pause: function () { return this.enabled = !1, this.emit(u.PAUSE), this }, resume: function () { return this.enabled = !0, this.emit(u.RESUME), this }, update: function (t, e) { if (this.enabled && this.autoUpdate) { var i = this.engine, s = this.runner, n = i.timing, r = this.correction; s.isFixed ? e = this.getDelta(t, e) : (e = t - s.timePrev || s.delta, s.timePrev = t, s.deltaHistory.push(e), s.deltaHistory = s.deltaHistory.slice(-s.deltaSampleSize), r = (e = (e = (e = Math.min.apply(null, s.deltaHistory)) < s.deltaMin ? s.deltaMin : e) > s.deltaMax ? s.deltaMax : e) / s.delta, s.delta = e), 0 !== s.timeScalePrev && (r *= n.timeScale / s.timeScalePrev), 0 === n.timeScale && (r = 0), s.timeScalePrev = n.timeScale, s.correction = r, s.frameCounter += 1, t - s.counterTimestamp >= 1e3 && (s.fps = s.frameCounter * ((t - s.counterTimestamp) / 1e3), s.counterTimestamp = t, s.frameCounter = 0), h.update(i, e, r) } }, step: function (t, e) { h.update(this.engine, t, e) }, update60Hz: function () { return 1e3 / 60 }, update30Hz: function () { return 1e3 / 30 }, has: function (t) { var e = t.hasOwnProperty("body") ? t.body : t; return null !== a.get(this.localWorld, e.id, e.type) }, getAllBodies: function () { return a.allBodies(this.localWorld) }, getAllConstraints: function () { return a.allConstraints(this.localWorld) }, getAllComposites: function () { return a.allComposites(this.localWorld) }, postUpdate: function () { if (this.drawDebug) { var t = this.debugConfig, e = this.engine, i = this.debugGraphic, s = a.allBodies(this.localWorld); this.debugGraphic.clear(), t.showBroadphase && e.broadphase.controller && this.renderGrid(e.broadphase, i, t.broadphaseColor, .5), t.showBounds && this.renderBodyBounds(s, i, t.boundsColor, .5), (t.showBody || t.showStaticBody) && this.renderBodies(s), t.showJoint && this.renderJoints(), (t.showAxes || t.showAngleIndicator) && this.renderBodyAxes(s, i, t.showAxes, t.angleColor, .5), t.showVelocity && this.renderBodyVelocity(s, i, t.velocityColor, 1, 2), t.showSeparations && this.renderSeparations(e.pairs.list, i, t.separationColor), t.showCollisions && this.renderCollisions(e.pairs.list, i, t.collisionColor) } }, renderGrid: function (t, e, i, s) { e.lineStyle(1, i, s); for (var n = o.keys(t.buckets), r = 0; r < n.length; r++) { var a = n[r]; if (!(t.buckets[a].length < 2)) { var h = a.split(/C|R/); e.strokeRect(parseInt(h[1], 10) * t.bucketWidth, parseInt(h[2], 10) * t.bucketHeight, t.bucketWidth, t.bucketHeight) } } return this }, renderSeparations: function (t, e, i) { e.lineStyle(1, i, 1); for (var s = 0; s < t.length; s++) { var n = t[s]; if (n.isActive) { var r = n.collision, o = r.bodyA, a = r.bodyB, h = o.position, l = a.position, u = r.penetration, c = o.isStatic || a.isStatic ? 1 : 4; a.isStatic && (c = 0), e.lineBetween(l.x, l.y, l.x - u.x * c, l.y - u.y * c), c = o.isStatic || a.isStatic ? 1 : 4, o.isStatic && (c = 0), e.lineBetween(h.x, h.y, h.x - u.x * c, h.y - u.y * c) } } return this }, renderCollisions: function (t, e, i) { var s, n; for (e.lineStyle(1, i, .5), e.fillStyle(i, 1), s = 0; s < t.length; s++)if ((n = t[s]).isActive) for (var r = 0; r < n.activeContacts.length; r++) { var o = n.activeContacts[r].vertex; e.fillRect(o.x - 2, o.y - 2, 5, 5) } for (s = 0; s < t.length; s++)if ((n = t[s]).isActive) { var a = n.collision, h = n.activeContacts; if (h.length > 0) { var l = h[0].vertex.x, u = h[0].vertex.y; 2 === h.length && (l = (h[0].vertex.x + h[1].vertex.x) / 2, u = (h[0].vertex.y + h[1].vertex.y) / 2), a.bodyB === a.supports[0].body || a.bodyA.isStatic ? e.lineBetween(l - 8 * a.normal.x, u - 8 * a.normal.y, l, u) : e.lineBetween(l + 8 * a.normal.x, u + 8 * a.normal.y, l, u) } } return this }, renderBodyBounds: function (t, e, i, s) { e.lineStyle(1, i, s); for (var n = 0; n < t.length; n++) { var r = t[n]; if (r.render.visible) { var o = r.bounds; if (o) e.strokeRect(o.min.x, o.min.y, o.max.x - o.min.x, o.max.y - o.min.y); else for (var a = r.parts, h = a.length > 1 ? 1 : 0; h < a.length; h++) { var l = a[h]; e.strokeRect(l.bounds.min.x, l.bounds.min.y, l.bounds.max.x - l.bounds.min.x, l.bounds.max.y - l.bounds.min.y) } } } return this }, renderBodyAxes: function (t, e, i, s, n) { e.lineStyle(1, s, n); for (var r = 0; r < t.length; r++) { var o, a, h, l = t[r], u = l.parts; if (l.render.visible) if (i) for (a = u.length > 1 ? 1 : 0; a < u.length; a++)for (o = u[a], h = 0; h < o.axes.length; h++) { var c = o.axes[h]; e.lineBetween(o.position.x, o.position.y, o.position.x + 20 * c.x, o.position.y + 20 * c.y) } else for (a = u.length > 1 ? 1 : 0; a < u.length; a++)for (o = u[a], h = 0; h < o.axes.length; h++)e.lineBetween(o.position.x, o.position.y, (o.vertices[0].x + o.vertices[o.vertices.length - 1].x) / 2, (o.vertices[0].y + o.vertices[o.vertices.length - 1].y) / 2) } return this }, renderBodyVelocity: function (t, e, i, s, n) { e.lineStyle(n, i, s); for (var r = 0; r < t.length; r++) { var o = t[r]; o.render.visible && e.lineBetween(o.position.x, o.position.y, o.position.x + 2 * (o.position.x - o.positionPrev.x), o.position.y + 2 * (o.position.y - o.positionPrev.y)) } return this }, renderBodies: function (t) { for (var e = this.debugGraphic, i = this.debugConfig, s = i.showBody, n = i.showStaticBody, r = i.showSleeping, o = i.showInternalEdges, a = i.showConvexHulls, h = i.renderFill, l = i.renderLine, u = i.staticBodySleepOpacity, c = i.sleepFillColor, d = i.sleepLineColor, f = i.hullColor, p = 0; p < t.length; p++) { var g = t[p]; if (g.render.visible && ((n || !g.isStatic) && (s || g.isStatic))) { var v = g.render.lineColor, m = g.render.lineOpacity, y = g.render.lineThickness, x = g.render.fillColor, w = g.render.fillOpacity; r && g.isSleeping && (g.isStatic ? (m *= u, w *= u) : (v = d, x = c)), h || (x = null), l || (v = null), this.renderBody(g, e, o, v, m, y, x, w); var T = g.parts.length; a && T > 1 && this.renderConvexHull(g, e, f, y) } } }, renderBody: function (t, e, i, s, n, r, o, a) { void 0 === s && (s = null), void 0 === n && (n = null), void 0 === r && (r = 1), void 0 === o && (o = null), void 0 === a && (a = null); for (var h = this.debugConfig, l = h.sensorFillColor, u = h.sensorLineColor, c = t.parts, d = c.length, f = d > 1 ? 1 : 0; f < d; f++) { var p = c[f], g = p.render, v = g.opacity; if (g.visible && 0 !== v && (!p.isSensor || h.showSensors)) { var m = p.circleRadius; if (e.beginPath(), p.isSensor ? (null !== o && e.fillStyle(l, a * v), null !== s && e.lineStyle(r, u, n * v)) : (null !== o && e.fillStyle(o, a * v), null !== s && e.lineStyle(r, s, n * v)), m) e.arc(p.position.x, p.position.y, m, 0, 2 * Math.PI); else { var y = p.vertices, x = y.length; e.moveTo(y[0].x, y[0].y); for (var w = 1; w < x; w++) { var T = y[w]; if (!y[w - 1].isInternal || i ? e.lineTo(T.x, T.y) : e.moveTo(T.x, T.y), w < x && T.isInternal && !i) { var b = (w + 1) % x; e.moveTo(y[b].x, y[b].y) } } e.closePath() } null !== o && e.fillPath(), null !== s && e.strokePath() } } if (h.showPositions && !t.isStatic) { var S = t.position.x, A = t.position.y, E = Math.ceil(h.positionSize / 2); e.fillStyle(h.positionColor, 1), e.fillRect(S - E, A - E, h.positionSize, h.positionSize) } return this }, renderConvexHull: function (t, e, i, s) { if (void 0 === s && (s = 1), t.parts.length > 1) { var n = t.vertices; e.lineStyle(s, i), e.beginPath(), e.moveTo(n[0].x, n[0].y); for (var r = 1; r < n.length; r++)e.lineTo(n[r].x, n[r].y); e.lineTo(n[0].x, n[0].y), e.strokePath() } return this }, renderJoints: function () { for (var t = this.debugGraphic, e = a.allConstraints(this.localWorld), i = 0; i < e.length; i++) { var s = e[i].render, n = s.lineColor, r = s.lineOpacity, o = s.lineThickness, h = s.pinSize, l = s.anchorColor, u = s.anchorSize; this.renderConstraint(e[i], t, n, r, o, h, l, u) } }, renderConstraint: function (t, e, i, s, n, r, a, h) { var l = t.render; if (!l.visible || !t.pointA || !t.pointB) return this; e.lineStyle(n, i, s); var u, c, d = t.bodyA, f = t.bodyB; if (u = d ? v.add(d.position, t.pointA) : t.pointA, "pin" === l.type) e.strokeCircle(u.x, u.y, r); else { if (c = f ? v.add(f.position, t.pointB) : t.pointB, e.beginPath(), e.moveTo(u.x, u.y), "spring" === l.type) for (var p, g = v.sub(c, u), m = v.perp(v.normalise(g)), y = Math.ceil(o.clamp(t.length / 5, 12, 20)), x = 1; x < y; x += 1)p = x % 2 == 0 ? 1 : -1, e.lineTo(u.x + g.x * (x / y) + m.x * p * 4, u.y + g.y * (x / y) + m.y * p * 4); e.lineTo(c.x, c.y) } return e.strokePath(), l.anchors && h > 0 && (e.fillStyle(a), e.fillCircle(u.x, u.y, h), e.fillCircle(c.x, c.y, h)), this }, resetCollisionIDs: function () { return s._nextCollidingGroupId = 1, s._nextNonCollidingGroupId = -1, s._nextCategory = 1, this }, shutdown: function () { f.off(this.engine), this.removeAllListeners(), g.clear(this.localWorld, !1), h.clear(this.engine), this.drawDebug && this.debugGraphic.destroy() }, destroy: function () { this.shutdown() } }); t.exports = m })), n.register("UoAVD", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { BasePlugin: n("bAukD"), DefaultPlugins: n("488fh"), PluginCache: n("7AzQW"), PluginManager: n("brulE"), ScenePlugin: n("dJiiW") }
})), n.register("bAukD", (function (t, e) { var i = new (n("jwj1g"))({ initialize: function (t) { this.pluginManager = t, this.game = t.game }, init: function () { }, start: function () { }, stop: function () { }, destroy: function () { this.pluginManager = null, this.game = null, this.scene = null, this.systems = null } }); t.exports = i })), n.register("dJiiW", (function (t, e) { var i = n("bAukD"), s = n("jwj1g"), r = n("4rtgc"), o = new s({ Extends: i, initialize: function (t, e) { i.call(this, e), this.scene = t, this.systems = t.sys, t.sys.events.once(r.BOOT, this.boot, this) }, boot: function () { }, destroy: function () { this.pluginManager = null, this.game = null, this.scene = null, this.systems = null } }); t.exports = o })), n.register("28d72", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { Canvas: n("2iMCO"), Snapshot: n("cWQV6"), WebGL: n("liq0E") }
})), n.register("2iMCO", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { CanvasRenderer: n("b2B4m"), GetBlendModes: n("3M7Hx"), SetTransform: n("csLaZ") }
})), n.register("cWQV6", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { Canvas: n("feofd"), WebGL: n("65D27") }
})), n.register("liq0E", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { Utils: n("gaO4e"), WebGLPipeline: n("AbdBB"), WebGLRenderer: n("aPphQ"), Pipelines: n("boxXf"), BYTE: 0, SHORT: 1, UNSIGNED_BYTE: 2, UNSIGNED_SHORT: 3, FLOAT: 4 }
})), n.register("boxXf", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { BitmapMaskPipeline: n("84zIv"), ForwardDiffuseLightPipeline: n("lOOAG"), TextureTintPipeline: n("jnBZP"), ModelViewProjection: n("g1JCF") }
})), n.register("59R71", (function (t, e) { var i = n("hVk4C"), s = n("dlsVr"), r = { Center: n("9tm7z"), Events: n("jPI3B"), Orientation: n("8cRWJ"), ScaleManager: n("861Bh"), ScaleModes: n("1mQJz"), Zoom: n("9l9Tb") }; r = i(!1, r, s.CENTER), r = i(!1, r, s.ORIENTATION), r = i(!1, r, s.SCALE_MODE), r = i(!1, r, s.ZOOM), t.exports = r })), n.register("kULhB", (function (t, e) { var i = n("anFCw"), s = n("hVk4C"), r = { Events: n("4rtgc"), SceneManager: n("TOZF7"), ScenePlugin: n("4Saom"), Settings: n("i9d1I"), Systems: n("jgSN1") }; r = s(!1, r, i), t.exports = r })), n.register("4Saom", (function (t, e) { var i = n("iEUUO"), s = n("jwj1g"), r = n("4rtgc"), o = n("7BSWl"), a = n("7AzQW"), h = new s({ initialize: function (t) { this.scene = t, this.systems = t.sys, this.settings = t.sys.settings, this.key = t.sys.settings.key, this.manager = t.sys.game.scene, this.transitionProgress = 0, this._elapsed = 0, this._target = null, this._duration = 0, this._onUpdate, this._onUpdateScope, this._willSleep = !1, this._willRemove = !1, t.sys.events.once(r.BOOT, this.boot, this), t.sys.events.on(r.START, this.pluginStart, this) }, boot: function () { this.systems.events.once(r.DESTROY, this.destroy, this) }, pluginStart: function () { this._target = null, this.systems.events.once(r.SHUTDOWN, this.shutdown, this) }, start: function (t, e) { return void 0 === t && (t = this.key), this.manager.queueOp("stop", this.key), this.manager.queueOp("start", t, e), this }, restart: function (t) { var e = this.key; return this.manager.queueOp("stop", e), this.manager.queueOp("start", e, t), this }, transition: function (t) { void 0 === t && (t = {}); var e = o(t, "target", !1), i = this.manager.getScene(e); if (!e || !this.checkValidTransition(i)) return !1; var s = o(t, "duration", 1e3); this._elapsed = 0, this._target = i, this._duration = s, this._willSleep = o(t, "sleep", !1), this._willRemove = o(t, "remove", !1); var n = o(t, "onUpdate", null); n && (this._onUpdate = n, this._onUpdateScope = o(t, "onUpdateScope", this.scene)); var a = o(t, "allowInput", !1); this.settings.transitionAllowInput = a; var h = i.sys.settings; return h.isTransition = !0, h.transitionFrom = this.scene, h.transitionDuration = s, h.transitionAllowInput = a, o(t, "moveAbove", !1) ? this.manager.moveAbove(this.key, e) : o(t, "moveBelow", !1) && this.manager.moveBelow(this.key, e), i.sys.isSleeping() ? i.sys.wake() : this.manager.start(e, o(t, "data")), this.systems.events.emit(r.TRANSITION_OUT, i, s), this.systems.events.on(r.UPDATE, this.step, this), !0 }, checkValidTransition: function (t) { return !(!t || t.sys.isActive() || t.sys.isTransitioning() || t === this.scene || this.systems.isTransitioning()) }, step: function (t, e) { this._elapsed += e, this.transitionProgress = i(this._elapsed / this._duration, 0, 1), this._onUpdate && this._onUpdate.call(this._onUpdateScope, this.transitionProgress), this._elapsed >= this._duration && this.transitionComplete() }, transitionComplete: function () { var t = this._target.sys, e = this._target.sys.settings; this.systems.events.off(r.UPDATE, this.step, this), t.events.emit(r.TRANSITION_COMPLETE, this.scene), e.isTransition = !1, e.transitionFrom = null, this._duration = 0, this._target = null, this._onUpdate = null, this._onUpdateScope = null, this._willRemove ? this.manager.remove(this.key) : this._willSleep ? this.systems.sleep() : this.manager.stop(this.key) }, add: function (t, e, i, s) { return this.manager.add(t, e, i, s) }, launch: function (t, e) { return t && t !== this.key && this.manager.queueOp("start", t, e), this }, run: function (t, e) { return t && t !== this.key && this.manager.queueOp("run", t, e), this }, pause: function (t, e) { return void 0 === t && (t = this.key), this.manager.queueOp("pause", t, e), this }, resume: function (t, e) { return void 0 === t && (t = this.key), this.manager.queueOp("resume", t, e), this }, sleep: function (t, e) { return void 0 === t && (t = this.key), this.manager.queueOp("sleep", t, e), this }, wake: function (t, e) { return void 0 === t && (t = this.key), this.manager.queueOp("wake", t, e), this }, switch: function (t) { return t !== this.key && this.manager.queueOp("switch", this.key, t), this }, stop: function (t, e) { return void 0 === t && (t = this.key), this.manager.queueOp("stop", t, e), this }, setActive: function (t, e, i) { void 0 === e && (e = this.key); var s = this.manager.getScene(e); return s && s.sys.setActive(t, i), this }, setVisible: function (t, e) { void 0 === e && (e = this.key); var i = this.manager.getScene(e); return i && i.sys.setVisible(t), this }, isSleeping: function (t) { return void 0 === t && (t = this.key), this.manager.isSleeping(t) }, isActive: function (t) { return void 0 === t && (t = this.key), this.manager.isActive(t) }, isPaused: function (t) { return void 0 === t && (t = this.key), this.manager.isPaused(t) }, isVisible: function (t) { return void 0 === t && (t = this.key), this.manager.isVisible(t) }, swapPosition: function (t, e) { return void 0 === e && (e = this.key), t !== e && this.manager.swapPosition(t, e), this }, moveAbove: function (t, e) { return void 0 === e && (e = this.key), t !== e && this.manager.moveAbove(t, e), this }, moveBelow: function (t, e) { return void 0 === e && (e = this.key), t !== e && this.manager.moveBelow(t, e), this }, remove: function (t) { return void 0 === t && (t = this.key), this.manager.remove(t), this }, moveUp: function (t) { return void 0 === t && (t = this.key), this.manager.moveUp(t), this }, moveDown: function (t) { return void 0 === t && (t = this.key), this.manager.moveDown(t), this }, bringToTop: function (t) { return void 0 === t && (t = this.key), this.manager.bringToTop(t), this }, sendToBack: function (t) { return void 0 === t && (t = this.key), this.manager.sendToBack(t), this }, get: function (t) { return this.manager.getScene(t) }, getIndex: function (t) { return void 0 === t && (t = this.key), this.manager.getIndex(t) }, shutdown: function () { var t = this.systems.events; t.off(r.SHUTDOWN, this.shutdown, this), t.off(r.POST_UPDATE, this.step, this), t.off(r.TRANSITION_OUT) }, destroy: function () { this.shutdown(), this.scene.sys.events.off(r.START, this.start, this), this.scene = null, this.systems = null, this.settings = null, this.manager = null } }); a.register("ScenePlugin", h, "scenePlugin"), t.exports = h })), n.register("i2sgM", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { List: n("aqhsx"), Map: n("ddl2W"), ProcessQueue: n("gz3ML"), RTree: n("aVlAx"), Set: n("lxxnL"), Size: n("ehRgb") }
})), n.register("rZmIK", (function (t, e) { var i = n("hVk4C"), s = n("hwy5T"), r = { CanvasTexture: n("demvd"), Events: n("6R4Pe"), FilterMode: s, Frame: n("7O4PF"), Parsers: n("jx0HO"), Texture: n("cCQL0"), TextureManager: n("5QcEl"), TextureSource: n("k25Vv") }; r = i(!1, r, s), t.exports = r })), n.register("hwy5T", (function (t, e) { t.exports = { LINEAR: 0, NEAREST: 1 } })), n.register("s5oWw", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { Components: n("hequO"), Parsers: n("2mw6B"), Formats: n("au4z0"), ImageCollection: n("65en1"), ParseToTilemap: n("6SHSh"), Tile: n("1uZwx"), Tilemap: n("l3bIA"), TilemapCreator: n("28rGO"), TilemapFactory: n("17YuE"), Tileset: n("eZOmW"), LayerData: n("5wtVg"), MapData: n("5Jvnl"), ObjectLayer: n("egj22"), DynamicTilemapLayer: n("3DUwP"), StaticTilemapLayer: n("ehIU5") }
})), n.register("hequO", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { CalculateFacesAt: n("9gNi2"), CalculateFacesWithin: n("inaFS"), Copy: n("b0DHi"), CreateFromTiles: n("4Rbvi"), CullTiles: n("1oJ5J"), Fill: n("4YarZ"), FilterTiles: n("fjtyV"), FindByIndex: n("jF8Rm"), FindTile: n("f6NxX"), ForEachTile: n("7Oi2Q"), GetTileAt: n("6gsOs"), GetTileAtWorldXY: n("jbtNO"), GetTilesWithin: n("eJlg2"), GetTilesWithinShape: n("czPKZ"), GetTilesWithinWorldXY: n("k4TZC"), HasTileAt: n("9jA5f"), HasTileAtWorldXY: n("g4CAW"), IsInLayerBounds: n("3UG6O"), PutTileAt: n("64x6H"), PutTileAtWorldXY: n("9toet"), PutTilesAt: n("jVpX9"), Randomize: n("4VMg3"), RemoveTileAt: n("fX9li"), RemoveTileAtWorldXY: n("ibjim"), RenderDebug: n("4YYIg"), ReplaceByIndex: n("jQ9G3"), SetCollision: n("jAcLl"), SetCollisionBetween: n("gpdMb"), SetCollisionByExclusion: n("8C01B"), SetCollisionByProperty: n("i03zR"), SetCollisionFromCollisionGroup: n("8oy5E"), SetTileIndexCallback: n("5p4Io"), SetTileLocationCallback: n("4wqRe"), Shuffle: n("bdoRX"), SwapByIndex: n("N9ezU"), TileToWorldX: n("DeoMl"), TileToWorldXY: n("5oCuI"), TileToWorldY: n("3t1Uc"), WeightedRandomize: n("gv9XM"), WorldToTileX: n("jJuPw"), WorldToTileXY: n("afyKE"), WorldToTileY: n("jWCaM") }
})), n.register("9gNi2", (function (t, e) { var i = n("6gsOs"); t.exports = function (t, e, s) { var n = i(t, e, !0, s), r = i(t, e - 1, !0, s), o = i(t, e + 1, !0, s), a = i(t - 1, e, !0, s), h = i(t + 1, e, !0, s), l = n && n.collides; return l && (n.faceTop = !0, n.faceBottom = !0, n.faceLeft = !0, n.faceRight = !0), r && r.collides && (l && (n.faceTop = !1), r.faceBottom = !l), o && o.collides && (l && (n.faceBottom = !1), o.faceTop = !l), a && a.collides && (l && (n.faceLeft = !1), a.faceRight = !l), h && h.collides && (l && (n.faceRight = !1), h.faceLeft = !l), n && !n.collides && n.resetFaces(), n } })), n.register("6gsOs", (function (t, e) { var i = n("3UG6O"); t.exports = function (t, e, s, n) { if (void 0 === s && (s = !1), i(t, e, n)) { var r = n.data[e][t] || null; return null === r ? null : -1 === r.index ? s ? r : null : r } return null } })), n.register("3UG6O", (function (t, e) { t.exports = function (t, e, i) { return t >= 0 && t < i.width && e >= 0 && e < i.height } })), n.register("inaFS", (function (t, e) { var i = n("6gsOs"), s = n("eJlg2"); t.exports = function (t, e, n, r, o) { for (var a = null, h = null, l = null, u = null, c = s(t, e, n, r, null, o), d = 0; d < c.length; d++) { var f = c[d]; f && (f.collides ? (a = i(f.x, f.y - 1, !0, o), h = i(f.x, f.y + 1, !0, o), l = i(f.x - 1, f.y, !0, o), u = i(f.x + 1, f.y, !0, o), f.faceTop = !a || !a.collides, f.faceBottom = !h || !h.collides, f.faceLeft = !l || !l.collides, f.faceRight = !u || !u.collides) : f.resetFaces()) } } })), n.register("eJlg2", (function (t, e) { var i = n("7BSWl"); t.exports = function (t, e, s, n, r, o) { void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === s && (s = o.width), void 0 === n && (n = o.height); var a = i(r, "isNotEmpty", !1), h = i(r, "isColliding", !1), l = i(r, "hasInterestingFace", !1); t < 0 && (s += t, t = 0), e < 0 && (n += e, e = 0), t + s > o.width && (s = Math.max(o.width - t, 0)), e + n > o.height && (n = Math.max(o.height - e, 0)); for (var u = [], c = e; c < e + n; c++)for (var d = t; d < t + s; d++) { var f = o.data[c][d]; if (null !== f) { if (a && -1 === f.index) continue; if (h && !f.collides) continue; if (l && !f.hasInterestingFace) continue; u.push(f) } } return u } })), n.register("b0DHi", (function (t, e) { var i = n("eJlg2"), s = n("inaFS"); t.exports = function (t, e, n, r, o, a, h, l) { t < 0 && (t = 0), e < 0 && (e = 0), void 0 === h && (h = !0); for (var u = i(t, e, n, r, null, l), c = o - t, d = a - e, f = 0; f < u.length; f++) { var p = u[f].x + c, g = u[f].y + d; p >= 0 && p < l.width && g >= 0 && g < l.height && l.data[g][p] && l.data[g][p].copy(u[f]) } h && s(o - 1, a - 1, n + 2, r + 2, l) } })), n.register("4Rbvi", (function (t, e) { var i = n("DeoMl"), s = n("3t1Uc"), r = n("eJlg2"), o = n("jQ9G3"); t.exports = function (t, e, n, a, h, l) { void 0 === n && (n = {}), Array.isArray(t) || (t = [t]); var u = l.tilemapLayer; void 0 === a && (a = u.scene), void 0 === h && (h = a.cameras.main); var c, d = r(0, 0, l.width, l.height, null, l), f = []; for (c = 0; c < d.length; c++) { var p = d[c]; if (-1 !== t.indexOf(p.index)) { n.x = i(p.x, h, l), n.y = s(p.y, h, l); var g = a.make.sprite(n); f.push(g) } } if ("number" == typeof e) for (c = 0; c < t.length; c++)o(t[c], e, 0, 0, l.width, l.height, l); else if (Array.isArray(e)) for (c = 0; c < t.length; c++)o(t[c], e[c], 0, 0, l.width, l.height, l); return f } })), n.register("DeoMl", (function (t, e) { t.exports = function (t, e, i) { var s = i.baseTileWidth, n = i.tilemapLayer, r = 0; return n && (void 0 === e && (e = n.scene.cameras.main), r = n.x + e.scrollX * (1 - n.scrollFactorX), s *= n.scaleX), r + t * s } })), n.register("3t1Uc", (function (t, e) { t.exports = function (t, e, i) { var s = i.baseTileHeight, n = i.tilemapLayer, r = 0; return n && (void 0 === e && (e = n.scene.cameras.main), r = n.y + e.scrollY * (1 - n.scrollFactorY), s *= n.scaleY), r + t * s } })), n.register("jQ9G3", (function (t, e) { var i = n("eJlg2"); t.exports = function (t, e, s, n, r, o, a) { for (var h = i(s, n, r, o, null, a), l = 0; l < h.length; l++)h[l] && h[l].index === t && (h[l].index = e) } })), n.register("1oJ5J", (function (t, e) { var i = n("jcIaO"), s = n("lpfsR"); t.exports = function (t, e, n, r) { void 0 === n && (n = []), void 0 === r && (r = 0), n.length = 0; var o, a, h, l = t.tilemapLayer.tilemap, u = t.tilemapLayer, c = t.data, d = t.width, f = t.height, p = Math.floor(l.tileWidth * u.scaleX), g = Math.floor(l.tileHeight * u.scaleY), v = 0, m = d, y = 0, x = f; if (!u.skipCull && 1 === u.scrollFactorX && 1 === u.scrollFactorY) { var w = i(e.worldView.x - u.x, p, 0, !0) - u.cullPaddingX, T = s(e.worldView.right - u.x, p, 0, !0) + u.cullPaddingX, b = i(e.worldView.y - u.y, g, 0, !0) - u.cullPaddingY, S = s(e.worldView.bottom - u.y, g, 0, !0) + u.cullPaddingY; v = Math.max(0, w), m = Math.min(d, T), y = Math.max(0, b), x = Math.min(f, S) } if (0 === r) for (a = y; a < x; a++)for (o = v; c[a] && o < m; o++)(h = c[a][o]) && -1 !== h.index && h.visible && 0 !== h.alpha && n.push(h); else if (1 === r) for (a = y; a < x; a++)for (o = m; c[a] && o >= v; o--)(h = c[a][o]) && -1 !== h.index && h.visible && 0 !== h.alpha && n.push(h); else if (2 === r) for (a = x; a >= y; a--)for (o = v; c[a] && o < m; o++)(h = c[a][o]) && -1 !== h.index && h.visible && 0 !== h.alpha && n.push(h); else if (3 === r) for (a = x; a >= y; a--)for (o = m; c[a] && o >= v; o--)(h = c[a][o]) && -1 !== h.index && h.visible && 0 !== h.alpha && n.push(h); return u.tilesDrawn = n.length, u.tilesTotal = d * f, n } })), n.register("4YarZ", (function (t, e) { var i = n("eJlg2"), s = n("inaFS"), r = n("6Hyw7"); t.exports = function (t, e, n, o, a, h, l) { for (var u = -1 !== l.collideIndexes.indexOf(t), c = i(e, n, o, a, null, l), d = 0; d < c.length; d++)c[d].index = t, r(c[d], u); h && s(e - 1, n - 1, o + 2, a + 2, l) } })), n.register("6Hyw7", (function (t, e) { t.exports = function (t, e) { e ? t.setCollision(!0, !0, !0, !0, !1) : t.resetCollision(!1) } })), n.register("fjtyV", (function (t, e) { var i = n("eJlg2"); t.exports = function (t, e, s, n, r, o, a, h) { return i(s, n, r, o, a, h).filter(t, e) } })), n.register("jF8Rm", (function (t, e) { t.exports = function (t, e, i, s) { void 0 === e && (e = 0), void 0 === i && (i = !1); var n, r, o, a = 0; if (i) { for (r = s.height - 1; r >= 0; r--)for (n = s.width - 1; n >= 0; n--)if ((o = s.data[r][n]) && o.index === t) { if (a === e) return o; a += 1 } } else for (r = 0; r < s.height; r++)for (n = 0; n < s.width; n++)if ((o = s.data[r][n]) && o.index === t) { if (a === e) return o; a += 1 } return null } })), n.register("f6NxX", (function (t, e) { var i = n("eJlg2"); t.exports = function (t, e, s, n, r, o, a, h) { return i(s, n, r, o, a, h).find(t, e) || null } })), n.register("7Oi2Q", (function (t, e) { var i = n("eJlg2"); t.exports = function (t, e, s, n, r, o, a, h) { i(s, n, r, o, a, h).forEach(t, e) } })), n.register("jbtNO", (function (t, e) { var i = n("6gsOs"), s = n("jJuPw"), r = n("jWCaM"); t.exports = function (t, e, n, o, a) { var h = s(t, !0, o, a), l = r(e, !0, o, a); return i(h, l, n, a) } })), n.register("jJuPw", (function (t, e) { t.exports = function (t, e, i, s) { void 0 === e && (e = !0); var n = s.baseTileWidth, r = s.tilemapLayer; return r && (void 0 === i && (i = r.scene.cameras.main), t -= r.x + i.scrollX * (1 - r.scrollFactorX), n *= r.scaleX), e ? Math.floor(t / n) : t / n } })), n.register("jWCaM", (function (t, e) { t.exports = function (t, e, i, s) { void 0 === e && (e = !0); var n = s.baseTileHeight, r = s.tilemapLayer; return r && (void 0 === i && (i = r.scene.cameras.main), t -= r.y + i.scrollY * (1 - r.scrollFactorY), n *= r.scaleY), e ? Math.floor(t / n) : t / n } })), n.register("czPKZ", (function (t, e) { var i = n("kNZrp"), s = n("eJlg2"), r = n("6Lcv1"), o = n("13GYA"), a = n("DeoMl"), h = n("3t1Uc"), l = n("jJuPw"), u = n("jWCaM"), c = function (t, e) { return r.RectangleToTriangle(e, t) }; t.exports = function (t, e, n, d) { if (void 0 === t) return []; var f = o; t instanceof i.Circle ? f = r.CircleToRectangle : t instanceof i.Rectangle ? f = r.RectangleToRectangle : t instanceof i.Triangle ? f = c : t instanceof i.Line && (f = r.LineToRectangle); var p = l(t.left, !0, n, d), g = u(t.top, !0, n, d), v = Math.ceil(l(t.right, !1, n, d)), m = Math.ceil(u(t.bottom, !1, n, d)), y = Math.max(v - p, 1), x = Math.max(m - g, 1), w = s(p, g, y, x, e, d), T = d.tileWidth, b = d.tileHeight; d.tilemapLayer && (T *= d.tilemapLayer.scaleX, b *= d.tilemapLayer.scaleY); for (var S = [], A = new i.Rectangle(0, 0, T, b), E = 0; E < w.length; E++) { var C = w[E]; A.x = a(C.x, n, d), A.y = h(C.y, n, d), f(t, A) && S.push(C) } return S } })), n.register("k4TZC", (function (t, e) { var i = n("eJlg2"), s = n("jJuPw"), r = n("jWCaM"); t.exports = function (t, e, n, o, a, h, l) { var u = s(t, !0, h, l), c = r(e, !0, h, l), d = Math.ceil(s(t + n, !1, h, l)), f = Math.ceil(r(e + o, !1, h, l)); return i(u, c, d - u, f - c, a, l) } })), n.register("9jA5f", (function (t, e) { var i = n("3UG6O"); t.exports = function (t, e, s) { if (i(t, e, s)) { var n = s.data[e][t]; return null !== n && n.index > -1 } return !1 } })), n.register("g4CAW", (function (t, e) { var i = n("9jA5f"), s = n("jJuPw"), r = n("jWCaM"); t.exports = function (t, e, n, o) { var a = s(t, !0, n, o), h = r(e, !0, n, o); return i(a, h, o) } })), n.register("64x6H", (function (t, e) { var i = n("1uZwx"), s = n("3UG6O"), r = n("9gNi2"), o = n("6Hyw7"); t.exports = function (t, e, n, a, h) { if (!s(e, n, h)) return null; void 0 === a && (a = !0); var l = h.data[n][e], u = l && l.collides; if (t instanceof i) null === h.data[n][e] && (h.data[n][e] = new i(h, t.index, e, n, t.width, t.height)), h.data[n][e].copy(t); else { var c = t; null === h.data[n][e] ? h.data[n][e] = new i(h, c, e, n, h.tileWidth, h.tileHeight) : h.data[n][e].index = c } var d = h.data[n][e], f = -1 !== h.collideIndexes.indexOf(d.index); return o(d, f), a && u !== d.collides && r(e, n, h), d } })), n.register("1uZwx", (function (t, e) { var i = n("jwj1g"), s = n("4FF1v"), r = n("baGGN"), o = new i({ Mixins: [s.Alpha, s.Flip, s.Visible], initialize: function (t, e, i, s, n, r, o, a) { this.layer = t, this.index = e, this.x = i, this.y = s, this.width = n, this.height = r, this.baseWidth = void 0 !== o ? o : n, this.baseHeight = void 0 !== a ? a : r, this.pixelX = 0, this.pixelY = 0, this.updatePixelXY(), this.properties = {}, this.rotation = 0, this.collideLeft = !1, this.collideRight = !1, this.collideUp = !1, this.collideDown = !1, this.faceLeft = !1, this.faceRight = !1, this.faceTop = !1, this.faceBottom = !1, this.collisionCallback = null, this.collisionCallbackContext = this, this.tint = 16777215, this.physics = {} }, containsPoint: function (t, e) { return !(t < this.pixelX || e < this.pixelY || t > this.right || e > this.bottom) }, copy: function (t) { return this.index = t.index, this.alpha = t.alpha, this.properties = t.properties, this.visible = t.visible, this.setFlip(t.flipX, t.flipY), this.tint = t.tint, this.rotation = t.rotation, this.collideUp = t.collideUp, this.collideDown = t.collideDown, this.collideLeft = t.collideLeft, this.collideRight = t.collideRight, this.collisionCallback = t.collisionCallback, this.collisionCallbackContext = t.collisionCallbackContext, this }, getCollisionGroup: function () { return this.tileset ? this.tileset.getTileCollisionGroup(this.index) : null }, getTileData: function () { return this.tileset ? this.tileset.getTileData(this.index) : null }, getLeft: function (t) { var e = this.tilemapLayer; return e ? e.tileToWorldX(this.x, t) : this.x * this.baseWidth }, getRight: function (t) { var e = this.tilemapLayer; return e ? this.getLeft(t) + this.width * e.scaleX : this.getLeft(t) + this.width }, getTop: function (t) { var e = this.tilemapLayer; return e ? e.tileToWorldY(this.y, t) - (this.height - this.baseHeight) * e.scaleY : this.y * this.baseHeight - (this.height - this.baseHeight) }, getBottom: function (t) { var e = this.tilemapLayer; return e ? this.getTop(t) + this.height * e.scaleY : this.getTop(t) + this.height }, getBounds: function (t, e) { return void 0 === e && (e = new r), e.x = this.getLeft(), e.y = this.getTop(), e.width = this.getRight() - e.x, e.height = this.getBottom() - e.y, e }, getCenterX: function (t) { return (this.getLeft(t) + this.getRight(t)) / 2 }, getCenterY: function (t) { return (this.getTop(t) + this.getBottom(t)) / 2 }, destroy: function () { this.collisionCallback = void 0, this.collisionCallbackContext = void 0, this.properties = void 0 }, intersects: function (t, e, i, s) { return !(i <= this.pixelX || s <= this.pixelY || t >= this.right || e >= this.bottom) }, isInteresting: function (t, e) { return t && e ? this.canCollide || this.hasInterestingFace : t ? this.collides : !!e && this.hasInterestingFace }, resetCollision: function (t) { (void 0 === t && (t = !0), this.collideLeft = !1, this.collideRight = !1, this.collideUp = !1, this.collideDown = !1, this.faceTop = !1, this.faceBottom = !1, this.faceLeft = !1, this.faceRight = !1, t) && (this.tilemapLayer && this.tilemapLayer.calculateFacesAt(this.x, this.y)); return this }, resetFaces: function () { return this.faceTop = !1, this.faceBottom = !1, this.faceLeft = !1, this.faceRight = !1, this }, setCollision: function (t, e, i, s, n) { (void 0 === e && (e = t), void 0 === i && (i = t), void 0 === s && (s = t), void 0 === n && (n = !0), this.collideLeft = t, this.collideRight = e, this.collideUp = i, this.collideDown = s, this.faceLeft = t, this.faceRight = e, this.faceTop = i, this.faceBottom = s, n) && (this.tilemapLayer && this.tilemapLayer.calculateFacesAt(this.x, this.y)); return this }, setCollisionCallback: function (t, e) { return null === t ? (this.collisionCallback = void 0, this.collisionCallbackContext = void 0) : (this.collisionCallback = t, this.collisionCallbackContext = e), this }, setSize: function (t, e, i, s) { return void 0 !== t && (this.width = t), void 0 !== e && (this.height = e), void 0 !== i && (this.baseWidth = i), void 0 !== s && (this.baseHeight = s), this.updatePixelXY(), this }, updatePixelXY: function () { return this.pixelX = this.x * this.baseWidth, this.pixelY = this.y * this.baseHeight, this }, canCollide: { get: function () { return this.collideLeft || this.collideRight || this.collideUp || this.collideDown || this.collisionCallback } }, collides: { get: function () { return this.collideLeft || this.collideRight || this.collideUp || this.collideDown } }, hasInterestingFace: { get: function () { return this.faceTop || this.faceBottom || this.faceLeft || this.faceRight } }, tileset: { get: function () { var t = this.layer.tilemapLayer; if (t) { var e = t.gidMap[this.index]; if (e) return e } return null } }, tilemapLayer: { get: function () { return this.layer.tilemapLayer } }, tilemap: { get: function () { var t = this.tilemapLayer; return t ? t.tilemap : null } } }); t.exports = o })), n.register("9toet", (function (t, e) { var i = n("64x6H"), s = n("jJuPw"), r = n("jWCaM"); t.exports = function (t, e, n, o, a, h) { var l = s(e, !0, a, h), u = r(n, !0, a, h); return i(t, l, u, o, h) } })), n.register("jVpX9", (function (t, e) { var i = n("inaFS"), s = n("64x6H"); t.exports = function (t, e, n, r, o) { if (!Array.isArray(t)) return null; void 0 === r && (r = !0), Array.isArray(t[0]) || (t = [t]); for (var a = t.length, h = t[0].length, l = 0; l < a; l++)for (var u = 0; u < h; u++) { var c = t[l][u]; s(c, e + u, n + l, !1, o) } r && i(e - 1, n - 1, h + 2, a + 2, o) } })), n.register("4VMg3", (function (t, e) { var i = n("eJlg2"), s = n("5H1qm"); t.exports = function (t, e, n, r, o, a) { var h, l = i(t, e, n, r, null, a); if (void 0 === o) for (o = [], h = 0; h < l.length; h++)-1 === o.indexOf(l[h].index) && o.push(l[h].index); for (h = 0; h < l.length; h++)l[h].index = s(o) } })), n.register("fX9li", (function (t, e) { var i = n("1uZwx"), s = n("3UG6O"), r = n("9gNi2"); t.exports = function (t, e, n, o, a) { if (void 0 === n && (n = !1), void 0 === o && (o = !0), !s(t, e, a)) return null; var h = a.data[e][t]; return h ? (a.data[e][t] = n ? null : new i(a, -1, t, e, h.width, h.height), o && h && h.collides && r(t, e, a), h) : null } })), n.register("ibjim", (function (t, e) { var i = n("fX9li"), s = n("jJuPw"), r = n("jWCaM"); t.exports = function (t, e, n, o, a, h) { var l = s(t, !0, a, h), u = r(e, !0, a, h); return i(l, u, n, o, h) } })), n.register("4YYIg", (function (t, e) { var i = n("eJlg2"), s = n("dqWRJ"), r = new s(105, 210, 231, 150), o = new s(243, 134, 48, 200), a = new s(40, 39, 37, 150); t.exports = function (t, e, s) { void 0 === e && (e = {}); var n = void 0 !== e.tileColor ? e.tileColor : r, h = void 0 !== e.collidingTileColor ? e.collidingTileColor : o, l = void 0 !== e.faceColor ? e.faceColor : a, u = i(0, 0, s.width, s.height, null, s); t.translateCanvas(s.tilemapLayer.x, s.tilemapLayer.y), t.scaleCanvas(s.tilemapLayer.scaleX, s.tilemapLayer.scaleY); for (var c = 0; c < u.length; c++) { var d = u[c], f = d.width, p = d.height, g = d.pixelX, v = d.pixelY, m = d.collides ? h : n; null !== m && (t.fillStyle(m.color, m.alpha / 255), t.fillRect(g, v, f, p)), g += 1, v += 1, f -= 2, p -= 2, null !== l && (t.lineStyle(1, l.color, l.alpha / 255), d.faceTop && t.lineBetween(g, v, g + f, v), d.faceRight && t.lineBetween(g + f, v, g + f, v + p), d.faceBottom && t.lineBetween(g, v + p, g + f, v + p), d.faceLeft && t.lineBetween(g, v, g, v + p)) } } })), n.register("jAcLl", (function (t, e) { var i = n("6Hyw7"), s = n("inaFS"), r = n("7PKfY"); t.exports = function (t, e, n, o, a) { void 0 === e && (e = !0), void 0 === n && (n = !0), Array.isArray(t) || (t = [t]), void 0 === a && (a = !0); for (var h = 0; h < t.length; h++)r(t[h], e, o); if (a) for (var l = 0; l < o.height; l++)for (var u = 0; u < o.width; u++) { var c = o.data[l][u]; c && -1 !== t.indexOf(c.index) && i(c, e) } n && s(0, 0, o.width, o.height, o) } })), n.register("7PKfY", (function (t, e) { t.exports = function (t, e, i) { var s = i.collideIndexes.indexOf(t); e && -1 === s ? i.collideIndexes.push(t) : e || -1 === s || i.collideIndexes.splice(s, 1) } })), n.register("gpdMb", (function (t, e) { var i = n("6Hyw7"), s = n("inaFS"), r = n("7PKfY"); t.exports = function (t, e, n, o, a, h) { if (void 0 === n && (n = !0), void 0 === o && (o = !0), void 0 === h && (h = !0), !(t > e)) { for (var l = t; l <= e; l++)r(l, n, a); if (h) for (var u = 0; u < a.height; u++)for (var c = 0; c < a.width; c++) { var d = a.data[u][c]; d && d.index >= t && d.index <= e && i(d, n) } o && s(0, 0, a.width, a.height, a) } } })), n.register("8C01B", (function (t, e) { var i = n("6Hyw7"), s = n("inaFS"), r = n("7PKfY"); t.exports = function (t, e, n, o) { void 0 === e && (e = !0), void 0 === n && (n = !0), Array.isArray(t) || (t = [t]); for (var a = 0; a < o.height; a++)for (var h = 0; h < o.width; h++) { var l = o.data[a][h]; l && -1 === t.indexOf(l.index) && (i(l, e), r(l.index, e, o)) } n && s(0, 0, o.width, o.height, o) } })), n.register("i03zR", (function (t, e) { var i = n("6Hyw7"), s = n("inaFS"), r = n("evjs6"); t.exports = function (t, e, n, o) { void 0 === e && (e = !0), void 0 === n && (n = !0); for (var a = 0; a < o.height; a++)for (var h = 0; h < o.width; h++) { var l = o.data[a][h]; if (l) for (var u in t) if (r(l.properties, u)) { var c = t[u]; Array.isArray(c) || (c = [c]); for (var d = 0; d < c.length; d++)l.properties[u] === c[d] && i(l, e) } } n && s(0, 0, o.width, o.height, o) } })), n.register("8oy5E", (function (t, e) { var i = n("6Hyw7"), s = n("inaFS"); t.exports = function (t, e, n) { void 0 === t && (t = !0), void 0 === e && (e = !0); for (var r = 0; r < n.height; r++)for (var o = 0; o < n.width; o++) { var a = n.data[r][o]; if (a) { var h = a.getCollisionGroup(); h && h.objects && h.objects.length > 0 && i(a, t) } } e && s(0, 0, n.width, n.height, n) } })), n.register("5p4Io", (function (t, e) { t.exports = function (t, e, i, s) { if ("number" == typeof t) s.callbacks[t] = null !== e ? { callback: e, callbackContext: i } : void 0; else for (var n = 0, r = t.length; n < r; n++)s.callbacks[t[n]] = null !== e ? { callback: e, callbackContext: i } : void 0 } })), n.register("4wqRe", (function (t, e) { var i = n("eJlg2"); t.exports = function (t, e, s, n, r, o, a) { for (var h = i(t, e, s, n, null, a), l = 0; l < h.length; l++)h[l].setCollisionCallback(r, o) } })), n.register("bdoRX", (function (t, e) { var i = n("eJlg2"), s = n("Na5BX"); t.exports = function (t, e, n, r, o) { var a = i(t, e, n, r, null, o), h = a.map((function (t) { return t.index })); s(h); for (var l = 0; l < a.length; l++)a[l].index = h[l] } })), n.register("N9ezU", (function (t, e) { var i = n("eJlg2"); t.exports = function (t, e, s, n, r, o, a) { for (var h = i(s, n, r, o, null, a), l = 0; l < h.length; l++)h[l] && (h[l].index === t ? h[l].index = e : h[l].index === e && (h[l].index = t)) } })), n.register("5oCuI", (function (t, e) { var i = n("DeoMl"), s = n("3t1Uc"), r = n("7SBSk"); t.exports = function (t, e, n, o, a) { return void 0 === n && (n = new r(0, 0)), n.x = i(t, o, a), n.y = s(e, o, a), n } })), n.register("gv9XM", (function (t, e) { var i = n("eJlg2"); t.exports = function (t, e, s, n, r, o) { if (void 0 !== r) { var a, h = i(t, e, s, n, null, o), l = 0; for (a = 0; a < r.length; a++)l += r[a].weight; if (!(l <= 0)) for (a = 0; a < h.length; a++) { for (var u = Math.random() * l, c = 0, d = -1, f = 0; f < r.length; f++)if (u <= (c += r[f].weight)) { var p = r[f].index; d = Array.isArray(p) ? p[Math.floor(Math.random() * p.length)] : p; break } h[a].index = d } } } })), n.register("afyKE", (function (t, e) { var i = n("jJuPw"), s = n("jWCaM"), r = n("7SBSk"); t.exports = function (t, e, n, o, a, h) { return void 0 === o && (o = new r(0, 0)), o.x = i(t, n, a, h), o.y = s(e, n, a, h), o } })), n.register("2mw6B", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { Parse: n("idVMS"), Parse2DArray: n("cSbR8"), ParseCSV: n("fK4S3"), Impact: n("9P34u"), Tiled: n("76DPJ") }
})), n.register("idVMS", (function (t, e) { var i = n("au4z0"), s = n("cSbR8"), r = n("fK4S3"), o = n("8YPQy"), a = n("7A8Vq"); t.exports = function (t, e, n, h, l, u) { var c; switch (e) { case i.ARRAY_2D: c = s(t, n, h, l, u); break; case i.CSV: c = r(t, n, h, l, u); break; case i.TILED_JSON: c = o(t, n, u); break; case i.WELTMEISTER: c = a(t, n, u); break; default: console.warn("Unrecognized tilemap data format: " + e), c = null }return c } })), n.register("cSbR8", (function (t, e) { var i = n("au4z0"), s = n("5wtVg"), r = n("5Jvnl"), o = n("1uZwx"); t.exports = function (t, e, n, a, h) { for (var l = new s({ tileWidth: n, tileHeight: a }), u = new r({ name: t, tileWidth: n, tileHeight: a, format: i.ARRAY_2D, layers: [l] }), c = [], d = e.length, f = 0, p = 0; p < e.length; p++) { c[p] = []; for (var g = e[p], v = 0; v < g.length; v++) { var m = parseInt(g[v], 10); isNaN(m) || -1 === m ? c[p][v] = h ? null : new o(l, -1, v, p, n, a) : c[p][v] = new o(l, m, v, p, n, a) } 0 === f && (f = g.length) } return u.width = l.width = f, u.height = l.height = d, u.widthInPixels = l.widthInPixels = f * n, u.heightInPixels = l.heightInPixels = d * a, l.data = c, u } })), n.register("5wtVg", (function (t, e) { var i = n("jwj1g"), s = n("7BSWl"), r = new i({ initialize: function (t) { void 0 === t && (t = {}), this.name = s(t, "name", "layer"), this.x = s(t, "x", 0), this.y = s(t, "y", 0), this.width = s(t, "width", 0), this.height = s(t, "height", 0), this.tileWidth = s(t, "tileWidth", 0), this.tileHeight = s(t, "tileHeight", 0), this.baseTileWidth = s(t, "baseTileWidth", this.tileWidth), this.baseTileHeight = s(t, "baseTileHeight", this.tileHeight), this.widthInPixels = s(t, "widthInPixels", this.width * this.baseTileWidth), this.heightInPixels = s(t, "heightInPixels", this.height * this.baseTileHeight), this.alpha = s(t, "alpha", 1), this.visible = s(t, "visible", !0), this.properties = s(t, "properties", {}), this.indexes = s(t, "indexes", []), this.collideIndexes = s(t, "collideIndexes", []), this.callbacks = s(t, "callbacks", []), this.bodies = s(t, "bodies", []), this.data = s(t, "data", []), this.tilemapLayer = s(t, "tilemapLayer", null) } }); t.exports = r })), n.register("5Jvnl", (function (t, e) { var i = n("jwj1g"), s = n("7BSWl"), r = new i({ initialize: function (t) { void 0 === t && (t = {}), this.name = s(t, "name", "map"), this.width = s(t, "width", 0), this.height = s(t, "height", 0), this.infinite = s(t, "infinite", !1), this.tileWidth = s(t, "tileWidth", 0), this.tileHeight = s(t, "tileHeight", 0), this.widthInPixels = s(t, "widthInPixels", this.width * this.tileWidth), this.heightInPixels = s(t, "heightInPixels", this.height * this.tileHeight), this.format = s(t, "format", null), this.orientation = s(t, "orientation", "orthogonal"), this.renderOrder = s(t, "renderOrder", "right-down"), this.version = s(t, "version", "1"), this.properties = s(t, "properties", {}), this.layers = s(t, "layers", []), this.images = s(t, "images", []), this.objects = s(t, "objects", {}), this.collision = s(t, "collision", {}), this.tilesets = s(t, "tilesets", []), this.imageCollections = s(t, "imageCollections", []), this.tiles = s(t, "tiles", []) } }); t.exports = r })), n.register("fK4S3", (function (t, e) { var i = n("au4z0"), s = n("cSbR8"); t.exports = function (t, e, n, r, o) { var a = e.trim().split("\n").map((function (t) { return t.split(",") })), h = s(t, a, n, r, o); return h.format = i.CSV, h } })), n.register("8YPQy", (function (t, e) { var i = n("au4z0"), s = n("5Jvnl"), r = n("jldtL"), o = n("2NaOj"), a = n("dw6Ty"), h = n("fUwNw"), l = n("aqDox"), u = n("fNydI"); t.exports = function (t, e, n) { if ("orthogonal" !== e.orientation) return console.warn("Only orthogonal map types are supported in this version of Phaser"), null; var c = new s({ width: e.width, height: e.height, name: t, tileWidth: e.tilewidth, tileHeight: e.tileheight, orientation: e.orientation, format: i.TILED_JSON, version: e.version, properties: e.properties, renderOrder: e.renderorder, infinite: e.infinite }); c.layers = r(e, n), c.images = o(e); var d = a(e); return c.tilesets = d.tilesets, c.imageCollections = d.imageCollections, c.objects = h(e), c.tiles = l(c), u(c), c } })), n.register("jldtL", (function (t, e) { var i = n("jPMWH"), s = n("7BSWl"), r = n("5wtVg"), o = n("d0ux1"), a = n("1uZwx"), h = n("cedNs"); t.exports = function (t, e) { for (var n = s(t, "infinite", !1), l = [], u = [], c = h(t); c.i < c.layers.length || u.length > 0;)if (c.i >= c.layers.length) { if (u.length < 1) { console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy"); break } c = u.pop() } else { var d = c.layers[c.i]; if (c.i++, "tilelayer" === d.type) if (d.compression) console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '" + d.name + "'"); else { if (d.encoding && "base64" === d.encoding) { if (d.chunks) for (var f = 0; f < d.chunks.length; f++)d.chunks[f].data = i(d.chunks[f].data); d.data && (d.data = i(d.data)), delete d.encoding } var p, g, v, m, y = [], x = 0; if (n) { var w = s(d, "startx", 0) + d.x, T = s(d, "starty", 0) + d.y; p = new r({ name: c.name + d.name, x: c.x + s(d, "offsetx", 0) + w * t.tilewidth, y: c.y + s(d, "offsety", 0) + T * t.tileheight, width: d.width, height: d.height, tileWidth: t.tilewidth, tileHeight: t.tileheight, alpha: c.opacity * d.opacity, visible: c.visible && d.visible, properties: s(d, "properties", {}) }); for (var b = 0; b < d.height; b++) { y.push([null]); for (var S = 0; S < d.width; S++)y[b][S] = null } for (b = 0, D = d.chunks.length; b < D; b++)for (var A = d.chunks[b], E = A.x - w, C = A.y - T, _ = 0, M = 0, P = A.data.length; M < P; M++) { var O = x + E, R = _ + C; (g = o(A.data[M])).gid > 0 ? ((v = new a(p, g.gid, O, R, t.tilewidth, t.tileheight)).rotation = g.rotation, v.flipX = g.flipped, y[R][O] = v) : (m = e ? null : new a(p, -1, O, R, t.tilewidth, t.tileheight), y[R][O] = m), ++x === A.width && (_++, x = 0) } } else { p = new r({ name: c.name + d.name, x: c.x + s(d, "offsetx", 0) + d.x, y: c.y + s(d, "offsety", 0) + d.y, width: d.width, height: d.height, tileWidth: t.tilewidth, tileHeight: t.tileheight, alpha: c.opacity * d.opacity, visible: c.visible && d.visible, properties: s(d, "properties", {}) }); for (var L = [], k = 0, D = d.data.length; k < D; k++)(g = o(d.data[k])).gid > 0 ? ((v = new a(p, g.gid, x, y.length, t.tilewidth, t.tileheight)).rotation = g.rotation, v.flipX = g.flipped, L.push(v)) : (m = e ? null : new a(p, -1, x, y.length, t.tilewidth, t.tileheight), L.push(m)), ++x === d.width && (y.push(L), x = 0, L = []) } p.data = y, l.push(p) } else if ("group" === d.type) { var F = h(t, d, c); u.push(c), c = F } } return l } })), n.register("jPMWH", (function (t, e) { t.exports = function (t) { for (var e = window.atob(t), i = e.length, s = new Array(i / 4), n = 0; n < i; n += 4)s[n / 4] = (e.charCodeAt(n) | e.charCodeAt(n + 1) << 8 | e.charCodeAt(n + 2) << 16 | e.charCodeAt(n + 3) << 24) >>> 0; return s } })), n.register("d0ux1", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    var i = 2147483648, s = 1073741824, n = 536870912; t.exports = function (t) { var e = Boolean(t & i), r = Boolean(t & s), o = Boolean(t & n); t &= 536870911; var a = 0, h = !1; return e && r && o ? (a = Math.PI / 2, h = !0) : e && r && !o ? (a = Math.PI, h = !1) : e && !r && o ? (a = Math.PI / 2, h = !1) : !e || r || o ? !e && r && o ? (a = 3 * Math.PI / 2, h = !1) : e || !r || o ? e || r || !o ? e || r || o || (a = 0, h = !1) : (a = 3 * Math.PI / 2, h = !0) : (a = Math.PI, h = !0) : (a = 0, h = !0), { gid: t, flippedHorizontal: e, flippedVertical: r, flippedAntiDiagonal: o, rotation: a, flipped: h } }
})), n.register("cedNs", (function (t, e) { var i = n("7BSWl"); t.exports = function (t, e, s) { if (!e) return { i: 0, layers: t.layers, name: "", opacity: 1, visible: !0, x: 0, y: 0 }; var n = e.x + i(e, "startx", 0) * t.tilewidth + i(e, "offsetx", 0), r = e.y + i(e, "starty", 0) * t.tileheight + i(e, "offsety", 0); return { i: 0, layers: e.layers, name: s.name + e.name + "/", opacity: s.opacity * e.opacity, visible: s.visible && e.visible, x: s.x + n, y: s.y + r } } })), n.register("2NaOj", (function (t, e) { var i = n("7BSWl"), s = n("cedNs"); t.exports = function (t) { for (var e = [], n = [], r = s(t); r.i < r.layers.length || n.length > 0;)if (r.i >= r.layers.length) { if (n.length < 1) { console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy"); break } r = n.pop() } else { var o = r.layers[r.i]; if (r.i++, "imagelayer" === o.type) { var a = i(o, "offsetx", 0) + i(o, "startx", 0), h = i(o, "offsety", 0) + i(o, "starty", 0); e.push({ name: r.name + o.name, image: o.image, x: r.x + a + o.x, y: r.y + h + o.y, alpha: r.opacity * o.opacity, visible: r.visible && o.visible, properties: i(o, "properties", {}) }) } else if ("group" === o.type) { var l = s(t, o, r); n.push(r), r = l } } return e } })), n.register("dw6Ty", (function (t, e) { var i = n("eZOmW"), s = n("65en1"), r = n("cKtBa"); t.exports = function (t) { for (var e, n = [], o = [], a = null, h = 0; h < t.tilesets.length; h++) { var l = t.tilesets[h]; if (l.source) console.warn("Phaser can't load external tilesets. Use the Embed Tileset button and then export the map again."); else if (l.image) { var u = new i(l.name, l.firstgid, l.tilewidth, l.tileheight, l.margin, l.spacing); if (t.version > 1) { if (Array.isArray(l.tiles)) { for (var c = {}, d = {}, f = 0; f < l.tiles.length; f++) { var p = l.tiles[f]; if (p.properties) { var g = {}; p.properties.forEach((function (t) { g[t.name] = t.value })), d[p.id] = g } if (p.objectgroup && (c[p.id] = { objectgroup: p.objectgroup }, p.objectgroup.objects)) { var v = p.objectgroup.objects.map((function (t) { return r(t) })); c[p.id].objectgroup.objects = v } p.animation && (c.hasOwnProperty(p.id) ? c[p.id].animation = p.animation : c[p.id] = { animation: p.animation }) } u.tileData = c, u.tileProperties = d } } else if (l.tileproperties && (u.tileProperties = l.tileproperties), l.tiles) for (e in u.tileData = l.tiles, u.tileData) { var m = u.tileData[e].objectgroup; if (m && m.objects) { var y = m.objects.map((function (t) { return r(t) })); u.tileData[e].objectgroup.objects = y } } u.updateTileData(l.imagewidth, l.imageheight), n.push(u) } else { var x = new s(l.name, l.firstgid, l.tilewidth, l.tileheight, l.margin, l.spacing, l.properties); for (e in l.tiles) { var w = l.tiles[e].image, T = l.firstgid + parseInt(e, 10); x.addImage(T, w) } o.push(x) } a && (a.lastgid = l.firstgid - 1), a = l } return { tilesets: n, imageCollections: o } } })), n.register("eZOmW", (function (t, e) { var i = new (n("jwj1g"))({ initialize: function (t, e, i, s, n, r, o, a) { (void 0 === i || i <= 0) && (i = 32), (void 0 === s || s <= 0) && (s = 32), void 0 === n && (n = 0), void 0 === r && (r = 0), void 0 === o && (o = {}), void 0 === a && (a = {}), this.name = t, this.firstgid = e, this.tileWidth = i, this.tileHeight = s, this.tileMargin = n, this.tileSpacing = r, this.tileProperties = o, this.tileData = a, this.image = null, this.glTexture = null, this.rows = 0, this.columns = 0, this.total = 0, this.texCoordinates = [] }, getTileProperties: function (t) { return this.containsTileIndex(t) ? this.tileProperties[t - this.firstgid] : null }, getTileData: function (t) { return this.containsTileIndex(t) ? this.tileData[t - this.firstgid] : null }, getTileCollisionGroup: function (t) { var e = this.getTileData(t); return e && e.objectgroup ? e.objectgroup : null }, containsTileIndex: function (t) { return t >= this.firstgid && t < this.firstgid + this.total }, getTileTextureCoordinates: function (t) { return this.containsTileIndex(t) ? this.texCoordinates[t - this.firstgid] : null }, setImage: function (t) { return this.image = t, this.glTexture = t.get().source.glTexture, this.updateTileData(this.image.source[0].width, this.image.source[0].height), this }, setTileSize: function (t, e) { return void 0 !== t && (this.tileWidth = t), void 0 !== e && (this.tileHeight = e), this.image && this.updateTileData(this.image.source[0].width, this.image.source[0].height), this }, setSpacing: function (t, e) { return void 0 !== t && (this.tileMargin = t), void 0 !== e && (this.tileSpacing = e), this.image && this.updateTileData(this.image.source[0].width, this.image.source[0].height), this }, updateTileData: function (t, e) { var i = (e - 2 * this.tileMargin + this.tileSpacing) / (this.tileHeight + this.tileSpacing), s = (t - 2 * this.tileMargin + this.tileSpacing) / (this.tileWidth + this.tileSpacing); i % 1 == 0 && s % 1 == 0 || console.warn("Image tile area not tile size multiple in: " + this.name), i = Math.floor(i), s = Math.floor(s), this.rows = i, this.columns = s, this.total = i * s, this.texCoordinates.length = 0; for (var n = this.tileMargin, r = this.tileMargin, o = 0; o < this.rows; o++) { for (var a = 0; a < this.columns; a++)this.texCoordinates.push({ x: n, y: r }), n += this.tileWidth + this.tileSpacing; n = this.tileMargin, r += this.tileHeight + this.tileSpacing } return this } }); t.exports = i })), n.register("65en1", (function (t, e) { var i = new (n("jwj1g"))({ initialize: function (t, e, i, s, n, r, o) { (void 0 === i || i <= 0) && (i = 32), (void 0 === s || s <= 0) && (s = 32), void 0 === n && (n = 0), void 0 === r && (r = 0), this.name = t, this.firstgid = 0 | e, this.imageWidth = 0 | i, this.imageHeight = 0 | s, this.imageMargin = 0 | n, this.imageSpacing = 0 | r, this.properties = o || {}, this.images = [], this.total = 0 }, containsImageIndex: function (t) { return t >= this.firstgid && t < this.firstgid + this.total }, addImage: function (t, e) { return this.images.push({ gid: t, image: e }), this.total++, this } }); t.exports = i })), n.register("cKtBa", (function (t, e) { var i = n("Ljig0"), s = n("d0ux1"), r = function (t) { return { x: t.x, y: t.y } }, o = ["id", "name", "type", "rotation", "properties", "visible", "x", "y", "width", "height"]; t.exports = function (t, e, n) { void 0 === e && (e = 0), void 0 === n && (n = 0); var a = i(t, o); if (a.x += e, a.y += n, t.gid) { var h = s(t.gid); a.gid = h.gid, a.flippedHorizontal = h.flippedHorizontal, a.flippedVertical = h.flippedVertical, a.flippedAntiDiagonal = h.flippedAntiDiagonal } else t.polyline ? a.polyline = t.polyline.map(r) : t.polygon ? a.polygon = t.polygon.map(r) : t.ellipse ? (a.ellipse = t.ellipse, a.width = t.width, a.height = t.height) : t.text ? (a.width = t.width, a.height = t.height, a.text = t.text) : (a.rectangle = !0, a.width = t.width, a.height = t.height); return a } })), n.register("Ljig0", (function (t, e) { var i = n("evjs6"); t.exports = function (t, e) { for (var s = {}, n = 0; n < e.length; n++) { var r = e[n]; i(t, r) && (s[r] = t[r]) } return s } })), n.register("fUwNw", (function (t, e) { var i = n("7BSWl"), s = n("cKtBa"), r = n("egj22"), o = n("cedNs"); t.exports = function (t) { for (var e = [], n = [], a = o(t); a.i < a.layers.length || n.length > 0;)if (a.i >= a.layers.length) { if (n.length < 1) { console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy"); break } a = n.pop() } else { var h = a.layers[a.i]; if (a.i++, h.opacity *= a.opacity, h.visible = a.visible && h.visible, "objectgroup" === h.type) { h.name = a.name + h.name; for (var l = a.x + i(h, "startx", 0) + i(h, "offsetx", 0), u = a.y + i(h, "starty", 0) + i(h, "offsety", 0), c = [], d = 0; d < h.objects.length; d++) { var f = s(h.objects[d], l, u); c.push(f) } var p = new r(h); p.objects = c, e.push(p) } else if ("group" === h.type) { var g = o(t, h, a); n.push(a), a = g } } return e } })), n.register("egj22", (function (t, e) { var i = n("jwj1g"), s = n("7BSWl"), r = new i({ initialize: function (t) { void 0 === t && (t = {}), this.name = s(t, "name", "object layer"), this.opacity = s(t, "opacity", 1), this.properties = s(t, "properties", {}), this.propertyTypes = s(t, "propertytypes", {}), this.type = s(t, "type", "objectgroup"), this.visible = s(t, "visible", !0), this.objects = s(t, "objects", []) } }); t.exports = r })), n.register("aqDox", (function (t, e) { t.exports = function (t) { for (var e = [], i = 0; i < t.tilesets.length; i++)for (var s = t.tilesets[i], n = s.tileMargin, r = s.tileMargin, o = 0, a = 0, h = 0, l = s.firstgid; l < s.firstgid + s.total && (e[l] = [n, r, i], n += s.tileWidth + s.tileSpacing, ++o !== s.total) && (++a !== s.columns || (n = s.tileMargin, r += s.tileHeight + s.tileSpacing, a = 0, ++h !== s.rows)); l++); return e } })), n.register("fNydI", (function (t, e) { var i = n("hVk4C"); t.exports = function (t) { for (var e, s, n, r, o, a = 0; a < t.layers.length; a++) { e = t.layers[a], r = null; for (var h = 0; h < e.data.length; h++) { o = e.data[h]; for (var l = 0; l < o.length; l++)null === (s = o[l]) || s.index < 0 || (n = t.tiles[s.index][2], r = t.tilesets[n], s.width = r.tileWidth, s.height = r.tileHeight, r.tileProperties && r.tileProperties[s.index - r.firstgid] && (s.properties = i(s.properties, r.tileProperties[s.index - r.firstgid]))) } } } })), n.register("7A8Vq", (function (t, e) { var i = n("au4z0"), s = n("5Jvnl"), r = n("2zjpJ"), o = n("9MTJv"); t.exports = function (t, e, n) { if (0 === e.layer.length) return console.warn("No layers found in the Weltmeister map: " + t), null; for (var a = 0, h = 0, l = 0; l < e.layer.length; l++)e.layer[l].width > a && (a = e.layer[l].width), e.layer[l].height > h && (h = e.layer[l].height); var u = new s({ width: a, height: h, name: t, tileWidth: e.layer[0].tilesize, tileHeight: e.layer[0].tilesize, format: i.WELTMEISTER }); return u.layers = r(e, n), u.tilesets = o(e), u } })), n.register("2zjpJ", (function (t, e) { var i = n("5wtVg"), s = n("1uZwx"); t.exports = function (t, e) { for (var n = [], r = 0; r < t.layer.length; r++) { for (var o = t.layer[r], a = new i({ name: o.name, width: o.width, height: o.height, tileWidth: o.tilesize, tileHeight: o.tilesize, visible: 1 === o.visible }), h = [], l = [], u = 0; u < o.data.length; u++) { for (var c = 0; c < o.data[u].length; c++) { var d, f = o.data[u][c] - 1; d = f > -1 ? new s(a, f, c, u, o.tilesize, o.tilesize) : e ? null : new s(a, -1, c, u, o.tilesize, o.tilesize), h.push(d) } l.push(h), h = [] } a.data = l, n.push(a) } return n } })), n.register("9MTJv", (function (t, e) { var i = n("eZOmW"); t.exports = function (t) { for (var e = [], s = [], n = 0; n < t.layer.length; n++) { var r = t.layer[n], o = r.tilesetName; "" !== o && -1 === s.indexOf(o) && (s.push(o), e.push(new i(o, 0, r.tilesize, r.tilesize, 0, 0))) } return e } })), n.register("9P34u", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { ParseTileLayers: n("2zjpJ"), ParseTilesets: n("9MTJv"), ParseWeltmeister: n("7A8Vq") }
})), n.register("76DPJ", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { AssignTileProperties: n("fNydI"), Base64Decode: n("jPMWH"), BuildTilesetIndex: n("aqDox"), ParseGID: n("d0ux1"), ParseImageLayers: n("2NaOj"), ParseJSONTiled: n("8YPQy"), ParseObject: n("cKtBa"), ParseObjectLayers: n("fUwNw"), ParseTileLayers: n("jldtL"), ParseTilesets: n("dw6Ty") }
})), n.register("6SHSh", (function (t, e) { var i = n("au4z0"), s = n("5Jvnl"), r = n("idVMS"), o = n("l3bIA"); t.exports = function (t, e, n, a, h, l, u, c) { void 0 === n && (n = 32), void 0 === a && (a = 32), void 0 === h && (h = 10), void 0 === l && (l = 10), void 0 === c && (c = !1); var d = null; if (Array.isArray(u)) d = r(void 0 !== e ? e : "map", i.ARRAY_2D, u, n, a, c); else if (void 0 !== e) { var f = t.cache.tilemap.get(e); f ? d = r(e, f.format, f.data, n, a, c) : console.warn("No map data found for key " + e) } return null === d && (d = new s({ tileWidth: n, tileHeight: a, width: h, height: l })), new o(t, d) } })), n.register("l3bIA", (function (t, e) { var i = n("jwj1g"), s = n("2zqSA"), r = n("3DUwP"), o = n("hVk4C"), a = n("au4z0"), h = n("5wtVg"), l = n("kaMwv"), u = n("eOqX8"), c = n("ehIU5"), d = n("1uZwx"), f = n("hequO"), p = n("eZOmW"), g = new i({ initialize: function (t, e) { this.scene = t, this.tileWidth = e.tileWidth, this.tileHeight = e.tileHeight, this.width = e.width, this.height = e.height, this.orientation = e.orientation, this.renderOrder = e.renderOrder, this.format = e.format, this.version = e.version, this.properties = e.properties, this.widthInPixels = e.widthInPixels, this.heightInPixels = e.heightInPixels, this.imageCollections = e.imageCollections, this.images = e.images, this.layers = e.layers, this.tilesets = e.tilesets, this.objects = e.objects, this.currentLayerIndex = 0 }, setRenderOrder: function (t) { var e = ["right-down", "left-down", "right-up", "left-up"]; return "number" == typeof t && (t = e[t]), e.indexOf(t) > -1 && (this.renderOrder = t), this }, addTilesetImage: function (t, e, i, s, n, r, o) { if (void 0 === t) return null; if (null == e && (e = t), !this.scene.sys.textures.exists(e)) return console.warn("Invalid Tileset Image: " + e), null; var h = this.scene.sys.textures.get(e), l = this.getTilesetIndex(t); if (null === l && this.format === a.TILED_JSON) return console.warn("No data found for Tileset: " + t), null; var u = this.tilesets[l]; return u ? (u.setTileSize(i, s), u.setSpacing(n, r), u.setImage(h), u) : (void 0 === i && (i = this.tileWidth), void 0 === s && (s = this.tileHeight), void 0 === n && (n = 0), void 0 === r && (r = 0), void 0 === o && (o = 0), (u = new p(t, o, i, s, n, r)).setImage(h), this.tilesets.push(u), u) }, convertLayerToStatic: function (t) { if (null === (t = this.getLayer(t))) return null; var e = t.tilemapLayer; if (!(e && e instanceof r)) return null; var i = new c(e.scene, e.tilemap, e.layerIndex, e.tileset, e.x, e.y); return this.scene.sys.displayList.add(i), e.destroy(), i }, copy: function (t, e, i, s, n, r, o, a) { return a = this.getLayer(a), this._isStaticCall(a, "copy") ? this : null !== a ? (f.Copy(t, e, i, s, n, r, o, a), this) : null }, createBlankDynamicLayer: function (t, e, i, s, n, o, a, l) { if (void 0 === i && (i = 0), void 0 === s && (s = 0), void 0 === n && (n = this.width), void 0 === o && (o = this.height), void 0 === a && (a = this.tileWidth), void 0 === l && (l = this.tileHeight), null !== this.getLayerIndex(t)) return console.warn("Invalid Tilemap Layer ID: " + t), null; for (var u, c = new h({ name: t, tileWidth: a, tileHeight: l, width: n, height: o }), f = 0; f < o; f++) { u = []; for (var p = 0; p < n; p++)u.push(new d(c, -1, p, f, a, l, this.tileWidth, this.tileHeight)); c.data.push(u) } this.layers.push(c), this.currentLayerIndex = this.layers.length - 1; var g = new r(this.scene, this, this.currentLayerIndex, e, i, s); return g.setRenderOrder(this.renderOrder), this.scene.sys.displayList.add(g), g }, createDynamicLayer: function (t, e, i, s) { var n = this.getLayerIndex(t); if (null === n) return console.warn("Invalid Tilemap Layer ID: " + t), "string" == typeof t && console.warn("Valid tilelayer names:\n\t" + this.getTileLayerNames().join(",\n\t")), null; var o = this.layers[n]; if (o.tilemapLayer) return console.warn("Tilemap Layer ID already exists:" + t), null; this.currentLayerIndex = n, void 0 === i && (i = o.x), void 0 === s && (s = o.y); var a = new r(this.scene, this, n, e, i, s); return a.setRenderOrder(this.renderOrder), this.scene.sys.displayList.add(a), a }, createFromObjects: function (t, e, i, n) { void 0 === i && (i = {}), void 0 === n && (n = this.scene); var r = this.getObjectLayer(t); if (!r) return console.warn("Cannot create from object. Invalid objectgroup name given: " + t), "string" == typeof layerID && console.warn("Valid objectgroup names:\n\t" + this.getObjectLayerNames().join(",\n\t")), null; for (var a = r.objects, h = [], u = 0; u < a.length; u++) { var c = !1, d = a[u]; if ((void 0 !== d.gid && "number" == typeof e && d.gid === e || void 0 !== d.id && "number" == typeof e && d.id === e || void 0 !== d.name && "string" == typeof e && d.name === e) && (c = !0), c) { var f = o({}, i, d.properties); f.x = d.x, f.y = d.y; var p = n.make.sprite(f); p.name = d.name, d.width && (p.displayWidth = d.width), d.height && (p.displayHeight = d.height); var g = { x: p.originX * p.displayWidth, y: (p.originY - 1) * p.displayHeight }; if (d.rotation) { var v = s(d.rotation); l(g, v), p.rotation = v } for (var m in p.x += g.x, p.y += g.y, void 0 === d.flippedHorizontal && void 0 === d.flippedVertical || p.setFlip(d.flippedHorizontal, d.flippedVertical), d.visible || (p.visible = !1), d.properties) p.hasOwnProperty(m) || p.setData(m, d.properties[m]); h.push(p) } } return h }, createFromTiles: function (t, e, i, s, n, r) { return null === (r = this.getLayer(r)) ? null : f.CreateFromTiles(t, e, i, s, n, r) }, createStaticLayer: function (t, e, i, s) { var n = this.getLayerIndex(t); if (null === n) return console.warn("Invalid Tilemap Layer ID: " + t), "string" == typeof t && console.warn("Valid tilelayer names:\n\t" + this.getTileLayerNames().join(",\n\t")), null; if (this.layers[n].tilemapLayer) return console.warn("Tilemap Layer ID already exists:" + t), null; this.currentLayerIndex = n, void 0 === i && this.layers[n].x && (i = this.layers[n].x), void 0 === s && this.layers[n].y && (s = this.layers[n].y); var r = new c(this.scene, this, n, e, i, s); return r.setRenderOrder(this.renderOrder), this.scene.sys.displayList.add(r), r }, destroy: function () { this.removeAllLayers(), this.tilesets.length = 0, this.objects.length = 0, this.scene = void 0 }, fill: function (t, e, i, s, n, r, o) { return null === (o = this.getLayer(o)) ? null : (this._isStaticCall(o, "fill") || f.Fill(t, e, i, s, n, r, o), this) }, filterObjects: function (t, e, i) { if ("string" == typeof t) { var s = t; if (!(t = this.getObjectLayer(t))) return console.warn("No object layer found with the name: " + s), null } return t.objects.filter(e, i) }, filterTiles: function (t, e, i, s, n, r, o, a) { return null === (a = this.getLayer(a)) ? null : f.FilterTiles(t, e, i, s, n, r, o, a) }, findByIndex: function (t, e, i, s) { return null === (s = this.getLayer(s)) ? null : f.FindByIndex(t, e, i, s) }, findObject: function (t, e, i) { if ("string" == typeof t) { var s = t; if (!(t = this.getObjectLayer(t))) return console.warn("No object layer found with the name: " + s), null } return t.objects.find(e, i) || null }, findTile: function (t, e, i, s, n, r, o, a) { return null === (a = this.getLayer(a)) ? null : f.FindTile(t, e, i, s, n, r, o, a) }, forEachTile: function (t, e, i, s, n, r, o, a) { return null === (a = this.getLayer(a)) ? null : (f.ForEachTile(t, e, i, s, n, r, o, a), this) }, getImageIndex: function (t) { return this.getIndex(this.images, t) }, getImageLayerNames: function () { return this.images && Array.isArray(this.images) ? this.images.map((function (t) { return t.name })) : [] }, getIndex: function (t, e) { for (var i = 0; i < t.length; i++)if (t[i].name === e) return i; return null }, getLayer: function (t) { var e = this.getLayerIndex(t); return null !== e ? this.layers[e] : null }, getObjectLayer: function (t) { var e = this.getIndex(this.objects, t); return null !== e ? this.objects[e] : null }, getObjectLayerNames: function () { return this.objects && Array.isArray(this.objects) ? this.objects.map((function (t) { return t.name })) : [] }, getLayerIndex: function (t) { return void 0 === t ? this.currentLayerIndex : "string" == typeof t ? this.getLayerIndexByName(t) : "number" == typeof t && t < this.layers.length ? t : t instanceof c || t instanceof r ? t.layerIndex : null }, getLayerIndexByName: function (t) { return this.getIndex(this.layers, t) }, getTileAt: function (t, e, i, s) { return null === (s = this.getLayer(s)) ? null : f.GetTileAt(t, e, i, s) }, getTileAtWorldXY: function (t, e, i, s, n) { return null === (n = this.getLayer(n)) ? null : f.GetTileAtWorldXY(t, e, i, s, n) }, getTileLayerNames: function () { return this.layers && Array.isArray(this.layers) ? this.layers.map((function (t) { return t.name })) : [] }, getTilesWithin: function (t, e, i, s, n, r) { return null === (r = this.getLayer(r)) ? null : f.GetTilesWithin(t, e, i, s, n, r) }, getTilesWithinShape: function (t, e, i, s) { return null === (s = this.getLayer(s)) ? null : f.GetTilesWithinShape(t, e, i, s) }, getTilesWithinWorldXY: function (t, e, i, s, n, r, o) { return null === (o = this.getLayer(o)) ? null : f.GetTilesWithinWorldXY(t, e, i, s, n, r, o) }, getTileset: function (t) { var e = this.getIndex(this.tilesets, t); return null !== e ? this.tilesets[e] : null }, getTilesetIndex: function (t) { return this.getIndex(this.tilesets, t) }, hasTileAt: function (t, e, i) { return null === (i = this.getLayer(i)) ? null : f.HasTileAt(t, e, i) }, hasTileAtWorldXY: function (t, e, i, s) { return null === (s = this.getLayer(s)) ? null : f.HasTileAtWorldXY(t, e, i, s) }, layer: { get: function () { return this.layers[this.currentLayerIndex] }, set: function (t) { this.setLayer(t) } }, putTileAt: function (t, e, i, s, n) { return n = this.getLayer(n), this._isStaticCall(n, "putTileAt") || null === n ? null : f.PutTileAt(t, e, i, s, n) }, putTileAtWorldXY: function (t, e, i, s, n, r) { return r = this.getLayer(r), this._isStaticCall(r, "putTileAtWorldXY") || null === r ? null : f.PutTileAtWorldXY(t, e, i, s, n, r) }, putTilesAt: function (t, e, i, s, n) { return n = this.getLayer(n), this._isStaticCall(n, "putTilesAt") ? this : null === n ? null : (f.PutTilesAt(t, e, i, s, n), this) }, randomize: function (t, e, i, s, n, r) { return r = this.getLayer(r), this._isStaticCall(r, "randomize") ? this : null === r ? null : (f.Randomize(t, e, i, s, n, r), this) }, calculateFacesAt: function (t, e, i) { return null === (i = this.getLayer(i)) ? null : (f.CalculateFacesAt(t, e, i), this) }, calculateFacesWithin: function (t, e, i, s, n) { return null === (n = this.getLayer(n)) ? null : (f.CalculateFacesWithin(t, e, i, s, n), this) }, removeLayer: function (t) { var e = this.getLayerIndex(t); if (null !== e) { u(this.layers, e); for (var i = e; i < this.layers.length; i++)this.layers[i].tilemapLayer && this.layers[i].tilemapLayer.layerIndex--; return this.currentLayerIndex === e && (this.currentLayerIndex = 0), this } return null }, destroyLayer: function (t) { var e = this.getLayerIndex(t); return null !== e ? ((t = this.layers[e]).destroy(), u(this.layers, e), this.currentLayerIndex === e && (this.currentLayerIndex = 0), this) : null }, removeAllLayers: function () { for (var t = this.layers, e = 0; e < t.length; e++)t[e].tilemapLayer && t[e].tilemapLayer.destroy(!1); return t.length = 0, this.currentLayerIndex = 0, this }, removeTile: function (t, e, i) { void 0 === e && (e = -1), void 0 === i && (i = !0); var s = []; Array.isArray(t) || (t = [t]); for (var n = 0; n < t.length; n++) { var r = t[n]; s.push(this.removeTileAt(r.x, r.y, !0, i, r.tilemapLayer)), e > -1 && this.putTileAt(e, r.x, r.y, i, r.tilemapLayer) } return s }, removeTileAt: function (t, e, i, s, n) { return n = this.getLayer(n), this._isStaticCall(n, "removeTileAt") || null === n ? null : f.RemoveTileAt(t, e, i, s, n) }, removeTileAtWorldXY: function (t, e, i, s, n, r) { return r = this.getLayer(r), this._isStaticCall(r, "removeTileAtWorldXY") || null === r ? null : f.RemoveTileAtWorldXY(t, e, i, s, n, r) }, renderDebug: function (t, e, i) { return null === (i = this.getLayer(i)) ? null : (f.RenderDebug(t, e, i), this) }, renderDebugFull: function (t, e) { for (var i = this.layers, s = 0; s < i.length; s++)f.RenderDebug(t, e, i[s]); return this }, replaceByIndex: function (t, e, i, s, n, r, o) { return o = this.getLayer(o), this._isStaticCall(o, "replaceByIndex") ? this : null === o ? null : (f.ReplaceByIndex(t, e, i, s, n, r, o), this) }, setCollision: function (t, e, i, s, n) { return null === (s = this.getLayer(s)) ? null : (f.SetCollision(t, e, i, s, n), this) }, setCollisionBetween: function (t, e, i, s, n) { return null === (n = this.getLayer(n)) ? null : (f.SetCollisionBetween(t, e, i, s, n), this) }, setCollisionByProperty: function (t, e, i, s) { return null === (s = this.getLayer(s)) ? null : (f.SetCollisionByProperty(t, e, i, s), this) }, setCollisionByExclusion: function (t, e, i, s) { return null === (s = this.getLayer(s)) ? null : (f.SetCollisionByExclusion(t, e, i, s), this) }, setCollisionFromCollisionGroup: function (t, e, i) { return null === (i = this.getLayer(i)) ? null : (f.SetCollisionFromCollisionGroup(t, e, i), this) }, setTileIndexCallback: function (t, e, i, s) { return null === (s = this.getLayer(s)) ? null : (f.SetTileIndexCallback(t, e, i, s), this) }, setTileLocationCallback: function (t, e, i, s, n, r, o) { return null === (o = this.getLayer(o)) ? null : (f.SetTileLocationCallback(t, e, i, s, n, r, o), this) }, setLayer: function (t) { var e = this.getLayerIndex(t); return null !== e && (this.currentLayerIndex = e), this }, setBaseTileSize: function (t, e) { this.tileWidth = t, this.tileHeight = e, this.widthInPixels = this.width * t, this.heightInPixels = this.height * e; for (var i = 0; i < this.layers.length; i++) { this.layers[i].baseTileWidth = t, this.layers[i].baseTileHeight = e; for (var s = this.layers[i].data, n = this.layers[i].width, r = this.layers[i].height, o = 0; o < r; o++)for (var a = 0; a < n; a++) { var h = s[o][a]; null !== h && h.setSize(void 0, void 0, t, e) } } return this }, setLayerTileSize: function (t, e, i) { if (null === (i = this.getLayer(i))) return this; i.tileWidth = t, i.tileHeight = e; for (var s = i.data, n = i.width, r = i.height, o = 0; o < r; o++)for (var a = 0; a < n; a++) { var h = s[o][a]; null !== h && h.setSize(t, e) } return this }, shuffle: function (t, e, i, s, n) { return n = this.getLayer(n), this._isStaticCall(n, "shuffle") ? this : null === n ? null : (f.Shuffle(t, e, i, s, n), this) }, swapByIndex: function (t, e, i, s, n, r, o) { return o = this.getLayer(o), this._isStaticCall(o, "swapByIndex") ? this : null === o ? null : (f.SwapByIndex(t, e, i, s, n, r, o), this) }, tileToWorldX: function (t, e, i) { return null === (i = this.getLayer(i)) ? null : f.TileToWorldX(t, e, i) }, tileToWorldY: function (t, e, i) { return null === (i = this.getLayer(i)) ? null : f.TileToWorldY(t, e, i) }, tileToWorldXY: function (t, e, i, s, n) { return null === (n = this.getLayer(n)) ? null : f.TileToWorldXY(t, e, i, s, n) }, weightedRandomize: function (t, e, i, s, n, r) { return r = this.getLayer(r), this._isStaticCall(r, "weightedRandomize") ? this : null === r ? null : (f.WeightedRandomize(t, e, i, s, n, r), this) }, worldToTileX: function (t, e, i, s) { return null === (s = this.getLayer(s)) ? null : f.WorldToTileX(t, e, i, s) }, worldToTileY: function (t, e, i, s) { return null === (s = this.getLayer(s)) ? null : f.WorldToTileY(t, e, i, s) }, worldToTileXY: function (t, e, i, s, n, r) { return null === (r = this.getLayer(r)) ? null : f.WorldToTileXY(t, e, i, s, n, r) }, _isStaticCall: function (t, e) { return t.tilemapLayer instanceof c && (console.warn(e + ": You cannot change the tiles in a static tilemap layer"), !0) } }); t.exports = g })), n.register("3DUwP", (function (t, e) { var i = n("jwj1g"), s = n("4FF1v"), r = n("bit0e"), o = n("1zqlR"), a = n("hequO"), h = new i({ Extends: o, Mixins: [s.Alpha, s.BlendMode, s.ComputedSize, s.Depth, s.Flip, s.GetBounds, s.Origin, s.Pipeline, s.Transform, s.Visible, s.ScrollFactor, r], initialize: function (t, e, i, s, n, r) { o.call(this, t, "DynamicTilemapLayer"), this.isTilemap = !0, this.tilemap = e, this.layerIndex = i, this.layer = e.layers[i], this.layer.tilemapLayer = this, this.tileset = [], this.culledTiles = [], this.skipCull = !1, this.tilesDrawn = 0, this.tilesTotal = this.layer.width * this.layer.height, this.cullPaddingX = 1, this.cullPaddingY = 1, this.cullCallback = a.CullTiles, this._renderOrder = 0, this.gidMap = [], this.setTilesets(s), this.setAlpha(this.layer.alpha), this.setPosition(n, r), this.setOrigin(), this.setSize(e.tileWidth * this.layer.width, e.tileHeight * this.layer.height), this.initPipeline("TextureTintPipeline") }, setTilesets: function (t) { var e = [], i = [], s = this.tilemap; Array.isArray(t) || (t = [t]); for (var n = 0; n < t.length; n++) { var r = t[n]; if ("string" == typeof r && (r = s.getTileset(r)), r) { i.push(r); for (var o = r.firstgid, a = 0; a < r.total; a++)e[o + a] = r } } this.gidMap = e, this.tileset = i }, setRenderOrder: function (t) { return "string" == typeof t && (t = ["right-down", "left-down", "right-up", "left-up"].indexOf(t)), t >= 0 && t < 4 && (this._renderOrder = t), this }, calculateFacesAt: function (t, e) { return a.CalculateFacesAt(t, e, this.layer), this }, calculateFacesWithin: function (t, e, i, s) { return a.CalculateFacesWithin(t, e, i, s, this.layer), this }, createFromTiles: function (t, e, i, s, n) { return a.CreateFromTiles(t, e, i, s, n, this.layer) }, cull: function (t) { return this.cullCallback(this.layer, t, this.culledTiles, this._renderOrder) }, copy: function (t, e, i, s, n, r, o) { return a.Copy(t, e, i, s, n, r, o, this.layer), this }, destroy: function (t) { void 0 === t && (t = !0), this.tilemap && (this.layer.tilemapLayer === this && (this.layer.tilemapLayer = void 0), t && this.tilemap.removeLayer(this), this.tilemap = void 0, this.layer = void 0, this.culledTiles.length = 0, this.cullCallback = null, this.gidMap = [], this.tileset = [], o.prototype.destroy.call(this)) }, fill: function (t, e, i, s, n, r) { return a.Fill(t, e, i, s, n, r, this.layer), this }, filterTiles: function (t, e, i, s, n, r, o) { return a.FilterTiles(t, e, i, s, n, r, o, this.layer) }, findByIndex: function (t, e, i) { return a.FindByIndex(t, e, i, this.layer) }, findTile: function (t, e, i, s, n, r, o) { return a.FindTile(t, e, i, s, n, r, o, this.layer) }, forEachTile: function (t, e, i, s, n, r, o) { return a.ForEachTile(t, e, i, s, n, r, o, this.layer), this }, getTileAt: function (t, e, i) { return a.GetTileAt(t, e, i, this.layer) }, getTileAtWorldXY: function (t, e, i, s) { return a.GetTileAtWorldXY(t, e, i, s, this.layer) }, getTilesWithin: function (t, e, i, s, n) { return a.GetTilesWithin(t, e, i, s, n, this.layer) }, getTilesWithinShape: function (t, e, i) { return a.GetTilesWithinShape(t, e, i, this.layer) }, getTilesWithinWorldXY: function (t, e, i, s, n, r) { return a.GetTilesWithinWorldXY(t, e, i, s, n, r, this.layer) }, hasTileAt: function (t, e) { return a.HasTileAt(t, e, this.layer) }, hasTileAtWorldXY: function (t, e, i) { return a.HasTileAtWorldXY(t, e, i, this.layer) }, putTileAt: function (t, e, i, s) { return a.PutTileAt(t, e, i, s, this.layer) }, putTileAtWorldXY: function (t, e, i, s, n) { return a.PutTileAtWorldXY(t, e, i, s, n, this.layer) }, putTilesAt: function (t, e, i, s) { return a.PutTilesAt(t, e, i, s, this.layer), this }, randomize: function (t, e, i, s, n) { return a.Randomize(t, e, i, s, n, this.layer), this }, removeTileAt: function (t, e, i, s) { return a.RemoveTileAt(t, e, i, s, this.layer) }, removeTileAtWorldXY: function (t, e, i, s, n) { return a.RemoveTileAtWorldXY(t, e, i, s, n, this.layer) }, renderDebug: function (t, e) { return a.RenderDebug(t, e, this.layer), this }, replaceByIndex: function (t, e, i, s, n, r) { return a.ReplaceByIndex(t, e, i, s, n, r, this.layer), this }, setSkipCull: function (t) { return void 0 === t && (t = !0), this.skipCull = t, this }, setCullPadding: function (t, e) { return void 0 === t && (t = 1), void 0 === e && (e = 1), this.cullPaddingX = t, this.cullPaddingY = e, this }, setCollision: function (t, e, i, s) { return a.SetCollision(t, e, i, this.layer, s), this }, setCollisionBetween: function (t, e, i, s) { return a.SetCollisionBetween(t, e, i, s, this.layer), this }, setCollisionByProperty: function (t, e, i) { return a.SetCollisionByProperty(t, e, i, this.layer), this }, setCollisionByExclusion: function (t, e, i) { return a.SetCollisionByExclusion(t, e, i, this.layer), this }, setCollisionFromCollisionGroup: function (t, e) { return a.SetCollisionFromCollisionGroup(t, e, this.layer), this }, setTileIndexCallback: function (t, e, i) { return a.SetTileIndexCallback(t, e, i, this.layer), this }, setTileLocationCallback: function (t, e, i, s, n, r) { return a.SetTileLocationCallback(t, e, i, s, n, r, this.layer), this }, shuffle: function (t, e, i, s) { return a.Shuffle(t, e, i, s, this.layer), this }, swapByIndex: function (t, e, i, s, n, r) { return a.SwapByIndex(t, e, i, s, n, r, this.layer), this }, tileToWorldX: function (t, e) { return a.TileToWorldX(t, e, this.layer) }, tileToWorldY: function (t, e) { return a.TileToWorldY(t, e, this.layer) }, tileToWorldXY: function (t, e, i, s) { return a.TileToWorldXY(t, e, i, s, this.layer) }, weightedRandomize: function (t, e, i, s, n) { return a.WeightedRandomize(t, e, i, s, n, this.layer), this }, worldToTileX: function (t, e, i) { return a.WorldToTileX(t, e, i, this.layer) }, worldToTileY: function (t, e, i) { return a.WorldToTileY(t, e, i, this.layer) }, worldToTileXY: function (t, e, i, s, n) { return a.WorldToTileXY(t, e, i, s, n, this.layer) } }); t.exports = h })), n.register("bit0e", (function (t, e) { var i = n("13GYA"), s = n("13GYA"); i = n("9LsPB"), s = n("2tjae"), t.exports = { renderWebGL: i, renderCanvas: s } })), n.register("9LsPB", (function (t, e) { var i = n("gaO4e"); t.exports = function (t, e, s, n) { e.cull(n); var r = e.culledTiles, o = r.length, a = n.alpha * e.alpha; if (!(0 === o || a <= 0)) for (var h = e.gidMap, l = e.pipeline, u = i.getTintAppendFloatAlphaAndSwap, c = e.scrollFactorX, d = e.scrollFactorY, f = e.x, p = e.y, g = e.scaleX, v = e.scaleY, m = e.tileset, y = 0; y < m.length; y++)for (var x = m[y], w = x.glTexture, T = 0; T < o; T++) { var b = r[T], S = h[b.index]; if (S === x) { var A = S.getTileTextureCoordinates(b.index); if (null !== A) { var E = b.width, C = b.height, _ = A.x, M = A.y, P = .5 * b.width, O = .5 * b.height, R = u(b.tint, a * b.alpha); l.batchTexture(e, w, w.width, w.height, f + (P + b.pixelX) * g, p + (O + b.pixelY) * v, b.width, b.height, g, v, b.rotation, b.flipX, b.flipY, c, d, P, O, _, M, E, C, R, R, R, R, !1, 0, 0, n, null, !0) } } } } })), n.register("2tjae", (function (t, e) { t.exports = function (t, e, i, s, n) { e.cull(s); var r = e.culledTiles, o = r.length; if (0 !== o) { var a = t._tempMatrix1, h = t._tempMatrix2, l = t._tempMatrix3; h.applyITRS(e.x, e.y, e.rotation, e.scaleX, e.scaleY), a.copyFrom(s.matrix); var u = t.currentContext, c = e.gidMap; u.save(), n ? (a.multiplyWithOffset(n, -s.scrollX * e.scrollFactorX, -s.scrollY * e.scrollFactorY), h.e = e.x, h.f = e.y, a.multiply(h, l), l.copyToContext(u)) : (h.e -= s.scrollX * e.scrollFactorX, h.f -= s.scrollY * e.scrollFactorY, h.copyToContext(u)); var d = s.alpha * e.alpha; (!t.antialias || e.scaleX > 1 || e.scaleY > 1) && (u.imageSmoothingEnabled = !1); for (var f = 0; f < o; f++) { var p = r[f], g = c[p.index]; if (g) { var v = g.image.getSourceImage(), m = g.getTileTextureCoordinates(p.index); if (m) { var y = p.width / 2, x = p.height / 2; u.save(), u.translate(p.pixelX + y, p.pixelY + x), 0 !== p.rotation && u.rotate(p.rotation), (p.flipX || p.flipY) && u.scale(p.flipX ? -1 : 1, p.flipY ? -1 : 1), u.globalAlpha = d * p.alpha, u.drawImage(v, m.x, m.y, p.width, p.height, -y, -x, p.width, p.height), u.restore() } } } u.restore() } } })), n.register("ehIU5", (function (t, e) { var i = n("jwj1g"), s = n("4FF1v"), r = n("aqcI1"), o = n("1zqlR"), a = n("i9Ud5"), h = n("hequO"), l = n("azs1m"), u = n("gaO4e"), c = new i({ Extends: o, Mixins: [s.Alpha, s.BlendMode, s.ComputedSize, s.Depth, s.Flip, s.GetBounds, s.Origin, s.Pipeline, s.Transform, s.Visible, s.ScrollFactor, a], initialize: function (t, e, i, s, n, a) { o.call(this, t, "StaticTilemapLayer"), this.isTilemap = !0, this.tilemap = e, this.layerIndex = i, this.layer = e.layers[i], this.layer.tilemapLayer = this, this.tileset = [], this.culledTiles = [], this.skipCull = !1, this.tilesDrawn = 0, this.tilesTotal = this.layer.width * this.layer.height, this.cullPaddingX = 1, this.cullPaddingY = 1, this.cullCallback = h.CullTiles, this.renderer = t.sys.game.renderer, this.vertexBuffer = [], this.bufferData = [], this.vertexViewF32 = [], this.vertexViewU32 = [], this.dirty = [], this.vertexCount = [], this._renderOrder = 0, this._tempMatrix = new l, this.gidMap = [], this.setTilesets(s), this.setAlpha(this.layer.alpha), this.setPosition(n, a), this.setOrigin(), this.setSize(e.tileWidth * this.layer.width, e.tileHeight * this.layer.height), this.updateVBOData(), this.initPipeline("TextureTintPipeline"), t.sys.game.events.on(r.CONTEXT_RESTORED, (function () { this.updateVBOData() }), this) }, setTilesets: function (t) { var e = [], i = [], s = this.tilemap; Array.isArray(t) || (t = [t]); for (var n = 0; n < t.length; n++) { var r = t[n]; if ("string" == typeof r && (r = s.getTileset(r)), r) { i.push(r); for (var o = r.firstgid, a = 0; a < r.total; a++)e[o + a] = r } } this.gidMap = e, this.tileset = i }, updateVBOData: function () { for (var t = 0; t < this.tileset.length; t++)this.dirty[t] = !0, this.vertexCount[t] = 0, this.vertexBuffer[t] = null, this.bufferData[t] = null, this.vertexViewF32[t] = null, this.vertexViewU32[t] = null; return this }, upload: function (t, e) { var i = this.renderer, s = i.gl, n = i.pipelines.TextureTintPipeline; if (this.dirty[e]) { var r, o, a, h = this.tileset[e], l = this.layer.width, u = this.layer.height, c = h.image.source[0].width, d = h.image.source[0].height, f = this.layer.data, p = this._renderOrder, g = h.firstgid, v = h.firstgid + h.total, m = this.vertexBuffer[e], y = this.bufferData[e], x = -1, w = l * u * n.vertexSize * 6; if (this.vertexCount[e] = 0, null === y && (y = new ArrayBuffer(w), this.bufferData[e] = y, this.vertexViewF32[e] = new Float32Array(y), this.vertexViewU32[e] = new Uint32Array(y)), 0 === p) for (o = 0; o < u; o++)for (a = 0; a < l; a++)!(r = f[o][a]) || r.index < g || r.index > v || !r.visible || (x = this.batchTile(x, r, h, c, d, t, e)); else if (1 === p) for (o = 0; o < u; o++)for (a = l - 1; a >= 0; a--)!(r = f[o][a]) || r.index < g || r.index > v || !r.visible || (x = this.batchTile(x, r, h, c, d, t, e)); else if (2 === p) for (o = u - 1; o >= 0; o--)for (a = 0; a < l; a++)!(r = f[o][a]) || r.index < g || r.index > v || !r.visible || (x = this.batchTile(x, r, h, c, d, t, e)); else if (3 === p) for (o = u - 1; o >= 0; o--)for (a = l - 1; a >= 0; a--)!(r = f[o][a]) || r.index < g || r.index > v || !r.visible || (x = this.batchTile(x, r, h, c, d, t, e)); this.dirty[e] = !1, null === m ? (m = i.createVertexBuffer(y, s.STATIC_DRAW), this.vertexBuffer[e] = m) : (i.setVertexBuffer(m), s.bufferSubData(s.ARRAY_BUFFER, 0, y)) } return this }, batchTile: function (t, e, i, s, n, r, o) { var a = i.getTileTextureCoordinates(e.index); if (!a) return t; var h = i.tileWidth, l = i.tileHeight, c = h / 2, d = l / 2, f = a.x / s, p = a.y / n, g = (a.x + h) / s, v = (a.y + l) / n, m = this._tempMatrix, y = -c, x = -d; e.flipX && (h *= -1, y += i.tileWidth), e.flipY && (l *= -1, x += i.tileHeight); var w = y + h, T = x + l; m.applyITRS(c + e.pixelX, d + e.pixelY, e.rotation, 1, 1); var b = u.getTintAppendFloatAlpha(16777215, r.alpha * this.alpha * e.alpha), S = m.getX(y, x), A = m.getY(y, x), E = m.getX(y, T), C = m.getY(y, T), _ = m.getX(w, T), M = m.getY(w, T), P = m.getX(w, x), O = m.getY(w, x); r.roundPixels && (S = Math.round(S), A = Math.round(A), E = Math.round(E), C = Math.round(C), _ = Math.round(_), M = Math.round(M), P = Math.round(P), O = Math.round(O)); var R = this.vertexViewF32[o], L = this.vertexViewU32[o]; return R[++t] = S, R[++t] = A, R[++t] = f, R[++t] = p, R[++t] = 0, L[++t] = b, R[++t] = E, R[++t] = C, R[++t] = f, R[++t] = v, R[++t] = 0, L[++t] = b, R[++t] = _, R[++t] = M, R[++t] = g, R[++t] = v, R[++t] = 0, L[++t] = b, R[++t] = S, R[++t] = A, R[++t] = f, R[++t] = p, R[++t] = 0, L[++t] = b, R[++t] = _, R[++t] = M, R[++t] = g, R[++t] = v, R[++t] = 0, L[++t] = b, R[++t] = P, R[++t] = O, R[++t] = g, R[++t] = p, R[++t] = 0, L[++t] = b, this.vertexCount[o] += 6, t }, setRenderOrder: function (t) { if ("string" == typeof t && (t = ["right-down", "left-down", "right-up", "left-up"].indexOf(t)), t >= 0 && t < 4) { this._renderOrder = t; for (var e = 0; e < this.tileset.length; e++)this.dirty[e] = !0 } return this }, calculateFacesAt: function (t, e) { return h.CalculateFacesAt(t, e, this.layer), this }, calculateFacesWithin: function (t, e, i, s) { return h.CalculateFacesWithin(t, e, i, s, this.layer), this }, createFromTiles: function (t, e, i, s, n) { return h.CreateFromTiles(t, e, i, s, n, this.layer) }, cull: function (t) { return this.cullCallback(this.layer, t, this.culledTiles) }, setSkipCull: function (t) { return void 0 === t && (t = !0), this.skipCull = t, this }, setCullPadding: function (t, e) { return void 0 === t && (t = 1), void 0 === e && (e = 1), this.cullPaddingX = t, this.cullPaddingY = e, this }, findByIndex: function (t, e, i) { return h.FindByIndex(t, e, i, this.layer) }, findTile: function (t, e, i, s, n, r, o) { return h.FindTile(t, e, i, s, n, r, o, this.layer) }, filterTiles: function (t, e, i, s, n, r, o) { return h.FilterTiles(t, e, i, s, n, r, o, this.layer) }, forEachTile: function (t, e, i, s, n, r, o) { return h.ForEachTile(t, e, i, s, n, r, o, this.layer), this }, getTileAt: function (t, e, i) { return h.GetTileAt(t, e, i, this.layer) }, getTileAtWorldXY: function (t, e, i, s) { return h.GetTileAtWorldXY(t, e, i, s, this.layer) }, getTilesWithin: function (t, e, i, s, n) { return h.GetTilesWithin(t, e, i, s, n, this.layer) }, getTilesWithinWorldXY: function (t, e, i, s, n, r) { return h.GetTilesWithinWorldXY(t, e, i, s, n, r, this.layer) }, getTilesWithinShape: function (t, e, i) { return h.GetTilesWithinShape(t, e, i, this.layer) }, hasTileAt: function (t, e) { return h.HasTileAt(t, e, this.layer) }, hasTileAtWorldXY: function (t, e, i) { return h.HasTileAtWorldXY(t, e, i, this.layer) }, renderDebug: function (t, e) { return h.RenderDebug(t, e, this.layer), this }, setCollision: function (t, e, i, s) { return h.SetCollision(t, e, i, this.layer, s), this }, setCollisionBetween: function (t, e, i, s) { return h.SetCollisionBetween(t, e, i, s, this.layer), this }, setCollisionByProperty: function (t, e, i) { return h.SetCollisionByProperty(t, e, i, this.layer), this }, setCollisionByExclusion: function (t, e, i) { return h.SetCollisionByExclusion(t, e, i, this.layer), this }, setTileIndexCallback: function (t, e, i) { return h.SetTileIndexCallback(t, e, i, this.layer), this }, setCollisionFromCollisionGroup: function (t, e) { return h.SetCollisionFromCollisionGroup(t, e, this.layer), this }, setTileLocationCallback: function (t, e, i, s, n, r) { return h.SetTileLocationCallback(t, e, i, s, n, r, this.layer), this }, tileToWorldX: function (t, e) { return h.TileToWorldX(t, e, this.layer) }, tileToWorldY: function (t, e) { return h.TileToWorldY(t, e, this.layer) }, tileToWorldXY: function (t, e, i, s) { return h.TileToWorldXY(t, e, i, s, this.layer) }, worldToTileX: function (t, e, i) { return h.WorldToTileX(t, e, i, this.layer) }, worldToTileY: function (t, e, i) { return h.WorldToTileY(t, e, i, this.layer) }, worldToTileXY: function (t, e, i, s, n) { return h.WorldToTileXY(t, e, i, s, n, this.layer) }, destroy: function (t) { if (void 0 === t && (t = !0), this.tilemap) { this.layer.tilemapLayer === this && (this.layer.tilemapLayer = void 0), t && this.tilemap.removeLayer(this), this.tilemap = void 0, this.layer = void 0, this.culledTiles.length = 0, this.cullCallback = null; for (var e = 0; e < this.tileset.length; e++)this.dirty[e] = !0, this.vertexCount[e] = 0, this.vertexBuffer[e] = null, this.bufferData[e] = null, this.vertexViewF32[e] = null, this.vertexViewU32[e] = null; this.gidMap = [], this.tileset = [], o.prototype.destroy.call(this) } } }); t.exports = c })), n.register("i9Ud5", (function (t, e) { var i = n("13GYA"), s = n("13GYA"); i = n("28KIw"), s = n("p90KK"), t.exports = { renderWebGL: i, renderCanvas: s } })), n.register("28KIw", (function (t, e) { t.exports = function (t, e, i, s) { var n = e.tileset, r = e.pipeline, o = r.vertexBuffer; t.setPipeline(r), r.modelIdentity(), r.modelTranslate(e.x - s.scrollX * e.scrollFactorX, e.y - s.scrollY * e.scrollFactorY, 0), r.modelScale(e.scaleX, e.scaleY, 1), r.viewLoad2D(s.matrix.matrix); for (var a = 0; a < n.length; a++)e.upload(s, a), e.vertexCount[a] > 0 && (t.currentPipeline && t.currentPipeline.vertexCount > 0 && t.flush(), r.vertexBuffer = e.vertexBuffer[a], t.setPipeline(r), t.setTexture2D(n[a].glTexture, 0), t.gl.drawArrays(r.topology, 0, e.vertexCount[a])); r.vertexBuffer = o, r.viewIdentity(), r.modelIdentity() } })), n.register("p90KK", (function (t, e) { t.exports = function (t, e, i, s, n) { e.cull(s); var r = e.culledTiles, o = r.length; if (0 !== o) { var a = t._tempMatrix1, h = t._tempMatrix2, l = t._tempMatrix3; h.applyITRS(e.x, e.y, e.rotation, e.scaleX, e.scaleY), a.copyFrom(s.matrix); var u = t.currentContext, c = e.gidMap; u.save(), n ? (a.multiplyWithOffset(n, -s.scrollX * e.scrollFactorX, -s.scrollY * e.scrollFactorY), h.e = e.x, h.f = e.y, a.multiply(h, l), l.copyToContext(u)) : (h.e -= s.scrollX * e.scrollFactorX, h.f -= s.scrollY * e.scrollFactorY, h.copyToContext(u)); var d = s.alpha * e.alpha; (!t.antialias || e.scaleX > 1 || e.scaleY > 1) && (u.imageSmoothingEnabled = !1); for (var f = 0; f < o; f++) { var p = r[f], g = c[p.index]; if (g) { var v = g.image.getSourceImage(), m = g.getTileTextureCoordinates(p.index); if (m) { var y = g.tileWidth, x = g.tileHeight, w = y / 2, T = x / 2; u.save(), u.translate(p.pixelX + w, p.pixelY + T), 0 !== p.rotation && u.rotate(p.rotation), (p.flipX || p.flipY) && u.scale(p.flipX ? -1 : 1, p.flipY ? -1 : 1), u.globalAlpha = d * p.alpha, u.drawImage(v, m.x, m.y, y, x, -w, -T, y, x), u.restore() } } } u.restore() } } })), n.register("28rGO", (function (t, e) { var i = n("ebQQp"), s = n("6SHSh"); i.register("tilemap", (function (t) { var e = void 0 !== t ? t : {}; return s(this.scene, e.key, e.tileWidth, e.tileHeight, e.width, e.height, e.data, e.insertNull) })) })), n.register("17YuE", (function (t, e) { var i = n("kge7H"), s = n("6SHSh"); i.register("tilemap", (function (t, e, i, n, r, o, a) { return null === t && (t = void 0), null === e && (e = void 0), null === i && (i = void 0), null === n && (n = void 0), null === r && (r = void 0), s(this.scene, t, e, i, n, r, o, a) })) })), n.register("4Tb60", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { Clock: n("kLefh"), TimerEvent: n("dD9E9") }
})), n.register("kLefh", (function (t, e) { var i = n("jwj1g"), s = n("7AzQW"), r = n("4rtgc"), o = n("dD9E9"), a = new i({ initialize: function (t) { this.scene = t, this.systems = t.sys, this.now = 0, this.timeScale = 1, this.paused = !1, this._active = [], this._pendingInsertion = [], this._pendingRemoval = [], t.sys.events.once(r.BOOT, this.boot, this), t.sys.events.on(r.START, this.start, this) }, boot: function () { this.now = this.systems.game.loop.time, this.systems.events.once(r.DESTROY, this.destroy, this) }, start: function () { var t = this.systems.events; t.on(r.PRE_UPDATE, this.preUpdate, this), t.on(r.UPDATE, this.update, this), t.once(r.SHUTDOWN, this.shutdown, this) }, addEvent: function (t) { var e = new o(t); return this._pendingInsertion.push(e), e }, delayedCall: function (t, e, i, s) { return this.addEvent({ delay: t, callback: e, args: i, callbackScope: s }) }, clearPendingEvents: function () { return this._pendingInsertion = [], this }, removeAllEvents: function () { return this._pendingRemoval = this._pendingRemoval.concat(this._active), this }, preUpdate: function () { var t = this._pendingRemoval.length, e = this._pendingInsertion.length; if (0 !== t || 0 !== e) { var i, s; for (i = 0; i < t; i++) { s = this._pendingRemoval[i]; var n = this._active.indexOf(s); n > -1 && this._active.splice(n, 1), s.destroy() } for (i = 0; i < e; i++)s = this._pendingInsertion[i], this._active.push(s); this._pendingRemoval.length = 0, this._pendingInsertion.length = 0 } }, update: function (t, e) { if (this.now = t, !this.paused) { e *= this.timeScale; for (var i = 0; i < this._active.length; i++) { var s = this._active[i]; if (!s.paused && (s.elapsed += e * s.timeScale, s.elapsed >= s.delay)) { var n = s.elapsed - s.delay; s.elapsed = s.delay, !s.hasDispatched && s.callback && (s.hasDispatched = !0, s.callback.apply(s.callbackScope, s.args)), s.repeatCount > 0 ? (s.repeatCount--, s.elapsed = n, s.hasDispatched = !1) : this._pendingRemoval.push(s) } } } }, shutdown: function () { var t; for (t = 0; t < this._pendingInsertion.length; t++)this._pendingInsertion[t].destroy(); for (t = 0; t < this._active.length; t++)this._active[t].destroy(); for (t = 0; t < this._pendingRemoval.length; t++)this._pendingRemoval[t].destroy(); this._active.length = 0, this._pendingRemoval.length = 0, this._pendingInsertion.length = 0; var e = this.systems.events; e.off(r.PRE_UPDATE, this.preUpdate, this), e.off(r.UPDATE, this.update, this), e.off(r.SHUTDOWN, this.shutdown, this) }, destroy: function () { this.shutdown(), this.scene.sys.events.off(r.START, this.start, this), this.scene = null, this.systems = null } }); s.register("Clock", a, "time"), t.exports = a })), n.register("dD9E9", (function (t, e) { var i = n("jwj1g"), s = n("7BSWl"), r = new i({ initialize: function (t) { this.delay = 0, this.repeat = 0, this.repeatCount = 0, this.loop = !1, this.callback, this.callbackScope, this.args, this.timeScale = 1, this.startAt = 0, this.elapsed = 0, this.paused = !1, this.hasDispatched = !1, this.reset(t) }, reset: function (t) { return this.delay = s(t, "delay", 0), this.repeat = s(t, "repeat", 0), this.loop = s(t, "loop", !1), this.callback = s(t, "callback", void 0), this.callbackScope = s(t, "callbackScope", this.callback), this.args = s(t, "args", []), this.timeScale = s(t, "timeScale", 1), this.startAt = s(t, "startAt", 0), this.paused = s(t, "paused", !1), this.elapsed = this.startAt, this.hasDispatched = !1, this.repeatCount = -1 === this.repeat || this.loop ? 999999999999 : this.repeat, this }, getProgress: function () { return this.elapsed / this.delay }, getOverallProgress: function () { if (this.repeat > 0) { var t = this.delay + this.delay * this.repeat; return (this.elapsed + this.delay * (this.repeat - this.repeatCount)) / t } return this.getProgress() }, getRepeatCount: function () { return this.repeatCount }, getElapsed: function () { return this.elapsed }, getElapsedSeconds: function () { return .001 * this.elapsed }, remove: function (t) { void 0 === t && (t = !1), this.elapsed = this.delay, this.hasDispatched = !t, this.repeatCount = 0 }, destroy: function () { this.callback = void 0, this.callbackScope = void 0, this.args = [] } }); t.exports = r })), n.register("145t6", (function (t, e) { var i = n("7lENH"), s = n("hVk4C"), r = { Builders: n("lMVig"), Events: n("gkXcN"), TweenManager: n("dA6JL"), Tween: n("9JoMY"), TweenData: n("b70cP"), Timeline: n("haSds") }; r = s(!1, r, i), t.exports = r })), n.register("lMVig", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { GetBoolean: n("iuXOO"), GetEaseFunction: n("aANNX"), GetNewValue: n("hoIQ4"), GetProps: n("dwqbq"), GetTargets: n("8Hbk7"), GetTweens: n("2zEft"), GetValueOp: n("i2BXh"), NumberTweenBuilder: n("bJ9WV"), StaggerBuilder: n("lvk9S"), TimelineBuilder: n("agb2N"), TweenBuilder: n("fZhty") }
})), n.register("hoIQ4", (function (t, e) { t.exports = function (t, e, i) { var s; t.hasOwnProperty(e) ? s = "function" === typeof t[e] ? function (i, s, n, r, o, a) { return t[e](i, s, n, r, o, a) } : function () { return t[e] } : s = "function" == typeof i ? i : function () { return i }; return s } })), n.register("dwqbq", (function (t, e) { var i = n("enabc"); t.exports = function (t) { var e, s = []; if (t.hasOwnProperty("props")) for (e in t.props) "_" !== e.substr(0, 1) && s.push({ key: e, value: t.props[e] }); else for (e in t) -1 === i.indexOf(e) && "_" !== e.substr(0, 1) && s.push({ key: e, value: t[e] }); return s } })), n.register("enabc", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = ["callbackScope", "completeDelay", "delay", "duration", "ease", "easeParams", "flipX", "flipY", "hold", "loop", "loopDelay", "offset", "onActive", "onActiveParams", "onActiveScope", "onComplete", "onCompleteParams", "onCompleteScope", "onLoop", "onLoopParams", "onLoopScope", "onRepeat", "onRepeatParams", "onRepeatScope", "onStart", "onStartParams", "onStartScope", "onUpdate", "onUpdateParams", "onUpdateScope", "onYoyo", "onYoyoParams", "onYoyoScope", "paused", "props", "repeat", "repeatDelay", "targets", "useFrames", "yoyo"]
})), n.register("8Hbk7", (function (t, e) { var i = n("5pMDk"); t.exports = function (t) { var e = i(t, "targets", null); return null === e || ("function" == typeof e && (e = e.call()), Array.isArray(e) || (e = [e])), e } })), n.register("2zEft", (function (t, e) { var i = n("5pMDk"); t.exports = function (t) { var e = i(t, "tweens", null); return null === e ? [] : ("function" == typeof e && (e = e.call()), Array.isArray(e) || (e = [e]), e) } })), n.register("i2BXh", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    function i(t) { return !!t.getActive && "function" == typeof t.getActive } function s(t) { return !!t.getStart && "function" == typeof t.getStart } function n(t) { return !!t.getEnd && "function" == typeof t.getEnd } var r = function (t, e) { var o, a, h = function (t, e, i) { return i }, l = function (t, e, i) { return i }, u = null, c = typeof e; if ("number" === c) h = function () { return e }; else if ("string" === c) { var d = e[0], f = parseFloat(e.substr(2)); switch (d) { case "+": h = function (t, e, i) { return i + f }; break; case "-": h = function (t, e, i) { return i - f }; break; case "*": h = function (t, e, i) { return i * f }; break; case "/": h = function (t, e, i) { return i / f }; break; default: h = function () { return parseFloat(e) } } } else if ("function" === c) h = e; else if ("object" === c) if (s(a = e) || n(a) || i(a)) i(e) && (u = e.getActive), n(e) && (h = e.getEnd), s(e) && (l = e.getStart); else if (e.hasOwnProperty("value")) o = r(t, e.value); else { var p = e.hasOwnProperty("to"), g = e.hasOwnProperty("from"), v = e.hasOwnProperty("start"); if (p && (g || v)) { if (o = r(t, e.to), v) { var m = r(t, e.start); o.getActive = m.getEnd } if (g) { var y = r(t, e.from); o.getStart = y.getEnd } } } return o || (o = { getActive: u, getEnd: h, getStart: l }), o }; t.exports = r
})), n.register("bJ9WV", (function (t, e) { var i = n("6AqCF"), s = n("cSaNN"), r = n("iuXOO"), o = n("aANNX"), a = n("hoIQ4"), h = n("5pMDk"), l = n("i2BXh"), u = n("9JoMY"), c = n("b70cP"); t.exports = function (t, e, n) { void 0 === n && (n = i); var d = h(e, "from", 0), f = h(e, "to", 1), p = [{ value: d }], g = a(e, "delay", n.delay), v = a(e, "duration", n.duration), m = h(e, "easeParams", n.easeParams), y = o(h(e, "ease", n.ease), m), x = a(e, "hold", n.hold), w = a(e, "repeat", n.repeat), T = a(e, "repeatDelay", n.repeatDelay), b = r(e, "yoyo", n.yoyo), S = [], A = l("value", f), E = c(p[0], 0, "value", A.getEnd, A.getStart, A.getActive, y, g, v, b, x, w, T, !1, !1); E.start = d, E.current = d, E.to = f, S.push(E); var C = new u(t, S, p); C.offset = s(e, "offset", null), C.completeDelay = s(e, "completeDelay", 0), C.loop = Math.round(s(e, "loop", 0)), C.loopDelay = Math.round(s(e, "loopDelay", 0)), C.paused = r(e, "paused", !1), C.useFrames = r(e, "useFrames", !1); for (var _ = h(e, "callbackScope", C), M = [C, null], P = u.TYPES, O = 0; O < P.length; O++) { var R = P[O], L = h(e, R, !1); if (L) { var k = h(e, R + "Scope", _), D = h(e, R + "Params", []); C.setCallback(R, L, M.concat(D), k) } } return C } })), n.register("6AqCF", (function (t, e) { t.exports = { targets: null, delay: 0, duration: 1e3, ease: "Power0", easeParams: null, hold: 0, repeat: 0, repeatDelay: 0, yoyo: !1, flipX: !1, flipY: !1 } })), n.register("9JoMY", (function (t, e) { var i = n("jwj1g"), s = n("3vRz3"), r = n("gkXcN"), o = n("ebQQp"), a = n("kge7H"), h = n("7lENH"), l = n("bNtDi"), u = new i({ Extends: s, initialize: function (t, e, i) { s.call(this), this.parent = t, this.parentIsTimeline = t.hasOwnProperty("isTimeline"), this.data = e, this.totalData = e.length, this.targets = i, this.totalTargets = i.length, this.useFrames = !1, this.timeScale = 1, this.loop = 0, this.loopDelay = 0, this.loopCounter = 0, this.startDelay = 0, this.hasStarted = !1, this.isSeeking = !1, this.completeDelay = 0, this.countdown = 0, this.offset = 0, this.calculatedOffset = 0, this.state = h.PENDING_ADD, this._pausedState = h.INIT, this.paused = !1, this.elapsed = 0, this.totalElapsed = 0, this.duration = 0, this.progress = 0, this.totalDuration = 0, this.totalProgress = 0, this.callbacks = { onActive: null, onComplete: null, onLoop: null, onRepeat: null, onStart: null, onUpdate: null, onYoyo: null }, this.callbackScope }, getValue: function (t) { return void 0 === t && (t = 0), this.data[t].current }, setTimeScale: function (t) { return this.timeScale = t, this }, getTimeScale: function () { return this.timeScale }, isPlaying: function () { return this.state === h.ACTIVE }, isPaused: function () { return this.state === h.PAUSED }, hasTarget: function (t) { return -1 !== this.targets.indexOf(t) }, updateTo: function (t, e, i) { void 0 === i && (i = !1); for (var s = 0; s < this.totalData; s++) { var n = this.data[s]; n.key === t && (n.end = e, i && (n.start = n.current)) } return this }, restart: function () { return this.elapsed = 0, this.progress = 0, this.totalElapsed = 0, this.totalProgress = 0, this.state === h.ACTIVE ? this.seek(0) : this.state === h.REMOVED ? (this.seek(0), this.parent.makeActive(this), this) : this.state === h.PENDING_ADD ? this : this.play() }, calcDuration: function () { for (var t = 0, e = l.MAX_SAFE_INTEGER, i = this.data, s = 0; s < this.totalData; s++) { var n = i[s]; n.t1 = n.duration + n.hold, n.yoyo && (n.t1 += n.duration), n.t2 = n.t1 + n.repeatDelay, n.totalDuration = n.delay + n.t1, -1 === n.repeat ? n.totalDuration += 999999999999 * n.t2 : n.repeat > 0 && (n.totalDuration += n.t2 * n.repeat), n.totalDuration > t && (t = n.totalDuration), n.delay < e && (e = n.delay) } this.duration = Math.max(t, .001), this.loopCounter = -1 === this.loop ? 999999999999 : this.loop, this.loopCounter > 0 ? this.totalDuration = this.duration + this.completeDelay + (this.duration + this.loopDelay) * this.loopCounter : this.totalDuration = this.duration + this.completeDelay, this.startDelay = e }, init: function () { if (this.paused && !this.parentIsTimeline) return this.state = h.PENDING_ADD, this._pausedState = h.INIT, !1; for (var t = this.data, e = this.totalTargets, i = 0; i < this.totalData; i++) { var s = t[i], n = s.target, r = s.gen, o = s.key, a = s.index; s.delay = r.delay(n, o, 0, a, e, this), s.duration = Math.max(r.duration(n, o, 0, a, e, this), .001), s.hold = r.hold(n, o, 0, a, e, this), s.repeat = r.repeat(n, o, 0, a, e, this), s.repeatDelay = r.repeatDelay(n, o, 0, a, e, this) } return this.calcDuration(), this.progress = 0, this.totalProgress = 0, this.elapsed = 0, this.totalElapsed = 0, this.state = h.INIT, !0 }, makeActive: function () { this.parent.makeActive(this), this.dispatchTweenEvent(r.TWEEN_ACTIVE, this.callbacks.onActive) }, nextState: function () { this.loopCounter > 0 ? (this.elapsed = 0, this.progress = 0, this.loopCounter--, this.resetTweenData(!0), this.loopDelay > 0 ? (this.countdown = this.loopDelay, this.state = h.LOOP_DELAY) : (this.state = h.ACTIVE, this.dispatchTweenEvent(r.TWEEN_LOOP, this.callbacks.onLoop))) : this.completeDelay > 0 ? (this.state = h.COMPLETE_DELAY, this.countdown = this.completeDelay) : (this.state = h.PENDING_REMOVE, this.dispatchTweenEvent(r.TWEEN_COMPLETE, this.callbacks.onComplete)) }, pause: function () { return this.state === h.PAUSED || (this.paused = !0, this._pausedState = this.state, this.state = h.PAUSED), this }, play: function (t) { void 0 === t && (t = !1); var e = this.state; return e !== h.INIT || this.parentIsTimeline ? e === h.ACTIVE || e === h.PENDING_ADD && this._pausedState === h.PENDING_ADD ? this : this.parentIsTimeline || e !== h.PENDING_REMOVE && e !== h.REMOVED ? (this.parentIsTimeline ? (this.resetTweenData(t), 0 === this.calculatedOffset ? this.state = h.ACTIVE : (this.countdown = this.calculatedOffset, this.state = h.OFFSET_DELAY)) : this.paused ? (this.paused = !1, this.makeActive()) : (this.resetTweenData(t), this.state = h.ACTIVE, this.makeActive()), this) : (this.seek(0), this.parent.makeActive(this), this) : (this.resetTweenData(!1), this.state = h.ACTIVE, this) }, resetTweenData: function (t) { for (var e = this.data, i = this.totalData, s = this.totalTargets, n = 0; n < i; n++) { var r = e[n], o = r.target, a = r.key, l = r.index; r.progress = 0, r.elapsed = 0, r.repeatCounter = -1 === r.repeat ? 999999999999 : r.repeat, t ? (r.start = r.getStartValue(o, a, r.start, l, s, this), r.end = r.getEndValue(o, a, r.end, l, s, this), r.current = r.start, r.state = h.PLAYING_FORWARD) : r.state = h.PENDING_RENDER, r.delay > 0 && (r.elapsed = r.delay, r.state = h.DELAY), r.getActiveValue && (o[a] = r.getActiveValue(r.target, r.key, r.start)) } }, resume: function () { return this.state === h.PAUSED ? (this.paused = !1, this.state = this._pausedState) : this.play(), this }, seek: function (t, e) { if (void 0 === e && (e = 16.6), this.totalDuration >= 36e5) return console.warn("Tween.seek duration too long"), this; this.state === h.REMOVED && this.makeActive(), this.elapsed = 0, this.progress = 0, this.totalElapsed = 0, this.totalProgress = 0; for (var i = this.data, s = this.totalTargets, n = 0; n < this.totalData; n++) { var r = i[n], o = r.target, a = r.gen, l = r.key, u = r.index; r.progress = 0, r.elapsed = 0, r.repeatCounter = -1 === r.repeat ? 999999999999 : r.repeat, r.delay = a.delay(o, l, 0, u, s, this), r.duration = Math.max(a.duration(o, l, 0, u, s, this), .001), r.hold = a.hold(o, l, 0, u, s, this), r.repeat = a.repeat(o, l, 0, u, s, this), r.repeatDelay = a.repeatDelay(o, l, 0, u, s, this), r.current = r.start, r.state = h.PLAYING_FORWARD, this.updateTweenData(this, r, 0, u, s), r.delay > 0 && (r.elapsed = r.delay, r.state = h.DELAY) } this.calcDuration(); var c = !1; this.state === h.PAUSED && (c = !0, this.state = h.ACTIVE), this.isSeeking = !0; do { this.update(0, e) } while (this.totalProgress < t); return this.isSeeking = !1, c && (this.state = h.PAUSED), this }, setCallback: function (t, e, i, s) { return this.callbacks[t] = { func: e, scope: s, params: i }, this }, complete: function (t) { return void 0 === t && (t = 0), t ? (this.state = h.COMPLETE_DELAY, this.countdown = t) : (this.state = h.PENDING_REMOVE, this.dispatchTweenEvent(r.TWEEN_COMPLETE, this.callbacks.onComplete)), this }, remove: function () { return this.parent.remove(this), this }, stop: function (t) { return this.state === h.ACTIVE && void 0 !== t && this.seek(t), this.state !== h.REMOVED && (this.state !== h.PAUSED && this.state !== h.PENDING_ADD || (this.parentIsTimeline ? (this.parent.manager._destroy.push(this), this.parent.manager._toProcess++) : (this.parent._destroy.push(this), this.parent._toProcess++)), this.removeAllListeners(), this.state = h.PENDING_REMOVE), this }, update: function (t, e) { if (this.state === h.PAUSED) return !1; switch (this.useFrames && (e = 1 * this.parent.timeScale), e *= this.timeScale, this.elapsed += e, this.progress = Math.min(this.elapsed / this.duration, 1), this.totalElapsed += e, this.totalProgress = Math.min(this.totalElapsed / this.totalDuration, 1), this.state) { case h.ACTIVE: this.hasStarted || this.isSeeking || (this.startDelay -= e, this.startDelay <= 0 && (this.hasStarted = !0, this.dispatchTweenEvent(r.TWEEN_START, this.callbacks.onStart))); for (var i = !1, s = 0; s < this.totalData; s++) { var n = this.data[s]; this.updateTweenData(this, n, e) && (i = !0) } i || this.nextState(); break; case h.LOOP_DELAY: this.countdown -= e, this.countdown <= 0 && (this.state = h.ACTIVE, this.dispatchTweenEvent(r.TWEEN_LOOP, this.callbacks.onLoop)); break; case h.OFFSET_DELAY: this.countdown -= e, this.countdown <= 0 && (this.state = h.ACTIVE); break; case h.COMPLETE_DELAY: this.countdown -= e, this.countdown <= 0 && (this.state = h.PENDING_REMOVE, this.dispatchTweenEvent(r.TWEEN_COMPLETE, this.callbacks.onComplete)) }return this.state === h.PENDING_REMOVE }, dispatchTweenDataEvent: function (t, e, i) { this.isSeeking || (this.emit(t, this, i.key, i.target, i.current, i.previous), e && (e.params[1] = i.target, e.func.apply(e.scope, e.params))) }, dispatchTweenEvent: function (t, e) { this.isSeeking || (this.emit(t, this, this.targets), e && (e.params[1] = this.targets, e.func.apply(e.scope, e.params))) }, setStateFromEnd: function (t, e, i) { return e.yoyo ? (e.elapsed = i, e.progress = i / e.duration, e.flipX && e.target.toggleFlipX(), e.flipY && e.target.toggleFlipY(), this.dispatchTweenDataEvent(r.TWEEN_YOYO, t.callbacks.onYoyo, e), e.start = e.getStartValue(e.target, e.key, e.start, e.index, t.totalTargets, t), h.PLAYING_BACKWARD) : e.repeatCounter > 0 ? (e.repeatCounter--, e.elapsed = i, e.progress = i / e.duration, e.flipX && e.target.toggleFlipX(), e.flipY && e.target.toggleFlipY(), e.start = e.getStartValue(e.target, e.key, e.start, e.index, t.totalTargets, t), e.end = e.getEndValue(e.target, e.key, e.start, e.index, t.totalTargets, t), e.repeatDelay > 0 ? (e.elapsed = e.repeatDelay - i, e.current = e.start, e.target[e.key] = e.current, h.REPEAT_DELAY) : (this.dispatchTweenDataEvent(r.TWEEN_REPEAT, t.callbacks.onRepeat, e), h.PLAYING_FORWARD)) : h.COMPLETE }, setStateFromStart: function (t, e, i) { return e.repeatCounter > 0 ? (e.repeatCounter--, e.elapsed = i, e.progress = i / e.duration, e.flipX && e.target.toggleFlipX(), e.flipY && e.target.toggleFlipY(), e.end = e.getEndValue(e.target, e.key, e.start, e.index, t.totalTargets, t), e.repeatDelay > 0 ? (e.elapsed = e.repeatDelay - i, e.current = e.start, e.target[e.key] = e.current, h.REPEAT_DELAY) : (this.dispatchTweenDataEvent(r.TWEEN_REPEAT, t.callbacks.onRepeat, e), h.PLAYING_FORWARD)) : h.COMPLETE }, updateTweenData: function (t, e, i) { var s = e.target; switch (e.state) { case h.PLAYING_FORWARD: case h.PLAYING_BACKWARD: if (!s) { e.state = h.COMPLETE; break } var n = e.elapsed, o = e.duration, a = 0; (n += i) > o && (a = n - o, n = o); var l = e.state === h.PLAYING_FORWARD, u = n / o; if (e.elapsed = n, e.progress = u, e.previous = e.current, 1 === u) l ? (e.current = e.end, s[e.key] = e.end, e.hold > 0 ? (e.elapsed = e.hold - a, e.state = h.HOLD_DELAY) : e.state = this.setStateFromEnd(t, e, a)) : (e.current = e.start, s[e.key] = e.start, e.state = this.setStateFromStart(t, e, a)); else { var c = l ? e.ease(u) : e.ease(1 - u); e.current = e.start + (e.end - e.start) * c, s[e.key] = e.current } this.dispatchTweenDataEvent(r.TWEEN_UPDATE, t.callbacks.onUpdate, e); break; case h.DELAY: e.elapsed -= i, e.elapsed <= 0 && (e.elapsed = Math.abs(e.elapsed), e.state = h.PENDING_RENDER); break; case h.REPEAT_DELAY: e.elapsed -= i, e.elapsed <= 0 && (e.elapsed = Math.abs(e.elapsed), e.state = h.PLAYING_FORWARD, this.dispatchTweenDataEvent(r.TWEEN_REPEAT, t.callbacks.onRepeat, e)); break; case h.HOLD_DELAY: e.elapsed -= i, e.elapsed <= 0 && (e.state = this.setStateFromEnd(t, e, Math.abs(e.elapsed))); break; case h.PENDING_RENDER: s ? (e.start = e.getStartValue(s, e.key, s[e.key], e.index, t.totalTargets, t), e.end = e.getEndValue(s, e.key, e.start, e.index, t.totalTargets, t), e.current = e.start, s[e.key] = e.start, e.state = h.PLAYING_FORWARD) : e.state = h.COMPLETE }return e.state !== h.COMPLETE } }); u.TYPES = ["onActive", "onComplete", "onLoop", "onRepeat", "onStart", "onUpdate", "onYoyo"], a.register("tween", (function (t) { return this.scene.sys.tweens.add(t) })), o.register("tween", (function (t) { return this.scene.sys.tweens.create(t) })), t.exports = u })), n.register("gkXcN", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { TIMELINE_COMPLETE: n("4Lxtd"), TIMELINE_LOOP: n("77Jsk"), TIMELINE_PAUSE: n("jRrki"), TIMELINE_RESUME: n("haaKV"), TIMELINE_START: n("lD4eF"), TIMELINE_UPDATE: n("9rJg3"), TWEEN_ACTIVE: n("7I3sP"), TWEEN_COMPLETE: n("eXeBB"), TWEEN_LOOP: n("hPIiG"), TWEEN_REPEAT: n("27I83"), TWEEN_START: n("5BaYx"), TWEEN_UPDATE: n("3xVxX"), TWEEN_YOYO: n("1WmlE") }
})), n.register("4Lxtd", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "complete"
})), n.register("77Jsk", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "loop"
})), n.register("jRrki", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "pause"
})), n.register("haaKV", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "resume"
})), n.register("lD4eF", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "start"
})), n.register("9rJg3", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "update"
})), n.register("7I3sP", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "active"
})), n.register("eXeBB", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "complete"
})), n.register("hPIiG", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "loop"
})), n.register("27I83", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "repeat"
})), n.register("5BaYx", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "start"
})), n.register("3xVxX", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "update"
})), n.register("1WmlE", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = "yoyo"
})), n.register("b70cP", (function (t, e) { t.exports = function (t, e, i, s, n, r, o, a, h, l, u, c, d, f, p) { return { target: t, index: e, key: i, getActiveValue: r, getEndValue: s, getStartValue: n, ease: o, duration: 0, totalDuration: 0, delay: 0, yoyo: l, hold: 0, repeat: 0, repeatDelay: 0, flipX: f, flipY: p, progress: 0, elapsed: 0, repeatCounter: 0, start: 0, previous: 0, current: 0, end: 0, t1: 0, t2: 0, gen: { delay: a, duration: h, hold: u, repeat: c, repeatDelay: d }, state: 0 } } })), n.register("lvk9S", (function (t, e) { var i = n("aANNX"), s = n("5pMDk"), r = n("bNtDi"); t.exports = function (t, e) { var n; void 0 === e && (e = {}); var o = s(e, "start", 0), a = s(e, "ease", null), h = s(e, "grid", null), l = s(e, "from", 0), u = "first" === l, c = "center" === l, d = "last" === l, f = "number" == typeof l, p = Array.isArray(t), g = p ? parseFloat(t[0]) : parseFloat(t), v = p ? parseFloat(t[1]) : 0, m = Math.max(g, v); if (p && (o += g), h) { var y = h[0], x = h[1], w = 0, T = 0, b = 0, S = 0, A = []; d ? (w = y - 1, T = x - 1) : f ? (w = l % y, T = Math.floor(l / y)) : c && (w = (y - 1) / 2, T = (x - 1) / 2); for (var E = r.MIN_SAFE_INTEGER, C = 0; C < x; C++) { A[C] = []; for (var _ = 0; _ < y; _++) { b = w - _, S = T - C; var M = Math.sqrt(b * b + S * S); M > E && (E = M), A[C][_] = M } } } var P = a ? i(a) : null; return n = h ? function (t, e, i, s) { var n, r = 0, a = s % y, h = Math.floor(s / y); if (a >= 0 && a < y && h >= 0 && h < x && (r = A[h][a]), p) { var l = v - g; n = P ? r / E * l * P(r / E) : r / E * l } else n = P ? r * g * P(r / E) : r * g; return n + o } : function (t, e, i, s, n) { var r, a, h; (n--, u ? r = s : c ? r = Math.abs(n / 2 - s) : d ? r = n - s : f && (r = Math.abs(l - s)), p) ? (h = c ? (v - g) / n * (2 * r) : (v - g) / n * r, a = P ? h * P(r / n) : h) : a = P ? n * m * P(r / n) : r * g; return a + o }, n } })), n.register("agb2N", (function (t, e) { var i = n("5pqmQ"), s = n("6AqCF"), r = n("cSaNN"), o = n("iuXOO"), a = n("aANNX"), h = n("hoIQ4"), l = n("8Hbk7"), u = n("2zEft"), c = n("5pMDk"), d = n("haSds"), f = n("fZhty"); t.exports = function (t, e) { var n = new d(t), p = u(e); if (0 === p.length) return n.paused = !0, n; var g = i(s); g.targets = l(e); var v = r(e, "totalDuration", 0); g.duration = v > 0 ? Math.floor(v / p.length) : h(e, "duration", g.duration), g.delay = h(e, "delay", g.delay), g.easeParams = c(e, "easeParams", g.easeParams), g.ease = a(c(e, "ease", g.ease), g.easeParams), g.hold = h(e, "hold", g.hold), g.repeat = h(e, "repeat", g.repeat), g.repeatDelay = h(e, "repeatDelay", g.repeatDelay), g.yoyo = o(e, "yoyo", g.yoyo), g.flipX = o(e, "flipX", g.flipX), g.flipY = o(e, "flipY", g.flipY); for (var m = 0; m < p.length; m++)n.queue(f(n, p[m], g)); n.completeDelay = r(e, "completeDelay", 0), n.loop = Math.round(r(e, "loop", 0)), n.loopDelay = Math.round(r(e, "loopDelay", 0)), n.paused = o(e, "paused", !1), n.useFrames = o(e, "useFrames", !1); var y = c(e, "callbackScope", n), x = [n], w = c(e, "onStart", !1); if (w) { var T = c(e, "onStartScope", y), b = c(e, "onStartParams", []); n.setCallback("onStart", w, x.concat(b), T) } var S = c(e, "onUpdate", !1); if (S) { var A = c(e, "onUpdateScope", y), E = c(e, "onUpdateParams", []); n.setCallback("onUpdate", S, x.concat(E), A) } var C = c(e, "onLoop", !1); if (C) { var _ = c(e, "onLoopScope", y), M = c(e, "onLoopParams", []); n.setCallback("onLoop", C, x.concat(M), _) } var P = c(e, "onYoyo", !1); if (P) { var O = c(e, "onYoyoScope", y), R = c(e, "onYoyoParams", []); n.setCallback("onYoyo", P, x.concat(null, R), O) } var L = c(e, "onComplete", !1); if (L) { var k = c(e, "onCompleteScope", y), D = c(e, "onCompleteParams", []); n.setCallback("onComplete", L, x.concat(D), k) } return n } })), n.register("haSds", (function (t, e) { var i = n("jwj1g"), s = n("3vRz3"), r = n("gkXcN"), o = n("fZhty"), a = n("7lENH"), h = new i({ Extends: s, initialize: function (t) { s.call(this), this.manager = t, this.isTimeline = !0, this.data = [], this.totalData = 0, this.useFrames = !1, this.timeScale = 1, this.loop = 0, this.loopDelay = 0, this.loopCounter = 0, this.completeDelay = 0, this.countdown = 0, this.state = a.PENDING_ADD, this._pausedState = a.PENDING_ADD, this.paused = !1, this.elapsed = 0, this.totalElapsed = 0, this.duration = 0, this.progress = 0, this.totalDuration = 0, this.totalProgress = 0, this.callbacks = { onComplete: null, onLoop: null, onStart: null, onUpdate: null, onYoyo: null }, this.callbackScope }, dispatchTimelineEvent: function (t, e) { this.emit(t, this), e && e.func.apply(e.scope, e.params) }, setTimeScale: function (t) { return this.timeScale = t, this }, getTimeScale: function () { return this.timeScale }, isPlaying: function () { return this.state === a.ACTIVE }, add: function (t) { return this.queue(o(this, t)) }, queue: function (t) { return this.isPlaying() || (t.parent = this, t.parentIsTimeline = !0, this.data.push(t), this.totalData = this.data.length), this }, hasOffset: function (t) { return null !== t.offset }, isOffsetAbsolute: function (t) { return "number" == typeof t }, isOffsetRelative: function (t) { if ("string" === typeof t) { var e = t[0]; if ("-" === e || "+" === e) return !0 } return !1 }, getRelativeOffset: function (t, e) { var i = t[0], s = parseFloat(t.substr(2)), n = e; switch (i) { case "+": n += s; break; case "-": n -= s }return Math.max(0, n) }, calcDuration: function () { for (var t = 0, e = 0, i = 0, s = 0; s < this.totalData; s++) { var n = this.data[s]; n.init(), this.hasOffset(n) ? this.isOffsetAbsolute(n.offset) ? (n.calculatedOffset = n.offset, 0 === n.offset && (i = 0)) : this.isOffsetRelative(n.offset) && (n.calculatedOffset = this.getRelativeOffset(n.offset, t)) : n.calculatedOffset = i, t = n.totalDuration + n.calculatedOffset, e += n.totalDuration, i += n.totalDuration } this.duration = e, this.loopCounter = -1 === this.loop ? 999999999999 : this.loop, this.loopCounter > 0 ? this.totalDuration = this.duration + this.completeDelay + (this.duration + this.loopDelay) * this.loopCounter : this.totalDuration = this.duration + this.completeDelay }, init: function () { return this.calcDuration(), this.progress = 0, this.totalProgress = 0, !this.paused || (this.state = a.PAUSED, !1) }, resetTweens: function (t) { for (var e = 0; e < this.totalData; e++) { this.data[e].play(t) } }, setCallback: function (t, e, i, s) { return -1 !== h.TYPES.indexOf(t) && (this.callbacks[t] = { func: e, scope: s, params: i }), this }, makeActive: function (t) { return this.manager.makeActive(t) }, play: function () { if (this.state !== a.ACTIVE) { if (this.paused) return this.paused = !1, void this.manager.makeActive(this); this.resetTweens(!1), this.state = a.ACTIVE, this.dispatchTimelineEvent(r.TIMELINE_START, this.callbacks.onStart) } }, nextState: function () { this.loopCounter > 0 ? (this.elapsed = 0, this.progress = 0, this.loopCounter--, this.resetTweens(!0), this.loopDelay > 0 ? (this.countdown = this.loopDelay, this.state = a.LOOP_DELAY) : (this.state = a.ACTIVE, this.dispatchTimelineEvent(r.TIMELINE_LOOP, this.callbacks.onLoop))) : this.completeDelay > 0 ? (this.state = a.COMPLETE_DELAY, this.countdown = this.completeDelay) : (this.state = a.PENDING_REMOVE, this.dispatchTimelineEvent(r.TIMELINE_COMPLETE, this.callbacks.onComplete)) }, update: function (t, e) { if (this.state !== a.PAUSED) { switch (this.useFrames && (e = 1 * this.manager.timeScale), e *= this.timeScale, this.elapsed += e, this.progress = Math.min(this.elapsed / this.duration, 1), this.totalElapsed += e, this.totalProgress = Math.min(this.totalElapsed / this.totalDuration, 1), this.state) { case a.ACTIVE: for (var i = this.totalData, s = 0; s < this.totalData; s++) { this.data[s].update(t, e) && i-- } this.dispatchTimelineEvent(r.TIMELINE_UPDATE, this.callbacks.onUpdate), 0 === i && this.nextState(); break; case a.LOOP_DELAY: this.countdown -= e, this.countdown <= 0 && (this.state = a.ACTIVE, this.dispatchTimelineEvent(r.TIMELINE_LOOP, this.callbacks.onLoop)); break; case a.COMPLETE_DELAY: this.countdown -= e, this.countdown <= 0 && (this.state = a.PENDING_REMOVE, this.dispatchTimelineEvent(r.TIMELINE_COMPLETE, this.callbacks.onComplete)) }return this.state === a.PENDING_REMOVE } }, stop: function () { this.state = a.PENDING_REMOVE }, pause: function () { if (this.state !== a.PAUSED) return this.paused = !0, this._pausedState = this.state, this.state = a.PAUSED, this.emit(r.TIMELINE_PAUSE, this), this }, resume: function () { return this.state === a.PAUSED && (this.paused = !1, this.state = this._pausedState, this.emit(r.TIMELINE_RESUME, this)), this }, hasTarget: function (t) { for (var e = 0; e < this.data.length; e++)if (this.data[e].hasTarget(t)) return !0; return !1 }, destroy: function () { for (var t = 0; t < this.data.length; t++)this.data[t].stop() } }); h.TYPES = ["onStart", "onUpdate", "onLoop", "onComplete", "onYoyo"], t.exports = h })), n.register("fZhty", (function (t, e) { var i = n("6AqCF"), s = n("cSaNN"), r = n("iuXOO"), o = n("aANNX"), a = n("hoIQ4"), h = n("dwqbq"), l = n("8Hbk7"), u = n("5pMDk"), c = n("i2BXh"), d = n("9JoMY"), f = n("b70cP"); t.exports = function (t, e, n) { void 0 === n && (n = i); for (var p = n.targets ? n.targets : l(e), g = h(e), v = a(e, "delay", n.delay), m = a(e, "duration", n.duration), y = u(e, "easeParams", n.easeParams), x = o(u(e, "ease", n.ease), y), w = a(e, "hold", n.hold), T = a(e, "repeat", n.repeat), b = a(e, "repeatDelay", n.repeatDelay), S = r(e, "yoyo", n.yoyo), A = r(e, "flipX", n.flipX), E = r(e, "flipY", n.flipY), C = [], _ = 0; _ < g.length; _++)for (var M = g[_].key, P = g[_].value, O = 0; O < p.length; O++) { var R = c(M, P), L = f(p[O], O, M, R.getEnd, R.getStart, R.getActive, o(u(P, "ease", x), y), a(P, "delay", v), a(P, "duration", m), r(P, "yoyo", S), a(P, "hold", w), a(P, "repeat", T), a(P, "repeatDelay", b), r(P, "flipX", A), r(P, "flipY", E)); C.push(L) } var k = new d(t, C, p); k.offset = s(e, "offset", null), k.completeDelay = s(e, "completeDelay", 0), k.loop = Math.round(s(e, "loop", 0)), k.loopDelay = Math.round(s(e, "loopDelay", 0)), k.paused = r(e, "paused", !1), k.useFrames = r(e, "useFrames", !1); for (var D = u(e, "callbackScope", k), F = [k, null], I = d.TYPES, B = 0; B < I.length; B++) { var N = I[B], Y = u(e, N, !1); if (Y) { var z = u(e, N + "Scope", D), j = u(e, N + "Params", []); k.setCallback(N, Y, F.concat(j), z) } } return k } })), n.register("dA6JL", (function (t, e) { var i = n("2SW6f"), s = n("jwj1g"), r = n("bJ9WV"), o = n("7AzQW"), a = n("4rtgc"), h = n("lvk9S"), l = n("agb2N"), u = n("7lENH"), c = n("fZhty"), d = new s({ initialize: function (t) { this.scene = t, this.systems = t.sys, this.timeScale = 1, this._add = [], this._pending = [], this._active = [], this._destroy = [], this._toProcess = 0, t.sys.events.once(a.BOOT, this.boot, this), t.sys.events.on(a.START, this.start, this) }, boot: function () { this.systems.events.once(a.DESTROY, this.destroy, this) }, start: function () { var t = this.systems.events; t.on(a.PRE_UPDATE, this.preUpdate, this), t.on(a.UPDATE, this.update, this), t.once(a.SHUTDOWN, this.shutdown, this), this.timeScale = 1 }, createTimeline: function (t) { return l(this, t) }, timeline: function (t) { var e = l(this, t); return e.paused || (this._add.push(e), this._toProcess++), e }, create: function (t) { return c(this, t) }, add: function (t) { var e = c(this, t); return this._add.push(e), this._toProcess++, e }, existing: function (t) { return this._add.push(t), this._toProcess++, this }, addCounter: function (t) { var e = r(this, t); return this._add.push(e), this._toProcess++, e }, stagger: function (t, e) { return h(t, e) }, preUpdate: function () { if (0 !== this._toProcess) { var t, e, i = this._destroy, s = this._active, n = this._pending; for (t = 0; t < i.length; t++) { e = i[t]; var r = s.indexOf(e); -1 === r ? (r = n.indexOf(e)) > -1 && (e.state = u.REMOVED, n.splice(r, 1)) : (e.state = u.REMOVED, s.splice(r, 1)) } for (i.length = 0, i = this._add, t = 0; t < i.length; t++)(e = i[t]).state === u.PENDING_ADD && (e.init() ? (e.play(), this._active.push(e)) : this._pending.push(e)); i.length = 0, this._toProcess = 0 } }, update: function (t, e) { var i, s = this._active; e *= this.timeScale; for (var n = 0; n < s.length; n++)(i = s[n]).update(t, e) && (this._destroy.push(i), this._toProcess++) }, remove: function (t) { return i(this._add, t), i(this._pending, t), i(this._active, t), i(this._destroy, t), t.state = u.REMOVED, this }, makeActive: function (t) { if (-1 !== this._add.indexOf(t) || -1 !== this._active.indexOf(t)) return this; var e = this._pending.indexOf(t); return -1 !== e && this._pending.splice(e, 1), this._add.push(t), t.state = u.PENDING_ADD, this._toProcess++, this }, each: function (t, e) { for (var i = [null], s = 1; s < arguments.length; s++)i.push(arguments[s]); for (var n in this.list) i[0] = this.list[n], t.apply(e, i) }, getAllTweens: function () { for (var t = this._active, e = [], i = 0; i < t.length; i++)e.push(t[i]); return e }, getGlobalTimeScale: function () { return this.timeScale }, getTweensOf: function (t) { var e, i, s = this._active, n = []; if (Array.isArray(t)) for (i = 0; i < s.length; i++) { e = s[i]; for (var r = 0; r < t.length; r++)e.hasTarget(t[r]) && n.push(e) } else for (i = 0; i < s.length; i++)(e = s[i]).hasTarget(t) && n.push(e); return n }, isTweening: function (t) { for (var e, i = this._active, s = 0; s < i.length; s++)if ((e = i[s]).hasTarget(t) && e.isPlaying()) return !0; return !1 }, killAll: function () { for (var t = this.getAllTweens(), e = 0; e < t.length; e++)t[e].stop(); return this }, killTweensOf: function (t) { for (var e = this.getTweensOf(t), i = 0; i < e.length; i++)e[i].stop(); return this }, pauseAll: function () { for (var t = this._active, e = 0; e < t.length; e++)t[e].pause(); return this }, resumeAll: function () { for (var t = this._active, e = 0; e < t.length; e++)t[e].resume(); return this }, setGlobalTimeScale: function (t) { return this.timeScale = t, this }, shutdown: function () { this.killAll(), this._add = [], this._pending = [], this._active = [], this._destroy = [], this._toProcess = 0; var t = this.systems.events; t.off(a.PRE_UPDATE, this.preUpdate, this), t.off(a.UPDATE, this.update, this), t.off(a.SHUTDOWN, this.shutdown, this) }, destroy: function () { this.shutdown(), this.scene.sys.events.off(a.START, this.start, this), this.scene = null, this.systems = null } }); o.register("TweenManager", d, "tweens"), t.exports = d })), n.register("cdLjm", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { Array: n("3Mp2n"), Base64: n("f6gU8"), Objects: n("jLmb6"), String: n("cKPAn") }
})), n.register("f6gU8", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { ArrayBufferToBase64: n("9PiRy"), Base64ToArrayBuffer: n("8wlD1") }
})), n.register("9PiRy", (function (t, e) {
    /**
     * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    var i = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"; t.exports = function (t, e) { for (var s = new Uint8Array(t), n = s.length, r = e ? "data:" + e + ";base64," : "", o = 0; o < n; o += 3)r += i[s[o] >> 2], r += i[(3 & s[o]) << 4 | s[o + 1] >> 4], r += i[(15 & s[o + 1]) << 2 | s[o + 2] >> 6], r += i[63 & s[o + 2]]; return n % 3 == 2 ? r = r.substring(0, r.length - 1) + "=" : n % 3 == 1 && (r = r.substring(0, r.length - 2) + "=="), r }
})), n.register("jLmb6", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { Clone: n("5pqmQ"), Extend: n("hVk4C"), GetAdvancedValue: n("cSaNN"), GetFastValue: n("7BSWl"), GetMinMaxValue: n("jIMDW"), GetValue: n("5pMDk"), HasAll: n("d8dV9"), HasAny: n("88Y8i"), HasValue: n("evjs6"), IsPlainObject: n("jC9MQ"), Merge: n("awyQk"), MergeRight: n("5lm26"), Pick: n("Ljig0"), SetValue: n("knQyO") }
})), n.register("jIMDW", (function (t, e) { var i = n("5pMDk"), s = n("iEUUO"); t.exports = function (t, e, n, r, o) { void 0 === o && (o = n); var a = i(t, e, o); return s(a, n, r) } })), n.register("d8dV9", (function (t, e) { t.exports = function (t, e) { for (var i = 0; i < e.length; i++)if (!t.hasOwnProperty(e[i])) return !1; return !0 } })), n.register("5lm26", (function (t, e) { var i = n("5pqmQ"); t.exports = function (t, e) { var s = i(t); for (var n in e) s.hasOwnProperty(n) && (s[n] = e[n]); return s } })), n.register("cKPAn", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { Format: n("37dMI"), Pad: n("7y2Q8"), Reverse: n("ct2lj"), UppercaseFirst: n("aEzMt"), UUID: n("gS40I") }
})), n.register("37dMI", (function (t, e) { t.exports = function (t, e) { return t.replace(/%([0-9]+)/g, (function (t, i) { return e[Number(i) - 1] })) } })), n.register("ct2lj", (function (t, e) { t.exports = function (t) { return t.split("").reverse().join("") } })), n.register("gNVRh", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
     * @copyright    2020 Photon Storm Ltd.
     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
     */
    t.exports = { SoundManagerCreator: n("jskqO"), Events: n("kcpiS"), BaseSound: n("4x7f5"), BaseSoundManager: n("hw6uH"), WebAudioSound: n("auhY5"), WebAudioSoundManager: n("d69lL"), HTML5AudioSound: n("1jI3b"), HTML5AudioSoundManager: n("4eU0A"), NoAudioSound: n("4Z5ti"), NoAudioSoundManager: n("5wl8F") }
})), n.register("hRsbN", (function (t, e) {
    /**
     * @author       Richard Davey <rich@photonstorm.com>
     * @copyright    2018 Photon Storm Ltd.
     * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
     */
    t.exports = { Camera: n("4j1Dk"), CameraManager: n("YV809"), OrthographicCamera: n("eARah"), PerspectiveCamera: n("hbpve") }
})), n.register("4j1Dk", (function (t, e) { var i = n("jwj1g"), s = n("hD0DV"), r = n("aBiCH"), o = n("5ojVH"), a = n("iV7dk"), h = n("lxxnL"), l = n("dK9Ze"), u = n("7SBSk"), c = n("gbKIZ"), d = n("27QVG"), f = new c, p = new d, g = new c, v = new c, m = new s, y = new i({ initialize: function (t) { this.scene = t, this.displayList = t.sys.displayList, this.updateList = t.sys.updateList, this.name = "", this.direction = new c(0, 0, -1), this.up = new c(0, 1, 0), this.position = new c, this.pixelScale = 128, this.projection = new s, this.view = new s, this.combined = new s, this.invProjectionView = new s, this.near = 1, this.far = 100, this.ray = { origin: new c, direction: new c }, this.viewportWidth = 0, this.viewportHeight = 0, this.billboardMatrixDirty = !0, this.children = new h }, setPosition: function (t, e, i) { return this.position.set(t, e, i), this.update() }, setScene: function (t) { return this.scene = t, this }, setPixelScale: function (t) { return this.pixelScale = t, this.update() }, add: function (t) { return this.children.set(t), this.displayList.add(t.gameObject), this.updateList.add(t.gameObject), this.updateChildren(), t }, remove: function (t) { return this.displayList.remove(t.gameObject), this.updateList.remove(t.gameObject), this.children.delete(t), this }, clear: function () { for (var t = this.getChildren(), e = 0; e < t.length; e++)this.remove(t[e]); return this }, getChildren: function () { return this.children.entries }, create: function (t, e, i, s, n, r) { void 0 === r && (r = !0); var o = new l(this.scene, t, e, i, s, n); return this.displayList.add(o.gameObject), this.updateList.add(o.gameObject), o.visible = r, this.children.set(o), this.updateChildren(), o }, createMultiple: function (t, e, i, s) { void 0 === s && (s = !0); for (var n = [], r = 0; r < t; r++) { var o = new l(this.scene, 0, 0, 0, e, i); this.displayList.add(o.gameObject), this.updateList.add(o.gameObject), o.visible = s, this.children.set(o), n.push(o) } return n }, createRect: function (t, e, i, s) { "number" == typeof t && (t = { x: t, y: t, z: t }), "number" == typeof e && (e = { x: e, y: e, z: e }); for (var n = t.x * t.y * t.z, r = this.createMultiple(n, i, s), o = 0, a = .5 - t.z / 2; a < t.z / 2; a++)for (var h = .5 - t.y / 2; h < t.y / 2; h++)for (var l = .5 - t.x / 2; l < t.x / 2; l++) { var u = l * e.x, c = h * e.y, d = a * e.z; r[o].position.set(u, c, d), o++ } return this.update(), r }, randomSphere: function (t, e) { void 0 === e && (e = this.getChildren()); for (var i = 0; i < e.length; i++)r(e[i].position, t); return this.update() }, randomCube: function (t, e) { void 0 === e && (e = this.getChildren()); for (var i = 0; i < e.length; i++)o(e[i].position, t); return this.update() }, translateChildren: function (t, e) { void 0 === e && (e = this.getChildren()); for (var i = 0; i < e.length; i++)e[i].position.add(t); return this.update() }, transformChildren: function (t, e) { void 0 === e && (e = this.getChildren()); for (var i = 0; i < e.length; i++)e[i].position.transformMat4(t); return this.update() }, setViewport: function (t, e) { return this.viewportWidth = t, this.viewportHeight = e, this.update() }, translate: function (t, e, i) { return "object" == typeof t ? (this.position.x += t.x || 0, this.position.y += t.y || 0, this.position.z += t.z || 0) : (this.position.x += t || 0, this.position.y += e || 0, this.position.z += i || 0), this.update() }, lookAt: function (t, e, i) { var s = this.direction, n = this.up; return "object" == typeof t ? s.copy(t) : s.set(t, e, i), s.subtract(this.position).normalize(), f.copy(s).cross(n).normalize(), n.copy(f).cross(s).normalize(), this.update() }, rotate: function (t, e) { return a(this.direction, e, t), a(this.up, e, t), this.update() }, rotateAround: function (t, e, i) { return f.copy(t).subtract(this.position), this.translate(f), this.rotate(e, i), this.translate(f.negate()), this.update() }, project: function (t, e) { void 0 === e && (e = new d); var i = this.viewportWidth, s = this.viewportHeight, n = y.NEAR_RANGE, r = y.FAR_RANGE; return p.set(t.x, t.y, t.z, 1), p.transformMat4(this.combined), 0 === p.w && (p.w = 1), p.x = p.x / p.w, p.y = p.y / p.w, p.z = p.z / p.w, e.x = i / 2 * p.x + (0 + i / 2), e.y = s / 2 * p.y + (0 + s / 2), e.z = (r - n) / 2 * p.z + (r + n) / 2, (0 === e.w || e.w) && (e.w = 1 / p.w), e }, unproject: function (t, e) { void 0 === e && (e = new c); var i = p.set(0, 0, this.viewportWidth, this.viewportHeight); return e.copy(t).unproject(i, this.invProjectionView) }, getPickRay: function (t, e) { var i = this.ray.origin.set(t, e, 0), s = this.ray.direction.set(t, e, 1), n = p.set(0, 0, this.viewportWidth, this.viewportHeight), r = this.invProjectionView; return i.unproject(n, r), s.unproject(n, r), s.subtract(i).normalize(), this.ray }, updateChildren: function () { for (var t = this.children.entries, e = 0; e < t.length; e++)t[e].project(this); return this }, update: function () { return this.updateChildren() }, updateBillboardMatrix: function () { var t = g.set(this.direction).negate(), e = v.set(this.up).cross(t).normalize(), i = f.set(t).cross(e).normalize(), s = m.val; s[0] = e.x, s[1] = e.y, s[2] = e.z, s[3] = 0, s[4] = i.x, s[5] = i.y, s[6] = i.z, s[7] = 0, s[8] = t.x, s[9] = t.y, s[10] = t.z, s[11] = 0, s[12] = 0, s[13] = 0, s[14] = 0, s[15] = 1, this.billboardMatrixDirty = !1 }, getPointSize: function (t, e, i) { void 0 === i && (i = new u), this.billboardMatrixDirty && this.updateBillboardMatrix(); var s = f, n = e.x / this.pixelScale / 2, r = e.y / this.pixelScale / 2; s.set(-n, -r, 0).transformMat4(m).add(t), this.project(s, s); var o = s.x, a = s.y; s.set(n, r, 0).transformMat4(m).add(t), this.project(s, s); var h = s.x - o, l = s.y - a; return i.set(h, l) }, destroy: function () { this.children.clear(), this.scene = void 0, this.children = void 0 }, setX: function (t) { return this.position.x = t, this.update() }, setY: function (t) { return this.position.y = t, this.update() }, setZ: function (t) { return this.position.z = t, this.update() }, x: { get: function () { return this.position.x }, set: function (t) { this.position.x = t, this.update() } }, y: { get: function () { return this.position.y }, set: function (t) { this.position.y = t, this.update() } }, z: { get: function () { return this.position.z }, set: function (t) { this.position.z = t, this.update() } } }); y.FAR_RANGE = 1, y.NEAR_RANGE = 0, t.exports = y })), n.register("dK9Ze", (function (t, e) { var i = n("jwj1g"), s = n("1zqlR"), r = n("gXuc8"), o = n("7SBSk"), a = n("27QVG"), h = new i({ Extends: s, initialize: function (t, e, i, n, h, l) { s.call(this, t, "Sprite3D"), this.gameObject = new r(t, 0, 0, h, l), this.position = new a(e, i, n), this.size = new o(this.gameObject.width, this.gameObject.height), this.scale = new o(1, 1), this.adjustScaleX = !0, this.adjustScaleY = !0, this._visible = !0 }, project: function (t) { var e = this.position, i = this.gameObject; t.project(e, i), t.getPointSize(e, this.size, this.scale), this.scale.x <= 0 || this.scale.y <= 0 ? i.setVisible(!1) : (i.visible || i.setVisible(!0), this.adjustScaleX && (i.scaleX = this.scale.x), this.adjustScaleY && (i.scaleY = this.scale.y), i.setDepth(-1 * i.z)) }, setVisible: function (t) { return this.visible = t, this }, visible: { get: function () { return this._visible }, set: function (t) { this._visible = t, this.gameObject.visible = t } }, x: { get: function () { return this.position.x }, set: function (t) { this.position.x = t } }, y: { get: function () { return this.position.y }, set: function (t) { this.position.y = t } }, z: { get: function () { return this.position.z }, set: function (t) { this.position.z = t } } }); t.exports = h })), n.register("YV809", (function (t, e) { var i = n("jwj1g"), s = n("eARah"), r = n("hbpve"), o = n("7AzQW"), a = new i({ initialize: function (t) { this.scene = t, this.systems = t.sys, this.cameras = [], t.sys.events.once("boot", this.boot, this), t.sys.events.on("start", this.start, this) }, boot: function () { this.systems.events.once("destroy", this.destroy, this) }, start: function () { var t = this.systems.events; t.on("update", this.update, this), t.once("shutdown", this.shutdown, this) }, add: function (t, e, i) { return this.addPerspectiveCamera(t, e, i) }, addOrthographicCamera: function (t, e) { var i = this.scene.sys.game.config; void 0 === t && (t = i.width), void 0 === e && (e = i.height); var n = new s(this.scene, t, e); return this.cameras.push(n), n }, addPerspectiveCamera: function (t, e, i) { var s = this.scene.sys.game.config; void 0 === t && (t = 80), void 0 === e && (e = s.width), void 0 === i && (i = s.height); var n = new r(this.scene, t, e, i); return this.cameras.push(n), n }, getCamera: function (t) { for (var e = 0; e < this.cameras.length; e++)if (this.cameras[e].name === t) return this.cameras[e]; return null }, removeCamera: function (t) { var e = this.cameras.indexOf(t); -1 !== e && this.cameras.splice(e, 1) }, removeAll: function () { for (; this.cameras.length > 0;) { this.cameras.pop().destroy() } return this.main }, update: function (t, e) { for (var i = 0, s = this.cameras.length; i < s; ++i)this.cameras[i].update(t, e) }, shutdown: function () { var t = this.systems.events; t.off("update", this.update, this), t.off("shutdown", this.shutdown, this), this.removeAll() }, destroy: function () { this.shutdown(), this.scene.sys.events.off("start", this.start, this), this.scene = null, this.systems = null } }); o.register("CameraManager3D", a, "cameras3d"), t.exports = a })), n.register("eARah", (function (t, e) { var i = n("4j1Dk"), s = n("jwj1g"), r = new (n("gbKIZ")), o = new s({ Extends: i, initialize: function (t, e, s) { void 0 === e && (e = 0), void 0 === s && (s = 0), i.call(this, t), this.viewportWidth = e, this.viewportHeight = s, this._zoom = 1, this.near = 0, this.update() }, setToOrtho: function (t, e, i) { void 0 === e && (e = this.viewportWidth), void 0 === i && (i = this.viewportHeight); var s = this.zoom; return this.up.set(0, t ? -1 : 1, 0), this.direction.set(0, 0, t ? 1 : -1), this.position.set(s * e / 2, s * i / 2, 0), this.viewportWidth = e, this.viewportHeight = i, this.update() }, update: function () { var t = this.viewportWidth, e = this.viewportHeight, i = Math.abs(this.near), s = Math.abs(this.far), n = this.zoom; return 0 === t || 0 === e || (this.projection.ortho(n * -t / 2, n * t / 2, n * -e / 2, n * e / 2, i, s), r.copy(this.position).add(this.direction), this.view.lookAt(this.position, r, this.up), this.combined.copy(this.projection).multiply(this.view), this.invProjectionView.copy(this.combined).invert(), this.billboardMatrixDirty = !0, this.updateChildren()), this }, zoom: { get: function () { return this._zoom }, set: function (t) { this._zoom = t, this.update() } } }); t.exports = o })), n.register("hbpve", (function (t, e) { var i = n("4j1Dk"), s = n("jwj1g"), r = new (n("gbKIZ")), o = new s({ Extends: i, initialize: function (t, e, s, n) { void 0 === e && (e = 80), void 0 === s && (s = 0), void 0 === n && (n = 0), i.call(this, t), this.viewportWidth = s, this.viewportHeight = n, this.fieldOfView = e * Math.PI / 180, this.update() }, setFOV: function (t) { return this.fieldOfView = t * Math.PI / 180, this }, update: function () { var t = this.viewportWidth / this.viewportHeight; return this.projection.perspective(this.fieldOfView, t, Math.abs(this.near), Math.abs(this.far)), r.copy(this.position).add(this.direction), this.view.lookAt(this.position, r, this.up), this.combined.copy(this.projection).multiply(this.view), this.invProjectionView.copy(this.combined).invert(), this.billboardMatrixDirty = !0, this.updateChildren(), this } }); t.exports = o })), n.register("1p1UC", (function (t, e) { var i = n("dK9Ze"); n("kge7H").register("sprite3D", (function (t, e, s, n, r) { var o = new i(this.scene, t, e, s, n, r); return this.displayList.add(o.gameObject), this.updateList.add(o.gameObject), o })) })), n.register("9gGHw", (function (t, e) { var i = n("i9cSP"), s = n("cDuAM"), r = n("ebQQp"), o = n("cSaNN"), a = n("dK9Ze"); r.register("sprite3D", (function (t, e) { void 0 === t && (t = {}); var n = o(t, "key", null), r = o(t, "frame", null), h = new a(this.scene, 0, 0, n, r); return void 0 !== e && (t.add = e), i(this.scene, h, t), s(h, t), h })) })); var r; Array.prototype.forEach || (Array.prototype.forEach = function (t) { if (null == this) throw new TypeError; var e = Object(this), i = e.length >>> 0; if ("function" != typeof t) throw new TypeError; for (var s = arguments.length >= 2 ? arguments[1] : void 0, n = 0; n < i; n++)n in e && t.call(s, e[n], n, e) }), Array.isArray || (Array.isArray = function (t) { return "[object Array]" === Object.prototype.toString.call(t) }), function () { function t(t) { t && (t.setTargetAtTime || (t.setTargetAtTime = t.setTargetValueAtTime)) } window.hasOwnProperty("webkitAudioContext") && !window.hasOwnProperty("AudioContext") && (window.AudioContext = webkitAudioContext, AudioContext.prototype.hasOwnProperty("createGain") || (AudioContext.prototype.createGain = AudioContext.prototype.createGainNode), AudioContext.prototype.hasOwnProperty("createDelay") || (AudioContext.prototype.createDelay = AudioContext.prototype.createDelayNode), AudioContext.prototype.hasOwnProperty("createScriptProcessor") || (AudioContext.prototype.createScriptProcessor = AudioContext.prototype.createJavaScriptNode), AudioContext.prototype.hasOwnProperty("createPeriodicWave") || (AudioContext.prototype.createPeriodicWave = AudioContext.prototype.createWaveTable), AudioContext.prototype.internal_createGain = AudioContext.prototype.createGain, AudioContext.prototype.createGain = function () { var e = this.internal_createGain(); return t(e.gain), e }, AudioContext.prototype.internal_createDelay = AudioContext.prototype.createDelay, AudioContext.prototype.createDelay = function (e) { var i = e ? this.internal_createDelay(e) : this.internal_createDelay(); return t(i.delayTime), i }, AudioContext.prototype.internal_createBufferSource = AudioContext.prototype.createBufferSource, AudioContext.prototype.createBufferSource = function () { var e = this.internal_createBufferSource(); return e.start ? (e.internal_start = e.start, e.start = function (t, i, s) { void 0 !== s ? e.internal_start(t || 0, i, s) : e.internal_start(t || 0, i || 0) }) : e.start = function (t, e, i) { e || i ? this.noteGrainOn(t || 0, e, i) : this.noteOn(t || 0) }, e.stop ? (e.internal_stop = e.stop, e.stop = function (t) { e.internal_stop(t || 0) }) : e.stop = function (t) { this.noteOff(t || 0) }, t(e.playbackRate), e }, AudioContext.prototype.internal_createDynamicsCompressor = AudioContext.prototype.createDynamicsCompressor, AudioContext.prototype.createDynamicsCompressor = function () { var e = this.internal_createDynamicsCompressor(); return t(e.threshold), t(e.knee), t(e.ratio), t(e.reduction), t(e.attack), t(e.release), e }, AudioContext.prototype.internal_createBiquadFilter = AudioContext.prototype.createBiquadFilter, AudioContext.prototype.createBiquadFilter = function () { var e = this.internal_createBiquadFilter(); return t(e.frequency), t(e.detune), t(e.Q), t(e.gain), e }, AudioContext.prototype.hasOwnProperty("createOscillator") && (AudioContext.prototype.internal_createOscillator = AudioContext.prototype.createOscillator, AudioContext.prototype.createOscillator = function () { var e = this.internal_createOscillator(); return e.start ? (e.internal_start = e.start, e.start = function (t) { e.internal_start(t || 0) }) : e.start = function (t) { this.noteOn(t || 0) }, e.stop ? (e.internal_stop = e.stop, e.stop = function (t) { e.internal_stop(t || 0) }) : e.stop = function (t) { this.noteOff(t || 0) }, e.setPeriodicWave || (e.setPeriodicWave = e.setWaveTable), t(e.frequency), t(e.detune), e })), window.hasOwnProperty("webkitOfflineAudioContext") && !window.hasOwnProperty("OfflineAudioContext") && (window.OfflineAudioContext = webkitOfflineAudioContext) }(), window.console || (window.console = {}, window.console.log = window.console.assert = function () { }, window.console.warn = window.console.assert = function () { }), Math.trunc || (Math.trunc = function (t) { return t < 0 ? Math.ceil(t) : Math.floor(t) }), function () { if ("performance" in window == !1 && (window.performance = {}), Date.now = Date.now || function () { return (new Date).getTime() }, "now" in window.performance == !1) { var t = Date.now(); performance.timing && performance.timing.navigationStart && (t = performance.timing.navigationStart), window.performance.now = function () { return Date.now() - t } } }(); for (var o = Date.now(), a = ["ms", "moz", "webkit", "o"], h = 0; h < a.length && !window.requestAnimationFrame; h++)window.requestAnimationFrame = window[a[h] + "RequestAnimationFrame"], window.cancelAnimationFrame = window[a[h] + "CancelAnimationFrame"] || window[a[h] + "CancelRequestAnimationFrame"]; if (window.requestAnimationFrame || (window.requestAnimationFrame = function (t) { if ("function" != typeof t) throw new TypeError(t + "is not a function"); var e = Date.now(), i = 16 + o - e; return i < 0 && (i = 0), o = e, setTimeout((function () { o = Date.now(), t(performance.now()) }), i) }), window.cancelAnimationFrame || (window.cancelAnimationFrame = function (t) { clearTimeout(t) }), "function" != typeof window.Uint32Array && "object" != typeof window.Uint32Array) { var l = function (t) { var e = new Array; window[t] = function (t) { if ("number" == typeof t) { Array.call(this, t), this.length = t; for (var e = 0; e < this.length; e++)this[e] = 0 } else { Array.call(this, t.length), this.length = t.length; for (e = 0; e < this.length; e++)this[e] = t[e] } }, window[t].prototype = e, window[t].constructor = window[t] }; l("Float32Array"), l("Uint32Array"), l("Uint16Array"), l("Int16Array"), l("ArrayBuffer") } var u = n("bRAqZ"), c = n("hVk4C"), d = { Actions: n("fs3fn"), Animations: n("gc8vS"), BlendModes: n("3qUcC"), Cache: n("dRHWx"), Cameras: n("cjvhk"), Core: n("b8jwN"), Class: n("jwj1g"), Create: n("avk0U"), Curves: n("fIfAn"), Data: n("fvFEG"), Display: n("g2mK1"), DOM: n("4SM0m"), Events: n("1ZXFk"), Game: n("L2T5H"), GameObjects: n("kNR1J"), Geom: n("kNZrp"), Input: n("lKFyN"), Loader: n("89Da5"), Math: n("5OyGi"), Physics: n("kZqOf"), Plugins: n("UoAVD"), Renderer: n("28d72"), Scale: n("59R71"), ScaleModes: n("1iebW"), Scene: n("iXVlb"), Scenes: n("kULhB"), Structs: n("i2sgM"), Textures: n("rZmIK"), Tilemaps: n("s5oWw"), Time: n("4Tb60"), Tweens: n("145t6"), Utils: n("cdLjm") }; let f; var p; d.Sound = n("gNVRh"), d.Cameras.Sprite3D = n("hRsbN"), d.GameObjects.Sprite3D = n("dK9Ze"), d.GameObjects.Factories.Sprite3D = n("1p1UC"), d.GameObjects.Creators.Sprite3D = n("9gGHw"), d.FacebookInstantGamesPlugin = n("LHpuq"), d = c(!1, d, u), r = d, e.Phaser = d, (p = f || (f = {})).Preloader = "preloader", p.Game = "game"; var g = f; class v extends t(r).Scene { preload() { this.load.atlas("tiles", "assets/board.png", "assets/board.json"), this.load.atlas("game-atlas", "assets/game.png", "assets/game.json") } create() { this.scene.start(g.Game) } } const m = t => { t.create({ key: "hero-move", frameRate: 10, frames: t.generateFrameNames("game-atlas", { prefix: "hero-", suffix: ".png", start: 1, end: 2 }), repeat: -1 }), t.create({ key: "hero-idle", frames: [{ key: "game-atlas", frame: "hero-2.png" }] }) }; const y = new (t(r).Events.EventEmitter); let x; var w; let T; var b; (w = x || (x = {}))[w.None = 0] = "None", w[w.Left = 1] = "Left", w[w.Right = 2] = "Right", w[w.Up = 3] = "Up", w[w.Down = 4] = "Down", (b = T || (T = {}))[b.Normal = 0] = "Normal", b[b.Powered = 1] = "Powered"; class S extends Phaser.Physics.Arcade.Sprite { queuedMove = x.None; lastKeyDown = x.None; queuedMoveAccumulator = 0; heroState = T.Normal; poweredAccumulator = 0; get isPowered() { return this.heroState === T.Powered } get facingVector() { const t = new Phaser.Math.Vector2; return t.setToPolar(this.rotation), t } constructor(t, e, i, s) { super(t, e, i, s), this.setTint(16776251), this.play("hero-idle") } setAI(t) { this.heroAI = t } canEatDot(t) { const e = this.body.position, i = t.body, s = i.position.clone(); return s.x -= i.offset.x, s.y -= i.offset.y, Phaser.Math.Distance.BetweenPointsSquared(e, s) <= 100 } eatPowerDot(t) { this.heroState = T.Powered, this.poweredAccumulator = 0, t.destroy(!0), y.emit("powered-start") } preUpdate(t, e) { super.preUpdate(t, e), this.scene.physics.world.wrapObject(this, 32), this.heroState !== T.Normal && (this.poweredAccumulator += e, this.poweredAccumulator >= 8e3 && (this.heroState = T.Normal, this.poweredAccumulator = 0, y.emit("powered-end"))) } handleMovement(t, e, i) { const s = 32 * Math.floor(this.x / 32) + 16, n = 32 * Math.floor(this.y / 32) + 16, r = this.body.velocity; r.lengthSq() > .2 ? this.play("hero-move", !0) : (this.play("hero-idle"), this.lastKeyDown = x.None); const o = this.getKeysDownState(e); switch (o.left && r.x >= 0 ? i.getTileAtWorldXY(this.x - 32, this.y) || (0 === r.y || Math.abs(n - this.y) <= 10) && (this.queuedMove = x.Left) : o.right && r.x <= 0 ? i.getTileAtWorldXY(this.x + 32, this.y) || (0 === r.y || Math.abs(n - this.y) <= 10) && (this.queuedMove = x.Right) : o.up && r.y >= 0 ? i.getTileAtWorldXY(this.x, this.y - 32) || (0 === r.x || Math.abs(s - this.x) <= 10) && (this.queuedMove = x.Up) : o.down && r.y <= 0 && (i.getTileAtWorldXY(this.x, this.y + 32) || (0 === r.x || Math.abs(s - this.x) <= 10) && (this.queuedMove = x.Down)), this.queuedMove !== x.None && (this.queuedMoveAccumulator += t, this.queuedMoveAccumulator >= 200 && (this.queuedMove = x.None, this.queuedMoveAccumulator = 0)), this.queuedMove) { case x.None: break; case x.Left: case x.Right: Math.abs(n - this.y) <= 2 && (this.lastKeyDown = this.queuedMove, this.queuedMove = x.None); break; case x.Up: case x.Down: Math.abs(s - this.x) <= 2 && (this.lastKeyDown = this.queuedMove, this.queuedMove = x.None) }const a = 100; switch (this.lastKeyDown) { case x.Left: { const t = 32 * Math.floor((this.body.y + 16) / 32); this.body.y = t, this.setVelocity(-100, 0), this.setAngle(180); break } case x.Right: { const t = 32 * Math.floor((this.body.y + 16) / 32); this.body.y = t, this.setVelocity(a, 0), this.setAngle(0); break } case x.Up: { const t = 32 * Math.floor((this.body.x + 16) / 32); this.body.x = t, this.setVelocity(0, -100), this.setAngle(-90); break } case x.Down: { const t = 32 * Math.floor((this.body.x + 16) / 32); this.body.x = t, this.setVelocity(0, a), this.setAngle(90); break } } } getKeysDownState(t) { return this.heroAI ? this.heroAI.getKeysDownState() : { left: t.left?.isDown, right: t.right?.isDown, up: t.up?.isDown, down: t.down?.isDown } } } Phaser.GameObjects.GameObjectFactory.register("hero", (function (t, e, i) { const s = new S(this.scene, t, e, i); this.displayList.add(s), this.updateList.add(s), this.scene.physics.world.enableBody(s, Phaser.Physics.Arcade.DYNAMIC_BODY); return s.body.setCircle(16).setFriction(0, 0), s })); class A extends t(r).Scene { init() { this.cursors = this.input.keyboard.createCursorKeys() } preload() { this.load.tilemapTiledJSON("tilemap", "levels/level-1.json") } create() { const t = this.make.tilemap({ key: "tilemap" }), e = t.addTilesetImage("basic_tiles", "tiles"); this.boardLayer = t.createDynamicLayer("Board", e).forEachTile((t => { t.tint = 3908607 })).setCollisionByProperty({ collides: !0 }); const i = t.createDynamicLayer("Dots", e), s = i.createFromTiles(33, -1, { key: "tiles", frame: "white-dot-small.png", origin: 0 }); s.forEach((t => { this.physics.add.existing(t); t.body.setCircle(4, 12, 12) })); const n = i.createFromTiles(34, -1, { key: "tiles", frame: "white-dot.png", origin: 0 }); n.forEach((t => { this.physics.add.existing(t); t.body.setCircle(8, 8, 8), this.tweens.add({ targets: t, alpha: 0, duration: 1e3, yoyo: !0, repeat: -1 }) })), m(this.anims), this.createFromObjectsLayer(t.getObjectLayer("BoardObjects")), this.hero && (this.physics.add.overlap(this.hero, s, this.handlePlayerEatDot, this.processPlayerEatDot, this), this.physics.add.overlap(this.hero, n, this.handlePlayerEatPowerDot, this.processPlayerEatDot, this)) } handlePlayerEatPowerDot(t, e) { this.hero && this.hero.eatPowerDot(e) } processPlayerEatDot(t, e) { return !!this.hero && this.hero.canEatDot(e) } handlePlayerEatDot(t, e) { e.destroy(!0) } update(t, e) { this.hero && this.boardLayer && this.hero.handleMovement(e, this.cursors, this.boardLayer) } createFromObjectsLayer(t) { for (let e = 0; e < t.objects.length; ++e) { const i = t.objects[e]; switch (i.name) { case "spawn": { const t = 32 * Math.round(i.x / 32), e = 32 * Math.round(i.y / 32); this.hero = this.add.hero(t + 16, e + 16, "game-atlas"), this.setupHero(this.boardLayer); break } } } } setupHero(t) { this.hero && (this.physics.add.collider(this.hero, t), this.cameras.main.startFollow(this.hero, !0), this.cameras.main.useBounds = !0, this.cameras.main.setBounds(0, 0, t.width, t.height), this.physics.world.setBounds(0, 0, t.width, t.height)) } } const E = { type: t(r).AUTO, width: 608, height: 600, physics: { default: "arcade", arcade: { gravity: { y: 0 }, debug: !1 } }, scale: { mode: t(r).Scale.ScaleModes.FIT, autoCenter: t(r).Scale.CENTER_BOTH } }, C = new (t(r).Game)(E); C.scene.add(g.Preloader, v), C.scene.add(g.Game, A), C.scene.start(g.Preloader);
//# sourceMappingURL=index.3d9d87b4.js.map
